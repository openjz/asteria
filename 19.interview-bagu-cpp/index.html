<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <title>面试八股-c&#43;&#43; - 星</title><meta name="Description" content=""><meta property="og:title" content="面试八股-c&#43;&#43;" />
<meta property="og:description" content="threadlocal volatile c&#43;&#43;11中的新特性 我们通常把c&#43;&#43;11之后的c&#43;&#43;称为现代c&#43;&#43;，以下是一些常见新特性 语法 列表初始化 可以使用initializer_l" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://blog.shiwj.top/19.interview-bagu-cpp/" /><meta property="og:image" content="http://blog.shiwj.top/logo.png"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-10-25T15:46:32+08:00" />
<meta property="article:modified_time" content="2022-11-07T09:31:03+08:00" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="http://blog.shiwj.top/logo.png"/>

<meta name="twitter:title" content="面试八股-c&#43;&#43;"/>
<meta name="twitter:description" content="threadlocal volatile c&#43;&#43;11中的新特性 我们通常把c&#43;&#43;11之后的c&#43;&#43;称为现代c&#43;&#43;，以下是一些常见新特性 语法 列表初始化 可以使用initializer_l"/>
<meta name="application-name" content="星">
<meta name="apple-mobile-web-app-title" content="星"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="http://blog.shiwj.top/19.interview-bagu-cpp/" /><link rel="prev" href="http://blog.shiwj.top/18.webpage-print/" /><link rel="next" href="http://blog.shiwj.top/20.cpp-stl-algorithm-overview/" /><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/normalize.css@8.0.1/normalize.min.css"><link rel="stylesheet" href="/css/style.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css"><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "面试八股-c++",
        "inLanguage": "en",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "http:\/\/blog.shiwj.top\/19.interview-bagu-cpp\/"
        },"image": [{
                            "@type": "ImageObject",
                            "url": "http:\/\/blog.shiwj.top\/images\/Apple-Devices-Preview.png",
                            "width":  3200 ,
                            "height":  2048 
                        }],"genre": "posts","keywords": "面试, c\/c\u002b\u002b","wordcount":  2696 ,
        "url": "http:\/\/blog.shiwj.top\/19.interview-bagu-cpp\/","datePublished": "2022-10-25T15:46:32+08:00","dateModified": "2022-11-07T09:31:03+08:00","publisher": {
            "@type": "Organization",
            "name": "shiwj","logo": {
                    "@type": "ImageObject",
                    "url": "http:\/\/blog.shiwj.top\/images\/avatar.png",
                    "width":  690 ,
                    "height":  690 
                }},"author": {
                "@type": "Person",
                "name": "shiwj"
            },"description": ""
    }
    </script></head>
    <body data-header-desktop="fixed" data-header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="星"><span class="header-title-pre"><i class='far fa-star-half-alt fa-fw' aria-hidden='true'></i></span>星</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/"> 全部 </a><a class="menu-item" href="/tags/"> 标签 </a><a class="menu-item" href="/categories/"> 分类 </a><a class="menu-item" href="https://github.com/openjz" title="GitHub" rel="noopener noreffer" target="_blank"><i class='fab fa-github fa-fw' aria-hidden='true'></i>  </a><span class="menu-item delimiter"></span><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="星"><span class="header-title-pre"><i class='far fa-star-half-alt fa-fw' aria-hidden='true'></i></span>星</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><a class="menu-item" href="/posts/" title="">全部</a><a class="menu-item" href="/tags/" title="">标签</a><a class="menu-item" href="/categories/" title="">分类</a><a class="menu-item" href="https://github.com/openjz" title="GitHub" rel="noopener noreffer" target="_blank"><i class='fab fa-github fa-fw' aria-hidden='true'></i></a><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
            </a></div>
    </div>
</header><main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">Contents</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">面试八股-c&#43;&#43;</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="https://github.com/openjz" title="Author" target="_blank" rel="noopener noreffer author" class="author"><i class="fas fa-user-circle fa-fw" aria-hidden="true"></i>shiwj</a>
</span>&nbsp;<span class="post-category">included in <a href="/categories/%E7%BC%96%E7%A8%8B/"><i class="far fa-folder fa-fw" aria-hidden="true"></i>编程</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw" aria-hidden="true"></i>&nbsp;<time datetime="2022-10-25">2022-10-25</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden="true"></i>&nbsp;2696 words&nbsp;
                <i class="far fa-clock fa-fw" aria-hidden="true"></i>&nbsp;6 minutes&nbsp;</div>
        </div><div class="details toc" id="toc-static"  data-kept="">
                <div class="details-summary toc-title">
                    <span>Contents</span>
                    <span><i class="details-icon fas fa-angle-right" aria-hidden="true"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#c11中的新特性">c++11中的新特性</a></li>
    <li><a href="#类型转换">类型转换</a></li>
    <li><a href="#内存管理">内存管理</a>
      <ul>
        <li><a href="#智能指针">智能指针</a></li>
        <li><a href="#allocator">allocator</a></li>
      </ul>
    </li>
    <li><a href="#面向对象">面向对象</a></li>
    <li><a href="#泛型">泛型</a></li>
    <li><a href="#stl">stl</a></li>
    <li><a href="#隐式类型转换">隐式类型转换</a></li>
    <li><a href="#其他">其他</a></li>
    <li><a href="#c20">C++20</a></li>
    <li><a href="#socket开发">socket开发</a></li>
    <li><a href="#boost">boost</a></li>
    <li><a href="#grpc--brotobuf">grpc + brotobuf</a></li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><ul>
<li>threadlocal</li>
<li>volatile</li>
</ul>
<h2 id="c11中的新特性">c++11中的新特性</h2>
<p>我们通常把c++11之后的c++称为现代c++，以下是一些常见新特性</p>
<ul>
<li>语法
<ul>
<li>列表初始化
<ul>
<li>可以使用<code>initializer_list&lt;T&gt;</code>让一个类拥有列表初始化的能力</li>
</ul>
</li>
<li>范围for语句</li>
<li>using，新的类型别名声明，代替typedef</li>
<li>尾置返回类型，<code>auto func(int) -&gt; int(*)[10];</code></li>
</ul>
</li>
<li>类型、关键字
<ul>
<li>long long类型</li>
<li>nullptr常量</li>
<li>auto类型</li>
<li>constexpr
<ul>
<li>是一种在编译器求值的常量表达式（常量表达式，值为常量并且在编译过程就能得到计算结果）</li>
<li>可以定义constexpr变量，constexpr函数，字面值常量类（需要constexpr构造函数）</li>
</ul>
</li>
<li>decltype
<ul>
<li>作用是推断一个表达式的类型，并可以将返回值作为类型声明</li>
<li>和auto的区别是，当你不想要表达式的值，只想要表达式的类型时，可以使用decltype</li>
</ul>
</li>
</ul>
</li>
<li>类型转换
<ul>
<li>static_cast、dynamic_cast、reinterpret_cast</li>
</ul>
</li>
<li>面向对象
<ul>
<li>=default、=delete</li>
<li>explicit，防止隐式类型转换</li>
<li>虚函数的override</li>
<li>final阻止继承</li>
<li>move语义和右值引用</li>
<li>lambda表达式</li>
<li>bind，函数适配器</li>
</ul>
</li>
<li>内存管理
<ul>
<li>智能指针</li>
</ul>
</li>
<li>stl
<ul>
<li>unordered_map、unordered_set</li>
</ul>
</li>
</ul>
<h2 id="类型转换">类型转换</h2>
<ul>
<li>static_cast，常规的类型转换</li>
<li>const_cast，改变对象的底层const</li>
<li>dynamic_cast，用于父子类指针和引用之间的转换，属于一种多态特性</li>
<li>reinterpret_cast，不会改变变量本身的值，而是在字节层面上把变量解释为另外一个类型</li>
</ul>
<h2 id="内存管理">内存管理</h2>
<ul>
<li>malloc、free</li>
<li>new、delete</li>
<li>operator new、operator delete</li>
<li>placement new</li>
</ul>
<h3 id="智能指针">智能指针</h3>
<ul>
<li>shared_ptr
<ul>
<li>make_shared，构造对象并创建智能指针，最安全</li>
<li>利用普通指针初始化shared_ptr，不安全
<ul>
<li>混用普通指针和shared_ptr会导致普通指针在用户不想释放的时候被shared_ptr释放</li>
<li>混用两个智能指针会导致两个智能指针单独计算引用计数，引发问题</li>
</ul>
</li>
<li>通过拷贝shared_ptr增加引用计数</li>
<li>reset，引用计数-1</li>
</ul>
</li>
<li>unique_ptr，不支持拷贝和赋值</li>
<li>weak_ptr，shared_ptr的弱引用，不会影响引用计数。不能直接访问数据，必须先使用lock方法获得shared_ptr，解决shared_ptr相互引用造成的资源不释放问题（属于一种内存泄漏）</li>
<li>RAII</li>
</ul>
<h3 id="allocator">allocator</h3>
<ul>
<li>stl中用来内存管理的类</li>
<li>stl容易一般都有一个模板参数Allocator，因为是个模板参数而不是函数参数，所以可以用自定义的allocator代替std::Allocator</li>
<li>allocator负责内存的分配和释放，对象的创建和销毁</li>
</ul>
<h2 id="面向对象">面向对象</h2>
<ul>
<li>拷贝控制
<ul>
<li>会默认生成的函数：默认构造、拷贝构造、拷贝赋值、析构函数</li>
</ul>
</li>
<li>初始化顺序
<ul>
<li>优先构造基类对象（按派生顺序构造）</li>
<li>然后构造成员对象（按声明顺序构造）</li>
</ul>
</li>
<li>成员能不能是引用类型？
<ul>
<li>能，但是
<ul>
<li>构造函数形参必须也是引用类型（否则永远只能获得一个局部变量的引用）</li>
<li>必须在构造函数的初始化列表里初始化</li>
</ul>
</li>
</ul>
</li>
<li>访问权限，public、private、protected
<ul>
<li>protected表示成员可以被派生类访问，但不公共可见</li>
<li><strong>private对派生类不可见</strong></li>
</ul>
</li>
<li>继承权限
<ul>
<li><strong>控制派生类的用户（包括派生类的派生类和类外部）对基类的访问权限，而不是控制派生类本身对基类的访问权限</strong></li>
<li>public，保留原来的权限</li>
<li>private，public和protected变为private</li>
<li>protected，public变为protected</li>
</ul>
</li>
<li>虚继承/虚基类
<ul>
<li>解决由多重继承引起的多基类实例问题</li>
<li>在继承类名前加上virtual</li>
</ul>
</li>
<li>多态性
<ul>
<li>虚函数
<ul>
<li>虚函数又叫动态多态</li>
<li>虚析构函数的必要性
<ul>
<li>使用基类指针指向派生类时，如果基类的析构函数不是虚函数，会导致无法调用派生类的析构函数</li>
<li>而虚构造会产生一个悖论，当对象没有实例化时，没有虚表指针，是无法调用虚构造函数的</li>
</ul>
</li>
<li>类A的对象a保存一个虚函数指针，虚函数指针指向类A的虚函数表，虚函数表保存了虚函数指针，指向的是实际调用函数地址，不同类的虚表中可能回复用同一个函数（类的继承导致的）</li>
<li>纯虚函数/抽象类
<ul>
<li>抽象类不能实例化</li>
<li>纯虚函数也不能实现，<code>virtual int func1() = 0;</code></li>
</ul>
</li>
<li>能否在构造函数和析构函数中调用虚函数？
<ul>
<li>可以，但是此时多态特性是失效的</li>
</ul>
</li>
</ul>
</li>
<li>重载
<ul>
<li>重载又叫静态多态，对调用函数的推断发生在编译器</li>
<li>重载实现原理，命名倾轧技术，在函数名上带上参数信息</li>
<li>普通函数重载、成员函数重载、重写、运算符重载、函数对象几种
<ul>
<li>仿函数（functor）是指函数对象</li>
</ul>
</li>
</ul>
</li>
<li>函数对象</li>
<li>lambda表达式，<code>[capture] (param) mutable noexcept/throw() -&gt; return type {};</code></li>
<li>bind函数适配器</li>
</ul>
</li>
<li>名字查找
<ul>
<li>作用域</li>
<li>命名空间</li>
<li>友元</li>
</ul>
</li>
</ul>
<h2 id="泛型">泛型</h2>
<ul>
<li>模板的实例化发生在编译期</li>
<li>模板实例化是指从函数模板/类模板生成一个真正的函数/类的过程
<ul>
<li>显式模板实参</li>
<li>模板实参推断</li>
</ul>
</li>
</ul>
<h2 id="stl">stl</h2>
<ul>
<li>stl中包括：容器、算法、迭代器、适配器、内存分配器allocator</li>
<li>vector</li>
<li>unordered_map、unordered_set</li>
<li>适配器
<ul>
<li>容器适配器，stack，queue</li>
<li>迭代器适配器，插入迭代器、移动迭代器、流迭代器、反向迭代器</li>
<li>函数适配器，bind</li>
</ul>
</li>
</ul>
<h2 id="隐式类型转换">隐式类型转换</h2>
<ul>
<li>内置类型的隐式类型转换</li>
<li>构造函数</li>
<li>类型转换运算符</li>
</ul>
<h2 id="其他">其他</h2>
<ul>
<li>extern &ldquo;C&rdquo;
<ul>
<li>导入c函数的关键字，它告诉编译器这段代码按c编译</li>
</ul>
</li>
<li>threadlocal
<ul>
<li>线程局部变量</li>
<li>要配合C++ thread标准库一起使用</li>
</ul>
</li>
<li>atomic
<ul>
<li>可以对基本类型封装原子操作</li>
</ul>
</li>
<li>mutable
<ul>
<li>可以把一个成员声明为可变的，操作成员的函数仍然能受到const保护</li>
</ul>
</li>
</ul>
<h2 id="c20">C++20</h2>
<ul>
<li>concept
<ul>
<li>和模板类型推断有关，可以用来约束模板实参的类型，<code>concept concept-name = expression</code></li>
</ul>
</li>
<li>modules</li>
<li>coroutine
<ul>
<li>无栈协程，无栈协程比有栈协程轻量</li>
<li>无栈协程本质上是一种可以暂停和恢复的函数</li>
<li>协程内部的三个关键字，co_await、co_yield、co_return
<ul>
<li>co_await和co_yield可以挂起协程</li>
<li>co_return返回</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="socket开发">socket开发</h2>
<ul>
<li>系统调用都是线程安全的，系统调用都是原子操作</li>
<li>socket，域 + socket类型 + 协议
<ul>
<li>IPv4域 + SOCK_STREAM 默认是tcp</li>
<li>IPv4域 + SOCK_DGRAM 默认是udp</li>
</ul>
</li>
<li>tcp
<ul>
<li>服务端，socket -&gt; bind -&gt; listen -&gt; accept</li>
<li>客户端，socket -&gt; bind -&gt; connect</li>
<li>数据传输，send，recv（read，write）</li>
<li>关闭socket，close</li>
<li>多线程读写需要给整个数据加锁，不能给单次发送加锁，单次发送可能会出现短读短写问题，因此多线程写socket还是会相互阻塞，没有意义</li>
</ul>
</li>
<li>udp
<ul>
<li>socket，bind</li>
<li>sendto，recvfrom</li>
<li>close</li>
<li>可以多线程同时读写同一个socket</li>
</ul>
</li>
</ul>
<h2 id="boost">boost</h2>
<p>boost库的定位是实验性质的库，里面的东西可能会在未来进入C++标准，但是在C++11之后，很多boost中的特性已经进入了C++，很多人开始禁止使用boost。</p>
<h2 id="grpc--brotobuf">grpc + brotobuf</h2>
<ul>
<li>grpc底层是tcp epoll模型</li>
<li>上层的通信协议是http + protobuf</li>
</ul>
</div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>Updated on 2022-11-07&nbsp;<a class="git-hash" href="https://github.com/openjz/asteria/commit/c4fdb98e57d8008bf44aca5e9544072de9859ac5" target="_blank" title="commit by swj(905622665@qq.com) c4fdb98e57d8008bf44aca5e9544072de9859ac5: job">
                                    <i class="fas fa-hashtag fa-fw" aria-hidden="true"></i>c4fdb98</a></span>
            </div></div>
        <div class="post-info-line">
            <div class="post-info-md"><span>
                            <a class="link-to-markdown" href="/19.interview-bagu-cpp/index.md" target="_blank">Read Markdown</a>
                        </span></div>
            <div class="post-info-share">
                <span></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw" aria-hidden="true"></i>&nbsp;<a href="/tags/%E9%9D%A2%E8%AF%95/">面试</a>,&nbsp;<a href="/tags/c/c&#43;&#43;/">c/c&#43;&#43;</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">Back</a></span>&nbsp;|&nbsp;<span><a href="/">Home</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/18.webpage-print/" class="prev" rel="prev" title="打印html页面"><i class="fas fa-angle-left fa-fw" aria-hidden="true"></i>打印html页面</a>
            <a href="/20.cpp-stl-algorithm-overview/" class="next" rel="next" title="c&#43;&#43;标准库算法概览">c&#43;&#43;标准库算法概览<i class="fas fa-angle-right fa-fw" aria-hidden="true"></i></a></div>
</div>
</article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line" itemscope itemtype="http://schema.org/CreativeWork"><i class="far fa-copyright fa-fw" aria-hidden="true"></i><span itemprop="copyrightYear">2020 - 2023</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="https://github.com/openjz" target="_blank">shiwj</a></span><span class="icp-splitter">&nbsp;|&nbsp;</span><br class="icp-br"/>
                    <span class="icp">津ICP备2020010292号-1</span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Back to Top">
                <i class="fas fa-arrow-up fa-fw" aria-hidden="true"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="View Comments">
                <i class="fas fa-comment fa-fw" aria-hidden="true"></i>
            </a>
        </div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/contrib/copy-tex.min.css"><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lazysizes@5.3.1/lazysizes.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/contrib/auto-render.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/contrib/copy-tex.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/contrib/mhchem.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":50},"comment":{},"math":{"delimiters":[{"display":true,"left":"$$","right":"$$"},{"display":true,"left":"\\[","right":"\\]"},{"display":true,"left":"\\begin{equation}","right":"\\end{equation}"},{"display":true,"left":"\\begin{equation*}","right":"\\end{equation*}"},{"display":true,"left":"\\begin{align}","right":"\\end{align}"},{"display":true,"left":"\\begin{align*}","right":"\\end{align*}"},{"display":true,"left":"\\begin{alignat}","right":"\\end{alignat}"},{"display":true,"left":"\\begin{alignat*}","right":"\\end{alignat*}"},{"display":true,"left":"\\begin{gather}","right":"\\end{gather}"},{"display":true,"left":"\\begin{CD}","right":"\\end{CD}"},{"display":false,"left":"$","right":"$"},{"display":false,"left":"\\(","right":"\\)"}],"strict":false}};</script><script type="text/javascript" src="/js/theme.min.js"></script></body>
</html>
