<!DOCTYPE html>
<html lang="zh"><meta charset="utf-8"><meta name="generator" content="Hugo 0.89.1" /><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
<meta name="color-scheme" content="light dark">
<meta name="supported-color-schemes" content="light dark"><title>数据库事务&nbsp;&ndash;&nbsp;公子杰</title><link rel="stylesheet" href="/css/core.min.7630b687e7b073be49cada2a9d6892783f03daa5061cb7a6a1e239d6c1617c7d52542d2ecf34a9dd5fd87a010fac2822.css" integrity="sha384-djC2h&#43;ewc75JytoqnWiSeD8D2qUGHLemoeI51sFhfH1SVC0uzzSp3V/YegEPrCgi"><meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="数据库事务" /><body><section id="header">
    <div class="header wrap"><span class="header left-side"><a class="site home" href="/"><span class="site name">公子杰</span></a></span>
        <span class="header right-side"><div class="nav wrap"><nav class="nav"><a class="nav item" href="/categories/">分类</a><a class="nav item" href="/tags/">标签</a></nav></div></span></div></section><section id="content"><div class="article-container"><section class="article header">
    <h1 class="article title">数据库事务</h1><p class="article date">Wednesday, 2022-04-20<span class="reading-time"> • 预计阅读时间 1 分钟</span></p></section><article class="article markdown-body"><h1 id="数据库事务">数据库事务</h1>
<p>事务（transaction）的目的是要保证一连串数据操作的原子性，并能够支持操作回滚</p>
<h2 id="事务的并发问题">事务的并发问题</h2>
<ol>
<li>脏读：当前事务可以读取到其他事务未提交的数据</li>
<li>不可重复读：当前事务前后两次使用相同的查询语句查到了不同的数据，原因是在事务执行过程中，有其他事务对这批数据做了<strong>增删改</strong>操作。<strong>如果当前事务的两次读操作分别发生在其他事务开始前和提交后，读到的数据不一致，这就不算脏读，属于不可重复读问题</strong>。</li>
<li>幻读：事务进行读操作发现数据不存在，试图插入数据，但是插入失败，或者事务发现数据存在，试图更新数据，但更新失败，原因是事务读数据后，有其他事务对数据做了<strong>增删</strong>操作。<strong>即使数据库能够保证不发生脏读和不可重复读,仍有可能发生幻读，现象是每次读数据结果都是不存在，但就是不能插入数据，或者是每次读数据结果都是存在，但就是更新不了。</strong></li>
</ol>
</article><section class="article labels"><a class="category" href=/categories/%E6%96%87%E7%AB%A0/>文章</a><a class="tag" href=/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/>数据库</a></section>
</div>
<div class="article bottom"><section class="article navigation"><p><a class="link" href="/posts/gopl/"><span class="iconfont icon-article"></span>golang入门笔记</a></p><p><a class="link" href="/posts/cold_heat_sweat/"><span class="iconfont icon-article"></span>冷热和出汗是怎么回事</a></p></section></div></section><section id="footer"><div class="footer-wrap">
    <p class="copyright">©2021 openjz, jiezi.</p>
    <p class="powerby"><span>Powered&nbsp;by&nbsp;</span><a href="https://gohugo.io" 
        target="_blank" rel="noopener noreferrer">Hugo</a><span>&nbsp;&amp;&nbsp;</span><a href="https://themes.gohugo.io/hugo-notepadium/" 
        target="_blank" rel="noopener noreferrer">Notepadium</a></p><p style="font-size: 12px;"><a href="http://beian.miit.gov.cn/" target="_blank" rel="noopener noreferrer">津ICP备2020010292号-1</a></p></div>
</section><script src="/js/prism.min.442843b7ea6eef5105ab77a4c16488edbd8210fcd77efef362770e1bf0c3a47130e20e0553ae0388b6a50e4cd49a315e.js" integrity="sha384-RChDt&#43;pu71EFq3ekwWSI7b2CEPzXfv7zYncOG/DDpHEw4g4FU64DiLalDkzUmjFe"></script></body>

</html>