---
title: "微积分学习笔记"
date: 2025-05-02T01:36:05+08:00
draft: false

tags: ["数学"]
categories: ["数学"]
---

主要参考《普林斯顿微积分读本》

这篇笔记主要记录微积分中的一些定义、定理和结论。

## 函数和图像

函数要满足垂线检验，任意一条垂直于 x 轴的直线最多只能和函数图像相交于一点，也就是说，一个 x 值只能对应一个 y 值。

水平线检验，如果一个函数的图像和某条水平线相交于多于一点，那么这个函数就没有反函数。

函数和其反函数的图像关于 $y=x$ 对称。

奇函数关于原点对称，$f(-x) = -f(x)$，偶函数关于y轴对称，$f(-x) = f(x)$。

线性函数，形如 $y=mx+b$ 的函数。

多项式函数，形如 $p(x)=a_nx^n+a_{n-1}x^{n-1}+\ldots+a_1x+a_0$ 的函数，等式右侧叫 n 次多项式，n叫做多项式的次数，注意 n 不能是分数（也就是说式子不能带根号）。

二次函数的求根公式，$x=\frac{-b\pm\sqrt{b^2-4ac}}{2a}$。

有理函数，形如$\frac{p(x)}{q(x)}$的函数，其中 $p$ 和 $q$ 为多项式函数。

## 三角学

弧度和角度的关系：$\theta = \pi = 180^{\circ}$。

余割、正割和余切分别是 $\csc(x) = \frac{1}{\sin(x)}, \sec(x) = \frac{1}{\cos(x)}, \cot(x) = \frac{1}{\tan(x)}$。

常用三角函数值：

|       | $0$ | $\pi/6$ | $\pi/4$ | $\pi/3$ | $\pi/2$ |
|-------|:---:|:------:|:------:|:------:|:------:|
| $\sin$ | $0$ | $\tfrac{1}{2}$ | $\tfrac{\sqrt{2}}{2}$ | $\tfrac{\sqrt{3}}{2}$ | $1$ |
| $\cos$ | $1$ | $\tfrac{\sqrt{3}}{2}$ | $\tfrac{\sqrt{2}}{2}$ | $\tfrac{1}{2}$ | $0$ |
| $\tan$ | $0$ | $\tfrac{\sqrt{3}}{3}$ | $1$ | $\sqrt{3}$ | 未定义 |


毕达哥拉斯定理 和 勾股定理 是同一个定理。

参考角，射线和 x 轴的最小夹角，是个正值，不同于象限角，象限角是从x轴正方向逆时针旋转到射线所经过的角度，一般用 $\theta$ 表示，如果是顺时针旋转，则用 $-\theta$ 表示。

$\sin(x)$ 和 $\tan(x)$ 是奇函数，$\cos(x)$ 是偶函数。

### 三角恒等式

$$
\tan(x) = \frac{\sin(x)}{\cos(x)}
$$

**毕达哥拉斯定理**：

$$\sin^2(x) + \cos^2(x) = 1$$

$$1 + \tan^2(x) = \frac{1}{\cos^2(x)}$$

$$1 + \frac{1}{\tan^2(x)} = \frac{1}{\sin^2(x)}$$

互余，两个角之和为90度，则称这两个角互余，有一些三角函数是以“co”开头的，例如 $\cos(x), \cot(x)$，存在以下互余关系：

$$\sin(\frac{\pi}{2}-x) = \cos(x)$$

$$\tan(\frac{\pi}{2}-x) = \cot(x)$$

和差化积公式：

$$\sin(A+B) = \sin(A)\cos(B) + \cos(A)\sin(B)$$

$$\cos(A+B) = \cos(A)\cos(B) - \sin(A)\sin(B)$$

$$\sin(A-B) = \sin(A)\cos(B) - \cos(A)\sin(B)$$

$$\cos(A-B) = \cos(A)\cos(B) + \sin(A)\sin(B)$$

积化和差公式：

$$\sin(A)\sin(B) = \frac{1}{2}[\cos(A-B) - \cos(A+B)]$$

$$\cos(A)\cos(B) = \frac{1}{2}[\cos(A-B) + \cos(A+B)]$$

$$\sin(A)\cos(B) = \frac{1}{2}[\sin(A+B) + \sin(A-B)]$$

倍角公式：

$$\sin(2x) = 2\sin(x)\cos(x)$$

$$\cos(2x) = \cos^2(x) - \sin^2(x) = 2\cos^2(x) - 1 = 1 - 2\sin^2(x)$$

“奇变偶不变，符号看象限”，任一角度都可以表示为 $\theta = k\frac{\pi}{2} + \alpha$，$|{\alpha}|<\frac{\pi}{4}$ ，

- 当k为偶数时，函数名不变
- 当k为奇数时，函数名改变，即 $\sin \leftrightarrow \cos, \tan \leftrightarrow \cot$

然后在前面加上**把 $\alpha$看成锐角时原函数值的符号**。

![trig-function-sign.png](/img/calculus/trig-function-sign.jpg)

## 极限

极限分五种，$\lim\limits_{x \to a}, \lim\limits_{x \to a^+}, \lim\limits_{x \to a^-}, \lim\limits_{x \to +\infty}, \lim\limits_{x \to -\infty}$，其中 x 趋近于 a 的极限分为双侧极限和单侧极限。

误解，一个函数不可能和他的渐近线相交，反例：$y=\frac{sin(x)}{x}$。

**三明治定理**（夹逼定理），如果函数f夹在函数g，h之间，当g，h在某一点a的极限值相同时，f在点a的极限也是这个值

两种极限不存在的情况（这里把正负无穷视为有效极限值）：

1. 函数图像不停振荡，不能收敛于某个值。
2. 函数在某点的左侧和右侧极限值不相等。

## 求解多项式极限

### x -> a 时有理函数的极限

**不定式**

对有理函数求$x \to a$时的函数极限，还有可能算出 $\frac{0}{0}$，这叫“不定式” ，可以通过因式分解等方法对原函数做一个变形再去求极限值

对多项式型函数求$x \to -\infty$时的函数极限时，要注意，项的次数会影响项的正负

立方差公式：$a^3 - b^3 = (a-b)(a^2 + ab + b^2)$

**$\frac{n}{0}$ 不一定意味着无穷**

有理函数求$x \to a$时的函数极限，如果算出来是$\frac{n}{0}$，极限不一定是无穷，如果 x 在 a 两侧的值不同，则双侧极限不存在。

例如 $\lim\limits_{x\to1}\frac{2x^2-x-6}{x(x-1)^3}$，它在 x=1 处的极限是$\frac{-5}{0}$，但实际上它的双侧极限并不存在，左侧极限是$+\infty$，右侧极限是$-\infty$

用desmos把上面这个函数图像画出来：

![limit.png](/img/calculus/limit.png)

### x -> a 时平方根的极限

例如，以下极限如果直接代入5，会得到不定式$\frac{0}{0}$，

$$\lim\limits_{x \to 5} \frac{\sqrt{x^2-9}-4}{x-5}$$

可以通过分子分母同乘以分子的**共轭表达式** $\sqrt{x^2-9}+4$ 来化简。

共轭表达式，对于形如 $a+b$ 的表达式，其共轭表达式为 $a-b$，反之亦然。

共轭表达式的乘积等于两个项的平方差，即 $(a+b)(a-b) = a^2 - b^2$。

复数共轭的乘积等于复数的模的平方，即若 $z=a+bi$，则 $z\overline{z} = (a+bi)(a-bi)=a^2 + b^2$。（乘积里面没有 $i$， 复数的乘法运算规则和实数不太一样）

### x -> ∞ 时有理函数的极限

结果取决于分子和分母的最高次项的系数和次数，这个很容易理解，没什么好说的。

### x -> ∞ 时多项式型函数的极限

注意，这里是多项式**型**函数，不是多项式函数，因为式子里有分数次数或者根号，式子看起来像个多项式。

例如，两个多项式型函数相除，

$$\lim\limits_{x \to \infty} \frac{\sqrt{16x^4 + 8}+3x}{2x^2+6x+1}$$

解法是，想办法给根号里加个分母 $x^4$，其他类似的极限都是这么化简。

### x -> -∞ 时的极限

注意符号，尤其是带次数和根号的时候。

### 包含绝对值的极限

注意计算双侧极限

## 连续和可导

### 连续性

函数在某一点上连续时，必须满足在该点上左右极限存在且相等，并且等于函数在该点的值。

连续函数的常数倍仍然是连续的，两个连续函数的和、差、积、复合仍然是连续的，两个连续函数的商在分母不为零的情况下仍然是连续的。

**介值定理**，如果函数 $f$ 在闭区间 $[a,b]$ 上连续，且 $f(a)$ 和 $f(b)$ 异号，则存在 $c \in (a,b)$ 使得 $f(c)=0$。

介值定理可以用来证明方程有解。

**最大值与最小值定理**，如果函数 $f$ 在闭区间 $[a,b]$ 上连续，则 $f$ 在该区间上必有最大值和最小值。

### 可导性

导数的几何意义是切线的斜率。（因为它实际上求的是切线和 x 轴夹角的 tan值）

导数公式：

$$
f'(x) = \lim\limits_{h \to 0} \frac{f(x+h)-f(x)}{h}
= \lim\limits_{h \to 0} \frac{\Delta y}{\Delta x} = \frac{dy}{dx}
$$

二阶导数：

$$
f''(x) = \frac{d^2y}{dx^2} = \frac{d}{dx}\left(\frac{dy}{dx}\right)
$$

三阶导数：

$$
f'''(x) = f^{(3)}(x) = \frac{d^3y}{dx^3} = \frac{d^3}{dx^3}(y) = \frac{d}{dx}\left(\frac{d^2y}{dx^2}\right)
$$

极限不存在时，导数就不存在。

可导必定连续，连续不一定可导。

## 微分

我们常见的求导公式都可以使用导数的定义推导出来。

$x^n$ 的导数：

$$
\frac{d}{dx}\left(x^n\right) = nx^{n-1} 
$$

常数的导数为零：

$$
\frac{d}{dx}(C) = 0
$$

### 求导法则

常数倍法则：

$$
\frac{d}{dx}(k \cdot f(x)) = k \cdot f'(x)
$$

和差法则：

$$
\frac{d}{dx}(f(x) \pm g(x)) = f'(x) \pm g'(x)
$$

乘积法则：

$$
\frac{d}{dx}(f(x) \cdot g(x)) = f'(x) \cdot g(x) + f(x) \cdot g'(x)
$$

更多变量的乘积法则：

$$
\frac{d}{dx}(f(x) \cdot g(x) \cdot h(x)) = f'(x) \cdot g(x) \cdot h(x) + f(x) \cdot g'(x) \cdot h(x) + f(x) \cdot g(x) \cdot h'(x)
$$

每个变量必须得求导一次，然后乘上其他变量。

商：

$$
\frac{d}{dx}\left(\frac{f(x)}{g(x)}\right) = \frac{f'(x) \cdot g(x) - f(x) \cdot g'(x)}{(g(x))^2}
$$

链式求导法则：

$$
\frac{d}{dx}f(g(x)) = f'(g(x)) \cdot g'(x)
$$

换个写法：

$$
\frac{dy}{dx} = \frac{dy}{du} \cdot \frac{du}{dx}
$$

### 用导数求极限

**导数本身是用极限定义的，所以有些极限可以通过导数来求解**。

### 分段函数的导数

分段函数在分段连接点处也可以可导，但要满足：

1. 左右极限存在且相等（连续）
2. 左右导数存在且相等（光滑）

### 微分（Differentiation）

本章内容只有这么多，都在讲怎么求导。

微分就是求极其微小的函数变化率，也就是求导。

## 三角函数微分

### 三角函数极限

**小数的情况**

$$
\lim\limits_{x \to 0} \frac{\sin x}{x} = 1
$$

$$
\lim\limits_{x \to 0} \frac{\tan x}{x} = 1
$$

$$
\lim\limits_{x \to 0} \frac{1 - \cos x}{x} = 0
$$

**大数的情况**

$$
\lim\limits_{x \to \infty} \frac{\sin (任何东西)}{x^\alpha} = 0, \quad \alpha > 0
$$

### 三角函数的导数

$$
\frac{d}{dx}(\sin x) = \cos x
$$

$$
\frac{d}{dx}(\cos x) = -\sin x
$$

$$
\frac{d}{dx}(\tan x) = \sec^2 x = \frac{1}{\cos^2 x}
$$

### 简谐运动

简谐运动是指物体在某一平衡位置附近来回振荡的运动，例如弹簧振子。

弹簧振子的运动用到了三角函数，假设 $x$ 是 弹簧振子在时刻 $t$ 的位置，$x$ 的方程大概可以写成：

$$x = 3\sin(4t)$$

### 一个有趣的函数

$$y = x^2\sin\left(\frac{1}{x}\right)$$

这个函数在 $x=0$ 处没有意义，我们将其做个扩展，

$$
f(x) = \begin{cases}
x^2\sin\left(\frac{1}{x}\right), & x \neq 0 \\
0, & x = 0 \end{cases}
$$

通过求 $x = 0$ 左右两侧的极限可知，函数在 $x=0$ 处连续。

然后我们能够求出 $x \neq 0$ 时的导数：

$$
f'(x) = 2x\sin\left(\frac{1}{x}\right) - \cos\left(\frac{1}{x}\right)
$$

$x=0$ 处的导数只能通过导数的定义来求，

$$
f'(0) = \lim\limits_{h \to 0} \frac{f(0+h)-f(0)}{h} = \lim\limits_{h \to 0} h\sin\left(\frac{1}{h}\right) = 0
$$

但当我们求 $x \to 0$ 时的导数极限时，发现左右极限都不存在，这意味着，函数在 $x=0$ 处导数不连续。

从函数图像上来看，导数在 $x=0$ 处为 $0$，而在 $x=0$ 附近震荡得非常厉害。

这是一个本身连续且可导，但导数不连续的例子。

## 隐函数求导

隐函数是指没有显式表示为 $y=f(x)$ 形式的函数。

考虑圆的方程 $x^2 + y^2 = 4$，求导数 $\frac{dy}{dx}$，可以这么做：

$$
\frac{d}{dx}(x^2 + y^2) = \frac{d}{dx}(4)
$$

$$
\frac{d}{dx}(x^2) + \frac{d}{dx}(y^2) = \frac{d}{dx}(4)
$$

$$
2x + 2y \frac{dy}{dx} = 0
$$

$$
\frac{dy}{dx} = -\frac{x}{y}
$$

### 相关变化率

如果 x 和 y 是两个相关变量（比如体积和半径），我们知道 x 相对于时间 t 的变化率 $\frac{dx}{dt}$，想要求 y 相对于时间 t 的变化率 $\frac{dy}{dt}$，可以利用隐函数求导的方式来求。

## 指数函数和对数函数

对数函数 $ y = \log_b x $, 要求满足 $b>0$ 且 $b \neq 1$。

### 指数法则

$$
b^0 = 1
$$

$$
b^x b^y = b^{x+y}
$$

$$
\frac{b^x}{b^y} = b^{x-y}
$$

$$
(b^x)^k = b^{kx}
$$

### 对数法则

$$
\log_b (xy) = \log_b x + \log_b y
$$

$$
\log_b \left(\frac{x}{y}\right) = \log_b x - \log_b y
$$

$$
\log_b (x^k) = k \log_b x
$$

换底法则

$$
\log_b x = \frac{\log_k x}{\log_k b}
$$

### 自然常数e

e是一个无理数，约等于2.71828。

e 来自于伯努利提出的复利计算，假设一家银行的年利率为 r ，本金为 A，一年计算 n 次复利，持续 t 年，那么 t 年后的总金额为：

$$A\left(1+\frac{r}{n}\right)^{nt}
$$

假设本金为 1 元，年利率为 100% ，那么一年后的总金额为：

$$\left(1+\frac{1}{n}\right)^n
$$

我们想看看，当每年计算复利的次数趋近于无穷大时（即 n 趋近于无穷大时），总金额是否存在一个上限，也就是下面这个极限是否存在：

$$\lim\limits_{n \to \infty} \left(1+\frac{1}{n}\right)^n
$$

这个极限是存在的，并且 e 代表的就是这个极限 ，即

$$
e = \lim\limits_{n \to \infty} \left(1+\frac{1}{n}\right)^n
$$

还有以下事实：

$$\lim\limits_{n \to \infty} (1+\frac{x}{n})^{n} = e^x
$$

和

$$\lim\limits_{h \to 0} (1+xh)^{\frac{1}{h}} = e^x
$$

这样，我们就可以计算任意利率下的金额了。

以 e 为底的对数称为自然对数，记作 $\ln x$ 或 $\log x$。

### 指数和对数函数求导

$$
\frac{d}{dx}(\ln(x)) = \frac{1}{x}
$$

$$
\frac{d}{dx}(log_b(x)) = \frac{1}{x \ln(b)}
$$

$$
\frac{d}{dx}(e^x) = e^x
$$

$$
\frac{d}{dx}(b^x) = b^x \ln(b)
$$

### 指数函数和对数函数极限

$$
\lim\limits_{h \to 0} \frac{e^h -1}{h} = 1
$$

$$
\lim\limits_{h \to 0} \frac{\ln(1+h)}{h} = 1
$$

指数函数增长迅速，快于任何多项式函数：

$$
\lim\limits_{x \to \infty} \frac{x^n}{e^x} = 0, \quad n \text{为任意正整数}
$$

扩展为更一般的结论：

$$
\lim\limits_{x \to \infty} \frac{多项式型}{指数为大的、正的多项式型的指数函数} = 0
$$

对数函数增长缓慢，慢于任何多项式函数：

$$
\lim\limits_{x \to \infty} \frac{\ln(x)}{x^n} = 0, \quad n \text{为任意正整数}
$$

扩展为更一般的结论：

$$
\lim\limits_{x \to \infty} \frac{任何正的多项式型的对数函数}{具有正的幂次的多项式型} = 0
$$

对数函数的另一个极限：

$$
\lim\limits_{x \to 0^+} x^n \ln(x) = 0, \quad n \text{为任意正整数}
$$

### 取对数求导法

$$
y = f(x)^{g(x)}
$$

上面这种形式的函数，可以先对两边取对数，然后再做隐函数求导。

或者，可以将 $y = f(x)^{g(x)}$ 改写为 $y = e^{g(x) \ln(f(x))}$，然后再求导。

### 指数增长和指数衰变

如果$ \frac{dy}{dx} = ky$，那么 $y = Ae^{kx}$，这说明，指数函数的值越大，它的变化率越大。

换个写法，可以得到指数增长方程：

$$
P(t) = P_0 e^{kt}
$$

k 是增长常数。

同理，指数衰变方程：

$$
P(t) = P_0 e^{-kt}
$$

k 是衰变常数。

放射性元素的衰变遵循指数衰变规律。

半衰期，是指某物质的数量衰变到原来一半所需要的时间，我们用 $t_{1/2}$ 来表示半衰期，那么有以下关系：

$$
k = \frac{\ln(2)}{t_{1/2}}
$$

## 双曲函数

双曲余弦函数：

$$\cosh x = \frac{e^x + e^{-x}}{2}
$$

双曲正弦函数：

$$\sinh x = \frac{e^x - e^{-x}}{2}
$$

双曲正切函数：

$$
\tanh x = \frac{\sinh x}{\cosh x}
$$

恒等式：

$$\cosh^2 x - \sinh^2 x = 1
$$

微分：

$$\frac{d}{dx}(\sinh x) = \cosh x
$$

$$\frac{d}{dx}(\cosh x) = \sinh x
$$

和三角函数类似，双曲函数也能定义出余割、正割、余切等函数，这里略过。

## 反函数和反三角函数

### 反函数

前面讲过，如果一个函数图像有涨有跌，它不能通过水平线检验，就没有反函数，所以只有单调函数才有反函数，它的导数可以有某一点为零，但不能有一个区间的导数为零。

### 反函数的导数

反函数的导数可以用隐函数求导的方式得到，假设函数 $f$ 有反函数 $y = f^{-1}(x)$，我们将其改写为 $x = f(y)$（这其实就是原函数），然后对两边做隐函数求导：

$$
\frac{d}{dx}(f(y)) = \frac{d}{dx}(x)
$$

$$
\frac{dy}{dx} = \frac{1}{f'(y)}
$$

所以，反函数的导数实际上是原函数导数的倒数，只不过要将反函数的 y 值代入计算。

### 反三角函数

要使三角函数的反函数存在，我们必须限制反函数的作用域和值域。

反正弦函数 $\sin^{-1} x$是奇函数，它的定义域是 $[-1,1]$，值域是 $\left[-\frac{\pi}{2}, \frac{\pi}{2}\right]$。

$$
\frac{d}{dx}(\sin^{-1} x) = \frac{1}{\sqrt{1-x^2}}
$$

反余弦函数 $\cos^{-1} x$不是奇函数也不是偶函数，它的定义域是 $[-1,1]$，值域是 $[0, \pi]$。

$$
\frac{d}{dx}(\cos^{-1} x) = -\frac{1}{\sqrt{1-x^2}}
$$

反正弦函数和反余弦函数存在以下关系：

$$
\sin^{-1} x + \cos^{-1} x = \frac{\pi}{2}
$$

反正切函数 $\tan^{-1} x$是奇函数，它的定义域是 $(-\infty, +\infty)$，即实数域 $R$，值域是 $\left(-\frac{\pi}{2}, \frac{\pi}{2}\right)$。

$$
\frac{d}{dx}(\tan^{-1} x) = \frac{1}{1+x^2}
$$

（反正割、反余割和反余切函数略过）

### 反双曲函数

反双曲余弦函数 $\cosh^{-1} x$ 既不是奇函数也不是偶函数，它的定义域是 $[1, +\infty)$，值域是 $[0, +\infty)$。

$$
\frac{d}{dx}(\cosh^{-1} x) = \frac{1}{\sqrt{x^2-1}}
$$

反双曲正弦函数 $\sinh^{-1} x$ 是奇函数，它的定义域和值域都是 $R$。

$$
\frac{d}{dx}(\sinh^{-1} x) = \frac{1}{\sqrt{x^2+1}}
$$

反双曲正切函数 $\tanh^{-1} x$ 是奇函数，它的定义域是 $(-1,1)$，值域是 $R$。

$$
\frac{d}{dx}(\tanh^{-1} x) = \frac{1}{1-x^2}
$$

其他略。

## 导数和图像

极值分全局极值和局部极值。

函数临界点，是指函数导数为零或不存在的点。

**极值定理**，最大值和最小值一定位于函数的临界点或区间端点处。

**罗尔定理**，如果函数 $f$ 在闭区间 $[a,b]$ 上连续，在开区间 $(a,b)$ 上可导，且 $f(a) = f(b)$，那么存在 $c \in (a,b)$ 使得 $f'(c) = 0$。

**中值定理**，如果函数 $f$ 在闭区间 $[a,b]$ 上连续，在开区间 $(a,b)$ 上可导，那么存在 $c \in (a,b)$ 使得

$$f'(c) = \frac{f(b)-f(a)}{b-a}
$$

二阶导数可以用来判断函数的凹凸性，如果 $f''(x) > 0$，则函数在该点是凹的（向上开口），如果 $f''(x) < 0$，则函数在该点是凸的（向下开口）。

函数凹凸性发生改变的点叫做拐点。

拐点处的二阶导数为零，但二阶导数为零的点不一定是拐点。

## 绘制函数图像

绘制函数图像要考虑对称性、x轴截距、y轴截距、定义域、垂直渐近线、水平渐近线、函数的正负、导数的正负、最大值和最小值、二阶导数的正负、拐点。

## 最优化和线性化

### 最优化

求全局最大值和最小值。

### 线性化

使用导数做估算。

对于函数 f，做 x=a 处的切线 L，这个线性函数 L 被称为 f 在 x=a处的线性化。

$$
f(x) \approx L(x) = f(a) + f'(a)(x-a)
$$

如果我们令 $\Delta x = x - a$，那么线性化可以写成：

$$
f(a + \Delta x) \approx L(a + \Delta x) = f(a) + f'(a) \Delta x
$$

当 $\Delta x$ 很小时，$f'(a) \Delta x$ 实际上就是 函数 f 的微分，即

$$
df = f'(a) \Delta x
$$

例如，我们想估算 $6.01^2$ 时，可以令 $f(x) = x^2$，$a=6$，$\Delta x = 0.01$，那么，估值为：

$$
\begin{aligned}
f(6.01) &\approx L(6.01) \\
        &= f(6) + f'(6) \cdot 0.01 \\
        &= 36 + 12 \cdot 0.01 \\
        &= 36.12
\end{aligned}
$$

**误差**

设

$$
r(x) = f(x) - L(x)
$$

r(x) 是 f 在 x=a 处的估计误差。

如果 x 和 a 之间存在 f 的二阶导数，那么存在这样一个公式：

$$
r(x) = \frac{1}{2}f''(c)(x-a)^2
$$

其中 c 是 x 和 a 之间的某个值。

r(x) 和 f''(c) 同号，所以如果 f 在区间上是凹的（即 f''(x) > 0, r(x)>0），那么我们的估算是低估，反之则是高估。

我们还能根据 f''(x) 的绝对值 在 x 和 a 之间的最大值 M 来估算误差最大绝对值：

$$
|r(x)| \leqslant \frac{1}{2}M(x-a)^2
$$

### 牛顿法

一种线性估计方法。

假设我们想要估算 $f(x) = 0$ 的解，我们可以先猜一个近似解 $a$，然后计算该点处的切线与 x 轴的交点 $b$（切线的 x 轴截距），再用 $b$ 作为新的近似解，重复这个过程，直到达到所需的精度为止。

即，

$$
b = a-\frac{f(a)}{f'(a)}
$$

（求解前面提到的的切线方程 $L(x) = f(a) + f'(x)(x-a)$ 的 x 轴截距即可得到 b。）

牛顿法会在以下几种情况下失效：

- f'(x) 非常小，接近于0，这会使得切线几乎平行于 x 轴，从而导致新的近似解偏离得非常远。
- f(x) 不只有一个解，可能得到的不是我们想要的解。
- 近似值越来越偏离实际值。
- 可能陷入循环出不来。

可以用牛顿迭代法估计 $\sqrt 2$ 的值，令 $f(x) = x^2 - 2$，求解 $f(x) = 0$ 即可。

## 洛必达法则

对于$\frac{0}{0}$和$\frac{\infty}{\infty}$两种不定式，可以使用洛必达法则来求极限。

洛必达法则：

$$
\lim\limits_{x \to a} \frac{f(x)}{g(x)} = \lim\limits_{x \to a} \frac{f'(x)}{g'(x)}
$$

## 积分（Integration）

伸缩级数：

$$
\sum_{n=a}^{b}(f(n)-f(n-1)) = f(b) - f(a-1)
$$

定积分的定义：

$$
\int_a^b f(x) \, dx = \lim\limits_{mesh \to 0} \sum_{j=1}^{n} f(c_j) (x_j-x_{j-1})
$$

求和部分叫做**黎曼和**，这种求积分的方式叫做**黎曼积分**。

虽然黎曼积分有上和和下和等取值方法，但是对于一个可积函数来说， $c_j$可以取区间内的任意值。

### 定积分的性质

$$
\int_b^a f(x) \, dx = -\int_a^b f(x) \, dx
$$

$$
\int_a^a f(x) \, dx = 0
$$

$$
\int_a^b f(x) \, dx = \int_a^c f(x) \, dx + \int_c^b f(x) \, dx 
$$

$$
\int_a^b C f(x) \, dx = C \int_a^b f(x) \, dx
$$

$$
\int_a^b [f(x) \pm g(x)] \, dx = \int_a^b f(x) \, dx \pm \int_a^b g(x) \, dx
$$

### 求面积

定积分求的是有向面积。

求面积时要注意，求的是无向面积，是求函数绝对值的积分。

### 积分中值定理

如果函数 f 在闭区间 [a,b] 上连续，那么在开区间 (a,b) 上至少存在一点 c，使得

$$
f(c) = \frac{1}{b-a} \int_a^b f(x) \, dx
$$

### 不可积的函数

例如

$$
f(x) = \begin{cases}
1, & x \text{为有理数} \\
0, & x \text{为无理数}
\end{cases}
$$

如果使用黎曼积分，取黎曼上和（取小区间内的最大值作为长方形的高）和黎曼下和（和上和相反）的结果是不同的，所以这个函数在任何区间上都不可积。

使用勒贝格积分可以解决这个问题，但这里不做展开。

## 微积分基本定理

**微积分第一基本定理**

如果函数 f 在区间 [a,b] 上连续，定义 F 为

$$
F(x) = \int_a^x f(t) \, dt, x \in [a,b]
$$

则 F 在区间 (a,b) 上可导，且 $F'(x) = f(x)$。

（注意，这里是个定积分）

我们说 F 是 f 的反导数。

**微积分第二基本定理**

如果函数 f 在区间 [a,b] 上连续，且 F 是 f 的任一反导数，则

$$
\int_a^b f(x) \, dx = F(b) - F(a)
$$

**不定积分**

如果 $\frac{d}{dx}F(x) = f(x)$，那么

$$
\int f(x) \, dx = F(x) + C
$$

**例子**

$$
\frac{d}{dx}\int_3^x \sin(t^2)dt = \sin(x^2)
$$

$$
\frac{d}{dx}\int_x^7 t^3\cos(t\ln(t))dt = -\frac{d}{dx}\int_7^x t^3\cos(t\ln(t))dt
$$

求以下微分：

$$
\frac{d}{dx}\int_0^{x^2} \tan^{-1}(t^7+3t)dt
$$

令 上式为 $y$, 且$u = x^2$，则

$$
y = \int_0^u \tan^{-1}(t^7+3t)dt
$$

$$
\frac{dy}{dx} = \frac{dy}{du} \frac{du}{dx}
$$

**导数和积分公式**

$$
\begin{array}{ll}
\text{导数公式} & \text{积分公式} \\[4pt]
\frac{d}{dx} x^{n} = n x^{\,n-1} & \int x^n dx = \frac{x^{n+1}}{n+1} + C \quad (n \neq -1) \\[4pt]
\frac{d}{dx} \ln(x) = \frac{1}{x} & \int \frac{1}{x} dx = \ln|x| + C \\[4pt]
\frac{d}{dx} e^{x} = e^{x} & \int e^{x} dx = e^{x} + C \\[4pt]
\frac{d}{dx} a^{x} = a^{x}\ln a & \int a^{x} \, dx = \frac{a^{x}}{\ln(a)} + C \\[4pt]
\frac{d}{dx} \log_a x = \frac{1}{x \ln a} & \int \frac{1}{x \ln a} dx = \log_a |x| + C \\[4pt]
\frac{d}{dx} \sin x = \cos x & \int \cos x \, dx = \sin x + C \\[4pt]
\frac{d}{dx} \cos x = -\sin x & \int \sin x \, dx = -\cos x + C \\[4pt]
\frac{d}{dx} \tan x = \sec^{2} x & \int \sec^{2} x \, dx = \tan x + C \\[4pt]
\frac{d}{dx} \sec x = \sec x \tan x & \int \sec x \tan x \, dx = \sec x + C \\[4pt]
\frac{d}{dx} \cot x = -\csc^{2} x & \int \csc^{2} x \, dx = -\cot x + C \\[4pt]
\frac{d}{dx} \csc x = -\csc x \cot x & \int \csc x \cot x \, dx = -\csc x + C \\[4pt]
\frac{d}{dx} \sin^{-1} x = \frac{1}{\sqrt{1-x^{2}}} & \int \frac{1}{\sqrt{1-x^{2}}} dx = \sin^{-1} x + C \\[4pt]
\frac{d}{dx} \cos^{-1} x = -\frac{1}{\sqrt{1-x^{2}}} & \int \frac{1}{\sqrt{1-x^{2}}} dx = -\cos^{-1} x + C \\[4pt]
\frac{d}{dx} \tan^{-1} x = \frac{1}{1+x^{2}} & \int \frac{1}{1+x^{2}} dx = \tan^{-1} x + C \\[4pt]

\frac{d}{dx} \sec^{-1} x = \frac{1}{|x|\sqrt{x^{2}-1}} & \int \frac{1}{|x|\sqrt{x^{2}-1}} dx = \sec^{-1} x + C \\[4pt]

\frac{d}{dx} \sinh x = \cosh x & \int \cosh x \, dx = \sinh x + C \\[4pt]
\frac{d}{dx} \cosh x = \sinh x & \int \sinh x \, dx = \cosh x + C \\[4pt]
\frac{d}{dx} \tanh x = \operatorname{sech}^{2} x & \int \operatorname{sech}^{2} x \, dx = \tanh x + C \\[4pt]
\frac{d}{dx} f(g(x)) = f'(g(x)) g'(x) & \int f'(g(x)) g'(x) \, dx = f(g(x)) + C \\[4pt]
\frac{d}{dx} (f g) = f' g + f g' & \int (f' g + f g') dx = f g + C \\[4pt]
\frac{d}{dx} \left(\frac{f}{g}\right) = \frac{f' g - f g'}{g^{2}} & \int \frac{f' g - f g'}{g^{2}} dx = \frac{f}{g} + C \ (g\neq 0) \\[4pt]
\end{array}
$$

