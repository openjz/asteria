{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"\u4e3b\u9875","text":"<p>Hello. </p> <p>This is the documentation site of Asteria.</p>"},{"location":"foundation/11.z2.go-gopl/","title":"golang\u5165\u95e8\u7b14\u8bb0","text":"<p>\u53c2\u8003\u300aGo \u7a0b\u5e8f\u8bbe\u8ba1\u8bed\u8a00\u300b</p> <p>\u770b\u672c\u6587\u524d\u6700\u597d\u5148\u770b google \u7684a tour of go</p>","tags":["golang"]},{"location":"foundation/11.z2.go-gopl/#_1","title":"\u4e00\u3001\u7a0b\u5e8f\u7ed3\u6784","text":"<ol> <li>go \u7a0b\u5e8f\u4f7f\u7528\u9a7c\u5cf0\u5f0f\u547d\u540d\u98ce\u683c</li> <li>\u96f6\u503c\uff0c\u53d8\u91cf\u7684\u521d\u59cb\u503c\u3002\u6570\u5b57\u662f 0\uff0c\u5b57\u7b26\u4e32\u662f\"\"\uff0c\u5e03\u5c14\u503c\u662f false\uff0c\u63a5\u53e3\uff08interface\uff09\u548c\u5f15\u7528\u7c7b\u578b\uff08slice\u3001\u6307\u9488\u3001map\u3001\u901a\u9053\u3001\u51fd\u6570\uff09\u662f nil\uff0c\u6570\u7ec4\u548c\u7ed3\u6784\u4f53\u7684\u96f6\u503c\u662f\u5176\u6240\u6709\u5143\u7d20\u6216\u6210\u5458\u7684\u96f6\u503c</li> <li>\u6ce8\u610f\uff0c\u96f6\u503c\u4e5f\u662f\u6709\u7c7b\u578b\u7684\uff0cnil \u4e5f\u662f</li> <li>\u77ed\u53d8\u91cf\u58f0\u660e\uff0c<code>a,b := f()</code>\uff0ca \u548c b \u4e2d\u81f3\u5c11\u6709\u4e00\u4e2a\u5f97\u662f\u65b0\u53d8\u91cf\uff0c\u4e0d\u80fd\u5168\u662f\u5df2\u7ecf\u58f0\u660e\u7684\u53d8\u91cf</li> <li>\u4e00\u4e2a\u4f8b\u5916\uff0c\u5982\u679c a,b \u662f\u5728\u5916\u5c42\u4f5c\u7528\u57df\u58f0\u660e\u7684\uff0c<code>:=</code>\u4f1a\u5c06\u5b83\u4eec\u58f0\u660e\u4e3a\u65b0\u53d8\u91cf</li> <li>\u6307\u9488\u3002\u51fd\u6570\u8fd4\u56de\u5c40\u90e8\u53d8\u91cf\u7684\u5730\u5740\u662f\u5b89\u5168\u7684\uff08\u89c1 6.\u53d8\u91cf\u7684\u751f\u547d\u5468\u671f\uff09</li> <li>new \u51fd\u6570\uff0cnew \u51fd\u6570\u521b\u5efa\u4e00\u4e2a\u65b0\u503c\u5e76\u8fd4\u56de\u5176\u5730\u5740</li> <li>\u53d8\u91cf\u7684\u751f\u547d\u5468\u671f\u901a\u8fc7\u5176\u662f\u5426\u53ef\u8fbe\u786e\u5b9a\uff08\u53d8\u91cf\u53ef\u4ee5\u5728\u5176\u521d\u6b21\u58f0\u660e\u7684\u4f5c\u7528\u57df\u4e4b\u5916\u5b58\u6d3b\uff09\uff0c\u7f16\u8bd1\u5668\u6839\u636e\u53d8\u91cf\u751f\u547d\u5468\u671f\u786e\u5b9a\u53d8\u91cf\u5728\u6808\u4e0a\u8fd8\u662f\u5806\u4e0a\u5206\u914d\uff0c\u800c\u4e0d\u662f\u6839\u636e\u58f0\u660e\u53d8\u91cf\u7684\u65f6\u5019\u4f7f\u7528\u7684\u662f var \u8fd8\u662f new</li> <li>\u591a\u91cd\u8d4b\u503c\uff0c\u4f8b\u5982<code>a,b := 1,\"xxx\"</code>\u6216<code>x,y = y,x</code>\uff0c\u540e\u8005\u7528\u6765\u4ea4\u6362\u53d8\u91cf\u7684\u503c</li> <li>\u7c7b\u578b\u8f6c\u6362\uff0c<code>var a T = T(b)</code>\uff0c\u6bcf\u4e2a\u7c7b\u578b\u90fd\u4f1a\u63d0\u4f9b<code>T(x)</code>\u5c06 x \u7684\u503c\u8f6c\u6362\u4e3a T\uff08\u524d\u63d0\u662f\u5141\u8bb8\u8fd9\u79cd\u8f6c\u6362\uff09</li> <li>\u5bfc\u51fa\u7684\u6807\u8bc6\u7b26\u624d\u80fd\u5728\u5305\u5916\u88ab\u8bbf\u95ee\u5230\uff0c\u5bfc\u51fa\u7684\u6807\u8bc6\u7b26\u4ee5\u5927\u5199\u5b57\u6bcd\u5f00\u5934</li> <li>\u5305\u53d8\u91cf\u521d\u59cb\u5316\uff0c\u4ece\u521d\u59cb\u5316\u5305\u7ea7\u522b\u53d8\u91cf\u5f00\u59cb\uff0c\u4f18\u5148\u6309\u7167\u4f9d\u8d56\u987a\u5e8f\u521d\u59cb\u5316\u53d8\u91cf\uff0c\u7136\u540e\u6309\u7167\u58f0\u660e\u987a\u5e8f\u521d\u59cb\u5316\u53d8\u91cf</li> <li>init \u51fd\u6570\uff0c\u53ef\u4ee5\u6709\u4efb\u610f\u4e2a\uff0c\u5728\u7a0b\u5e8f\u542f\u52a8\u65f6\u6309\u7167\u58f0\u660e\u987a\u5e8f\u81ea\u52a8\u6267\u884c</li> <li>\u5305\u7684\u521d\u59cb\u5316\u6309\u5bfc\u5165\u987a\u5e8f\u8fdb\u884c\uff0c\u4f9d\u8d56\u987a\u5e8f\u4f18\u5148\uff08\u7c7b\u4f3c\u5305\u7ea7\u522b\u53d8\u91cf\u521d\u59cb\u5316\uff09</li> </ol>","tags":["golang"]},{"location":"foundation/11.z2.go-gopl/#_2","title":"\u4e8c\u3001\u57fa\u672c\u6570\u636e","text":"","tags":["golang"]},{"location":"foundation/11.z2.go-gopl/#21","title":"2.1 \u6574\u578b","text":"<ol> <li>int8\u3001int16\u3001int32\u3001int64\u3001uint8\u3001uint16\u3001uint32\u3001uint64</li> <li>int \u548c uint\uff0c\u5728\u4e0d\u540c\u5e73\u53f0\u4e0a\u5927\u5c0f\u4e0d\u540c\uff08\u901a\u5e38\u662f 32 \u4f4d\u6216 64 \u4f4d\uff09</li> <li>rune\uff0c\u7b49\u4ef7\u4e8e int32\uff0c\u8868\u793a\u4e00\u4e2a unicode \u7801\u70b9</li> <li>byte\uff0c\u7b49\u4ef7\u4e8e uint8\uff0c\u8868\u793a\u4e00\u4e2a\u539f\u59cb\u7684\u5b57\u8282</li> <li>uintptr\uff0c\u53ef\u4ee5\u5b58\u653e\u4e00\u4e2a\u6307\u9488\uff0c\u7528\u4e8e\u5e95\u5c42\u7f16\u7a0b</li> <li>golang \u4e2d%\u8fd0\u7b97\u7ed3\u679c\u7684\u6b63\u8d1f\u53f7\u603b\u662f\u548c\u88ab\u9664\u6570\u4e00\u81f4\uff08\u53d6\u4f59\uff0c\u4e0d\u662f\u53d6\u6a21\uff09</li> <li>\u4f4d\u8fd0\u7b97\u3002<code>&amp;</code>\u662f\u4e0e\u8fd0\u7b97\uff08AND\uff09\uff0c<code>|</code>\u662f\u6216\u8fd0\u7b97\uff08OR\uff09\uff0c<code>^</code>\u662f\u5f02\u6216\u8fd0\u7b97\u548c\u975e\u8fd0\u7b97\uff08XOR\uff0cNOT\uff09\uff0c<code>&amp;^</code>\u662f\u4e0e\u975e\u8fd0\u7b97\uff08AND NOT\uff09\uff0c<code>&lt;&lt;</code>\u662f\u5de6\u79fb\uff0c<code>&gt;&gt;</code>\u662f\u53f3\u79fb</li> <li>1 \u548c a \u505a\u5f02\u6216\u7b49\u4ef7\u4e8e\u5bf9 a \u53d6\u53cd\uff0c\u5373 1^a = ^a\uff08\u8fd9\u91cc\u7684 1 \u548c a \u662f\u5355\u72ec\u7684\u4e00\u4f4d\uff09</li> <li>\u4e0e\u975e\u8fd0\u7b97\u7684\u4f5c\u7528\u662f\u6309\u53f3\u64cd\u4f5c\u6570\u7684\u4f4d\u5206\u5e03\u6e05\u7a7a\u5de6\u64cd\u4f5c\u6570\u4e2d\u7684\u5bf9\u5e94\u4f4d</li> <li>\u53f3\u79fb\u64cd\u4f5c<code>&gt;&gt;</code><ul> <li>\u6709\u7b26\u53f7\u6570\u5de6\u79fb\u662f\u903b\u8f91\u79fb\u4f4d\uff0c\u7b26\u53f7\u4f4d\u53c2\u4e0e\u79fb\u4f4d\uff0c\u4f4e\u4f4d\u8865 0</li> <li>\u6709\u7b26\u53f7\u6570\u53f3\u79fb\u662f\u7b97\u672f\u79fb\u4f4d\u6309\u7b26\u53f7\u4f4d\u586b\u8865\u7a7a\u4f4d\uff08\u56e0\u4e3a\u79fb\u7684\u662f\u8865\u7801\uff0c\u8865\u7801\u8865 1 \u5c31\u7b49\u4e8e\u539f\u7801\u8865 0\uff09</li> <li>\u65e0\u7b26\u53f7\u6570\u90fd\u662f\u903b\u8f91\u79fb\u4f4d</li> <li>\u53f3\u79fb\u64cd\u4f5c<code>x&gt;&gt;n</code>\u7b49\u4ef7\u4e8e<code>x/2^n</code>\uff0c\u5411\u4e0b\u53d6\u6574\uff08\u671d\u8d1f\u65e0\u7a77\u65b9\u5411\u53d6\u6574\uff0c\u4f8b\u5982-5&gt;&gt;1 \u7ed3\u679c\u4e3a-3\uff09</li> </ul> </li> </ol>","tags":["golang"]},{"location":"foundation/11.z2.go-gopl/#22","title":"2.2 \u6d6e\u70b9\u578b","text":"<ol> <li>\u4e24\u79cd\u6d6e\u70b9\u578b\uff0cfloat32 \u548c float64</li> <li>math \u5305\u7ed9\u51fa\u4e86\u6d6e\u70b9\u578b\u7684\u6781\u9650\u503c\uff0c\u4f8b\u5982<code>math.MaxFloat32</code></li> <li>\u7279\u6b8a\u503c\uff1a\u6b63\u65e0\u7a77\u3001\u8d1f\u65e0\u7a77\u3001\u65e0\u610f\u4e49\uff08+Inf\u3001-Inf\u3001NaN\uff09\u3002\u8d85\u51fa\u6781\u9650\u503c\u7684\u6570\u548c\u9664\u4ee5\u96f6\u7684\u5546\u5f52\u4e3a\u6b63\u8d1f\u65e0\u7a77\uff0c0/0 \u6216 sqrt(-1)\u4e3a\u65e0\u610f\u4e49</li> </ol>","tags":["golang"]},{"location":"foundation/11.z2.go-gopl/#23","title":"2.3 \u590d\u6570","text":"<ol> <li>\u4e24\u79cd\u590d\u6570\uff0ccomplex64\uff0ccomplex128</li> <li>\u5199\u6cd5\uff1a<code>3.14i</code>\u3001<code>1+2i</code></li> <li>\u53ef\u4ee5\u4f7f\u7528<code>==</code>\u548c<code>!=</code>\u5224\u65ad\u662f\u5426\u7b49\u503c</li> </ol>","tags":["golang"]},{"location":"foundation/11.z2.go-gopl/#24","title":"2.4 \u5e03\u5c14","text":"<ol> <li>\u903b\u8f91\u8fd0\u7b97\u7684\u77ed\u8def\u884c\u4e3a\uff0c\u5982\u679c\u8fd0\u7b97\u7b26\u5de6\u8fb9\u7684\u64cd\u4f5c\u6570\u80fd\u76f4\u63a5\u786e\u5b9a\u6700\u7ec8\u7ed3\u679c\uff0c\u5219\u53f3\u8fb9\u7684\u64cd\u4f5c\u6570\u4e0d\u4f1a\u8ba1\u7b97\u5728\u5185</li> <li><code>&amp;&amp;</code>\u6bd4<code>||</code>\u4f18\u5148\u7ea7\u9ad8\uff0c\u52a9\u8bb0\u6280\u5de7\uff1a<code>&amp;&amp;</code>\u662f\u903b\u8f91\u4e58\u6cd5\uff0c<code>||</code>\u662f\u903b\u8f91\u52a0\u6cd5</li> </ol>","tags":["golang"]},{"location":"foundation/11.z2.go-gopl/#25","title":"2.5 \u5b57\u7b26\u4e32","text":"<ol> <li>len \u51fd\u6570\u8fd4\u56de\u7684\u662f\u5b57\u8282\u6570\uff0c\u4e0d\u662f\u5b57\u7b26\u6570</li> <li>\u751f\u6210\u5b50\u4e32\u64cd\u4f5c<code>s[i:j]</code>\u53d6\u7684\u662f\u5b57\u8282\uff0c\u4e0d\u662f\u5b57\u7b26\u3002</li> <li>\u4e0b\u6807\u8bbf\u95ee\u64cd\u4f5c<code>s[i]</code>\u8bbf\u95ee\u7684\u4e5f\u662f\u7b2c i \u4e2a\u5b57\u8282\uff0c\u4e0d\u662f\u5b57\u7b26</li> <li>range \u5faa\u73af<code>i,r := range \"xxx\"</code>\u4e2d\u7684 i \u8868\u793a\u5b57\u8282\u5e8f\u53f7\uff0cr \u662f\u5b57\u7b26\uff08rune\uff09</li> <li>\u5b57\u7b26\u4e32\u53ef\u4ee5\u901a\u8fc7<code>==</code>\u3001<code>&lt;</code>\u7b49\u6bd4\u8f83\u8fd0\u7b97\u7b26\u6bd4\u8f83\uff0c\u6bd4\u8f83\u8fd0\u7b97\u6309\u5b57\u8282\u8fdb\u884c\uff0c\u7ed3\u679c\u670d\u4ece\u5176\u5b57\u5178\u5e8f\u6392\u5e8f</li> <li>\u5b57\u7b26\u4e32\u503c\u65e0\u6cd5\u6539\u53d8\uff08\u5b57\u7b26\u4e32\u503c\u6240\u5305\u542b\u7684\u5b57\u8282\u5e8f\u5217\u6c38\u4e0d\u53ef\u53d8\uff09\uff0c\u53ea\u80fd\u5c06\u4e00\u4e2a\u65b0\u5b57\u7b26\u4e32\u8d4b\u503c\u7ed9\u5b57\u7b26\u4e32\u53d8\u91cf\uff08\u4f8b\u5982\uff0c<code>s+=\"xxx\"</code>\u53ea\u662f\u5c06<code>+=</code>\u8fd0\u7b97\u65b0\u751f\u6210\u7684\u5b57\u7b26\u4e32\u8d4b\u503c\u7ed9\u4e86 s\uff0c\u5e76\u6ca1\u6709\u6539\u53d8 s \u539f\u6709\u7684\u5b57\u7b26\u4e32\u503c\uff09\u3002\u8fd9\u4e48\u8bbe\u8ba1\u7684\u597d\u5904\u662f\uff1a</li> <li>\u4e24\u4e2a\u5b57\u7b26\u4e32\u53d8\u91cf\u80fd\u591f\u5b89\u5168\u5730\u5171\u7528\u540c\u4e00\u6bb5\u5e95\u5c42\u5185\u5b58</li> <li>\u5b57\u7b26\u4e32\u62f7\u8d1d\u7684\u5f00\u9500\u5c0f</li> <li>\u5b57\u7b26\u4e32\u5b57\u9762\u91cf</li> <li>\u8f6c\u4e49\u3002\u9664\u4e86\u5e38\u89c1\u7684<code>'\\n'</code>\u7b49\u8f6c\u4e49\u5b57\u7b26\u4ee5\u5916\uff0c<code>'\\xhh'</code>\u7528 16 \u8fdb\u5236\u6570<code>hh</code>\u8868\u793a\u8fd9\u4e2a\u5b57\u8282\uff0c<code>'\\ooo'</code>\u7528\u516b\u8fdb\u5236\u6570<code>ooo</code>\u8868\u793a\u8fd9\u4e2a\u5b57\u8282\uff0c\u8fd9\u4e24\u8005\u90fd\u8868\u793a\u5355\u5b57\u8282</li> <li>\u539f\u751f\u5b57\u7b26\u4e32\u5b57\u9762\u91cf\u7528\u53cd\u5f15\u53f7<code>`...`</code>\u4e66\u5199\u3002\u539f\u751f\u5b57\u7b26\u4e32\u4e2d\u8f6c\u4e49\u4e0d\u8d77\u4f5c\u7528\uff0c\u53ef\u4ee5\u5305\u542b\u6362\u884c\uff0c\u5b57\u7b26\u4e32\u5185\u5bb9\u548c\u4e66\u5199\u5185\u5bb9\u5b8c\u5168\u4e00\u81f4\u3002</li> <li>utf-8</li> <li>utf-8 \u662f go \u7684\u9ed8\u8ba4\u7f16\u7801</li> <li>unicode \u5b57\u7b26\u6709\u4e24\u79cd\u8868\u793a\u5f62\u5f0f\uff0c<code>'\\uhhhh'</code>\u8868\u793a 16 \u4f4d\u7801\u70b9\uff0c<code>'\\Uhhhhhhhh'</code>\u8868\u793a 32 \u4f4d\u7801\u70b9\uff0c\u533a\u522b\u662f\u5c0f\u5199\u7684 u \u548c\u5927\u5199\u7684 U</li> <li>\u4ee5\u4e0b\u5b57\u7b26\u4e32\u662f\u7b49\u4ef7\u7684\uff0c\u6ce8\u610f\uff1a\u76f4\u63a5\u7528 16 \u8fdb\u5236\u8f6c\u4e49\uff08\\x\uff09\u4e66\u5199\u7684\u5b57\u7b26\u4e32\u662f\"\u4e16\u754c\"\u7ecf utf-8 \u7f16\u7801\u540e\u7684\u5b9e\u9645\u5b57\u8282\uff0c\u800c\\u \u548c\\U \u540e\u9762\u8ddf\u7684\u662f unicode \u7801\u70b9\uff0c\u5e76\u4e0d\u662f\u5b9e\u9645\u7684 utf-8 \u5b57\u8282      <code>go      \"\u4e16\u754c\"      \"\\xe4\\xb8\\x96\\xe7\\x95\\x8c\"      \"\\u4e16\\u754c\"      \"\\U00004e16\\U0000754c\"</code></li> <li>utf-8 \u7f16\u7801\u89c4\u5219\uff08\u53ea\u6709\"xxx\"\u90e8\u5206\u624d\u662f unicode \u7801\u70b9\u4fe1\u606f\uff09      <code>0xxxxxxx      110xxxxx 10xxxxxx      1110xxxx 10xxxxxx 10xxxxxx      11110xxx 10xxxxxx 10xxxxxx 10xxxxxx</code></li> <li>\u4f7f\u7528\u51fd\u6570<code>utf8.RuneCountInString(s)</code>\u8ba1\u7b97\u5b57\u7b26\u4e32\u4e2d\u7684\u5b57\u7b26\u6570\u91cf</li> <li>utf-8 \u89e3\u7801\u5668\u5728\u9047\u5230\u4e00\u4e2a\u4e0d\u5408\u7406\u7684\u5b57\u8282\u65f6\uff0c\u4f1a\u7528\u4e00\u4e2a\u4e13\u95e8\u7684 unicode \u7b26\u53f7<code>\\uFFFD</code>\u4f5c\u4e3a\u66ff\u6362</li> <li>byte \u548c rune \u7684\u533a\u522b\uff0crune \u4fdd\u5b58\u7684\u662f unicode \u7801\u70b9\uff0c\u5e76\u4e0d\u662f utf-8 \u7f16\u7801\u540e\u7684\u5b57\u8282\uff0c\u56e0\u6b64\uff0c\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3a<code>[]rune</code>\u4e4b\u540e\uff0c\u4f7f\u7528<code>fmt.Printf(\"%x\",s)</code>\u8f93\u51fa\u7684\u7ed3\u679c\u5e76\u4e0d\u4e00\u6837</li> <li><code>string</code>\u3001<code>[]byte</code>\u3001<code>[]rune</code>\u4e4b\u95f4\u53ef\u4ee5\u76f8\u4e92\u8f6c\u6362\uff0c<code>byte</code>\u3001<code>rune</code>\u53ef\u4ee5\u8f6c\u6362\u4e3a string</li> <li>\u5b57\u9762\u91cf<code>'A'</code>\u662f rune \u7c7b\u578b</li> <li>\u56db\u4e2a\u6807\u51c6\u5305\uff1astrings\u3001bytes\u3001strconv\u3001unicode<ul> <li>strings \u5305\u63d0\u4f9b\u4e86\u5b57\u7b26\u4e32\u64cd\u4f5c\u51fd\u6570</li> <li>bytes \u5305\u63d0\u4f9b\u4e86\u5b57\u8282 slice \u64cd\u4f5c\u51fd\u6570\u3001\u53ef\u53d8\u5b57\u7b26\u4e32\u7c7b\u578b bytes.Buffer</li> <li>strconv \u5305\u4e3b\u8981\u7528\u4e8e string \u548c\u5176\u4ed6\u7c7b\u578b\u7684\u8f6c\u6362</li> <li>unicode \u5305\u7528\u4e8e\u5224\u522b\u6587\u5b57\u7b26\u53f7\u503c</li> </ul> </li> </ol>","tags":["golang"]},{"location":"foundation/11.z2.go-gopl/#26","title":"2.6 \u5e38\u91cf","text":"<ol> <li>\u5e38\u91cf\u662f\u5728\u7f16\u8bd1\u9636\u6bb5\u786e\u5b9a\u503c\u7684\u6570\u636e\u7c7b\u578b\uff0c\u56e0\u6b64\u5e38\u91cf\u53ef\u4ee5\u51fa\u73b0\u5728\u6d89\u53ca\u5230\u7c7b\u578b\u58f0\u660e\u7684\u5730\u65b9\uff08\u4f8b\u5982\u6570\u7ec4\u957f\u5ea6\uff09</li> <li>\u5e38\u91cf\u751f\u6210\u5668 iota\uff0c\u7528\u4e8e\u521b\u5efa\u4e00\u7cfb\u5217\u8fde\u7eed\u7684\u5e38\u91cf\u503c\uff0c\u4ece 0 \u5f00\u59cb\u53d6\u503c\uff0c\u9010\u9879\u52a0 1\u3002iota \u53ef\u4ee5\u7528\u5728\u8868\u8fbe\u5f0f\u91cc\u3002</li> <li>\u65e0\u7c7b\u578b\u5e38\u91cf\uff0c\u65e0\u7c7b\u578b\u5e38\u91cf\u53ef\u4ee5\u6709\u6bd4\u57fa\u672c\u7c7b\u578b\u66f4\u9ad8\u7684\u7cbe\u5ea6\uff0c\u81f3\u5c11 256 \u4f4d\uff08\u53ef\u4ee5\u8d85\u8fc7\u57fa\u672c\u7c7b\u578b\u7684\u6700\u503c\uff09</li> </ol>","tags":["golang"]},{"location":"foundation/11.z2.go-gopl/#_3","title":"\u4e09\u3001\u590d\u5408\u6570\u636e\u7c7b\u578b","text":"<p>\u6570\u7ec4\u3001slice\u3001map\u3001\u7ed3\u6784\u4f53</p>","tags":["golang"]},{"location":"foundation/11.z2.go-gopl/#31","title":"3.1 \u6570\u7ec4","text":"<ol> <li><code>var a [3]int = [3]int{1,2,3}</code>\uff0c\u4e5f\u53ef\u4ee5<code>a := [...]int{1,2,3}</code></li> <li>\u4f7f\u7528<code>len(a)</code>\u83b7\u53d6\u6570\u7ec4\u957f\u5ea6</li> <li>\u521d\u59cb\u5316\u65f6\u53ef\u4ee5\u540c\u65f6\u6307\u5b9a\u7d22\u5f15\uff0c\u4f8b\u5982<code>a := [...]string{2:\"hello\",3:\"world\"}</code></li> <li>\u5982\u679c\u6570\u7ec4\u5143\u7d20\u7c7b\u578b\u53ef\u6bd4\u8f83\uff0c\u5219\u6570\u7ec4\u4e5f\u662f\u53ef\u6bd4\u8f83\u7684\uff0c\u53ea\u80fd\u7528<code>==</code>\u548c<code>!=</code></li> <li>\u4f20\u6570\u7ec4\u53c2\u6570\u65f6\u4e0d\u662f\u4f20\u5f15\u7528\uff0c\u800c\u662f\u503c\u4f20\u9012\uff0c\u62f7\u8d1d\u4e00\u4efd\u526f\u672c</li> <li>\u6570\u7ec4\u957f\u5ea6\u4e0d\u53ef\u53d8</li> </ol>","tags":["golang"]},{"location":"foundation/11.z2.go-gopl/#32-slice","title":"3.2 slice","text":"<ol> <li>slice \u662f\u4e00\u79cd\u53ef\u53d8\u957f\u5ea6\u7684\u5e8f\u5217\u3002slice \u662f\u4e00\u79cd\u8f7b\u91cf\u7684\u6570\u636e\u7ed3\u6784\uff0c\u5e95\u5c42\u662f\u4e2a\u6570\u7ec4\u3002</li> <li>slice \u6709\u4e09\u4e2a\u5c5e\u6027\uff0c\u6307\u9488\u3001\u957f\u5ea6\u548c\u5bb9\u91cf\uff0c\u957f\u5ea6\u662f\u6307 slice \u7684\u5143\u7d20\u4e2a\u6570\uff0c\u957f\u5ea6\u5c0f\u4e8e\u7b49\u4e8e\u5bb9\u91cf\u3002\u5bb9\u91cf\u662f\u4ece\u8d77\u59cb\u5143\u7d20\u5230\u5e95\u5c42\u6570\u7ec4\u7684\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u89c1\u5143\u7d20\u7684\u4e2a\u6570\u3002\u4f7f\u7528<code>len</code>\u548c<code>cap</code>\u83b7\u53d6\u957f\u5ea6\u548c\u5bb9\u91cf\u3002</li> <li>\u4e00\u4e2a\u5e95\u5c42\u6570\u7ec4\u53ef\u4ee5\u5bf9\u5e94\u591a\u4e2a slice\uff0cslice \u7684\u8303\u56f4\u53ef\u4ee5\u76f8\u4e92\u91cd\u53e0\u3002</li> <li>slice \u4e4b\u95f4\u65e0\u6cd5\u6bd4\u8f83\uff0c\u53ef\u4ee5\u7528 bytes.Equal \u6bd4\u8f83\u4e24\u4e2a\u5b57\u8282 slice</li> <li>slice \u503c\u4e3a nil \u65f6\uff0c\u957f\u5ea6\u548c\u5bb9\u91cf\u90fd\u4e3a 0\uff0c\u4e5f\u6709\u4e0d\u4e3a nil \u4f46\u662f\u957f\u5ea6\u548c\u5bb9\u91cf\u90fd\u662f 0 \u7684 slice\uff0c\u4f8b\u5982<code>[]int{}</code>\u3001<code>make([]int,3)[3:]</code></li> <li><code>make([]T,len)</code>\u3001<code>make([]T,len,cap)</code></li> <li>append \u53ef\u4ee5\u7528\u6765\u8ffd\u52a0\u5143\u7d20\u3002append \u53ef\u80fd\u4f1a\u5f15\u8d77\u5e95\u5c42\u6570\u636e\u6269\u5bb9\uff0c\u4e5f\u53ef\u80fd\u4e0d\u4f1a\uff0c\u56e0\u6b64\u6bcf\u6b21\u8c03\u7528 append \u90fd\u5fc5\u987b\u66f4\u65b0 slice\u3002</li> <li>\u5c0f\u77e5\u8bc6\uff0c<code>func(y ...int)</code>\uff0c<code>...</code>\u4ee3\u8868 y \u63a5\u53d7\u4e00\u4e2a\u53ef\u53d8\u957f\u5ea6\u7684\u53c2\u6570\u5217\u8868</li> </ol>","tags":["golang"]},{"location":"foundation/11.z2.go-gopl/#33-map","title":"3.3 map","text":"<ol> <li><code>a := map[string]int{\"hello\":1,\"world\":5,}</code></li> <li>\u521b\u5efa\u7a7a map\uff1a<code>make(map[K]V)</code>\u3001<code>map[K]V{}</code></li> <li>\u901a\u8fc7\u4e0b\u6807\u7684\u65b9\u5f0f\u63d2\u5165\u548c\u8bbf\u95ee\uff0c\u4f7f\u7528 delete \u79fb\u9664\u5143\u7d20\u3002\u5373\u4f7f key \u4e0d\u5b58\u5728\uff0c\u8fd9\u4e9b\u64cd\u4f5c\u4e5f\u662f\u5b89\u5168\u7684\uff0c\u8bbf\u95ee\u4e00\u4e2a\u4e0d\u5b58\u5728\u7684\u952e\u65f6\uff0c\u5176\u503c\u4e3a\u96f6\u503c\u3002</li> <li>map \u4e2d\u5143\u7d20\u7684\u8fed\u4ee3\u987a\u5e8f\u4e0d\u56fa\u5b9a</li> <li>\u5c0f\u77e5\u8bc6\uff0c\u4f7f\u7528 range \u8fed\u4ee3\u65f6\u53ef\u4ee5\u4f7f\u7528\u7a7a\u767d\u6807\u8bc6\u7b26<code>_</code>\u5ffd\u7565\u4e00\u4e2a\u53d8\u91cf</li> <li>\u5224\u65ad\u4e00\u4e2a key \u662f\u5426\u5b58\u5728\uff0c<code>age,ok := a[xxx]</code></li> <li>key \u7684\u7c7b\u578b\u5fc5\u987b\u662f\u80fd\u7528<code>==</code>\u6bd4\u8f83\u7684\u7c7b\u578b\uff0c\u6240\u4ee5 key \u4e0d\u80fd\u662f slice</li> <li>\u53ef\u4ee5\u901a\u8fc7\u5c06 slice \u6620\u5c04\u6210\u4e00\u4e2a\u5b57\u7b26\u4e32\u6765\u89e3\u51b3\uff0c\u4f8b\u5982<code>fmt.Sprintf(\"%q\",[]int{1,2,3})</code>\uff0c\u8c13\u8bcd q \u662f\u5c06\u4e00\u4e2a\u503c\u8f6c\u6362\u4e3a\u5bf9\u5e94\u7684\u5b57\u7b26\u5f62\u5f0f\u7684\u5b57\u9762\u503c</li> </ol>","tags":["golang"]},{"location":"foundation/11.z2.go-gopl/#34","title":"3.4 \u7ed3\u6784\u4f53","text":"<ol> <li>\u70b9\u53f7\u65e2\u53ef\u4ee5\u7528\u5728\u7ed3\u6784\u4f53\u4e0a\uff0c\u4e5f\u53ef\u4ee5\u7528\u5728\u7ed3\u6784\u4f53\u6307\u9488\u4e0a</li> <li>\u6210\u5458\u9996\u5b57\u6bcd\u5927\u5199\u8bf4\u660e\u53d8\u91cf\u53ef\u5bfc\u51fa</li> <li>\u6210\u5458\u53d8\u91cf\u7684\u987a\u5e8f\u5bf9\u7ed3\u6784\u4f53\u540c\u4e00\u6027\u5f88\u91cd\u8981</li> <li>\u7ed3\u6784\u4f53\u7684\u96f6\u503c\u7531\u7ed3\u6784\u4f53\u6210\u5458\u7684\u96f6\u503c\u7ec4\u6210</li> <li>\u6ca1\u6709\u4efb\u4f55\u6210\u5458\u7684\u7ed3\u6784\u4f53\u88ab\u79f0\u4e3a\u7a7a\u7ed3\u6784\u4f53\uff0c<code>struct{}</code>\uff0c\u6ca1\u6709\u957f\u5ea6</li> <li>\u5982\u679c\u7ed3\u6784\u4f53\u6240\u6709\u6210\u5458\u90fd\u80fd\u6bd4\u8f83\uff0c\u90a3\u4e48\u7ed3\u6784\u4f53\u5c31\u53ef\u4ee5\u6bd4\u8f83\uff08\u4f7f\u7528<code>==</code>\u6216<code>!=</code>\uff09</li> <li>\u533f\u540d\u6210\u5458</li> <li>\u5982\u679c\u4e00\u4e2a\u6210\u5458\u662f\u7ed3\u6784\u4f53\uff0c\u4e14\u4e0d\u5e26\u540d\u79f0\uff0c\u5219\u4e3a\u533f\u540d\u6210\u5458</li> <li>\u53ef\u4ee5\u76f4\u63a5\u8bbf\u95ee\u533f\u540d\u7ed3\u6784\u4f53\u7684\u6210\u5458\uff0c\u800c\u4e0d\u7528\u7ecf\u8fc7\u533f\u540d\u7ed3\u6784\u4f53</li> <li>\u4f46\u521d\u59cb\u5316\u65f6\u5fc5\u987b\u628a\u6240\u6709\u4e2d\u95f4\u6210\u5458\u90fd\u5217\u51fa\u6765</li> <li>\u6210\u5458\u91cd\u540d\u95ee\u9898\uff0c\u5982\u679c\u533f\u540d\u6210\u5458\u5185\u90e8\u7684\u4e00\u4e2a\u6210\u5458\u548c\u5916\u90e8\u7684\u4e00\u4e2a\u6210\u5458\u91cd\u540d\u4e86\uff0c\u8bbf\u95ee\u65f6\u8bbf\u95ee\u7684\u662f\u5916\u90e8\u6210\u5458\u3002\u5982\u679c\u4e24\u4e2a\u533f\u540d\u6210\u5458\u4e4b\u95f4\u6709\u6210\u5458\u91cd\u540d\u4e86\uff0c\u5219\u4e0d\u5141\u8bb8\u76f4\u63a5\u8bbf\u95ee\u91cd\u540d\u6210\u5458\uff0c\u5fc5\u987b\u8981\u6307\u5b9a\u4e2d\u95f4\u6210\u5458</li> </ol>","tags":["golang"]},{"location":"foundation/11.z2.go-gopl/#35","title":"3.5 \u5176\u4ed6","text":"<ol> <li>json</li> <li><code>data,err := json.Marshal(xxx)</code>\uff0cMarshal \u751f\u6210\u4e00\u4e2a\u5b57\u8282 slice\u3002</li> <li><code>json.MarshalIndent()</code>\u53ef\u4ee5\u751f\u6210\u4e00\u4e2a\u683c\u5f0f\u5316\u7684 json \u5b57\u7b26\u4e32\u3002</li> <li><code>err := json.Unmarshal(data,&amp;xxx)</code>\uff0cMarshal \u7684\u9006\u64cd\u4f5c</li> <li>\u7ed3\u6784\u4f53\u53ea\u6709\u5bfc\u51fa\u7684\u6210\u5458\u624d\u80fd\u88ab Marshal\uff0cjson \u5b57\u6bb5\u540d\u79f0\u9ed8\u8ba4\u4e3a\u6210\u5458\u540d\uff08\u533a\u5206\u5927\u5c0f\u5199\uff09</li> <li>\u53ef\u4ee5\u7528\u6210\u5458\u6807\u7b7e\u5b9a\u4e49\u5b57\u6bb5\u540d\uff0c\u4f8b\u5982      <code>golang      type a struct{          Year int `json:\"released\"`      }</code>      \uff08\u6210\u5458\u6807\u7b7e\u7531\u4e00\u7ec4\u7a7a\u683c\u5206\u5272\u7684 key:\"value\"\u7ec4\u6210\uff09</li> <li>\u6a21\u677f\uff08\u5b9e\u73b0\u683c\u5f0f\u548c\u4ee3\u7801\u5f7b\u5e95\u5206\u79bb\uff09</li> <li>\u6a21\u677f\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32</li> <li>\u4e00\u4e2a<code>{{...}}</code>\u79f0\u4e3a\u64cd\u4f5c\uff0c\u53ef\u4ee5\u8f93\u51fa\u503c\u3001\u9009\u62e9\u7ed3\u6784\u4f53\u6210\u5458\u3001\u8c03\u7528\u51fd\u6570\u3001\u63d0\u4f9b\u63a7\u5236\u903b\u8f91\u3001\u5b9e\u4f8b\u5316\u5176\u4ed6\u6a21\u677f\u7b49</li> <li>\u70b9\u53f7<code>'.'</code>\u8868\u793a\u5f53\u524d\u503c\uff0c\u6700\u5f00\u59cb\u8868\u793a\u6a21\u677f\u7684\u8f93\u5165\u53c2\u6570</li> <li><code>'|'</code>\u5c06\u524d\u4e00\u4e2a\u64cd\u4f5c\u7684\u7ed3\u679c\u5f53\u4f5c\u4e0b\u4e00\u4e2a\u64cd\u4f5c\u7684\u8f93\u5165</li> <li>\u5c06\u6a21\u677f\u5b9a\u4e49\u4e3a\u4e00\u4e2a\u5b57\u7b26\u4e32\u6216\u6587\u4ef6\u3001\u521d\u59cb\u5316\u65f6\u89e3\u6790\u6a21\u677f\uff08\u5e76\u6307\u5b9a\u81ea\u5b9a\u4e49\u51fd\u6570\uff09\u3001\u8fd0\u884c\u65f6\u6267\u884c\u6a21\u677f\uff08\u63d0\u4f9b\u8f93\u5165\u8f93\u51fa\uff09</li> <li>html/template \u5305\u4f1a\u81ea\u52a8\u5bf9 html \u5143\u5b57\u7b26\u8f6c\u4e49\uff0ctext/template \u5305\u4e0d\u4f1a\uff0c\u4e00\u5b9a\u8981\u7528\u5bf9\u5305\u3002\uff08\u53ef\u4ee5\u5c06\u8f93\u5165\u6570\u636e\u6307\u5b9a\u4e3a<code>template.HTML</code>\u7c7b\u578b\u4e0d\u8ba9 html/template \u81ea\u52a8\u8f6c\u4e49\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c<code>template.HTML</code>\u7c7b\u578b\u4f1a\u88ab\u770b\u505a\u662f html \u6570\u636e\uff0c\u800c\u4e0d\u662f\u7eaf\u6587\u672c\uff09</li> </ol>","tags":["golang"]},{"location":"foundation/11.z2.go-gopl/#_4","title":"\u56db\u3001\u51fd\u6570","text":"<ol> <li>\u53ef\u4ee5\u5bf9\u51fd\u6570\u8fd4\u56de\u503c\u547d\u540d\uff0c\u6709\u547d\u540d\u7684\u8fd4\u56de\u503c\u53ef\u4ee5\u4e0d\u5199\u5728 return \u8bed\u53e5\u91cc\uff08\u4f46\u662f\u8fd9\u4e48\u505a\u4f1a\u964d\u4f4e\u4ee3\u7801\u53ef\u8bfb\u6027\uff09\u3002</li> <li>\u9519\u8bef\u5904\u7406\u7b56\u7565</li> <li>\u51fa\u9519\u540e\u5e94\u5f53\u80fd\u63d0\u4f9b\u4e00\u4e2a\u9519\u8bef\u94fe</li> <li>\u9519\u8bef\u6d88\u606f\u9996\u5b57\u6bcd\u4e0d\u5e94\u8be5\u88ab\u5927\u5199\uff0c\u800c\u4e14\u5c3d\u91cf\u907f\u514d\u6362\u884c\uff08\u65b9\u4fbf\u4f7f\u7528 grep \u8fd9\u6837\u7684\u5de5\u5177\u627e\u9519\u8bef\uff09- \u91cd\u8bd5 + \u8d85\u65f6</li> <li>\u533f\u540d\u51fd\u6570</li> <li>\u53ef\u4ee5\u7528\u6765\u5b9e\u73b0\u95ed\u5305</li> <li>\u53ef\u4ee5\u5728\u51fd\u6570\u5185\u90e8\u5b9a\u4e49\u51fd\u6570\uff0c\u4f8b\u5982      <code>golang      d := func() int {          var x int          return x * x      }      fmt.Println(d())</code></li> <li>\u5f53\u533f\u540d\u51fd\u6570\u9700\u8981\u9012\u5f52\u65f6\uff0c\u5fc5\u987b\u5148\u6309\u7167\u4e0a\u9762\u8fd9\u6837\u628a\u51fd\u6570\u8d4b\u503c\u7ed9\u4e00\u4e2a\u53d8\u91cf</li> <li>\u6355\u83b7\u53d8\u91cf\u65f6\u8981\u6ce8\u610f\uff0c\u5982\u679c\u6355\u83b7\u7684\u662f\u8fed\u4ee3\u53d8\u91cf\uff0c\u8fed\u4ee3\u53d8\u91cf\u662f\u4f1a\u4e0d\u65ad\u66f4\u65b0\u7684\uff01</li> <li>\u53d8\u957f\u51fd\u6570</li> <li>\u5728\u53c2\u6570\u5217\u8868\u6700\u540e\u7684\u7c7b\u578b\u540d\u79f0\u4e4b\u524d\u4f7f\u7528\u7701\u7565\u53f7<code>\"...\"</code>\uff0c\u4f8b\u5982<code>func sum(vals ... int) int{...}</code></li> <li>\u5982\u4f55\u8c03\u7528\u53d8\u957f\u51fd\u6570\uff1a      <code>golang      sum(1,2,3)      //\u6216      values := []int{1,2,3}      sum(values...)</code></li> <li>\u5ef6\u8fdf\u51fd\u6570\u8c03\u7528\uff0c<code>defer</code></li> <li>panic\uff0cpanic \u53d1\u751f\u65f6\uff0c\u6b63\u5e38\u7a0b\u5e8f\u4f1a\u7ec8\u6b62\u6267\u884c\uff0cgoroutine \u4f1a\u6267\u884c\u6240\u6709 defer \u51fd\u6570\uff0c\u7a0b\u5e8f\u4f1a\u5f02\u5e38\u9000\u51fa\u5e76\u7559\u4e0b\u65e5\u5fd7\u6d88\u606f</li> <li>\u53ef\u4ee5\u624b\u52a8\u89e6\u53d1 panic\uff0c\u4f8b\u5982<code>panic(fmt.Sprint(\"xxx\"))</code></li> <li>defer \u51fd\u6570\u4ee5\u5012\u5e8f\u6267\u884c\uff0c\u4ece\u8c03\u7528\u6808\u6700\u5916\u5c42\u7684\u51fd\u6570\u5f00\u59cb\uff0c\u4e00\u76f4\u5230 main</li> <li>panic \u6d88\u606f\u8f93\u51fa\u5230\u6807\u51c6\u9519\u8bef\u6d41\uff0c\u5305\u542b\u8c03\u7528\u6808\u4fe1\u606f</li> <li>runtime \u5305\u63d0\u4f9b\u4e86\u83b7\u53d6\u8c03\u7528\u6808\u7684\u65b9\u6cd5\uff0c\u4f8b\u5982      <code>golang      var buf [4096]byte      n := runtime.Stack(buf[:],false)      os.Stdout.Write(buf[:n])</code></li> <li>\u4ece panic \u4e2d\u6062\u590d\uff0c\u5982\u679c\u5728\u53d1\u751f panic \u7684\u51fd\u6570\u7684 defer \u8bed\u53e5\u4e2d\u8c03\u7528 recover \u51fd\u6570\uff0cpanic \u53d1\u751f\u65f6\u7a0b\u5e8f\u5c31\u4e0d\u4f1a\u5f02\u5e38\u9000\u51fa\uff0c\u800c\u662f\u5c06 panic \u6d88\u606f\u4f5c\u4e3a recover \u7684\u8fd4\u56de\u503c\uff0c\u5982\u679c\u6ca1\u6709 panic\uff0crecover \u5c31\u8fd4\u56de nil\uff08\u53ef\u4ee5\u5728 defer \u51fd\u6570\u4e2d\u4fee\u6539\u51fd\u6570\u8fd4\u56de\u503c\uff01\uff09\uff0c\u4f8b\u5982      <code>golang      func Parse() err error {          defer func(){              if p := recover(); p!=nil{                  err = fmt.Errorf(\"%v\",p) //\u53ef\u4ee5\u5728recover\u65f6\u4fee\u6539\u51fd\u6570\u8fd4\u56de\u503c              }          }()      }</code></li> <li>\u5904\u7406 panic \u7684\u4e00\u822c\u539f\u5219\u662f\uff0c\u4e0d\u5e94\u8be5\u53bb\u6062\u590d\u4ece\u53e6\u4e00\u4e2a\u5305\u53d1\u751f\u7684 panic\uff0c\u4e5f\u4e0d\u5e94\u8be5\u53bb\u6062\u590d\u4e0d\u662f\u4f60\u7ef4\u62a4\u7684\u4ee3\u7801\u53d1\u751f\u7684 panic</li> <li>\u6709\u9009\u62e9\u6027\u5730\u5904\u7406 panic\uff08\u4f46\u8fd8\u662f\u5f3a\u8c03\uff0c\u9884\u671f\u4e4b\u5185\u7684\u9519\u8bef\u4e0d\u5e94\u8be5\u901a\u8fc7 panic \u6765\u5904\u7406\uff09      <code>golang      type bailout struct{}      ...      panic(bailout{})    //\u5728\u67d0\u4e2a\u5730\u65b9\u53d1\u751f\u4e86panic      ...      defer func() {          switch p := recover(); p {          case nil:              // no panic          case bailout{}:              // \"expected\" panic              err = fmt.Errorf(\"multiple title elements\")          default:              panic(p) // unexpected panic; carry on panicking          }      }()</code></li> </ol>","tags":["golang"]},{"location":"foundation/11.z2.go-gopl/#_5","title":"\u4e94\u3001\u65b9\u6cd5","text":"<ol> <li>\u53ef\u4ee5\u5c06\u4e00\u4e2a\u65b9\u6cd5\u7ed1\u5b9a\u5230\u4e00\u4e2a\u7c7b\u578b\u4e0a\uff0c\u4f8b\u5982<code>func (p Point) Distance(a int) int</code>\uff0c\u53c2\u6570 p \u88ab\u79f0\u4e3a\u65b9\u6cd5\u7684\u63a5\u6536\u8005\u3002</li> <li>go \u53ef\u4ee5\u5c06\u65b9\u6cd5\u7ed1\u5b9a\u5230\u4efb\u4f55\u7c7b\u578b\u4e0a\uff0c\u5305\u62ec\u5207\u7247\u7c7b\u578b\u3001\u751a\u81f3\u662f\u51fd\u6570\u7c7b\u578b\u3002</li> <li>\u63a5\u6536\u8005\u53ef\u4ee5\u662f\u6307\u9488\u7c7b\u578b\uff0c\u4f46\u4e3a\u4e86\u907f\u514d\u6df7\u6dc6\uff0c\u4e0d\u5141\u8bb8\u7ed1\u5b9a\u672c\u8eab\u662f\u6307\u9488\u7c7b\u578b\u7684\u7c7b\u578b\uff0c\u4f8b\u5982    <code>golang    type P *int    func (p P) f(){...}  //\u4e0d\u5141\u8bb8\u8fd9\u6837</code></li> <li>\u63a5\u6536\u8005\u662f\u6307\u9488\u7c7b\u578b\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528\u53d8\u91cf\u672c\u8eab\u8c03\u7528\u65b9\u6cd5\uff0c\u7f16\u8bd1\u5668\u4f1a\u5bf9\u53d8\u91cf\u9690\u5f0f\u8f6c\u6362\u4e3a\u6307\u9488\u3002\u53cd\u8fc7\u6765\u4e5f\u662f\u4e00\u6837\u7684\u3002</li> <li>\u8bbe\u8ba1\u539f\u5219\u662f\uff0c\u540c\u4e00\u4e2a\u7c7b\u578b\u7684\u65b9\u6cd5\uff0c\u63a5\u6536\u8005\u8981\u4e48\u90fd\u662f\u6307\u9488\u7c7b\u578b\uff0c\u8981\u4e48\u90fd\u662f\u503c\u7c7b\u578b</li> <li>\u6ce8\u610f\uff0c\u6307\u9488\u7c7b\u578b\u548c\u5bf9\u5e94\u7684\u975e\u6307\u9488\u7c7b\u578b\u662f\u4e24\u79cd\u7c7b\u578b\uff0c\u53ea\u662f\u5728\u8c03\u65b9\u6cd5\u65f6\u7f16\u8bd1\u5668\u4f1a\u505a\u9690\u5f0f\u8f6c\u6362\u3002</li> <li>nil \u4e5f\u662f\u5408\u6cd5\u7684\u63a5\u6536\u8005\uff08\u4f46\u662f\u8981\u5728\u4ee3\u7801\u4e2d\u5bf9 nil \u505a\u4e13\u95e8\u7684\u5904\u7406\uff09</li> <li>\u7ed3\u6784\u4f53\u5d4c\u5957\u533f\u540d\u7ed3\u6784\u4f53\uff0c\u4f8b\u5982\u4ee5\u4e0b\u5d4c\u5957</li> </ol> <p><code>golang    type Point struct{ X,Y float }    type ColorPoint struct{        Point        Color color.RGBA    }</code></p> <p>\u53ef\u4ee5\u76f4\u63a5\u901a\u8fc7 ColorPoint \u8c03\u7528 Point \u7684\u65b9\u6cd5</p> <ol> <li>\u53ef\u4ee5\u521b\u5efa\u4e00\u4e2a\u65b9\u6cd5\u53d8\u91cf\uff0c\u4e0d\u7528\u63d0\u4f9b\u63a5\u6536\u8005\u5c31\u80fd\u8c03\u65b9\u6cd5\uff0c\u4f8b\u5982</li> </ol> <p><code>golang    dis := p.Distance   //\u65b9\u6cd5\u53d8\u91cf    dis(q)</code></p> <ol> <li>\u53ef\u4ee5\u521b\u5efa\u4e00\u4e2a\u65b9\u6cd5\u8868\u8fbe\u5f0f\uff0c\u8c03\u7528\u65f6\u5c06\u63a5\u6536\u8005\u4f5c\u4e3a\u7b2c\u4e00\u4e2a\u53c2\u6570\uff0c\u4f8b\u5982</li> </ol> <p><code>golang    dis := Point.Distance   //\u65b9\u6cd5\u8868\u8fbe\u5f0f    dis(p, q)</code></p> <ol> <li>fmt \u9ed8\u8ba4\u8c03\u7528 String \u65b9\u6cd5\u8f93\u51fa\u7c7b\u578b\u7684\u503c\uff0c\u56e0\u6b64\uff0c\u5982\u679c\u60f3\u81ea\u5b9a\u4e49\u7c7b\u578b\u7684\u683c\u5f0f\u5316\uff0c\u53ef\u4ee5\u7ed9\u7c7b\u578b\u81ea\u5b9a\u4e49 String \u65b9\u6cd5\uff08\u6ce8\u610f\uff0c\u5fc5\u987b\u662f\u4e3a\u503c\u7c7b\u578b\u5b9a\u4e49 String \u65b9\u6cd5\uff0c\u800c\u4e0d\u662f\u6307\u9488\u7c7b\u578b\uff09</li> <li>go \u5c01\u88c5\u7684\u5355\u5143\u662f\u5305\u800c\u4e0d\u662f\u7c7b\u578b\uff0c\u7ed3\u6784\u4f53\u5185\u7684\u5b57\u6bb5\u4e0d\u7ba1\u5bfc\u6ca1\u5bfc\u51fa\uff0c\u5bf9\u5305\u5185\u7684\u6240\u6709\u4ee3\u7801\u90fd\u662f\u53ef\u89c1\u7684</li> <li>\u6ce8\u610f\uff0c<code>type</code>\u5173\u952e\u5b57\u5e76\u4e0d\u662f\u5b9a\u4e49\u4e86\u4e00\u4e2a\u522b\u540d\uff0c\u800c\u662f\u5b9a\u4e49\u4e86\u4e00\u79cd\u65b0\u7c7b\u578b\uff0c\u4f8b\u5982\uff0c<code>type Newint int</code>\u5b9a\u4e49\u4e86\u4e00\u79cd\u65b0\u7c7b\u578b<code>Newint</code>\uff0c\u7ed1\u5b9a\u5230<code>Newint</code>\u4e0a\u7684\u65b9\u6cd5\u5e76\u4e0d\u4f1a\u7ed1\u5b9a\u5230<code>int</code>\u4e0a</li> </ol>","tags":["golang"]},{"location":"foundation/11.z2.go-gopl/#_6","title":"\u516d\u3001\u63a5\u53e3","text":"<ol> <li>\u63a5\u53e3\u662f\u4e00\u79cd\u62bd\u8c61\u7c7b\u578b\uff0c\u91cc\u9762\u90fd\u662f\u65b9\u6cd5\uff0c\u6ca1\u6709\u6570\u636e\u3002</li> <li>\u7ed3\u6784\u4f53\u4e2d\u53ef\u4ee5\u5d4c\u5957\u4e00\u4e2a\u63a5\u53e3\uff0c\u548c\u5d4c\u5957\u533f\u540d\u7ed3\u6784\u4f53\u7c7b\u4f3c\uff0c\u4e5f\u53ef\u4ee5\u5d4c\u5957\u4e00\u4e2a\u533f\u540d\u63a5\u53e3\uff0c\u53ef\u4ee5\u76f4\u63a5\u8bbf\u95ee\u533f\u540d\u63a5\u53e3\u7684\u65b9\u6cd5\u3002</li> <li>\u63a5\u53e3 A \u5185\u90e8\u53ef\u4ee5\u5d4c\u5957\u63a5\u53e3 B\uff0c\u8fd9\u548c\u628a B \u7684\u65b9\u6cd5\u76f4\u63a5\u5217\u5728 A \u91cc\u662f\u4e00\u6837\u7684\uff0c\u5e76\u4e14\u63a5\u53e3\u4e2d\u65b9\u6cd5\u5b9a\u4e49\u7684\u987a\u5e8f\u4e5f\u65e0\u6240\u8c13\u3002</li> <li>\u5982\u679c\u4e00\u4e2a\u7c7b\u578b\u5b9e\u73b0\u4e86\u4e00\u4e2a\u63a5\u53e3\u7684\u6240\u6709\u65b9\u6cd5\uff0c\u90a3\u4e48\u8fd9\u4e2a\u7c7b\u578b\u5b9e\u73b0\u4e86\u8fd9\u4e2a\u63a5\u53e3\u3002</li> <li>\u5f53\u4e00\u4e2a\u7c7b\u578b\u5b9e\u73b0\u4e86\u63a5\u53e3\u65f6\uff0c\u8be5\u7c7b\u578b\u624d\u80fd\u8d4b\u503c\u7ed9\u63a5\u53e3</li> <li><code>T</code>\u548c<code>*T</code>\u662f\u4e24\u4e2a\u7c7b\u578b\uff0c\u7528<code>T</code>\u5b9e\u73b0\u4e86\u4e00\u4e2a\u63a5\u53e3\uff0c\u5e76\u4e0d\u80fd\u8ba4\u4e3a<code>*T</code>\u4e5f\u5b9e\u73b0\u4e86\u3002</li> <li>\u8c03\u7528\u65b9\u6cd5\u65f6\uff0c\u53ef\u4ee5\u901a\u8fc7\u6307\u9488\u8c03\u7528\u63a5\u6536\u8005\u4e3a\u503c\u7c7b\u578b\u7684\u65b9\u6cd5\uff0c\u53cd\u8fc7\u6765\u4e5f\u4e00\u6837\uff0c\u8fd9\u53ea\u662f\u8bed\u6cd5\u7cd6\u5728\u8d77\u4f5c\u7528\uff08\u6ce8\u610f\u8fd9\u548c\u63a5\u53e3\u65e0\u5173\uff0c\u8fd9\u91cc\u8bf4\u7684\u4e0d\u662f\u901a\u8fc7\u63a5\u53e3\u7c7b\u578b\u8c03\u7528\u65b9\u6cd5\uff09\u3002</li> <li>\u5173\u4e8e\u63a5\u53e3\u5b9e\u73b0\u7684\u7ed3\u8bba\uff0c\u5b9e\u73b0\u4e86\u63a5\u6536\u8005\u662f\u503c\u7c7b\u578b\u7684\u65b9\u6cd5\uff0c\u76f8\u5f53\u4e8e\u81ea\u52a8\u5b9e\u73b0\u4e86\u63a5\u6536\u8005\u662f\u6307\u9488\u7c7b\u578b\u7684\u65b9\u6cd5\uff1b\u800c\u5b9e\u73b0\u4e86\u63a5\u6536\u8005\u662f\u6307\u9488\u7c7b\u578b\u7684\u65b9\u6cd5\uff0c\u4e0d\u4f1a\u81ea\u52a8\u751f\u6210\u5bf9\u5e94\u63a5\u6536\u8005\u662f\u503c\u7c7b\u578b\u7684\u65b9\u6cd5\u3002</li> <li>\u7a7a\u63a5\u53e3\u7c7b\u578b<code>interface{}</code>\u53ef\u4ee5\u7528\u6765\u4ee3\u8868\u4efb\u610f\u7c7b\u578b</li> <li>\u63a5\u53e3\u4f8b\u5b50</li> <li><code>io.writer</code>\u63a5\u53e3\uff0c<code>fmt.Fprintf</code>\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f<code>io.writer</code>\u7c7b\u578b<ul> <li><code>fmt.Printf</code> \u548c <code>fmt.Sprintf</code> \u90fd\u662f\u5bf9 <code>fmt.Fprintf</code> \u7684\u5c01\u88c5\u3002</li> <li><code>fmt.Printf</code>\u63d0\u4f9b\u7684\u662f<code>*os.File</code>\u7c7b\u578b\uff08<code>os.Stdout</code>\uff09\uff0c<code>fmt.Sprintf</code>\u63d0\u4f9b\u7684\u662f<code>*bytes.Buffer</code>\u3002</li> </ul> </li> <li><code>fmt.Stringer</code>\u63a5\u53e3\uff0c\u8fd9\u4e2a\u63a5\u53e3\u6709\u4e00\u4e2a\u65b9\u6cd5<code>String() string</code>\uff0c\u53ef\u4ee5\u8ba9\u4e00\u4e2a\u7c7b\u578b\u81ea\u5b9a\u4e49\u8f93\u51fa\u81ea\u5df1\u7684\u65b9\u6cd5\u3002</li> <li><code>flag.Value</code>\u63a5\u53e3\uff0c\u7528\u4e8e\u8868\u793a\u4e00\u4e2a\u547d\u4ee4\u884c\u53c2\u6570\u7c7b\u578b\uff0c\u540c\u6837\u6709<code>String() string</code>\u65b9\u6cd5\u3002</li> <li><code>sort.Interface</code>\u63a5\u53e3\uff0c\u7528\u4e8e\u6392\u5e8f\u3002</li> <li><code>http.Handler</code>\u63a5\u53e3\uff0c\u4e00\u4e2a<code>http.Handler</code>\u5c31\u662f\u4e00\u4e2a web \u63a5\u53e3\uff0c\u53ef\u4ee5\u7528<code>ServeMux</code>\u5c06\u591a\u4e2a handler \u7ec4\u5408\u8d77\u6765\u3002<ul> <li>web \u670d\u52a1\u5668\u6bcf\u6b21\u90fd\u4f1a\u7528\u4e00\u4e2a\u65b0\u7684 goroutine \u6765\u8c03\u7528\u5904\u7406\u51fd\u6570\uff0c\u56e0\u6b64\u5904\u7406\u51fd\u6570\u8981\u6ce8\u610f\u5e76\u53d1\u95ee\u9898</li> </ul> </li> <li><code>error</code>\u63a5\u53e3\uff0cgo \u9884\u5148\u5b9a\u4e49\u4e86\u4e00\u4e9b\u5b9e\u73b0\u4e86 error \u63a5\u53e3\u7684\u7c7b\u578b\uff0c\u4f8b\u5982<code>*errorString</code>\u3001<code>Errno</code></li> <li>\u5bf9\u4e8e\u4e00\u4e2a\u63a5\u53e3\u53d8\u91cf\u6765\u8bf4\uff0c\u5b83\u6709\u4e24\u4e2a\u7c7b\u578b\uff0c\u9759\u6001\u7c7b\u578b\u548c\u52a8\u6001\u7c7b\u578b\uff0c\u9759\u6001\u7c7b\u578b\u5c31\u662f\u8fd9\u4e2a\u63a5\u53e3\u7c7b\u578b\uff0c\u52a8\u6001\u7c7b\u578b\u662f\u5b83\u7684\u5b9e\u9645\u7c7b\u578b</li> <li>\u63a5\u53e3\u7c7b\u578b\u7684\u96f6\u503c\u662f nil\uff0c\u5bf9\u4e8e\u4e00\u4e2a nil \u63a5\u53e3\uff0c\u5b83\u7684\u52a8\u6001\u7c7b\u578b\u548c\u52a8\u6001\u503c\u90fd\u662f nil\uff0c\u9759\u6001\u7c7b\u578b\u8fd8\u662f\u63a5\u53e3\u7c7b\u578b</li> <li>\u63a5\u53e3\u503c\u53ef\u4ee5\u4f7f\u7528<code>==</code>\u548c<code>!=</code>\u6bd4\u8f83\uff0c\u5f53\u63a5\u53e3\u503c\u52a8\u6001\u7c7b\u578b\u548c\u52a8\u6001\u503c\u90fd\u76f8\u7b49\u65f6\u4e24\u4e2a\u63a5\u53e3\u503c\u76f8\u7b49<ul> <li>\u5982\u679c\u52a8\u6001\u7c7b\u578b\u4e0d\u53ef\u6bd4\u8f83\uff0c\u6bd4\u8f83\u65f6\u4f1a panic</li> </ul> </li> <li>\u6ce8\u610f\u533a\u5206\u63a5\u53e3\u503c\u4e3a nil \u548c\u63a5\u53e3\u52a8\u6001\u503c\u4e3a nil\uff0c\u5bb9\u6613\u5f15\u8d77 bug</li> <li> <p>\u7c7b\u578b\u65ad\u8a00\uff0c<code>x.(T)</code></p> <ul> <li>\u628a\u63a5\u53e3\u503c\u6301\u6709\u7684\u5177\u4f53\u7c7b\u578b T \u7684\u503c\u63d0\u53d6\u51fa\u6765</li> <li>\u6216\u8005\u628a\u63a5\u53e3\u8f6c\u6362\u4e3a\u53e6\u5916\u4e00\u4e2a\u63a5\u53e3\uff0c\u4fdd\u7559\u63a5\u53e3\u7684\u52a8\u6001\u7c7b\u578b\u548c\u52a8\u6001\u503c\uff08\u524d\u63d0\u662f\u52a8\u6001\u7c7b\u578b\u5b9e\u73b0\u4e86\u8981\u8f6c\u6362\u7684\u63a5\u53e3\uff09</li> <li>\u5982\u679c\u63a5\u53e3 A \u662f\u63a5\u53e3 B \u7684\u5b50\u96c6\uff0c\u63a5\u53e3 B \u53ef\u4ee5\u76f4\u63a5\u8d4b\u503c\u7ed9\u63a5\u53e3 A\uff0c\u4e0d\u9700\u8981\u7c7b\u578b\u65ad\u8a00\uff0c\u53cd\u8fc7\u6765\u4e0d\u884c</li> <li>\u64cd\u4f5c\u6570\u4e3a\u7a7a\u63a5\u53e3\u503c\u65f6\u7c7b\u578b\u65ad\u8a00\u5931\u8d25</li> <li>\u53ef\u4ee5\u83b7\u53d6\u7c7b\u578b\u65ad\u8a00\u7684\u7ed3\u679c\uff0c<code>f,ok := x.(T)</code>\uff0c\u7c7b\u578b\u65ad\u8a00\u5931\u8d25\uff0cok \u4e3a false\uff0c\u53ef\u4ee5\u5229\u7528\u8fd9\u4e2a\u6765\u68c0\u67e5\u63a5\u53e3\u662f\u5426\u80fd\u8f6c\u6362\u6210\u4e00\u4e2a\u5177\u4f53\u7c7b\u578b\u6216\u53e6\u5916\u4e00\u4e2a\u63a5\u53e3\u7c7b\u578b</li> <li>\u53ef\u4ee5\u4f7f\u7528\u7c7b\u578b\u5206\u652f\u6765\u7b80\u5316\u4e00\u957f\u4e32\u7c7b\u578b\u65ad\u8a00\uff0c\u4f8b\u5982</li> </ul> <p><code>golang   switch x.(type) {      case nil:      case int:      case bool:      default:   }   //\u6269\u5c55\u5199\u6cd5\uff0c\u5728\u8fd9\u79cd\u5199\u6cd5\u4e2d\uff0cx\u88ab\u8d4b\u4e88\u7684\u662f\u63a5\u53e3\u7684\u52a8\u6001\u503c\u800c\u4e0d\u662f\u7c7b\u578b\uff0c\u53ef\u4ee5\u628a\u8fd9\u4e2a\u503c\u62ff\u5230case\u5757\u4e2d\u53bb\u4f7f\u7528   switch x:=x.(type) {      case nil:      case int:      case bool:      default:   }</code></p> </li> </ol> <p>\u53e6\u5916\uff0c\u5173\u4e8e golang \u4e2d\u7684\u7ec4\u5408</p> <p>\u7ec4\u5408\u662f\u6307\u7ed3\u6784\u4f53\u5d4c\u5957\u7ed3\u6784\u4f53\u3001\u7ed3\u6784\u4f53\u5d4c\u5957\u63a5\u53e3</p> <p>\u8fd9\u91cc\u9762\u503c\u5f97\u6ce8\u610f\u7684\u533f\u540d\u7ed3\u6784\u4f53\u548c\u533f\u540d\u63a5\u53e3\u7684\u7ec4\u5408</p> <p>\u5047\u8bbe\u7ed3\u6784\u4f53 A \u5b9e\u73b0\u4e86\u63a5\u53e3 I\uff0c\u7ed3\u6784\u4f53B\u4e2d\u5d4c\u5957\u4e86\u533f\u540d\u7ed3\u6784\u4f53A\uff0c\u7ed3\u6784\u4f53C\u4e2d\u5d4c\u5957\u4e86\u533f\u540d\u7ed3\u6784I\uff0c\u90a3\u4e48B\u548cC\u90fd\u88ab\u89c6\u4e3a\u5b9e\u73b0\u4e86\u63a5\u53e3I\uff0c\u5e76\u4e14B\u548cC\u90fd\u53ef\u4ee5\u91cd\u5199\u63a5\u53e3\u65b9\u6cd5</p>","tags":["golang"]},{"location":"foundation/11.z2.go-gopl/#_7","title":"\u4e03\u3001\u534f\u7a0b","text":"<p>\u4e3b\u8981\u662f goroutine \u548c channel</p> <ol> <li>\u7a0b\u5e8f\u542f\u52a8\u65f6\u53ea\u6709\u4e00\u4e2a\u534f\u7a0b\uff0c\u5373 main \u51fd\u6570\u6240\u5728\u7684\u534f\u7a0b\uff0c\u79f0\u4e3a\u4e3b\u534f\u7a0b</li> <li>\u542f\u52a8\u4e00\u4e2a\u534f\u7a0b\uff0c<code>go f()</code></li> <li>main \u51fd\u6570\u8fd4\u56de\u65f6\uff0c\u6240\u6709\u534f\u7a0b\u7ec8\u6b62</li> <li>channel \u7528\u4e8e\u534f\u7a0b\u95f4\u901a\u4fe1\u3002channel \u6709\u7c7b\u578b\uff0c\u4f8b\u5982<code>chan int</code>\u662f int \u7c7b\u578b\u7684 channel\u3002\u540c\u79cd\u7c7b\u578b\u7684 channel \u53ef\u4ee5\u4f7f\u7528<code>==</code>\u6bd4\u8f83\uff0c\u8fd9\u65f6\u5982\u679c\u5b83\u4eec\u7684\u5f15\u7528\u76f8\u540c\uff0c\u7ed3\u679c\u4e3a\u771f\uff0c\u5426\u5219\u4e3a\u5047\u3002</li> <li>channel \u64cd\u4f5c</li> <li>\u521b\u5efa channel\uff0c<code>ch := make(chan int)</code></li> <li>\u628a x \u53d1\u9001\u7ed9 channel ch\uff0c<code>ch &lt;- x</code></li> <li>\u4ece channel ch \u4e2d\u63a5\u53d7\u6570\u636e\u5e76\u8d4b\u503c\u7ed9 x\uff0c<code>x := &lt;- ch</code></li> <li>\u63a5\u53d7\u5e76\u4e22\u5f03\u7ed3\u679c\uff0c<code>&lt;- ch</code></li> <li>\u5173\u95ed channel\uff0c<code>close(ch)</code></li> <li>\u521b\u5efa channel \u65f6\u53ef\u4ee5\u6307\u5b9a\u5bb9\u91cf\uff0c\u4f8b\u5982<code>ch := make(chan int,3)</code>\uff0c\u4e0d\u6307\u5b9a\u5bb9\u91cf\u65f6\u5bb9\u91cf\u9ed8\u8ba4\u4e3a 0\uff0c\u521b\u5efa\u51fa\u6765\u7684\u53eb\u65e0\u7f13\u51b2\u901a\u9053</li> <li>\u65e0\u7f13\u51b2\u901a\u9053\u4e0a\u7684\u53d1\u9001\u64cd\u4f5c\u4f1a\u963b\u585e\uff0c\u76f4\u5230\u6d88\u606f\u88ab\u63a5\u6536\uff0c\u53d1\u9001\u534f\u7a0b\u624d\u4f1a\u7ee7\u7eed\u6267\u884c\u3002\u53cd\u8fc7\u6765\uff0c\u63a5\u6536\u64cd\u4f5c\u4e5f\u4f1a\u963b\u585e\uff0c\u76f4\u5230\u6709\u534f\u7a0b\u5411 channel \u53d1\u9001\u4e00\u4e2a\u6d88\u606f</li> <li>\u6362\u53e5\u8bdd\u8bf4\uff0c\u65e0\u7f13\u51b2\u901a\u9053\u4f1a\u5c06\u53d1\u9001\u548c\u63a5\u6536\u534f\u7a0b\u540c\u6b65\u5316\uff0c\u56e0\u6b64\u65e0\u7f13\u51b2\u901a\u9053\u53c8\u79f0\u4e3a\u540c\u6b65\u901a\u9053</li> <li>\u901a\u9053\u88ab\u5173\u95ed\u540e\uff0c\u80fd\u6536\u4e0d\u80fd\u53d1</li> <li>\u5411\u5173\u95ed\u7684\u901a\u9053\u53d1\u6570\u636e\u4f1a panic</li> <li>\u901a\u9053\u88ab\u5173\u95ed\u540e\uff0c\u672a\u63a5\u6536\u5b8c\u7684\u6570\u636e\u4f1a\u88ab\u7ee7\u7eed\u63a5\u6536\uff0c\u7136\u540e\u8fd8\u80fd\u7ee7\u7eed\u63a5\u6536\u6570\u636e\uff0c\u53ea\u4e0d\u8fc7\u63a5\u6536\u5230\u7684\u662f\u96f6\u503c</li> <li><code>x, ok := &lt;- ch</code>\uff0c\u5f53\u901a\u9053\u88ab\u5173\u95ed\u4e14\u6570\u636e\u88ab\u63a5\u53d7\u5b8c\u540e\uff0cok \u7684\u503c\u4e3a false</li> <li>\u4e5f\u53ef\u4ee5\u91c7\u7528\u76f4\u63a5\u5728\u901a\u9053\u4e0a\u8fed\u4ee3\u7684\u5f62\u5f0f\uff0c\u901a\u9053\u5173\u95ed\u5e76\u4e14\u6570\u636e\u5168\u90e8\u63a5\u6536\u5b8c\u540e\u9000\u51fa\u5faa\u73af      <code>golang      for x := range ch {         ...      }</code></li> <li>close \u64cd\u4f5c\u4e0d\u662f\u5fc5\u987b\u7684\uff0c\u53ea\u662f\u4e00\u79cd\u540c\u6b65\u624b\u6bb5\u800c\u5df2\uff08\u4e0d\u50cf\u6587\u4ef6\uff0c\u6253\u5f00\u540e\u4e00\u5b9a\u8981\u5173\u95ed\uff09</li> <li>\u5355\u5411\u901a\u9053\uff0c\u7c7b\u578b<code>chan &lt;- int</code>\u53ea\u80fd\u53d1\u9001\uff0c\u7c7b\u578b<code>&lt;- chan int</code>\u53ea\u80fd\u63a5\u6536</li> <li>\u53ef\u4ee5\u7528\u5728\u51fd\u6570\u53c2\u6570\u7c7b\u578b\u4e0a\uff0c\u8ba9\u53c2\u6570\u7684\u7528\u9014\u66f4\u6e05\u6670</li> <li>\u53cc\u5411\u901a\u9053\u53ef\u4ee5\u8f6c\u6362\u4e3a\u5355\u5411\u7684\uff0c\u53cd\u8fc7\u6765\u4e0d\u884c</li> <li> <p>\u7f13\u51b2\u901a\u9053</p> </li> <li> <p>\u7f13\u51b2\u901a\u9053\u6ee1\u4e86\u4ee5\u540e\uff0c\u53d1\u9001\u64cd\u4f5c\u4f1a\u963b\u585e</p> </li> <li>\u4f7f\u7528 cap \u51fd\u6570\u83b7\u53d6\u901a\u9053\u5bb9\u91cf</li> <li> <p>\u4f7f\u7528 len \u51fd\u6570\u83b7\u53d6\u901a\u9053\u5185\u7684\u6570\u636e\u4e2a\u6570</p> </li> <li> <p><code>sync.WaitGroup</code>\uff0c\u6709\u65f6\u5019\u521b\u5efa\u7684\u534f\u7a0b\u6570\u91cf\u4e0d\u56fa\u5b9a\uff0c\u53ef\u4ee5\u7528\u5b83\u6765\u5bf9\u534f\u7a0b\u8ba1\u6570\uff0c\u5b83\u662f\u5e76\u53d1\u5b89\u5168\u7684\uff0c\u4e0b\u9762\u662f\u4f8b\u5b50</p> <p><code>golang r := make(chan int) var wg sync.WaitGroup //\u4e3b\u534f\u7a0b\uff0c\u4ece\u4e00\u4e2achannel\u83b7\u53d6\u6570\u636e\u5904\u7406\uff0c\u56e0\u6b64\u4e8b\u5148\u4e0d\u77e5\u9053\u5230\u5e95\u8981\u521b\u5efa\u591a\u5c11\u534f\u7a0b for m := range ch {    wg.Add(1) //\u521b\u5efa\u534f\u7a0b\u524d\u8ba1\u6570+1    go func(m string){       defer wg.Done()  //\u5728defer\u4e2d\u5bf9\u8ba1\u6570-1\uff0c\u786e\u4fdd\u4e00\u5b9a\u80fd-1       r &lt;- 1    }(m) } //\u7b49\u5f85\u534f\u7a0b\u7ed3\u675f\u5fc5\u987b\u5355\u72ec\u8d77\u4e00\u4e2a\u534f\u7a0b\uff0c\u5982\u679c\u628a\u7b49\u5f85\u64cd\u4f5c\u653e\u5728\u4e3b\u534f\u7a0b\uff0c\u653e\u5728\u4e0b\u9762\u8fd9\u4e2a\u5faa\u73af\u4e4b\u524d\uff0c\u7531\u4e8echannel r\u662f\u4e00\u4e2a\u65e0\u7f13\u51b2channel\uff0cchannel\u4e2d\u7684\u6570\u636e\u5f97\u4e0d\u5230\u5904\u7406\uff0c\u4f1a\u5bfc\u81f4\u6240\u6709\u534f\u7a0b\u90fd\u7ed3\u675f\u4e0d\u4e86\uff0c\u5982\u679c\u653e\u5728\u5faa\u73af\u540e\u9762\uff0c\u7531\u4e8e\u6ca1\u4eba\u5173\u95edchannel r\uff0c\u5faa\u73af\u7ed3\u675f\u4e0d\u4e86\uff0c\u6240\u4ee5\u6267\u884c\u4e0d\u5230\u7b49\u5f85\u64cd\u4f5c\u3002\uff08\u7531\u4e8e\u6211\u4eec\u4e8b\u5148\u4e0d\u77e5\u9053\u5230\u5e95\u6709\u591a\u5c11\u534f\u7a0b\uff0c\u56e0\u6b64\u4e5f\u6ca1\u529e\u6cd5\u4f7f\u7528\u7f13\u51b2channel\uff09 go func(){    wg.Wait()   //\u7b49\u5f85\u6240\u6709\u534f\u7a0b\u7ed3\u675f    close(r) }() total := 0 //\u7b49r\u88ab\u5173\u95ed\u540e\u624d\u80fd\u7ed3\u675f\u5faa\u73af for i := range r {    total += i }</code></p> </li> <li> <p>\u53ef\u4ee5\u5229\u7528\u7f13\u51b2\u901a\u9053\u9650\u5236\u5e76\u53d1\u6570\uff0c\u4f8b\u5982</p> <p><code>golang //\u8bbe\u5b9a\u5e76\u53d1\u6570\u4e3a20 var tokens = make(chan struct{}, 20) //\u83b7\u53d6\u4e00\u4e2atoken token &lt;- struct{}{} //\u534f\u7a0b\u5904\u7406... //\u5904\u7406\u5b8c\u6210\u540e\u91ca\u653etoken &lt;- token</code></p> </li> <li> <p>select \u591a\u8def\u590d\u7528\uff08\u6ce8\u610f\u4e0d\u662f switch\uff09\uff0c\u5982\u4e0b\u6240\u793a\uff0c\u6bcf\u4e2a case \u6307\u5b9a\u4e00\u6b21\u901a\u9053\u7684\u63a5\u6536\u6216\u53d1\u9001\u64cd\u4f5c\uff0cselect \u4e00\u6b21\u6267\u884c\u4e00\u4e2a case\uff0c\u5982\u679c\u540c\u65f6\u6ee1\u8db3\u591a\u4e2a case\uff0cselect \u968f\u673a\u9009\u62e9\u4e00\u4e2a</p> <p><code>golang select { case &lt;- ch1: case x := &lt;-ch2: case ch3 &lt;- y: default: }</code></p> <p>\u5f53\u6211\u4eec\u4e0d\u60f3\u5728\u4e00\u4e2a\u901a\u9053\u8fd8\u6ca1\u51c6\u5907\u597d\u7684\u60c5\u51b5\u4e0b\u88ab\u963b\u585e\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528 select \u591a\u8def\u590d\u7528</p> </li> <li> <p>nil \u901a\u9053</p> <ul> <li>\u5728 nil \u901a\u9053\u4e0a\u6536\u53d1\u662f\u5408\u6cd5\u7684\uff0c\u53ea\u662f\u4f1a\u6c38\u8fdc\u963b\u585e</li> <li>select \u4e2d\u7684 nil \u901a\u9053\u6c38\u8fdc\u4e0d\u4f1a\u88ab\u9009\u62e9</li> </ul> </li> <li> <p>\u5c0f\u77e5\u8bc6\uff1ago \u4e2d\u7684\u6807\u7b7e\u4e0d\u5149\u53ef\u4ee5\u7528\u4e8e goto \u8bed\u53e5</p> </li> <li> <p>\u53ef\u4ee5\u8ba9 break \u8df3\u51fa\u597d\u51e0\u5c42\uff0c\u4f8b\u5982   <code>golang   loop:      for{         select{         case _,ok := &lt;- ch :            if !ok {               break loop            }         }      }</code></p> </li> <li> <p>continue \u540c\u7406\uff0c\u53ef\u4ee5\u8df3\u51fa\u591a\u5c42</p> </li> <li> <p>\u5173\u95ed\u901a\u9053\u64cd\u4f5c\u53ef\u4ee5\u4f5c\u4e3a\u4e00\u79cd\u5e7f\u64ad\u673a\u5236\uff0c\u521b\u5efa\u4e00\u4e2a\u901a\u9053\uff0c\u4e0d\u5f80\u91cc\u9762\u53d1\u9001\u4efb\u4f55\u6570\u636e\uff0c\u53ea\u8981\u4e00\u5173\u95ed\u901a\u9053\uff0c\u6240\u6709\u76d1\u542c\u8fd9\u4e2a\u901a\u9053\u7684\u534f\u7a0b\u90fd\u4f1a\u63a5\u6536\u5230\u4e00\u4e2a\u96f6\u503c\uff0c\u5b83\u4eec\u5c31\u77e5\u9053\u901a\u9053\u88ab\u5173\u95ed\u4e86</p> </li> <li>goroutine \u8c03\u5f0f\u6280\u5de7\uff0c\u6267\u884c\u4e00\u4e2a panic \u8c03\u7528\uff0c\u8fd0\u884c\u65f6\u5c06\u8f6c\u50a8\u7a0b\u5e8f\u4e2d\u6240\u6709 goroutine \u7684\u6808</li> </ol> <p>\u603b\u7ed3\u4e00\u4e0b\uff0c\u5b9e\u73b0 goroutine \u4e4b\u95f4\u7684\u540c\u6b65\u53ef\u4ee5\u91c7\u7528\u4ee5\u4e0b\u65b9\u5f0f\uff1a</p> <ol> <li>\u4f7f\u7528 channel \u53d1\u9001\u6d88\u606f</li> <li>\u5229\u7528 channel \u5173\u95ed\u5b9e\u73b0\u5e7f\u64ad\u673a\u5236</li> <li>\u5229\u7528 sync.WaitGroup \u5bf9 goroutine \u8ba1\u6570</li> <li>\u5229\u7528\u7f13\u51b2 channel \u5b9e\u73b0\u4e00\u4e2a\u8ba1\u6570\u4fe1\u53f7\u91cf\uff0c\u6765\u9650\u5236\u5e76\u53d1\u6570</li> <li>\u5bb9\u91cf\u4e3a 1 \u7684 channel \u88ab\u79f0\u4e3a\u4e8c\u8fdb\u5236\u4fe1\u53f7\u91cf</li> <li>\u5229\u7528 select \u540c\u65f6\u5904\u7406\u591a\u4e2a\u901a\u9053\u7684\u8bfb\u5199\u64cd\u4f5c</li> </ol>","tags":["golang"]},{"location":"foundation/11.z2.go-gopl/#_8","title":"\u516b\u3001\u5e76\u53d1\u65f6\u5982\u4f55\u5171\u4eab\u53d8\u91cf","text":"<ol> <li>\u7ade\u6001\uff0c\u7ade\u6001\u662f\u6307\u5e76\u53d1\u5bfc\u81f4\u5bf9\u6570\u636e\u7684\u64cd\u4f5c\u51fa\u73b0\u51b2\u7a81\u7684\u60c5\u51b5\u3002</li> <li>\u5982\u4f55\u907f\u514d\u7ade\u6001\uff082\u30013 \u662f\u4e24\u79cd\u91cd\u8981\u65b9\u6848\uff09</li> <li>\u5e76\u53d1\u524d\u628a\u53d8\u91cf\u521d\u59cb\u5316\u597d\uff0c\u5e76\u53d1\u671f\u95f4\u4e0d\u4fee\u6539\u53d8\u91cf</li> <li>\u907f\u514d\u591a\u4e2a goroutine \u8bbf\u95ee\u540c\u4e00\u4e2a\u53d8\u91cf\uff0c\uff08go \u7bb4\u8a00\uff0c\u4e0d\u8981\u901a\u8fc7\u5171\u4eab\u5185\u5b58\u6765\u901a\u4fe1\uff0c\u5e94\u8be5\u901a\u8fc7\u901a\u4fe1\u6765\u5171\u4eab\u5185\u5b58\uff09\u3002\u4e00\u79cd\u65b9\u6cd5\u662f\u8ba9\u4e00\u4e2a goroutine \u4ee3\u7406\u4e00\u4e2a\u5171\u4eab\u53d8\u91cf\u7684\u64cd\u4f5c\uff0c\u5176\u4ed6 goroutine \u901a\u8fc7\u901a\u9053\u6765\u5bf9\u8fd9\u4e2a\u53d8\u91cf\u8fdb\u884c\u64cd\u4f5c\uff0c\u8fd9\u4e2a\u4ee3\u7406 goroutine \u88ab\u79f0\u4f5c\u76d1\u63a7 goroutine\u3002</li> <li>\u4f7f\u7528\u4e92\u65a5\u673a\u5236</li> <li>\u4e92\u65a5\u9501<code>sync.Mutex</code></li> <li>\u6709\u4e00\u79cd\u4ee3\u66ff\u7684\u529e\u6cd5\u662f\u4f7f\u7528\u4e00\u4e2a\u5bb9\u91cf\u4e3a 1 \u7684 channel \u4f5c\u4e3a\u4e8c\u8fdb\u5236\u4fe1\u53f7\u91cf\uff0c\u628a\u5bf9\u5171\u4eab\u53d8\u91cf\u7684\u5e76\u53d1\u8bbf\u95ee\u6570\u9650\u5236\u5230 1</li> <li>mutex \u7684\u7528\u6cd5      <code>golang      var mu sync.Mutex      mu.Lock()      //...\u4e34\u754c\u533a\u57df      mu.UnLock()</code></li> <li>\u4e3a\u4e86\u786e\u4fdd\u91ca\u653e\u9501\uff0cunlock \u64cd\u4f5c\u7ecf\u5e38\u653e\u5728 defer \u91cc</li> <li>\u8bfb\u5199\u9501<code>sync.RWMutex</code>\uff0c\u8bfb\u9501<code>RLock()</code>\u3001<code>RUnlock()</code>\uff0c\u8bfb\u5199\u9501<code>Lock()</code>\u3001<code>Unlock()</code></li> <li>\u5bf9\u4e00\u4e2a\u53d8\u91cf\uff0c\u5982\u679c\u5199\u64cd\u4f5c\u52a0\u4e86\u9501\uff0c\u90a3\u4e48\u8bfb\u64cd\u4f5c\u4e5f\u5e94\u8be5\u52a0\u9501\uff0c\u539f\u56e0\u6709\u4e24\u70b9</li> <li>\u9632\u6b62\u8bfb\u64cd\u4f5c\u63d2\u5165\u5230\u5199\u64cd\u4f5c\u5e8f\u5217\u4e2d</li> <li>\u73b0\u4ee3 cpu \u5404\u4e2a\u6838\u5fc3\u6709\u5404\u81ea\u72ec\u7acb\u7684\u7f13\u5b58\uff0c\u901a\u9053\u901a\u4fe1\u548c\u4e92\u65a5\u91cf\u64cd\u4f5c\u7b49\u540c\u6b65\u539f\u8bed\u4f1a\u5bfc\u81f4\u5904\u7406\u5668\u628a\u79ef\u7d2f\u7684\u5199\u64cd\u4f5c\u5237\u56de\u5230\u5185\u5b58\uff0c\u4fdd\u8bc1\u64cd\u4f5c\u7ed3\u679c\u5bf9\u8fd0\u884c\u5728\u5176\u4ed6\u6838\u5fc3\u7684 goroutine \u53ef\u89c1\u3002\u4f46\u662f\u5982\u679c\u4e0d\u4f7f\u7528\u540c\u6b65\u539f\u8bed\uff0c\u5c31\u6709\u53ef\u80fd\u53d1\u751f\u5171\u4eab\u53d8\u91cf\u5728\u5404\u4e2a\u6838\u5fc3\u4e0a\u7684\u7f13\u5b58\u4e0d\u4e00\u81f4\u7684\u95ee\u9898</li> <li><code>sync.Once</code>\uff0c\u662f\u4e00\u4e2a\u9488\u5bf9\u4e00\u6b21\u6027\u521d\u59cb\u5316\u95ee\u9898\u7684\u89e3\u51b3\u65b9\u6848</li> <li>\u4e00\u6b21\u6027\u521d\u59cb\u5316\u95ee\u9898\uff0c\u5b9e\u9645\u5f00\u53d1\u4e2d\u7ecf\u5e38\u4f1a\u9047\u5230\u8fd9\u6837\u7684\u573a\u666f\uff0c\u8bbf\u95ee\u4e00\u4e2a\u5171\u4eab\u53d8\u91cf\u524d\u8981\u5148\u53bb\u5224\u65ad\u8fd9\u4e2a\u53d8\u91cf\u6709\u6ca1\u6709\u521d\u59cb\u5316\uff0c\u5982\u679c\u6ca1\u6709\uff0c\u8981\u5148\u5c06\u5176\u521d\u59cb\u5316\u7136\u540e\u518d\u8bbf\u95ee\uff0c\u8fd9\u662f\u5e76\u53d1\u4e0d\u5b89\u5168\u7684\uff0c\u7528\u6cd5\uff1a      <code>golang      var loadonce sync.Once      loadonce.Do(initfunc)   //initfunc\u7528\u4e8e\u521d\u59cb\u5316\u53d8\u91cf      //...\u8bbf\u95ee\u64cd\u4f5c</code></li> <li>sync.Once \u5185\u90e8\u5305\u542b\u4e00\u4e2a\u4e92\u65a5\u91cf\u548c\u4e00\u4e2a bool \u53d8\u91cf\uff0cbool \u53d8\u91cf\u7528\u4e8e\u6807\u8bb0\u5171\u4eab\u53d8\u91cf\u662f\u5426\u5df2\u5b8c\u6210\u521d\u59cb\u5316</li> <li>\u7ade\u6001\u68c0\u6d4b\u5668</li> <li>\u7528\u4e8e\u5206\u6790\u7a0b\u5e8f\u662f\u5426\u5b58\u5728\u7ade\u6001</li> <li>\u5728<code>go build</code>\u3001<code>go run</code>\u3001<code>go test</code>\u547d\u4ee4\u540e\u9762\u52a0\u4e0a<code>-race</code>\u53c2\u6570\u5373\u53ef</li> <li>\u7ade\u6001\u68c0\u6d4b\u5668\u4f1a\u8bb0\u5f55\u6240\u6709\u5bf9\u5171\u4eab\u53d8\u91cf\u7684\u8bbf\u95ee\uff0c\u4f1a\u8bb0\u5f55\u6240\u6709\u540c\u6b65\u64cd\u4f5c</li> <li>\u7ade\u6001\u68c0\u6d4b\u5668\u53ea\u80fd\u68c0\u67e5\u51fa\u8fd0\u884c\u65f6\u53d1\u751f\u7684\u7ade\u6001\uff0c\u68c0\u67e5\u4e0d\u51fa\u6765\u6ca1\u53d1\u751f\u7684\u7ade\u6001</li> </ol>","tags":["golang"]},{"location":"foundation/11.z2.go-gopl/#goroutine-os","title":"\u4e5d\u3001goroutine \u548c OS \u7ebf\u7a0b","text":"","tags":["golang"]},{"location":"foundation/11.z2.go-gopl/#91","title":"9.1 \u6808","text":"<p>\u6bcf\u4e2a OS \u7ebf\u7a0b\u90fd\u6709\u4e00\u4e2a\u56fa\u5b9a\u5927\u5c0f\u7684\u6808\u7a7a\u95f4\uff08\u901a\u5e38\u4e3a 2MB\uff09\uff0c\u8fd9\u4e2a\u6808\u7a7a\u95f4\u5bf9 goroutine \u6765\u8bf4\u592a\u5927\u4e86\uff08go \u4e2d\u4e00\u6b21\u521b\u5efa\u5341\u4e07\u4e2a goroutine \u4e5f\u662f\u5e38\u89c1\u7684\uff09\uff0c\u4f46\u662f\u5bf9\u5f88\u591a\u9012\u5f52\u6df1\u5ea6\u6bd4\u8f83\u6df1\u7684\u51fd\u6570\u53c8\u592a\u5c0f\u4e86</p> <p>goroutine \u4e5f\u6709\u6808\uff0c\u4f46\u662f\u5927\u5c0f\u4e0d\u56fa\u5b9a\u3002goroutine \u521a\u521b\u5efa\u51fa\u6765\u65f6\u6808\u5f88\u5c0f\uff08\u5178\u578b\u60c5\u51b5\u53ea\u6709 2KB\uff09\uff0c\u5e76\u4e14\u53ef\u4ee5\u6309\u9700\u6269\u5927\u548c\u7f29\u5c0f\uff0c\u6700\u5927\u9650\u5236\u751a\u81f3\u53ef\u4ee5\u8fbe\u5230 1GB</p>","tags":["golang"]},{"location":"foundation/11.z2.go-gopl/#92","title":"9.2 \u8c03\u5ea6","text":"<p>OS \u7ebf\u7a0b\u7531\u64cd\u4f5c\u7cfb\u7edf\u5185\u6838\u6765\u8c03\u5ea6\uff0c\u7ebf\u7a0b\u5207\u6362\u9700\u8981\u5b8c\u6574\u7684\u4e0a\u4e0b\u6587\u5207\u6362\uff0c\u8fd9\u4e2a\u64cd\u4f5c\u5f88\u8017\u65f6\u3002</p> <p>goroutine \u7531 go runtime \u8c03\u5ea6\uff0cgoroutine \u8fd0\u884c\u5728\u7ebf\u7a0b\u4e0a\uff0c\u662f\u4e00\u79cd m:n \u7684\u8c03\u5ea6\u3002goroutine \u8c03\u5ea6\u5728\u7528\u6237\u6001\u5b8c\u6210\uff0c\u5f00\u9500\u5f88\u5c0f\u3002</p> <p>Go \u8c03\u5ea6\u5668\u4f7f\u7528 GOMAXPROCS \u53c2\u6570\u786e\u5b9a\u9700\u8981\u4f7f\u7528\u591a\u5c11 OS \u7ebf\u7a0b\uff0c\u9ed8\u8ba4\u662f cpu \u6838\u6570</p>","tags":["golang"]},{"location":"foundation/11.z2.go-gopl/#93","title":"9.3 \u6807\u8bc6","text":"<p>\u7ebf\u7a0b\u90fd\u6709\u6807\u8bc6\uff0cgoroutine \u6ca1\u6709\u3002\uff08\u4e0d\u9f13\u52b1 threadlocal \u8fd9\u79cd\u4e1c\u897f\uff09</p>","tags":["golang"]},{"location":"foundation/11.z2.go-gopl/#go","title":"\u5341\u3001\u5305\u548c go \u5de5\u5177","text":"","tags":["golang"]},{"location":"foundation/11.z2.go-gopl/#101-go","title":"10.1 go \u4e3a\u4ec0\u4e48\u7f16\u8bd1\u5feb","text":"<ol> <li>\u6240\u6709\u5305\u4f9d\u8d56\u5fc5\u987b\u5217\u5728\u6587\u4ef6\u5934\u90e8\uff0c\u7f16\u8bd1\u5668\u5206\u6790\u5305\u4f9d\u8d56\u65f6\u4e0d\u9700\u8981\u8bfb\u53d6\u6574\u4e2a\u6587\u4ef6</li> <li>\u6ca1\u6709\u5faa\u73af\u4f9d\u8d56\uff0c\u4f9d\u8d56\u6784\u6210\u4e00\u4e2a\u6709\u5411\u65e0\u73af\u56fe\uff0c\u53ef\u4ee5\u5305\u4e4b\u95f4\u53ef\u4ee5\u5355\u72ec\u7f16\u8bd1\u751a\u81f3\u5e76\u884c\u7f16\u8bd1</li> <li>\u7f16\u8bd1\u51fa\u7684\u76ee\u6807\u6587\u4ef6\u4e0d\u4ec5\u5305\u542b\u5b83\u81ea\u5df1\u7684\u5bfc\u51fa\u4fe1\u606f\uff0c\u8fd8\u5305\u542b\u4f9d\u8d56\u5305\u7684\u5bfc\u51fa\u4fe1\u606f\uff0c\u56e0\u6b64 go \u7f16\u8bd1\u4e00\u4e2a\u5305\u65f6\uff0cgo \u53ea\u9700\u8981\u53bb\u770b\u5bfc\u5165\u4f9d\u8d56\u5bf9\u5e94\u7684\u76ee\u6807\u6587\u4ef6\uff0c\u4e0d\u9700\u8981\u5c42\u5c42\u53bb\u627e\u4f9d\u8d56\u7684\u76ee\u6807\u6587\u4ef6</li> </ol>","tags":["golang"]},{"location":"foundation/11.z2.go-gopl/#102","title":"10.2 \u5305","text":"<ol> <li>\u6bcf\u4e2a\u76ee\u5f55\u4e0b\u9762\u53ea\u80fd\u6709\u4e00\u4e2a\u5305\u3002</li> <li>main \u5305\u4f1a\u544a\u8bc9 go build \u8c03\u7528\u8fde\u63a5\u5668\u751f\u6210\u4e00\u4e2a\u53ef\u6267\u884c\u6587\u4ef6\u3002</li> <li>\u4e00\u4e2a\u76ee\u5f55\u4e0b\u53ef\u4ee5\u6709\u4e00\u4e2a\u989d\u5916\u7684 test \u5305\uff0c\u5305\u540d\u4ee5_test \u7ed3\u5c3e\uff0c\u6587\u4ef6\u540d\u4ee5_test.go \u7ed3\u5c3e\uff0c\u8fd9\u4f1a\u544a\u8bc9 go test \u4e24\u4e2a\u5305\u90fd\u9700\u8981\u6784\u5efa\u3002</li> <li>\u6709\u4e9b\u4f9d\u8d56\u7ba1\u7406\u5de5\u5177\u4f1a\u5728\u5305\u540d\u672b\u5c3e\u52a0\u4e0a\u4e00\u4e2a\u7248\u672c\u540e\u7f00\uff0c\u5b9e\u9645\u7684\u5305\u540d\u4e0d\u5305\u542b\u8fd9\u4e2a\u540e\u7f00\uff0c\u4f8b\u5982<code>xx/xx/yaml.v2</code>\u7684\u5305\u540d\u5e94\u8be5\u662f<code>yaml</code></li> <li>\u91cd\u547d\u540d\u5bfc\u5165\uff0c\u89e3\u51b3\u5305\u540d\u51b2\u7a81</li> <li>\u7a7a\u5bfc\u5165\uff0c\u53ea\u5bfc\u5165\u4f46\u662f\u4e0d\u5f15\u7528\u5305\u4e2d\u7684\u540d\u5b57\uff0c\u4f8b\u5982<code>import _ \"image/png\"</code>\uff08\u6709\u65f6\u5019\u5bfc\u5165\u4ec5\u4ec5\u662f\u4e3a\u4e86\u6267\u884c\u5305\u7684\u521d\u59cb\u5316\uff09</li> <li>\u5305\u7684\u5bfc\u5165\u8def\u5f84\u662f\u76f8\u5bf9\u4e8e<code>$GOPATH/src</code></li> <li>\u5305\u53ef\u4ee5\u81ea\u5b9a\u4e49\u5bfc\u5165\u57df\u540d\uff0c\u9632\u6b62\u56e0\u6258\u7ba1\u7f51\u7ad9\u7684\u53d8\u5316\u5bfc\u81f4\u5bfc\u5165\u8def\u5f84\u53d8\u5316</li> <li>\u5e38\u7528 go \u5de5\u5177</li> <li><code>go env</code></li> <li><code>go get</code></li> <li><code>go build</code>\u3001<code>go install</code></li> <li><code>go doc</code>\u3001<code>godoc</code><ul> <li><code>go doc</code>\u547d\u4ee4\u7528\u4e8e\u67e5\u770b\u5305\u3001\u6210\u5458\u3001\u65b9\u6cd5\u7684\u58f0\u660e\u548c\u6ce8\u91ca</li> <li><code>godoc</code>\u547d\u4ee4\u7528\u4e8e\u5728\u672c\u5730\u542f\u52a8\u4e00\u4e2a\u6587\u6863\u670d\u52a1\u5668\uff0c\u4f8b\u5982<code>godoc -http=localhost:6060</code>\uff0c\u91cc\u9762\u5305\u62ec\u6240\u6709\u6807\u51c6\u5e93\u7684\u5305\u548c\u7528\u6237\u81ea\u5df1\u7684\u5305\uff0c\u9700\u8981\u5355\u72ec\u5b89\u88c5\u8fd9\u4e2a\u547d\u4ee4\u3002</li> </ul> </li> <li><code>go list</code></li> <li>vendor \u76ee\u5f55\uff0c\u7ef4\u62a4\u4f9d\u8d56\u7684\u672c\u5730\u526f\u672c</li> <li>\u5185\u90e8\u5305\uff0c\u4f4d\u4e8e internal \u76ee\u5f55\u4e2d\uff0c\u53ea\u80fd\u88ab internal \u7684\u7236\u76ee\u5f55\u4e0b\u7684\u5305\u5f15\u7528</li> </ol>","tags":["golang"]},{"location":"foundation/11.z2.go-gopl/#_9","title":"\u5341\u4e00\u3001\u6d4b\u8bd5","text":"<p>\u4e00\u4e2a\u5178\u578b\u7684\u6d4b\u8bd5\u547d\u4ee4\uff1a<code>go test -v -run=\"xxx\" xxx_test.go</code>\uff0c<code>-run</code>\u662f\u4e00\u4e2a\u6b63\u5219\u8868\u8fbe\u5f0f\uff0c\u7528\u4e8e\u8fc7\u6ee4\u8981\u6d4b\u8bd5\u7684\u51fd\u6570\u540d\uff0c\u88ab\u6d4b\u8bd5\u5bf9\u8c61\u4e0d\u5149\u53ef\u4ee5\u662f\u4e00\u4e2a\u6587\u4ef6\uff0c\u4e5f\u53ef\u4ee5\u662f\u4e00\u4e2a\u5305\u3002</p>","tags":["golang"]},{"location":"foundation/11.z2.go-gopl/#111","title":"11.1 \u5305\u5185\u6d4b\u8bd5\u548c\u5916\u90e8\u6d4b\u8bd5","text":"<ul> <li>\u5305\u5185\u6d4b\u8bd5\u662f\u6307\u6d4b\u8bd5\u4ee3\u7801\u548c\u4ea7\u54c1\u4ee3\u7801\u7684\u5305\u540d\u4e00\u81f4\uff0c\u5916\u90e8\u6d4b\u8bd5\u662f\u6307\u6d4b\u8bd5\u4ee3\u7801\u5728\u4e00\u4e2a\u5355\u72ec\u7684\u5305\u4e2d\uff0c\u4ee5\u4ea7\u54c1\u5305\u540d\u62fc\u4e0a_test \u4f5c\u4e3a\u5305\u540d</li> <li>\u6709\u65f6\u5019\u4f1a\u5c06\u4ea7\u54c1\u5305\u5185\u7684\u4e00\u4e9b\u65b9\u6cd5\u66b4\u9732\u7ed9\u6d4b\u8bd5\u5305\uff0c\u8fd9\u4e9b\u65b9\u6cd5\u4e00\u822c\u5199\u5728\u4e00\u4e2a\u5355\u72ec\u7684\u5305\u5185\u6d4b\u8bd5\u6587\u4ef6 export_test.go \u4e2d</li> </ul>","tags":["golang"]},{"location":"foundation/11.z2.go-gopl/#112","title":"11.2 \u6d4b\u8bd5\u8986\u76d6\u7387","text":"<ul> <li>\u8457\u540d\u8ba1\u7b97\u673a\u79d1\u5b66\u5bb6 Edsger Dijkstra \u8bf4\uff0c\u201c\u6d4b\u8bd5\u7684\u76ee\u7684\u662f\u53d1\u73b0 bug\uff0c\u800c\u4e0d\u662f\u8bc1\u660e\u5176\u4e0d\u5b58\u5728\u201d</li> <li>\u4f7f\u7528 go tool cover \u67e5\u770b\u8986\u76d6\u5de5\u5177\u7684\u4f7f\u7528\u65b9\u6cd5</li> <li>\u7b80\u5355\u7684\u6d4b\u8bd5\u8986\u76d6\u7387\u547d\u4ee4\uff0c<code>go test -cover</code></li> <li>\u590d\u6742\u7684\u6d4b\u8bd5\u8986\u76d6\u7387\u547d\u4ee4\uff0c<code>go test -coverprofile=c.out -covermode=count</code>\uff0c<code>-coverprofile</code>\u53c2\u6570\u5c06\u8986\u76d6\u7387\u6570\u636e\u8f93\u51fa\u5230\u6587\u4ef6\u4e2d\uff0c<code>-covermode=count</code>\u8868\u793a\u6bcf\u4e2a\u8bed\u53e5\u5757\u7684\u6267\u884c\u6d4b\u8bd5\u5c06\u88ab\u8ba1\u6570</li> <li><code>go tool cover -html=c.out</code>\u547d\u4ee4\u5c06\u751f\u6210\u4e00\u4e2a html \u7248\u7684\u6d4b\u8bd5\u62a5\u544a</li> </ul>","tags":["golang"]},{"location":"foundation/11.z2.go-gopl/#113","title":"11.3 \u5176\u4ed6","text":"<ul> <li>testing \u5305\u8fd8\u53ef\u4ee5\u7528\u6765\u505a\u57fa\u51c6\u6d4b\u8bd5</li> <li>\u6d4b\u8bd5\u51fd\u6570\u524d\u7f00\u662f<code>Benchmark</code>\uff0c\u53c2\u6570\u662f<code>*testing.B</code></li> <li>\u6d4b\u8bd5\u547d\u4ee4<code>go test -bench=xxx</code></li> <li>\u6027\u80fd\u4f18\u5316\u5de5\u5177 pprof</li> <li>\u6d4b\u8bd5\u547d\u4ee4     <code>bash     go test -cpuprofile=cpu.out     go test -blockprofile=block.out     go test -memprofile=mem.out</code></li> <li>\u4e00\u822c\u90fd\u662f\u9488\u5bf9\u57fa\u51c6\u6d4b\u8bd5\u8fdb\u884c\u6027\u80fd\u5206\u6790     <code>bash     go test -run=NONE -bench=xxx -cpuprofile=cpu.out</code></li> <li>\u4f7f\u7528 pprof \u5de5\u5177\u751f\u6210\u6027\u80fd\u5206\u6790\u62a5\u544a     <code>bash     go tool pprof ...\u5404\u79cd\u53c2\u6570 cpu.out</code></li> <li>\u793a\u4f8b\u51fd\u6570\uff0c\u51fd\u6570\u540d\u7684\u683c\u5f0f\u4e3a<code>Example</code>\u62fc\u4e0a\u88ab\u6f14\u793a\u51fd\u6570\u7684\u51fd\u6570\u540d\uff0c\u6ca1\u6709\u53c2\u6570\u548c\u8fd4\u56de\u503c\uff0c</li> <li>\u76ee\u7684\u662f\u4f5c\u4e3a\u6587\u6863\uff0cgodoc \u4f1a\u5c06\u793a\u4f8b\u51fd\u6570\u548c\u51fd\u6570\u5173\u8054\u5230\u4e00\u8d77</li> <li>\u5728\u51fd\u6570\u4f53\u672b\u5c3e\u52a0\u4e0a\u4ee5\u4e0b\u6ce8\u91ca\u53ef\u4ee5\u8ba9 go test \u8fd0\u884c\u793a\u4f8b\u51fd\u6570\u5e76\u68c0\u67e5\u5b9e\u9645\u8f93\u51fa\u548c\u6ce8\u91ca\u4e2d\u7684\u8f93\u51fa\u662f\u5426\u5339\u914d     <code>golang     // Output: \u6216 Unordered Output:     // Ava     // Jess     // [Jess Sarah Zoe]</code></li> </ul>","tags":["golang"]},{"location":"foundation/11.z2.go-gopl/#_10","title":"\u5341\u4e8c\u3001\u53cd\u5c04","text":"<ol> <li><code>reflect.Type</code></li> <li><code>reflect.Type</code>\u662f\u4e00\u4e2a\u63a5\u53e3\u7c7b\u578b\uff0c\u8fd9\u4e2a\u63a5\u53e3\u53ea\u6709\u4e00\u4e2a\u5b9e\u73b0\uff0c\u5373\u7c7b\u578b\u63cf\u8ff0\u7b26\uff0c\u63a5\u53e3\u503c\u4e2d\u7684\u52a8\u6001\u7c7b\u578b\u5c31\u662f\u7c7b\u578b\u63cf\u8ff0\u7b26</li> <li><code>reflect.TypeOf(x)</code>\u8fd4\u56de\u4e00\u4e2a\u7c7b\u578b\u63cf\u8ff0\u7b26\uff0c\u5e76\u4e14\u53ea\u4f1a\u8fd4\u56de\u5177\u4f53\u7c7b\u578b\uff0c\u4e0d\u4f1a\u8fd4\u56de\u63a5\u53e3\u7c7b\u578b</li> <li><code>refect.Value</code></li> <li><code>reflect.ValueOf(x)</code>\u8fd4\u56de\u4e00\u4e2a<code>reflect.Value</code>\u7c7b\u578b\uff0cValueOf \u4ece\u63a5\u53e3\u503c\u4e2d\u63d0\u53d6\u503c\u90e8\u5206\uff0c\u6240\u4ee5\u6c38\u8fdc\u8fd4\u56de\u4e00\u4e2a\u5177\u4f53\u7684\u503c</li> <li><code>reflect.Value.Type()</code>\u65b9\u6cd5\u4f1a\u8fd4\u56de value \u7684\u7c7b\u578b\uff0c\u8fd4\u56de\u503c\u662f<code>reflect.Type</code>\u7c7b\u578b</li> <li><code>reflect.Value.Interface()</code>\u65b9\u6cd5\u5c06\u4e00\u4e2a Value \u7c7b\u578b\u8f6c\u4e3a\u4e00\u4e2a interface{}\u63a5\u53e3\u503c\uff0c\u662f valueof \u7684\u9006\u64cd\u4f5c</li> <li><code>reflect.Value.Kind()</code>\u65b9\u6cd5\u4f1a\u8fd4\u56de\u7c7b\u578b\u5206\u7c7b\uff08\u7c7b\u578b\u5206\u7c7b\u662f<code>reflect.Kind</code>\u7c7b\u578b\uff0c\u5176\u5b9e\u662f\u4e2a uint \u7c7b\u578b\uff0c\u5176\u96f6\u503c\u662f reflect.Invalid\uff09</li> <li>\u4f7f\u7528\u53cd\u5c04\u7684\u4f8b\u5b50\u53ef\u4ee5\u53c2\u8003<code>gopl.io/ch12/format</code>\u548c<code>gopl.io/ch12/display</code></li> <li>\u975e\u5bfc\u51fa\u5b57\u6bb5\u5728\u53cd\u5c04\u4e0b\u4e5f\u662f\u53ef\u89c1\u7684</li> <li>\u63a5\u53e3\u7c7b\u578b\u7684\u503c\u53ef\u4ee5\u901a\u8fc7\u4ece\u5176\u4ed6 Value \u7c7b\u578b\u503c\u95f4\u63a5\u83b7\u5f97</li> <li>\u4f7f\u7528<code>reflect.Value</code>\u8bbe\u7f6e\u503c    <code>golang    x := 2    //\u83b7\u53d6\u4e00\u4e2a\u53ef\u5bfb\u5740\u7684x    d := reflect.ValueOf(&amp;x).Elem()    //\u65b9\u6cd51\uff0c\u901a\u8fc7\u6307\u9488\u4fee\u6539x\u7684\u503c    px := d.Addr().Interface().(*int)    *px = 3    //\u65b9\u6cd52\uff0c\u901a\u8fc7set\u65b9\u6cd5\u4fee\u6539d    d.Set(reflect.ValueOf(4))</code></li> <li>\u5728\u4e0d\u53ef\u5bfb\u5740\u7684 reflect.Value \u4e0a\u8c03\u7528 Set \u4f1a\u5d29\u6e83<ul> <li>\uff08\u5728\u6307\u5411 interface{}\u7684 reflect.Value \u4e0a\u8c03\u7528 SetInt \u7b49\u7279\u5316 Set \u65b9\u6cd5\u65f6\u4f1a\u5d29\u6e83\uff09</li> </ul> </li> <li>\u4e0d\u80fd\u66f4\u65b0\u7ed3\u6784\u4f53\u672a\u5bfc\u51fa\u5b57\u6bb5\u7684\u503c</li> <li><code>reflect.Value.CanAddr()</code>\u65b9\u6cd5\u5224\u65ad\u53d8\u91cf\u662f\u5426\u53ef\u5bfb\u5740</li> <li><code>reflect.Value.CanSet()</code>\u65b9\u6cd5\u5224\u65ad\u53d8\u91cf\u662f\u5426\u53ef\u5bfb\u5740\u4e14\u53ef\u4fee\u6539</li> <li>\u53ef\u4ee5\u901a\u8fc7<code>reflect.Type.Field</code>\u65b9\u6cd5\u83b7\u53d6\u7ed3\u6784\u4f53\u5b57\u6bb5\u540d\u548c tag</li> <li>\u53ef\u4ee5\u901a\u8fc7<code>reflect.Type.Method</code>\u65b9\u6cd5\u83b7\u53d6\u7c7b\u578b\u7684\u65b9\u6cd5\uff0c\u4f46\u662f\u53ea\u63cf\u8ff0\u65b9\u6cd5\u540d\u548c\u7c7b\u578b</li> <li>\u4e5f\u53ef\u4ee5\u901a\u8fc7<code>reflect.Value.Method</code>\u65b9\u6cd5\u83b7\u53d6\u5230\u7ed1\u5b9a\u4e86\u63a5\u6536\u8005\u7684\u65b9\u6cd5\uff0c\u4f46\u662f\u53ea\u63cf\u8ff0\u65b9\u6cd5\u540d\u548c\u7c7b\u578b\uff0c\u53ef\u4ee5\u7528<code>reflect.Value.Call</code>\u8c03\u7528\u51fd\u6570</li> <li> <p>\u614e\u7528\u53cd\u5c04</p> </li> <li> <p>\u53cd\u5c04\u4e2d\u5b58\u5728\u7684\u7c7b\u578b\u9519\u8bef\u662f\u7f16\u8bd1\u65f6\u68c0\u67e5\u4e0d\u51fa\u6765\u7684\uff0c\u53ea\u80fd\u5728\u8fd0\u884c\u65f6\u4ee5\u5d29\u6e83\u7684\u65b9\u5f0f\u62a5\u544a</p> </li> <li>\u53cd\u5c04\u4f1a\u9020\u6210\u4ee3\u7801\u7684\u53ef\u8bfb\u6027\u964d\u4f4e</li> <li>\u53cd\u5c04\u6162</li> </ol>","tags":["golang"]},{"location":"foundation/11.z2.go-gopl/#_11","title":"\u5341\u4e09\u3001\u4f4e\u7ea7\u7f16\u7a0b","text":"<p>\u672c\u7ae0\u4e3b\u8981\u4ecb\u7ecd unsafe \u5305\u548c cgo \u5de5\u5177</p> <p>unsafe \u662f\u63d0\u4f9b\u4e86\u5bf9 go \u5185\u7f6e\u7279\u6027\u7684\u8bbf\u95ee\uff0c\u8fd9\u4e9b\u7279\u6027\u4e0d\u5b89\u5168\uff0c\u56e0\u4e3a\u4ed6\u4eec\u66b4\u9732\u4e86 go \u7684\u5185\u5b58\u5e03\u5c40\u3002unsafe \u5e7f\u6cdb\u7528\u5728\u548c\u64cd\u4f5c\u7cfb\u7edf\u4ea4\u4e92\u7684\u5e95\u5c42\u5305\u4e2d\uff08runtime\u3001os\u3001syscall\u3001net\uff09</p> <p>cgo \u5de5\u5177\u7528\u6765\u8c03\u7528 c \u7a0b\u5e8f</p>","tags":["golang"]},{"location":"foundation/50.php-install-configuration/","title":"php\u5b89\u88c5\u548c\u914d\u7f6e","text":"","tags":["php","\u540e\u7aef"]},{"location":"foundation/50.php-install-configuration/#_1","title":"\u6982\u5ff5","text":"<ul> <li> <p>FastCGI\uff1a\u662f\u4e00\u4e2a\u5728HTTP\u670d\u52a1\u5668\u548c\u52a8\u6001\u811a\u672c\u8bed\u8a00\u95f4\u901a\u4fe1\u7684\u63a5\u53e3\u3002\u5b83\u80fd\u591f\u628a\u52a8\u6001\u8bed\u8a00\u548cHTTP\u670d\u52a1\u5668\u5206\u79bb\u5f00\u3002\u76ee\u524d\u4e3b\u6d41\u7684HTTP\u670d\u52a1\u5668\u90fd\u652f\u6301FastCGI\uff0c\u5305\u62ecApache\u3001Nginx\u548cLightpd\u7b49\u3002FastCGI\u4e5f\u88ab\u5f88\u591a\u811a\u672c\u8bed\u8a00\u652f\u6301\uff0c\u4f8b\u5982PHP\u3002\u6709\u4e86FastCGI\uff0cNginx\u5c31\u53ef\u4ee5\u4e13\u6ce8\u4e8e\u5904\u7406\u9759\u6001\u8bf7\u6c42\uff0c\u5c06\u52a8\u6001\u8bf7\u6c42\u901a\u901a\u8f6c\u53d1\u5230\u540e\u7aef\u7684\u52a8\u6001\u8bed\u8a00\u670d\u52a1\u5668\u4e0a\u3002FastCGI\u76d1\u542c\u7684\u65b9\u5f0f\u6709\u4e24\u79cd\uff0c\u4e00\u79cd\u662f\u901a\u8fc7TCP\uff0c\u4e00\u79cd\u662f\u901a\u8fc7socket\u6587\u4ef6\uff08.sock\u6587\u4ef6\uff09</p> </li> <li> <p>php-fpm\uff1aphp-fpm\u662fFastCGI\u7684\u4e00\u4e2a\u5b9e\u73b0\uff0c\u63d0\u4f9b\u4e86\u8fdb\u7a0b\u7ba1\u7406\u7684\u529f\u80fd\u3002\u8fdb\u7a0b\u5305\u62ecmaster\u8fdb\u7a0b\u548cworker\u8fdb\u7a0b\u4e24\u79cd\u3002master\u8fdb\u7a0b\u53ea\u6709\u4e00\u4e2a\uff0c\u8d1f\u8d23\u76d1\u542c\u7aef\u53e3\uff0c\u63a5\u53d7\u6765\u81eaHTTP\u670d\u52a1\u5668\u7684\u8bf7\u6c42\uff1bworker\u8fdb\u7a0b\u6709\u591a\u4e2a\uff0c\u6bcf\u4e2a\u8fdb\u7a0b\u5185\u90e8\u90fd\u6709\u4e00\u4e2aphp\u89e3\u91ca\u5668\u3002</p> </li> </ul>","tags":["php","\u540e\u7aef"]},{"location":"foundation/50.php-install-configuration/#linux","title":"linux\u73af\u5883\u4e0b\u7f16\u8bd1\u5b89\u88c5","text":"<pre><code># \u51c6\u5907\u7f16\u8bd1\u73af\u5883\uff08centos\uff09\nyum install -y libxml2 libxml2-devel sqlite-devel bzip2 bzip2-devel libcurl libcurl-devel libpng libpng-devel libwebp-devel libjpeg libjpeg-devel freetype freetype-devel gmp-devel libxslt libxslt-devel\n# \u51c6\u5907\u7f16\u8bd1\u73af\u5883\uff08debian\uff09\nsudo apt-get install -y pkg-config libxml2 libxml2-dev libsqlite3-dev libbz2-dev libcurl4-openssl-dev libpng-dev libwebp-dev libjpeg-dev libfreetype6-dev libgmp-dev libxslt-dev libonig-dev\n# \u4e0b\u8f7d\uff0c-c\u9009\u9879\u7528\u4e8e\u65ad\u70b9\u7eed\u4f20\nwget [-c] https://www.php.net/distributions/php-7.4.10.tar.gz\ntar -zxf php-7.4.10.tar.gz\n# \u914d\u7f6e\n\uff08./configure --help\uff09\n./configure \\\n--prefix=$HOME/web/php-74 \\\n--enable-fpm \\\n--with-fpm-user=swj \\\n--with-fpm-group=swj \\\n--with-openssl \\\n--with-zlib \\\n--enable-bcmath \\\n--with-bz2 \\\n--enable-calendar \\\n--with-curl \\\n--enable-ftp \\\n--enable-gd \\\n--with-webp \\\n--with-jpeg \\\n--with-freetype \\\n--with-gettext \\\n--with-gmp \\\n--with-mhash \\\n--with-mysqli \\\n--with-pdo-mysql \\\n--enable-soap \\\n--enable-sockets \\\n--with-xmlrpc \\\n--enable-mysqlnd \\\n--with-xsl \\\n--enable-mbstring\n</code></pre> <pre><code>make\nmake install\ncd ../php-74\n# \u5c06\u6e90\u7801\u76ee\u5f55\u4e0b\u7684php.ini-production\u62f7\u8d1d\u5230\u5b89\u88c5\u76ee\u5f55\u4e0b\u6539\u540d\u4e3aphp.ini\ncp ../php-7.4.10/php.ini-production php.ini\n\n# \u5c06etc/php-fpm.conf.default\u62f7\u8d1d\u4e00\u4efd\u547d\u540d\u4e3aphp-fpm.conf\ncp etc/php-fpm.conf.default etc/php-fpm.conf\n\n# etc/php-fpm.d\u76ee\u5f55\u4e0b\u7684www.conf\u4e5f\u8981\u62f7\u8d1d\u4e00\u4efd\ncp etc/php-fpm.d/www.conf.default etc/php-fpm.d/www.conf\n\n# \u4fee\u6539\u6587\u4ef6\u201c/etc/php-fpm.d/www.conf\u201d\n# ;\u5c06\u8fd9\u91cc\u7684\u7528\u6237\u548c\u7528\u6237\u7ec4\u4fee\u6539\u4e3a\u81ea\u5df1\u7684\u7528\u6237/\u7ec4\n# user = php-fpm\n# group = php-fpm\n\n\n# \u542f\u52a8php-fpm\nsudo sbin/php-fpm\n# \u5173\u95edphp-fpm\nsudo pkill php-fpm\n</code></pre>","tags":["php","\u540e\u7aef"]},{"location":"foundation/50.php-install-configuration/#yum","title":"yum\u5b89\u88c5","text":"<pre><code># \u5b89\u88c5epel\nyum install epel-release -y\n\nrpm -ivh https://mirrors.tuna.tsinghua.edu.cn/remi/enterprise/remi-release-7.rpm\n\nsudo yum-config-manager --enable remi-php74\n\nsudo yum install -y php  php-cli php-fpm php-mysqlnd php-zip php-devel php-gd php-mcrypt php-mbstring php-curl php-xml php-pear php-bcmath php-json php-pdo php-xmlrpc\n\n# \u542f\u52a8\u3001\u505c\u6b62\u3001\u91cd\u542f\u3001\u5f00\u673a\u542f\u52a8\nsystemctl start|stop|restart|enable php-fpm\n</code></pre>","tags":["php","\u540e\u7aef"]},{"location":"foundation/50.php-install-configuration/#_2","title":"\u914d\u7f6e\u6587\u4ef6\u4f4d\u7f6e","text":"<pre><code>/etc/php-fpm.d/www.conf\n</code></pre>","tags":["php","\u540e\u7aef"]},{"location":"foundation/50.php-install-configuration/#_3","title":"\u5e38\u89c1\u95ee\u9898","text":"<ul> <li>File not found</li> </ul> <p>\u95ee\u9898\u63cf\u8ff0\uff1a</p> <ul> <li>\u9875\u9762\u4e0a\u663e\u793a\u201cFile not found.\u201d\uff1b</li> <li>nginx\u7684error.log\u91cc\u8f93\u51fa\u201cFastCGI sent in stderr: \"Primary script unknown\" while reading response header from upstream\u201d\u3002</li> </ul> <p>\u53ef\u80fd\u7684\u539f\u56e0\uff1a</p> <ol> <li>url\u5199\u9519\u4e86\u3001nginx.conf\u91ccroot\u5199\u9519\u4e86\u3001root\u4e0b\u6ca1\u6709\u8fd9\u4e2a\u6587\u4ef6\uff1b</li> <li>nginx\u7684php\u914d\u7f6e\u793a\u4f8b\u4e2d\u6709\u4e00\u9879\u662f\u8fd9\u6837\u7684\uff1a<code>fastcgi_param  SCRIPT_FILENAME  /script$fastcgi_script_name;</code>\uff0c\u628a<code>/script</code>\u6539\u6210<code>$document_root</code></li> <li> <p>php-fpm\u7684\u7528\u6237/\u7528\u6237\u7ec4\u4e0d\u5bf9\u5bfc\u81f4\u6ca1\u6709\u76ee\u5f55\u6216\u6587\u4ef6\u7684\u8bbf\u95ee\u6743\u9650\u3002</p> <ul> <li>\u67e5\u770bphp-fpm\u7684\u7528\u6237\u662f\u5426\u662f\u5f53\u524d\u7528\u6237\uff0c<code>$ ps aux | grep php-fpm</code>\uff0c\u53d1\u73b0\u662f\u9ed8\u8ba4\u7684php-fpm\u7528\u6237\uff0c\u4e0d\u662f\u6211\u7684\u4e2a\u4eba\u7528\u6237\u3002</li> <li>\u4fee\u6539\u6587\u4ef6\u201c/etc/php-fpm.d/www.conf\u201d</li> </ul> <p><code>conf   ;\u5c06\u8fd9\u91cc\u7684\u7528\u6237\u548c\u7528\u6237\u7ec4\u4fee\u6539\u4e3a\u81ea\u5df1\u7684\u7528\u6237/\u7ec4   user = php-fpm   group = php-fpm</code></p> </li> <li> <p>php.ini\u4e2d\u7684\u914d\u7f6e\u9879<code>cgi.fix_pathinfo</code>\u7684\u503c\u4e3a0\u548c1\u65f6\u4f1a\u5bf9\u4e00\u4e9bphp\u6846\u67b6\u7684\u529f\u80fd\u4ea7\u751f\u8f83\u5927\u5f71\u54cd</p> </li> <li> <p>PATHINFO     &gt; \u5e38\u5e38\u4f1a\u89c1\u5230\u8fd9\u79cd\u683c\u5f0f\u7684Url\uff1a<code>https://blog.jjonline.cn/index.php/Article/Post/index.html</code>\uff0c\u8fd9\u79cdUrl\u7406\u89e3\u6709\u4e24\u79cd\u65b9\u5f0f\uff1a     &gt;     &gt; index.php\u5f53\u505a\u4e00\u4e2a\u76ee\u5f55\u770b\u5f85\uff1a\u8bbf\u95eeblog.jjonline.cn\u670d\u52a1\u5668\u6839\u76ee\u5f55\u4e0b\u7684index.php\u76ee\u5f55\u4e0b\u7684Article\u76ee\u5f55\u4e0b\u7684Post\u76ee\u5f55\u4e0b\u7684index.html\u9759\u6001html\u6587\u672c\u6587\u4ef6     &gt;     &gt;index.php\u5f53\u505a\u4e00\u4e2aPHP\u811a\u672c\u770b\u5f85\uff1a\u8bbf\u95eeblog.jjonline.cn\u670d\u52a1\u5668\u6839\u76ee\u5f55\u4e0b\u7684index.php\u811a\u672c\uff0c\u7531\u8be5\u811a\u672c\u4ea7\u751fhtml\u9875\u9762\uff0cUrl\u4e2d/Article/Post/index.html\u8fd9\u4e00\u90e8\u5206\u4f5c\u4e3aindex.php\u811a\u672c\u4e2d\u4f7f\u7528\u7684\u67d0\u79cd\u7c7b\u578b\u7684\u53c2\u6570\u3002     &gt;     &gt;\u7edd\u5927\u90e8\u5206\u60c5\u51b5\u4e0b\uff0c\u5bf9\u8fd9\u79cdUrl\u7684\u7406\u89e3\u65b9\u5f0f\u662f\u7b2c\u4e8c\u79cd\uff0c/Article/Post/index.html\u88ab\u89c6\u4e3aPATHINFO\uff0c\u5373index.php\u7684\u4f20\u53c2\u8f7d\u4f53\u3002PATHINFO\u662fCGI 1.1\u7684\u4e00\u4e2a\u6807\u51c6\u3002     &gt;     &gt;\u53c2\u8003https://blog.jjonline.cn/linux/218.html</p> <p>\u6709\u4e24\u79cd\u89e3\u6790PATHINFO\u7684\u65b9\u6cd5\uff1a - php\u8d1f\u8d23\u89e3\u6790\uff1a php.ini\u4e2d\u6709\u4e00\u4e2a\u914d\u7f6e\u9879<code>cgi.fix_pathinfo</code>\uff0c\u5f53\u8fd9\u9879\u914d\u7f6e\u88ab\u7f6e\u4e3a<code>cgi.fix_pathinfo = 1</code>\u65f6\uff0c\u89e3\u6790\u529f\u80fd\u751f\u6548\u3002 - nginx\u8d1f\u8d23\u89e3\u6790\uff1a \u4f7f\u7528<code>fastcgi_split_path_info</code>\u547d\u4ee4 - \u4ee5\u524dphp\u7684\u8fd9\u4e2a\u529f\u80fd\u6709\u6f0f\u6d1e\uff0c\u4f8b\u5982\u50cfa.jpg/b.php\u8fd9\u6837\u7684uri\u4f1a\u88ab\u89e3\u6790\u6210a.jpg+b.php\uff0c\u5373\u811a\u672c\u540d\u662fa.jpg\uff0cPATHINFO\u662fb.php\uff0c\u8fd9\u53ef\u80fd\u4f1a\u5bfc\u81f4a.jpg\u7684\u5185\u5bb9\u88abphp\u8fd4\u56de\u3002\u73b0\u5728\u5df2\u7ecf\u4e0d\u5b58\u5728\u8fd9\u4e2a\u6f0f\u6d1e\u4e86\uff0cphp-fpm\u7684\u914d\u7f6e\u6587\u4ef6www.conf\u4e2d\u6709\u4e00\u4e2a\u914d\u7f6e\u9879\uff0c<code>security.limit_extensions = .php .php3 .php4 .php5 .php7</code>\uff0c\u89c4\u5b9a\u4e86\u54ea\u4e9b\u7c7b\u578b\u7684\u6587\u4ef6\u4f1a\u88abphp-fpm\u653e\u884c\uff0c\u5176\u4ed6\u6587\u4ef6\u4f1a\u88ab\u62d2\u7edd\u3002 - \u4e2a\u4eba\u611f\u89c9\u8fd8\u662f\u7531nginx\u6765\u89e3\u6790PATHINFO\u6bd4\u8f83\u597d\uff0c\u56e0\u4e3anginx\u53ef\u4ee5\u6839\u636eurl\u548cserver\u6765\u51b3\u5b9a\u662f\u5426\u9700\u8981\u89e3\u6790PATHINFO\uff0c\u6bd4\u8f83\u7075\u6d3b\u3002</p> </li> </ol>","tags":["php","\u540e\u7aef"]},{"location":"foundation/72.clrs/","title":"\u300a\u7b97\u6cd5\u5bfc\u8bba\u7b2c3\u7248\u300b\u9605\u8bfb\u7b14\u8bb0","text":"<p>\u7b97\u6cd5\u5bfc\u8bba\u7684\u82f1\u6587\u5168\u79f0\u662f Introduction to Algorithms\uff0c\u4f5c\u8005\u662fThomas H. Cormen\u3001Charles E. Leiserson\u3001Ronald L. Rivest\u548cClifford Stein\u3002\u8be5\u4e66\u88ab\u5e7f\u6cdb\u8ba4\u4e3a\u662f\u8ba1\u7b97\u673a\u79d1\u5b66\u9886\u57df\u7684\u7ecf\u5178\u6559\u6750\u4e4b\u4e00\uff0c\u6db5\u76d6\u4e86\u7b97\u6cd5\u8bbe\u8ba1\u548c\u5206\u6790\u7684\u57fa\u672c\u6982\u5ff5\u548c\u6280\u672f\u3002</p> <p>\u8fd9\u672c\u4e66\u7b80\u79f0 CLRS\uff0c\u662f Cormen, Leiserson, Rivest, Stein \u56db\u4eba\u7684\u540d\u5b57\u9996\u5b57\u6bcd\u7f29\u5199\u3002</p>","tags":["\u7b97\u6cd5"]},{"location":"foundation/72.clrs/#1","title":"\u7b2c1\u7ae0 \u7b97\u6cd5\u5728\u8ba1\u7b97\u4e2d\u7684\u4f5c\u7528","text":"<p>\u7565</p>","tags":["\u7b97\u6cd5"]},{"location":"foundation/72.clrs/#2","title":"\u7b2c2\u7ae0 \u7b97\u6cd5\u7684\u57fa\u7840","text":"<p>\u4ecb\u7ecd\u4e86\u63d2\u5165\u6392\u5e8f\u3002</p> <p>\u4ecb\u7ecd\u4e86\u7b97\u6cd5\u5206\u6790\u65b9\u6cd5\uff0c\u7b97\u6cd5\u5206\u6790\u8981\u8003\u8651\u8f93\u5165\u89c4\u6a21\uff0c\u8fd0\u884c\u65f6\u95f4\uff0c\u6700\u574f\u60c5\u51b5\u548c\u5e73\u5747\u60c5\u51b5\u7684\u8fd0\u884c\u65f6\u95f4\uff0c\u8fd0\u884c\u65f6\u95f4\u7684\u589e\u91cf\u91cf\u7ea7\u3002</p> <p>\u7136\u540e\u5bf9\u63d2\u5165\u6392\u5e8f\u8fdb\u884c\u4e86\u7b97\u6cd5\u5206\u6790\u3002</p> <p>2.2\u8282\u7684\u7ec3\u4e60\u63d0\u5230\u4e86\u9009\u62e9\u6392\u5e8f\u7b97\u6cd5\u3002</p> <p>\u63a5\u7740\u4ecb\u7ecd\u4e86\u5206\u6cbb\u6cd5\u548c\u57fa\u4e8e\u5206\u6cbb\u6cd5\u7684\u5f52\u5e76\u6392\u5e8f\uff0c\u5f52\u5e76\u6392\u5e8f\u4e2d\u4f7f\u7528\u4e86\u9012\u5f52\uff0c\u8fd9\u91cc\u7ed9\u51fa\u4e86\u9012\u5f52\u65b9\u7a0b/\u9012\u5f52\u5f0f\u7684\u6982\u5ff5\u3002</p> <p>2.3\u8282\u7684\u7ec3\u4e60\u548c\u601d\u8003\u9898\u63d0\u5230\u4e86\u4e8c\u5206\u67e5\u627e\u7b97\u6cd5\u548c\u5192\u6ce1\u6392\u5e8f\u7b97\u6cd5\u3002</p> <p>\u601d\u8003\u98982-3\u8282\u4ecb\u7ecd\u4e86\u970d\u7eb3\u89c4\u5219\u3002</p>","tags":["\u7b97\u6cd5"]},{"location":"foundation/72.clrs/#_1","title":"\u970d\u7eb3\u89c4\u5219","text":"<p>\u970d\u7eb3\u89c4\u5219\uff08Horner's Rule\uff09\u662f\u4e00\u79cd\u9ad8\u6548\u6c42\u89e3\u591a\u9879\u5f0f\u503c\u7684\u7b97\u6cd5\u3002\u5b83\u901a\u8fc7\u5c06\u591a\u9879\u5f0f\u91cd\u5199\u4e3a\u5d4c\u5957\u7684\u5f62\u5f0f\uff0c\u51cf\u5c11\u4e86\u4e58\u6cd5\u548c\u52a0\u6cd5\u7684\u6b21\u6570\uff0c\u4ece\u800c\u63d0\u9ad8\u4e86\u8ba1\u7b97\u6548\u7387\u3002</p> <p>\u5177\u4f53\u6765\u8bf4\uff0c\u7ed9\u5b9a\u4e00\u4e2a\u591a\u9879\u5f0f\uff1a</p> \\[P(x) = \\sum_{k=0}^n a_kx^k\\] <p>\u5229\u7528\u970d\u7eb3\u89c4\u5219\uff0c\u53ef\u4ee5\u5c06\u5176\u91cd\u5199\u4e3a\uff1a</p> \\[P(x) = \\sum_{k=0}^n a_kx^k =  a_0 + x(a_1 + x(a_2 + ... + x(a_{n-1} + xa_n)...))\\] <p>\u8fd9\u79cd\u91cd\u5199\u5f62\u5f0f\u4f7f\u5f97\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u4e00\u6b21\u904d\u5386\u6765\u8ba1\u7b97\u591a\u9879\u5f0f\u7684\u503c\uff0c\u800c\u4e0d\u9700\u8981\u8fdb\u884c\u5f88\u591a\u6b21\u91cd\u590d\u7684\u5e42\u8fd0\u7b97\u64cd\u4f5c\u3002</p>","tags":["\u7b97\u6cd5"]},{"location":"foundation/72.clrs/#_2","title":"\u970d\u7eb3\u89c4\u5219\u7684\u4f2a\u4ee3\u7801\u5b9e\u73b0","text":"<pre><code>y = 0\nfor i from n to 0:\n    y = a[i] + x * y\n</code></pre>","tags":["\u7b97\u6cd5"]},{"location":"foundation/73.asemblly-wangshuang/","title":"\u300a\u6c47\u7f16\u8bed\u8a00\u7b2c4\u7248\uff08\u738b\u723d\uff09\u300b\u9605\u8bfb\u7b14\u8bb0","text":"<p>\u672c\u4e66\u6240\u8bb2\u5185\u5bb9\uff0c\u90fd\u57fa\u4e8e8086 cpu\u67b6\u6784</p>","tags":["\u6c47\u7f16"]},{"location":"foundation/73.asemblly-wangshuang/#_1","title":"\u4e00\u3001\u57fa\u7840\u77e5\u8bc6","text":"<p>\u6c47\u7f16\u6307\u4ee4\u662f\u673a\u5668\u6307\u4ee4\u4fbf\u4e8e\u8bb0\u5fc6\u7684\u4e66\u5199\u683c\u5f0f</p> <p>\u6c47\u7f16\u8bed\u8a00\u6709\u4e09\u7c7b\u7b26\u53f7\uff1a</p> <ol> <li>\u6c47\u7f16\u6307\u4ee4</li> <li>\u4f2a\u6307\u4ee4\uff0c\u6ca1\u6709\u5bf9\u5e94\u7684\u673a\u5668\u7801\uff0c\u7531\u7f16\u8bd1\u5668\u8bc6\u522b\uff0c\u5728\u7f16\u8bd1\u671f\u8ba1\u7b97</li> <li>\u7b26\u53f7</li> </ol> <p>CPU\u548c\u5185\u5b58\u4e4b\u95f4\u5b58\u5728\u4e09\u7c7b\u603b\u7ebf\uff1a\u5730\u5740\u7ebf\uff0c\u6570\u636e\u7ebf\u548c\u63a7\u5236\u7ebf</p> <p>\u5b57\uff08word\uff09\u548c\u5b57\u8282\uff08byte\uff09</p> <p>\u4e00\u4e2a\u5b57\u7531\u4e24\u4e2a\u5b57\u8282\u7ec4\u6210\uff0c\u517116\u4f4d\uff0c\u4e00\u4e2a\u5b57\u5206\u4e3a\u9ad8\u4f4d\u5b57\u8282\u548c\u4f4e\u4f4d\u5b57\u8282</p>","tags":["\u6c47\u7f16"]},{"location":"foundation/73.asemblly-wangshuang/#_2","title":"\u4e8c\u3001\u5bc4\u5b58\u5668","text":"<p>8086CPU\u670914\u4e2a\u5bc4\u5b58\u5668\uff0c\u8fd9\u4e9b\u5bc4\u5b58\u5668\u662f\uff1aAX\u3001BX\u3001CX\u3001DX\u3001SI\u3001DI\u3001SP\u3001BP\u3001IP\u3001CS\u3001SS\u3001DS\u3001ES\u3001PSW\uff0c\u8fd9\u4e9b\u5bc4\u5b58\u5668\u5206\u4e3a\uff1a</p> <ol> <li>4\u4e2a\u901a\u7528\u5bc4\u5b58\u5668\uff1aAX\u3001BX\u3001CX\u3001DX</li> <li>4\u4e2a\u6bb5\u5bc4\u5b58\u5668\uff1aCS\u3001DS\u3001SS\u3001ES</li> <li>\u6307\u9488\u5bc4\u5b58\u5668\uff1aSP\u3001BP\u3001SI\u3001DI</li> </ol>","tags":["\u6c47\u7f16"]},{"location":"foundation/73.asemblly-wangshuang/#_3","title":"\u901a\u7528\u5bc4\u5b58\u5668","text":"<p>8086 cpu\u7684\u901a\u7528\u5bc4\u5b58\u5668\u67094\u4e2a\uff0c\u6bcf\u4e2a\u5bc4\u5b58\u566816\u4f4d</p> <p>\u4e00\u4e2a\u901a\u7528\u5bc4\u5b58\u5668\u53ef\u4ee5\u5206\u4e3a\u4e24\u4e2a8\u4f4d\u5bc4\u5b58\u5668\u6765\u4f7f\u7528\uff0c\u9ad8\u4f4d\u90e8\u5206\u7528<code>H</code>\u540e\u7f00\u8868\u793a\uff0c\u4f4e\u4f4d\u90e8\u5206\u7528<code>L</code>\u540e\u7f00\u8868\u793a\u3002\u4f8b\u5982\uff0cAX\u53ef\u4ee5\u5206\u4e3aAH\u548cAL</p>","tags":["\u6c47\u7f16"]},{"location":"foundation/73.asemblly-wangshuang/#_4","title":"\u51e0\u6761\u57fa\u672c\u6c47\u7f16\u6307\u4ee4","text":"<pre><code>MOV AX, 18 ; \u5c0618\u5b58\u5165AX\u5bc4\u5b58\u5668\nADD AX, 2  ; \u5c062\u52a0\u5230AX\u5bc4\u5b58\u5668\n\nMOV BX, AX ; \u5c06AX\u5bc4\u5b58\u5668\u7684\u503c\u590d\u5236\u5230BX\u5bc4\u5b58\u5668\nMOV AL, BL ; \u5c06BX\u5bc4\u5b58\u5668\u7684\u4f4e\u4f4d\u5b57\u8282\u590d\u5236\u5230AX\u5bc4\u5b58\u5668\u7684\u4f4e\u4f4d\u5b57\u8282\n</code></pre>","tags":["\u6c47\u7f16"]},{"location":"foundation/73.asemblly-wangshuang/#_5","title":"\u6bb5\u7684\u6982\u5ff5","text":"<p>\u6bb5\u5730\u5740 + \u504f\u79fb\u5730\u5740 = \u7269\u7406\u5730\u5740</p> <p>\u4e3a\u4ec0\u4e48\u9700\u8981\u4e24\u7ea7\u5730\u5740\uff1f\u8fd9\u8ddf8086 cpu\u7684\u5904\u7406\u80fd\u529b\u6709\u5173\uff0c8086 CPU\u7684\u5730\u5740\u7ebf\u670920\u6839\uff0c\u4f46\u5bc4\u5b58\u5668\u53ea\u670916\u4f4d\uff0c\u4e0d\u5f97\u4e0d\u91c7\u7528\u4e24\u7ea7\u5730\u5740\u62fc\u63a5\u7684\u65b9\u5f0f\u6765\u8bbf\u95ee\u5185\u5b58\u3002</p>","tags":["\u6c47\u7f16"]},{"location":"foundation/73.asemblly-wangshuang/#_6","title":"\u6bb5\u5bc4\u5b58\u5668","text":"<p>\u6bb5\u5bc4\u5b58\u5668\u7528\u4e8e\u5b58\u50a8\u5185\u5b58\u7684\u6bb5\u5730\u5740\uff0c8086 CPU\u67094\u4e2a\u6bb5\u5bc4\u5b58\u5668\uff1aCS\u3001DS\u3001SS\u3001ES</p>","tags":["\u6c47\u7f16"]},{"location":"foundation/73.asemblly-wangshuang/#csip","title":"CS\u548cIP","text":"<p>CS\uff08\u4ee3\u7801\u6bb5\u5bc4\u5b58\u5668\uff09\u548cIP\uff08\u6307\u4ee4\u6307\u9488\u5bc4\u5b58\u5668\uff09\u5408\u8d77\u6765\u5c31\u662fCPU\u5f53\u524d\u6267\u884c\u7684\u6307\u4ee4\u5730\u5740\u3002</p>","tags":["\u6c47\u7f16"]},{"location":"foundation/73.asemblly-wangshuang/#csipjmp","title":"\u4fee\u6539CS\u3001IP\u7684jmp\u6307\u4ee4","text":"<p><code>jmp \u6bb5\u5730\u5740:\u504f\u79fb\u5730\u5740</code></p> <p>\u6307\u4ee4\u4e2d\u7ed9\u51fa\u7684\u6bb5\u5730\u5740\u4fee\u6539CS\u5bc4\u5b58\u5668\u7684\u503c\uff0c\u504f\u79fb\u5730\u5740\u4fee\u6539IP\u5bc4\u5b58\u5668\u7684\u503c</p> <p><code>jmp \u67d0\u4e00\u5bc4\u5b58\u5668</code></p> <p>\u4ec5\u4fee\u6539IP\u5bc4\u5b58\u5668\u7684\u503c</p>","tags":["\u6c47\u7f16"]},{"location":"foundation/73.asemblly-wangshuang/#_7","title":"\u4e09\u3001\u5185\u5b58\u8bbf\u95ee","text":"<p>\u6570\u636e\u7684\u8bbf\u95ee\u4e5f\u9075\u5faa\u6bb5\u5730\u5740+\u504f\u79fb\u5730\u5740\u7684\u65b9\u5f0f</p> <p>DS\u5bc4\u5b58\u5668\u5b58\u50a8\u6570\u636e\u7684\u6bb5\u5730\u5740</p> <p>\u4ee5\u4e0b\u4ee3\u7801\u5c06\u5185\u5b58\u5730\u574010000H(1000:0)\u4e2d\u7684\u6570\u636e\u8bfb\u53d6\u5230\u5bc4\u5b58\u5668al\u4e2d</p> <pre><code>mov bx, 1000H\nmov ds, bx\nmov al, [0]\n</code></pre> <p>\u6570\u636e\u7684\u6bb5\u5730\u5740\u5b58\u653e\u5728ds\u5bc4\u5b58\u5668\u4e2d\uff0c\u5f80al\u4e2d\u5b58\u653e\u6570\u636e\u65f6\u53ea\u9700\u8981\u63d0\u4f9b\u504f\u79fb\u5730\u5740<code>[0]</code>\u5373\u53ef</p> <p><code>[address]</code>\u8868\u793a\u5185\u5b58\u504f\u79fb\u5730\u5740</p> <p>\u4e0a\u9762\u7684\u4f8b\u5b50\u53ea\u4ece\u5185\u5b58\u4e2d\u8bfb\u53d6\u4e86\u4e00\u4e2a\u5b57\u8282\uff0c\u5982\u679cmov\u6307\u4ee4\u4e2d\u7ed9\u5b9a\u7684\u662f16\u4f4d\u5bc4\u5b58\u5668\uff0c\u5219\u4f1a\u4ece\u5185\u5b58\u4e2d\u8bfb\u53d6\u4e00\u4e2a16\u4f4d\u7684\u5b57</p> <p>sub\u6307\u4ee4\u7528\u4e8e\u51cf\u6cd5\uff0c\u4f8b\u5982\uff1a</p> <pre><code>SUB AX, 1 ; \u5c06AX\u5bc4\u5b58\u5668\u7684\u503c\u51cf1\nSUB BX, AX ; \u7528BX\u5bc4\u5b58\u5668\u7684\u503c\u51cf\u53bbAX\u5bc4\u5b58\u5668\u7684\u503c\uff0c\u7ed3\u679c\u5b58\u56deBX\n</code></pre>","tags":["\u6c47\u7f16"]},{"location":"foundation/73.asemblly-wangshuang/#cpu","title":"CPU\u7684\u6808\u673a\u5236","text":"<p>\u6808\u4f1a\u5360\u7528\u4e00\u6bb5\u5185\u5b58\u5730\u5740</p> <p>\u5165\u6808\u51fa\u6808\u6307\u4ee4</p> <pre><code>push ax ; \u5c06ax\u7684\u6570\u636e\u5165\u6808\npop ax; \u5c06\u6808\u9876\u6570\u636e\u8bfb\u5165ax\u4e2d\n</code></pre> <p>\u6808\u9876\u5730\u5740\u5b58\u50a8\u5728\u6bb5\u5bc4\u5b58\u5668SS\u548c\u6808\u9876\u6307\u9488\u5bc4\u5b58\u5668SP\u4e2d\uff0c\u4e5f\u662f\u6bb5\u5730\u5740+\u504f\u79fb\u5730\u5740\u7684\u5f62\u5f0f</p> <p>\u6808\u5e95\u5730\u5740\u5927\uff0c\u6808\u9876\u5730\u5740\u5c0f\uff0c\u6240\u4ee5push\u4f1a\u4f7fSP\u53d8\u5c0f\uff0cpop\u4f1a\u4f7fSP\u53d8\u5927</p> <p>\u5982\u4f55\u5c06\u67d0\u4e00\u90e8\u5206\u5185\u5b58\u6307\u5b9a\u4e3a\u6808\u5185\u5b58\u5462\uff1f\u5f88\u7b80\u5355\uff0c\u5c06SS\u548cSP\u8bbe\u7f6e\u4e3a\u6808\u5e95\u5730\u5740\u5373\u53ef</p>","tags":["\u6c47\u7f16"]},{"location":"foundation/73.asemblly-wangshuang/#_8","title":"\u56db\u3001\u4e00\u4e2a\u6c47\u7f16\u7a0b\u5e8f","text":"","tags":["\u6c47\u7f16"]},{"location":"foundation/73.asemblly-wangshuang/#_9","title":"\u4f2a\u6307\u4ee4","text":"<p>\u4f2a\u6307\u4ee4\u7531\u7f16\u8bd1\u5668\u5206\u6790\u6267\u884c\uff0c\u800c\u4e0d\u662f\u7531CPU\u6267\u884c</p> <p>\u4ee3\u7801\u6bb5\u5b9a\u4e49</p> <pre><code>codesg segment; \u4ee3\u7801\u6bb5\u7684\u540d\u5b57\u4f4dcodesg\n...\ncosesg ends\n</code></pre> <p>\u6c47\u7f16\u7ed3\u675f</p> <pre><code>... \nend\n</code></pre> <p>assume\u6307\u4ee4\u80fd\u591f\u5c06\u6bb5\u5bc4\u5b58\u5668\u548c\u67d0\u4e00\u4e2a\u4ee3\u7801\u6bb5\u5173\u8054\u8d77\u6765</p>","tags":["\u6c47\u7f16"]},{"location":"foundation/73.asemblly-wangshuang/#_10","title":"\u7a0b\u5e8f","text":"<p>\u6c47\u7f16\u4ee3\u7801\u4e2d\u771f\u6b63\u88abCPU\u6267\u884c\u7684\u90e8\u5206</p>","tags":["\u6c47\u7f16"]},{"location":"foundation/73.asemblly-wangshuang/#_11","title":"\u6807\u53f7","text":"<p>\u7531\u7a0b\u5e8f\u5458\u81ea\u5b9a\u4e49\u7684\u540d\u5b57</p>","tags":["\u6c47\u7f16"]},{"location":"foundation/73.asemblly-wangshuang/#_12","title":"\u7a0b\u5e8f\u8fd4\u56de","text":"<pre><code>mov ax, 4c00h\nint 21h\n</code></pre>","tags":["\u6c47\u7f16"]},{"location":"foundation/73.asemblly-wangshuang/#bxloop","title":"\u4e94\u3001<code>[BX]</code>\u548cloop\u6307\u4ee4","text":"<p><code>[bx]</code>\u4e5f\u8868\u793a\u5185\u5b58\u5355\u5143\uff0c\u5b83\u7684\u5730\u5740\u5b58\u653e\u5728bx\u5bc4\u5b58\u5668\u4e2d</p> <p>loop\u4ee3\u8868\u5faa\u73af\uff0c\u5199\u6cd5\u5982\u4e0b</p> <pre><code>mov cx, \u5faa\u73af\u6b21\u6570\ns:\n    \u5faa\u73af\u6267\u884c\u7684\u7a0b\u5e8f\u6bb5\n    loop s ; \u5faa\u73af\u5230s\u6807\u53f7\u5904\n</code></pre> <p>loop\u9700\u8981\u548c\u5bc4\u5b58\u5668cx\u914d\u5408\uff0c\u6bcf\u6b21\u6267\u884cloop\u6307\u4ee4\uff0ccx\u5bc4\u5b58\u5668\u7684\u503c\u4f1a\u51cf1\uff0c\u5f53cx\u4e3a0\u65f6\uff0cloop\u6307\u4ee4\u4e0d\u518d\u8df3\u8f6c</p> <p>s\u662f\u4e00\u4e2a\u6807\u53f7\uff0cloop\u6307\u4ee4\u4f1a\u8df3\u8f6c\u5230s\u5904</p> <p>\u4ec0\u4e48\u65f6\u5019\u4f1a\u7528\u5230\u7c7b\u4f3c<code>[bx]</code>\u8fd9\u79cd\u7528\u6cd5\u5462\uff1f\u5982\u679c\u8981\u5728loop\u4e2d\u4f7f\u7528\u5185\u5b58\u8bbf\u95ee\uff0c\u800c\u5185\u5b58\u5730\u5740\u4e0d\u65ad\u5728\u53d8\u5316\u7684\u65f6\u5019</p> <p><code>inc</code>\u662f\u589e\u52a01\u7684\u6307\u4ee4</p> <p>\u8bbf\u5b58\u65f6\u53ef\u4ee5\u663e\u5f0f\u7ed9\u51fa\u6bb5\u5730\u5740\u548c\u504f\u79fb\u5730\u5740\uff0c\u4f8b\u5982<code>ds:[0]</code>\uff0c\u5176\u4e2d<code>ds</code>\u53eb\u6bb5\u524d\u7f00</p>","tags":["\u6c47\u7f16"]},{"location":"foundation/73.asemblly-wangshuang/#_13","title":"\u516d\u3001\u5305\u542b\u591a\u4e2a\u6bb5\u7684\u7a0b\u5e8f","text":"","tags":["\u6c47\u7f16"]},{"location":"foundation/73.asemblly-wangshuang/#_14","title":"\u5728\u4ee3\u7801\u6bb5\u4e2d\u4f7f\u7528\u6570\u636e","text":"<pre><code>assume cs : code\n\ncode segment\n\ndw 0123h, 0456h, 0789h, 0abch, 0defh, 0fedh, 0cbah, 0987h;\u5728\u4ee3\u7801\u4e2d\u5b9a\u4e49\u5b57\u578b\u6570\u636e\n\nmov bx, 0\nmov ax, 0\n\nmov cx, 8\ns:add ax, cs: [bx]bx;   \u8bbf\u95ee\u4ee3\u7801\u6bb5\u4e2d\u7684\u6570\u636e\nadd bx, 2\nloop s\n\nmov ax, 4c00h\nint 21h\n\ncode ends\n\nend\n</code></pre> <p>dw \u4f5c\u7528\u662f\u5b9a\u4e49\u5b57\u578b\u6570\u636e\uff0cdw \u5373 define word\uff0c\u5176\u5b9e\u5c31\u662f\u628a\u6570\u636e\u786c\u7f16\u7801\u5230\u4ee3\u7801\u4e2d\uff0c\u8fd9\u6837\u8fd9\u4e9b\u6570\u636e\u5c31\u4f1a\u88ab\u7f16\u8bd1\u5668\u653e\u5230\u4ee3\u7801\u6bb5\u4e2d\uff0c\u53ef\u4ee5\u7528\u4ee3\u7801\u6bb5\u5bc4\u5b58\u5668CS\u52a0\u4e0a\u6570\u636e\u5728\u4ee3\u7801\u4e2d\u7684\u504f\u79fb\u91cf\u5373\u53ef\u8bbf\u95ee\u5230\u6570\u636e</p> <p>end\u6307\u4ee4\u53ef\u4ee5\u7528\u6765\u6307\u5b9a\u7a0b\u5e8f\u7684\u5165\u53e3\u4f4d\u7f6e\uff0c\u4e0b\u9762\u7684\u7a0b\u5e8f\u7528start\u6307\u5b9a\u7a0b\u5e8f\u7684\u5165\u53e3\u5730\u5740\uff0c\u7f16\u8bd1\u5668\u4f1a\u5c06start\u5730\u5740\u5b58\u50a8\u5728\u53ef\u6267\u884c\u6587\u4ef6\u4e2d\uff0c\u5f53\u7a0b\u5e8f\u52a0\u8f7d\u5230\u5185\u5b58\u4e2d\u51c6\u5907\u6267\u884c\u65f6\uff0c\u5c06CS:IP\u8bbe\u7f6e\u4e3astart\u7684\u5730\u5740\uff0c\u7a0b\u5e8f\u5c31\u4f1a\u4ece\u6211\u4eec\u671f\u671b\u4f4d\u7f6e\u5f00\u59cb\u6267\u884c</p> <pre><code>assume cs:code\n\ncode segment\n\ndw 0123h, 0456h, 0789h, 0abch, 0defh, 0fedh, 0cbah, 0987h\n\nstart:  mov bx, 0\n        mov ax, 0\n\n        mov cx, 8\n    s:  add ax, cs: [bx]\n        add bx, 2\n        loop s\n\nmov ax, 4c00h\nint 21h\n\ncode ends\n\nend start\n</code></pre> <p>\u56e0\u6b64\uff0c\u6211\u4eec\u53ef\u4ee5\u8fd9\u4e48\u5b89\u6392\u7a0b\u5e8f\u7684\u6846\u67b6</p> <pre><code>assume cs:code\n\ncode segment\n\n\u6570\u636e\n...\n\nstart:\n\n\u4ee3\u7801\n...\n\ncode ends\n\nend start\n</code></pre>","tags":["\u6c47\u7f16"]},{"location":"foundation/73.asemblly-wangshuang/#_15","title":"\u5728\u4ee3\u7801\u6bb5\u4e2d\u4f7f\u7528\u6808","text":"<p>\u53ef\u4ee5\u4f7f\u7528\u548c\u4e0a\u9762\u7c7b\u4f3c\u7684\u65b9\u6cd5\uff0c\u5b9a\u4e49\u4e00\u4e2a\u6808\u7a7a\u95f4\u51fa\u6765</p> <pre><code>assume cs : codesg\n\ncodesg segment\n\ndw 0123h, 0456h, 0789h, 0abch, 0defh, 0fedh, 0cbah, 0987h\n\ndw 0,0,0,0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0\n;\u7528dw\u5b9a\u4e4916\u4e2a\u5b57\u578b\u6570\u636e,\u4f5c\u4e3a\u6808\n\nstart: mov ax, cs\n        mov ss, ax\n        mov sp, 30h     ;\u5c06\u6808\u5e95\u5730\u5740\u8bbe\u7f6e\u4e3a30h\n\n        mov bx, 0\n        mov cx, 8\n    s:  push cs: [bx]\n        add bx, 2\n        loop s\n\n        mov bx, 0\n        mov cx, 8\n    s0: pop cs: [bx]\n        add bx, 2\n        loop s0\n\n        mov ax, 4c00h\n        int 21h\n\n        codesg ends\n\nend start\n</code></pre>","tags":["\u6c47\u7f16"]},{"location":"foundation/73.asemblly-wangshuang/#_16","title":"\u5c06\u6570\u636e\u3001\u4ee3\u7801\u3001\u6808\u653e\u5728\u4e0d\u540c\u7684\u6bb5\u4e2d","text":"<p>\u201c\u7a0b\u5e8f\u7684\u5185\u5b58\u5e03\u5c40\u5206\u4e3a\u4ee3\u7801\u533a\uff0c\u6570\u636e\u533a\uff0c\u6808\u533a\u548c\u5806\u533a\u201d\u662f\u4e00\u4e2a\u7ecf\u5178\u9762\u8bd5\u95ee\u9898\uff0c\u4e3a\u4ec0\u4e48\u7a0b\u5e8f\u7684\u5185\u5b58\u5e03\u5c40\u57fa\u672c\u90fd\u9075\u5faa\u8fd9\u4e2a\u7ed3\u6784\uff1f\u8fd9\u4e00\u8282\u4ece\u6c47\u7f16\u7684\u89d2\u5ea6\u89e3\u91ca\u4e86\u8fd9\u4e2a\u95ee\u9898</p> <p>cpu\u4e2d\u6709\u4e09\u7c7b\u5206\u522b\u6307\u5411\u4ee3\u7801\u3001\u6808\u548c\u6570\u636e\u7684\u5bc4\u5b58\u5668\uff0c\u6307\u4ee4\u5bc4\u5b58\u5668<code>CS:IP</code>\u3001\u6808\u9876\u6307\u9488\u5bc4\u5b58\u5668<code>SS:SP</code>\uff0c\u548c\u6570\u636e\u6bb5\u5bc4\u5b58\u5668<code>DS:[BX]</code>\uff0c\u8fd9\u4e48\u7ec4\u7ec7\u7a0b\u5e8f\u5185\u5b58\u5e03\u5c40\u5929\u7136\u7b26\u5408CPU\u7684\u8bbe\u8ba1</p> <p>\u4e3a\u4ec0\u4e48\u7ebf\u7a0b\u6808\u7684\u5730\u5740\u662f\u4ece\u5927\u5230\u5c0f\u589e\u957f\u7684\uff1f\u56e0\u4e3acpu\u7684push\u548cpop\u6307\u4ee4\u5c31\u662f\u8fd9\u4e48\u8bbe\u8ba1\u7684\uff0cpush\u6307\u4ee4\u4f1a\u4f7f\u6808\u9876\u6307\u9488\u5bc4\u5b58\u5668SP\u51cf\u5c0f\uff0cpop\u6307\u4ee4\u4f1a\u4f7fSP\u589e\u5927\uff0c\u6240\u4ee5\u521d\u59cb\u6808\u9876\uff08\u4e5f\u5c31\u662f\u6808\u5e95\uff09\u5fc5\u987b\u6307\u5411\u9ad8\u5730\u5740</p> <p>\u4ee5\u4e0b\u662f\u4e00\u4e2a\u4f8b\u5b50\uff0c\u5c06\u6570\u636e\u3001\u4ee3\u7801\u548c\u6808\u653e\u5728\u4e0d\u540c\u7684\u6bb5\u4e2d\uff0c\u5e76\u7528\u5404\u6bb5\u7684\u8d77\u59cb\u5730\u5740\u4e3aDS\u3001SS:SP\u5bc4\u5b58\u5668\u8d4b\u521d\u503c\uff0cCS:IP\u7531\u7f16\u8bd1\u5668\u6839\u636e\u7a0b\u5e8f\u5165\u53e3\u70b9start\u7684\u4f4d\u7f6e\u8bbe\u7f6e\u5730\u5740</p> <pre><code>assume cs: code, ds: data, ss: stack\n\ndata segment\n\ndw 0123h, 0456h, 0789h, 0abch, 0defh, 0fedh, 0cbah, 0987h\n\ndata ends   ;\u6570\u636e\u6bb5\u7ed3\u675f\n\nstack segment\n\ndw 0,0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0\n\nstack ends  ;\u6808\u6bb5\u7ed3\u675f\n\ncode segment\n\nstart:  mov ax, stack\n        mov ss, ax  \n        mov sp, 20h ;\u8bbe\u7f6e\u6808\u9876ss:sp\u6307\u5411stack:20\n\n        mov ax, data\n        mov ds, ax  ;ds \u6307\u5411data\u6bb5\n\n        mov bx, 0   ;ds:bx\u6307\u5411data\u6bb5\u4e2d\u7684\u7b2c\u4e00\u4e2a\u5355\u5143\n\n        mov cx, 8\n    s:  push [bx]\n        add bx, 2\n        loop s\n\n        mov bx, 0   ;\u4ee5\u4e0a\u5c06data\u6bb5\u4e2d\u76840~15\u5355\u5143\u4e2d\u76848\u4e2a\u5b57\u578b\u6570\u636e\u4f9d\u6b21\u5165\u6808\n\n        mov cx, 8\n    s0: pop [bx]\n        add bx, 2\n        loop s0     ;\u4ee5\u4e0a\u4f9d\u6b21\u51fa\u68088\u4e2a\u5b57\u578b\u6570\u636e\u5230data\u6bb5\u76840~15\u5355\u5143\u4e2d\n\n        mov ax, 4c00h\n        int 21h\n\ncode ends   ;\u4ee3\u7801\u6bb5\u7ed3\u675f\n\nend start\n\n</code></pre>","tags":["\u6c47\u7f16"]},{"location":"foundation/73.asemblly-wangshuang/#_17","title":"\u4e03\u3001\u66f4\u7075\u6d3b\u7684\u5b9a\u4f4d\u5185\u5b58\u5730\u5740\u7684\u65b9\u6cd5","text":"<p>and \u548c or \u6307\u4ee4</p> <p>and \u548c or\u6307\u4ee4\u5206\u522b\u662f\u6309\u4f4d\u4e0e\u548c\u6309\u4f4d\u6216\u64cd\u4f5c</p> <p>db\uff0c\u5b9a\u4e49\u5b57\u8282\u578b\u6570\u636e</p> <p>\u4f8b\u5982\uff0c<code>db 'unIX'</code>\uff0c\u7b49\u540c\u4e8e<code>db 75H,6EH,49H,58H</code></p> <p><code>[bx+200]</code></p> <p>bx\u5b58\u50a8\u5185\u5b58\u5730\u5740\uff0c<code>[bx+200]</code>\u8868\u793a\u8bbf\u95eebx\u4e2d\u7684\u5730\u5740\u518d\u504f\u79fb200\u540e\u5f97\u5230\u7684\u5185\u5b58\u5730\u5740</p> <p>\u6709\u51e0\u4e2a\u7b49\u4ef7\u7684\u5199\u6cd5\uff0c<code>200[bx]</code>\uff0c<code>[bx].200</code></p>","tags":["\u6c47\u7f16"]},{"location":"foundation/73.asemblly-wangshuang/#si-di","title":"SI \u548c DI \u5bc4\u5b58\u5668","text":"<p>si \u548c di\u7684\u4f5c\u7528\u548cbx\u7c7b\u4f3c\uff0c\u4f46si \u548c di \u4e0d\u80fd\u62c6\u6210\u4e24\u4e2a8\u4f4d\u5bc4\u5b58\u5668\u6765\u4f7f\u7528</p> <p>\u6709\u4e86si\u548cdi\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u8fd9\u79cd\u66f4\u7075\u6d3b\u7684\u65b9\u5f0f\u8bbf\u95ee\u5185\u5b58</p> <pre><code>mov ax, [bx+200+si]\n\nmov ax, [200+bx+si]\n\nmov ax, 200 [bx] [si]\n\nmov ax, [bx] .200 [si]\n\nmov ax, [bx] [si].200\n</code></pre>","tags":["\u6c47\u7f16"]},{"location":"foundation/73.asemblly-wangshuang/#_18","title":"\u516b\u3001\u6570\u636e\u5904\u7406\u7684\u4e24\u4e2a\u57fa\u672c\u95ee\u9898","text":"<p>(1)\u5904\u7406\u7684\u6570\u636e\u5728\u4ec0\u4e48\u5730\u65b9? (2)\u8981\u5904\u7406\u7684\u6570\u636e\u6709\u591a\u957f?</p>","tags":["\u6c47\u7f16"]},{"location":"foundation/73.asemblly-wangshuang/#bxsidibp","title":"bx,si,di,bp","text":"<p>8086 cpu\u4e2d\uff0c\u53ea\u6709\u8fd9\u56db\u4e2a\u5bc4\u5b58\u5668\u53ef\u4ee5\u7528\u6765\u8bbf\u5b58\uff0c\u5373\u4f7f\u7528<code>[xxx]</code>\u8fd9\u79cd\u5f62\u5f0f\u7684\u5199\u6cd5</p>","tags":["\u6c47\u7f16"]},{"location":"foundation/73.asemblly-wangshuang/#_19","title":"\u6c47\u7f16\u4e2d\u6570\u636e\u4f4d\u7f6e\u7684\u8868\u8fbe","text":"<ol> <li>\u7acb\u5373\u6570\uff1a\u76f4\u63a5\u5728\u6c47\u7f16\u6307\u4ee4\u4e2d\u7ed9\u51fa\u7684\u5b57\u9762\u503c\u6570\u636e</li> <li>\u5bc4\u5b58\u5668</li> <li>\u6bb5\u5730\u5740\u548c\u7f16\u8bd1\u5730\u5740\uff1a<code>[bx]</code>\uff0c<code>ds:[bx]</code></li> </ol>","tags":["\u6c47\u7f16"]},{"location":"foundation/73.asemblly-wangshuang/#_20","title":"\u5bfb\u5740\u65b9\u5f0f","text":"<ol> <li>\u76f4\u63a5\u5bfb\u5740\uff1a<code>[200]</code>\uff0c\u5730\u5740\u4ee5\u5b57\u9762\u503c\u7684\u65b9\u5f0f\u63d0\u4f9b</li> <li>\u5bc4\u5b58\u5668\u95f4\u63a5\u5bfb\u5740\uff1a<code>[bx]</code></li> <li>\u5bc4\u5b58\u5668\u76f8\u5bf9\u5bfb\u5740\uff1a<code>[bx+200]</code>\uff0cbx\u52a0\u4e0a\u4e00\u4e2a\u5b57\u9762\u503c</li> <li>\u57fa\u5740\u53d8\u5740\u5bfb\u5740\uff1a<code>[bx+si]</code></li> <li>\u76f8\u5bf9\u57fa\u5740\u53d8\u5740\u5bfb\u5740\uff1a<code>[bx+si+200]</code></li> </ol>","tags":["\u6c47\u7f16"]},{"location":"foundation/73.asemblly-wangshuang/#_21","title":"\u6307\u4ee4\u8981\u5904\u7406\u7684\u6570\u636e\u6709\u591a\u957f","text":"<p>\u6c47\u7f16\u5904\u7406\u7684\u57fa\u672c\u5355\u4f4d\u662f\u5b57\u8282\uff08byte\uff09\u6216\u5b57\uff08word\uff09</p> <p>\u901a\u8fc7\u5bc4\u5b58\u5668\u540d\u5b57\u53ef\u4ee5\u533a\u5206\u5b57\u8282\u6216\u5b57\uff0cax\u4ee3\u8868\u5b57\uff0cal\u548cah\u4ee3\u8868\u5b57\u8282</p> <p>\u4f8b\u5982<code>mov ax ds:[0]</code>\u662f\u5b57\u8bbf\u5b58\u64cd\u4f5c\uff0c\u800c<code>mov al ds:[0]</code>\u662f\u4e00\u4e2a\u5b57\u8282\u8bbf\u5b58\u64cd\u4f5c</p> <p>\u53ef\u4ee5\u4f7f\u7528<code>word ptr</code>\u6216<code>byte ptr</code>\u660e\u786e\u6307\u5b9a\u8bbf\u5b58\u5355\u4f4d\u662f\u5b57\u8fd8\u662f\u5b57\u8282</p> <p>\u4f8b\u5982,\u4e0b\u9762\u7684\u6307\u4ee4\u4e2d,\u7528word ptr\u6307\u660e\u4e86\u6307\u4ee4\u8bbf\u95ee\u7684\u5185\u5b58\u5355\u5143\u662f\u4e00\u4e2a\u5b57\u5355\u5143\u3002</p> <pre><code>mov word ptr ds: [0],1\ninc word ptr [bx]\ninc word ptr ds: [0]\nadd word ptr [bx],2\n</code></pre> <p>\u4e0b\u9762\u7684\u6307\u4ee4\u4e2d,\u7528byte ptr\u6307\u660e\u4e86\u6307\u4ee4\u8bbf\u95ee\u7684\u5185\u5b58\u5355\u5143\u662f\u4e00\u4e2a\u5b57\u8282\u5355\u5143\u3002</p> <pre><code>mov byte ptr ds: [0],1\ninc byte ptr [bx]\ninc byte ptr ds: [0]\nadd byte ptr [bx],2\n</code></pre>","tags":["\u6c47\u7f16"]},{"location":"foundation/73.asemblly-wangshuang/#div","title":"div\u6307\u4ee4","text":"<p>div\u662f\u9664\u6cd5\u6307\u4ee4</p> <p>\u73b0\u4ee3\u7f16\u8bd1\u5668\u5f88\u5c11\u4f7f\u7528\u9664\u6cd5\u6307\u4ee4\uff0c\u56e0\u5176\u6027\u80fd\u6bd4\u8f83\u5dee</p> <p>\u88ab\u9664\u6570\u7684\u957f\u5ea6\u662f\u9664\u6570\u7684\u4e24\u500d\uff0c\u7ed3\u679c\u5206\u4e3a\u5546\u548c\u4f59\u6570</p>","tags":["\u6c47\u7f16"]},{"location":"foundation/73.asemblly-wangshuang/#dd","title":"\u4f2a\u6307\u4ee4dd","text":"<p>dd\u7528\u6765\u5b9a\u4e49\u53cc\u5b57\uff08dword\uff09</p>","tags":["\u6c47\u7f16"]},{"location":"foundation/73.asemblly-wangshuang/#dup","title":"dup","text":"<p>\u7528\u4e8e\u6279\u91cf\u5b9a\u4e49\u6570\u636e\uff0c\u7528\u6cd5\u5982\u4e0b\uff1a</p> <p><code>db 3 dup (0,1,2)</code>\uff0c\u5b9a\u4e49\u4e869\u4e2a\u5b57\u8282\uff0c\u4e5f\u5c31\u662f(0,1,2)\u91cd\u590d\u4e09\u6b21 <code>db 3 dup ('abc', 'ABC')</code>\uff0c\u5b9a\u4e49\u4e8618\u4e2a\u5b57\u8282</p>","tags":["\u6c47\u7f16"]},{"location":"foundation/73.asemblly-wangshuang/#_22","title":"\u4e5d\u3001\u8f6c\u79fb\u6307\u4ee4","text":"<p>\u80fd\u591f\u4fee\u6539CS\u548cIP\u7684\u6307\u4ee4\u79f0\u4e3a\u8f6c\u79fb\u6307\u4ee4</p> <p>8086 CPU\u7684\u8f6c\u79fb\u6307\u4ee4\u5206\u4e3a\u4ee5\u4e0b\u51e0\u7c7b\u3002</p> <ol> <li>\u65e0\u6761\u4ef6\u8f6c\u79fb\u6307\u4ee4(\u5982:jmp)</li> <li>\u6761\u4ef6\u8f6c\u79fb\u6307\u4ee4</li> <li>\u5faa\u73af\u6307\u4ee4(\u5982:loop)</li> <li>\u8fc7\u7a0b</li> <li>\u4e2d\u65ad</li> </ol>","tags":["\u6c47\u7f16"]},{"location":"foundation/73.asemblly-wangshuang/#offset","title":"offset\u64cd\u4f5c\u7b26","text":"<p>offset\u64cd\u4f5c\u7b26\u7531\u7f16\u8bd1\u5668\u5904\u7406\uff0c\u4f5c\u7528\u662f\u8bc6\u522b\u6807\u53f7\u7684\u504f\u79fb\u5730\u5740</p> <p>\u4f8b\u5982</p> <pre><code>assume cs : codesg\n\ncodesg segment\n\nstart:mov ax, offset start ;\u76f8\u5f53\u4e8emov ax,0\n\n    s:mov ax, offset s ;\u76f8\u5f53\u4e8emov ax,3\n\ncodesg ends\n\nend start\n</code></pre> <p>\u6ce8\u610f\uff0c\u8fd9\u91cc\u662f\u83b7\u53d6\u5730\u5740\uff0c\u4e0d\u662f\u53bb\u6839\u636e\u5730\u5740\u8bbf\u5b58</p>","tags":["\u6c47\u7f16"]},{"location":"foundation/73.asemblly-wangshuang/#jmp","title":"\u5404\u79cdjmp\u6307\u4ee4","text":"<p>jmp\u77ed\u8f6c\u79fb\u548c\u5c31\u8fd1\u8f6c\u79fb</p> <p><code>jmp short \u6807\u53f7</code> \u548c <code>jmp near ptr \u6807\u53f7</code></p> <p>\u8fd9\u4e24\u4e2a\u6307\u4ee4\u90fd\u662f\u8df3\u8f6c\u5230\u6807\u53f7\u6240\u5728\u6307\u4ee4</p> <p><code>jmp short</code>\u5b9e\u9645\u4e0a\u662fIP+8\u4f4d\u4f4d\u79fb\uff0c\u5bf9IP\u7684\u4fee\u6539\u8303\u56f4\u4e3a-128~127</p> <p><code>jmp near ptr</code>\u5b9e\u9645\u4e0a\u662fIP+16\u4f4d\u4f4d\u79fb</p> <p>\u5728\u5b9e\u9645\u7684\u673a\u5668\u7801\u4e2d\uff0c\u8fd9\u4e24\u4e2a\u6307\u4ee4\u4e2d\u5e76\u6ca1\u6709\u76ee\u7684\u5730\u5740\uff0c\u53ea\u662f\u7ed9IP\u589e\u52a0\u4e00\u4e2a\u504f\u79fb\u91cf</p> <p>\u5e26\u8f6c\u79fb\u76ee\u7684\u5730\u5740\u7684jmp\u6307\u4ee4</p> <p><code>jmp far ptr \u6807\u53f7</code>\u662f\u6bb5\u95f4\u8f6c\u79fb\u6307\u4ee4\uff0c\u4e5f\u53eb\u8fdc\u8f6c\u79fb\uff0c\u4f1a\u4f7f\u7528\u6807\u53f7\u6240\u5728\u7684\u5730\u5740\u4fee\u6539CS:IP\u5bc4\u5b58\u5668\uff0c\u751f\u6210\u7684\u673a\u5668\u7801\u4e2d\u4f1a\u5305\u542b\u76ee\u6807\u5730\u5740</p> <p>\u8f6c\u79fb\u5730\u5740\u5728\u5bc4\u5b58\u5668\u4e2d\u7684jmp\u6307\u4ee4</p> <p><code>jmp \u5bc4\u5b58\u5668</code>\uff0c\u524d\u9762\u8bb2\u7684jmp\u547d\u4ee4\u5c31\u662f\u8fd9\u79cd</p> <p>\u8f6c\u79fb\u5730\u5740\u5728\u5185\u5b58\u4e2d\u7684jmp\u6307\u4ee4</p> <p><code>jmp word ptr \u5185\u5b58\u5730\u5740</code>\uff0c\u6bb5\u5185\u8f6c\u79fb</p> <p><code>jmp dword ptr \u5185\u5b58\u5730\u5740</code>\uff0c\u6bb5\u95f4\u8f6c\u79fb</p>","tags":["\u6c47\u7f16"]},{"location":"foundation/73.asemblly-wangshuang/#jcxz","title":"jcxz\uff0c\u6709\u6761\u4ef6\u8f6c\u79fb\u6307\u4ee4","text":"<p><code>jcxz \u6807\u53f7</code></p> <p>jcxz\u5b9e\u9645\u4e0a\u662f\u4e00\u4e2a\u77ed\u8f6c\u79fb\u6307\u4ee4</p> <p>\u5f53cx\u4e3a0\u65f6\u8df3\u8f6c\u5230\u6807\u53f7\uff0c\u5426\u5219\u4ec0\u4e48\u90fd\u4e0d\u505a</p>","tags":["\u6c47\u7f16"]},{"location":"foundation/73.asemblly-wangshuang/#loop","title":"loop\u6307\u4ee4","text":"<p>loop\u6307\u4ee4\u672c\u8d28\u4e0a\u4e5f\u662f\u4e2a\u77ed\u8f6c\u79fb\u6307\u4ee4</p>","tags":["\u6c47\u7f16"]},{"location":"foundation/73.asemblly-wangshuang/#call-ret","title":"\u5341\u3001call \u548c ret \u6307\u4ee4","text":"<p>\u8fd9\u4e24\u4e2a\u6307\u4ee4\u90fd\u662f\u8f6c\u79fb\u6307\u4ee4\uff0c\u4f1a\u4fee\u6539cs\u548cip</p>","tags":["\u6c47\u7f16"]},{"location":"foundation/73.asemblly-wangshuang/#ret-retf","title":"ret \u548c retf","text":"<p>ret \u548c retf \u4e00\u4e2a\u662f\u8fd1\u8f6c\u79fb\uff0c\u4e00\u4e2a\u662f\u8fdc\u8f6c\u79fb</p> <p>\u4ed6\u4eec\u4f1a\u5229\u7528\u6808\u4e2d\u7684\u6570\u636e\u4f5c\u4e3a\u8f6c\u79fb\u5730\u5740\uff0c\u5e76\u5bf9\u6808\u505a\u51fa\u6808\u64cd\u4f5c</p> <p>ret\u53ea\u4f1apop\u4e00\u4e2a\u6570\u636e\uff0c\u4f5c\u4e3aip\u7684\u503c</p> <p>retf\u4f1apop\u4e24\u4e2a\u6570\u636e\uff0c\u4f5c\u4e3acs:ip\u7684\u503c</p>","tags":["\u6c47\u7f16"]},{"location":"foundation/73.asemblly-wangshuang/#call","title":"call","text":"<p>call\u6307\u4ee4\u4f1a\u5c06\u5f53\u524d\u7684ip \u6216 cs\u548cip \u538b\u6808</p> <p>\u6839\u636e\u4f4d\u79fb\u8fdb\u884c\u8f6c\u79fb\u7684call\u6307\u4ee4</p> <p><code>call \u6807\u53f7</code>\uff0c\u5c06\u5f53\u524d\u7684ip\u538b\u6808\u540e\uff0c\u8df3\u8f6c\u5230\u6807\u53f7\u5904\u6267\u884c</p> <p>\u5e26\u76ee\u7684\u5730\u5740\u7684call\u6307\u4ee4</p> <p><code>call far ptr \u6807\u53f7</code>\uff0c\u5c06\u5f53\u524d\u7684cs\u548cip\u538b\u6808\uff0c\u7136\u540e\u8f6c\u79fb\u5230\u6807\u53f7\u5904</p> <p>\u8f6c\u79fb\u5730\u5740\u5728\u5bc4\u5b58\u5668\u4e2d\u7684call\u6307\u4ee4</p> <p><code>call \u5bc4\u5b58\u5668</code></p> <p>\u8f6c\u79fb\u5730\u5740\u5728\u5185\u5b58\u4e2d\u7684call\u6307\u4ee4</p> <p><code>call word ptr \u5185\u5b58\u5730\u5740</code>, \u6bb5\u5185\u8f6c\u79fb</p> <p><code>call dword ptr \u5185\u5b58\u5730\u5740</code>\uff0c\u6bb5\u95f4\u8f6c\u79fb</p>","tags":["\u6c47\u7f16"]},{"location":"foundation/73.asemblly-wangshuang/#call-ret_1","title":"call \u548c ret \u914d\u5408\u4f7f\u7528\u5b9e\u73b0\u51fd\u6570\u8c03\u7528","text":"<pre><code>assume cs : code\ncode segment\nmain:\n\n    ...\n\n    call sub1           ;\u8c03\u7528\u5b50\u7a0b\u5e8f sub1\n\n    mov ax, 4c00h\n    int 21h\n\nsub1:                   ;\u5b50\u7a0b\u5e8f sub1 \u5f00\u59cb\n\n    ...\n    call sub2           ;\u8c03\u7528\u5b50\u7a0b\u5e8f sub2\n    ...\n    ret\nsub2:                   ;\u5b50\u7a0b\u5e8f sub1 \u5f00\u59cb\n    ...\n    ret\ncodes ends\nend main\n</code></pre>","tags":["\u6c47\u7f16"]},{"location":"foundation/73.asemblly-wangshuang/#mul","title":"\u4e58\u6cd5\u6307\u4ee4mul","text":"<p>\u4e24\u4e2a\u76f8\u4e58\u7684\u6570\u957f\u5ea6\u5fc5\u987b\u4e00\u81f4\uff0c\u8981\u4e48\u90fd\u662f8\u4f4d\uff0c\u8981\u4e48\u90fd\u662f16\u4f4d</p> <p>\u5982\u679c\u662f8\u4f4d\uff0c\u4e00\u4e2a\u6570\u9ed8\u8ba4\u653e\u5728al\u4e2d\uff0c\u53e6\u4e00\u4e2a\u6570\u5728\u5176\u4ed6\u5bc4\u5b58\u5668\u6216\u5185\u5b58\u4e2d\uff0c\u7ed3\u679c\u5b58\u653e\u5728ax\u4e2d</p> <p>\u5982\u679c\u662f16\u4f4d\uff0c\u4e00\u4e2a\u6570\u9ed8\u8ba4\u653e\u5728ax\u4e2d\uff0c\u53e6\u4e00\u4e2a\u6570\u5728\u5176\u4ed6\u5bc4\u5b58\u5668\u6216\u5185\u5b58\u4e2d\uff0c\u7ed3\u679c\u9ad8\u4f4d\u9ed8\u8ba4\u653e\u5728dx\u4e2d\uff0c\u4f4e\u4f4d\u653e\u5728ax\u4e2d</p> <p>\u8bed\u6cd5\uff1a</p> <pre><code>mul reg\nmul \u5185\u5b58\u5355\u5143\n</code></pre>","tags":["\u6c47\u7f16"]},{"location":"foundation/73.asemblly-wangshuang/#_23","title":"\u53c2\u6570\u548c\u7ed3\u679c\u4f20\u9012\u95ee\u9898","text":"<p>\u53c2\u6570\u6bd4\u8f83\u5c11\u7684\u60c5\u51b5\u4e0b\uff0c\u53ef\u4ee5\u7528\u5bc4\u5b58\u5668\u4f20\u9012\u53c2\u6570\uff0c\u5426\u5219\uff0c\u53ef\u4ee5\u7528\u6808\u4f20\u9012\u53c2\u6570</p>","tags":["\u6c47\u7f16"]},{"location":"foundation/73.asemblly-wangshuang/#_24","title":"\u5bc4\u5b58\u5668\u51b2\u7a81\u95ee\u9898","text":"<p>\u88ab\u8c03\u7528\u51fd\u6570\u548c\u8c03\u7528\u51fd\u6570\u53ef\u80fd\u4f1a\u4f7f\u7528\u76f8\u540c\u7684\u5bc4\u5b58\u5668\uff0c\u5982\u4f55\u89e3\u51b3\u8fd9\u79cd\u51b2\u7a81\uff1f</p> <p>\u5728\u8c03\u7528\u51fd\u6570\u4e4b\u524d\uff0c\u628a\u5f53\u524d\u7528\u5230\u7684\u5bc4\u5b58\u5668\u4fdd\u5b58\u5230\u6808\u4e2d</p> <p>\u6240\u4ee5\uff0c\u4e00\u4e2a\u5b50\u51fd\u6570\u8c03\u7528\u7684\u6807\u51c6\u6846\u67b6\u5e94\u8be5\u662f\u4ee5\u4e0b\u5f62\u5f0f</p> <pre><code>\u5b50\u7a0b\u5e8f\u5f00\u59cb:  \u5b50\u7a0b\u5e8f\u7528\u5230\u7684\u5bc4\u5b58\u5668\u5165\u6808\n            \u5b50\u7a0b\u5e8f\u903b\u8f91\n            \u5b50\u7a0b\u5e8f\u7528\u5230\u7684\u5bc4\u5b58\u5668\u51fa\u6808\n            \u8fd4\u56de\n</code></pre>","tags":["\u6c47\u7f16"]},{"location":"foundation/73.asemblly-wangshuang/#_25","title":"\u5341\u4e00\u3001\u6807\u5fd7\u5bc4\u5b58\u5668","text":"<p>flag\u5bc4\u5b58\u5668\u662f\u6309\u4f4d\u5b58\u50a8\u7684</p> <p>\u5404\u6807\u5fd7\u7684\u4f5c\u7528</p> <ul> <li>ZF\uff08\u96f6\u6807\u5fd7\u4f4d\uff0cZero Flag\uff09\uff1a</li> <li>\u5f53\u8fd0\u7b97\u7ed3\u679c\u4e3a0\u65f6\uff0cZF=1\uff1b\u5426\u5219ZF=0</li> <li> <p>\u4f8b\u5982\uff1a\u6267\u884c <code>sub ax, ax</code> \u540e\uff0cZF=1</p> </li> <li> <p>PF\uff08\u5947\u5076\u6807\u5fd7\u4f4d\uff0cParity Flag\uff09\uff1a</p> </li> <li>\u5f53\u8fd0\u7b97\u7ed3\u679c\u7684\u4f4e8\u4f4d\u4e2d1\u7684\u4e2a\u6570\u4e3a\u5076\u6570\u65f6\uff0cPF=1\uff1b\u5426\u5219PF=0</li> <li> <p>\u4f8b\u5982\uff1a\u7ed3\u679c\u4e3a00000011B\uff08\u4e24\u4e2a1\uff0c\u5076\u6570\uff09\uff0cPF=1</p> </li> <li> <p>SF\uff08\u7b26\u53f7\u6807\u5fd7\u4f4d\uff0cSign Flag\uff09\uff1a</p> </li> <li>\u5f53\u8fd0\u7b97\u7ed3\u679c\u4e3a\u8d1f\u6570\u65f6\uff0cSF=1\uff1b\u5426\u5219SF=0</li> <li>SF\u7b49\u4e8e\u8fd0\u7b97\u7ed3\u679c\u7684\u6700\u9ad8\u4f4d</li> <li> <p>\u4f8b\u5982\uff1a\u7ed3\u679c\u4e3a10000001B\uff0c\u6700\u9ad8\u4f4d\u4e3a1\uff0cSF=1</p> </li> <li> <p>CF\uff08\u8fdb\u4f4d\u6807\u5fd7\u4f4d\uff0cCarry Flag\uff09\uff1a</p> </li> <li>\u65e0\u7b26\u53f7\u8fd0\u7b97\u65f6\uff0c\u5f53\u4ea7\u751f\u8fdb\u4f4d\u6216\u501f\u4f4d\u65f6\uff0cCF=1\uff1b\u5426\u5219CF=0</li> <li> <p>\u4f8b\u5982\uff1a\u4e24\u4e2a8\u4f4d\u6570\u76f8\u52a0\u4ea7\u751f\u7b2c9\u4f4d\u8fdb\u4f4d\u65f6\uff0cCF=1</p> </li> <li> <p>OF\uff08\u6ea2\u51fa\u6807\u5fd7\u4f4d\uff0cOverflow Flag\uff09\uff1a</p> </li> <li>\u6709\u7b26\u53f7\u8fd0\u7b97\u65f6\uff0c\u5f53\u7ed3\u679c\u8d85\u51fa\u6709\u6548\u8303\u56f4\u65f6\uff0cOF=1\uff1b\u5426\u5219OF=0</li> <li>\u4f8b\u5982\uff1a127+1=128\uff0c\u5bf9\u4e8e8\u4f4d\u6709\u7b26\u53f7\u6570\u6ea2\u51fa\uff0cOF=1</li> </ul> <p>\u548cflag\u76f8\u5173\u6307\u4ee4</p> <ul> <li>adc\uff1a\u8fdb\u4f4d\u52a0\u6cd5\u6307\u4ee4</li> <li>sbb\uff1a\u501f\u4f4d\u51cf\u6cd5\u6307\u4ee4</li> <li>cmp\uff1a\u6bd4\u8f83\u6307\u4ee4</li> </ul> <p>\u548cflag\u76f8\u5173\u7684\u6761\u4ef6\u8f6c\u79fb\u6307\u4ee4</p> \u6307\u4ee4 \u542b\u4e49 \u68c0\u6d4b\u7684\u76f8\u5173\u6807\u5fd7\u4f4d je \u7b49\u4e8e\u5219\u8f6c\u79fb zf=1 jne \u4e0d\u7b49\u4e8e\u5219\u8f6c\u79fb zf=0 jb \u4f4e\u4e8e\u5219\u8f6c\u79fb cf=1 jnb \u4e0d\u4f4e\u4e8e\u5219\u8f6c\u79fb cf=0 ja \u9ad8\u4e8e\u5219\u8f6c\u79fb cf=0 \u4e14 zf=0 jna \u4e0d\u9ad8\u4e8e\u5219\u8f6c\u79fb cf=1 \u6216 zf=1 <p>DF\u6807\u5fd7\u4f4d\u548c\u4e32\u4f20\u9001\u6307\u4ee4</p> <p>DF\u662f\u65b9\u5411\u6807\u5fd7\u4f4d\uff0c\u5728\u4e32\u5904\u7406\u6307\u4ee4\u4e2d,\u63a7\u5236\u6bcf\u6b21\u64cd\u4f5c\u540esi\u3001di\u7684\u589e\u51cf\u3002</p> <p>pushf \u548c popf</p> <p>pushf\u662f\u628a\u6807\u5fd7\u5bc4\u5b58\u5668\u538b\u6808\uff0cpopf\u662f\u628a\u6807\u5fd7\u503c\u51fa\u6808\u5e76\u4fdd\u5b58\u5230\u6807\u5fd7\u5bc4\u5b58\u5668\u4e2d</p>","tags":["\u6c47\u7f16"]},{"location":"foundation/73.asemblly-wangshuang/#_26","title":"\u5341\u4e8c\u3001\u5185\u4e2d\u65ad","text":"<p>\u4e2d\u65ad\u6e90\uff1a\u89e6\u53d1\u4e2d\u65ad\u7684\u4e8b\u4ef6 \u4e2d\u65ad\u7c7b\u578b\u7801\uff1a\u4e00\u4e2a\u6574\u6570\uff0c\u7528\u4e8e\u533a\u5206\u4e2d\u65ad\u7c7b\u578b \u4e2d\u65ad\u5411\u91cf\u8868\uff1a\u4fdd\u5b58\u6bcf\u4e2a\u4e2d\u65ad\u7c7b\u578b\u7801\u5bf9\u5e94\u7684\u4e2d\u65ad\u5904\u7406\u51fd\u6570\u5165\u53e3\u5730\u5740</p>","tags":["\u6c47\u7f16"]},{"location":"foundation/73.asemblly-wangshuang/#int","title":"\u5341\u4e09\u3001int\u6307\u4ee4","text":"<p>int\u6307\u4ee4\u7684\u7528\u9014\u662f\u5f15\u53d1\u4e00\u4e2a\u4e2d\u65ad</p>","tags":["\u6c47\u7f16"]},{"location":"foundation/73.asemblly-wangshuang/#_27","title":"\u5341\u56db\u3001\u7aef\u53e3","text":"<p>\u5916\u8bbe\u82af\u7247\u4e0a\u53ef\u4f9bCPU\u76f4\u63a5\u8bfb\u53d6\u7684\u5bc4\u5b58\u5668\uff0c\u79f0\u4e3a\u7aef\u53e3</p> <p>\u7aef\u53e3\u7684\u8bfb\u5199\u6307\u4ee4\u662fin\u548cout</p> <p>shl\u548cshr\u662f\u903b\u8f91\u5de6\u79fb\u548c\u903b\u8f91\u53f3\u79fb\u6307\u4ee4</p>","tags":["\u6c47\u7f16"]},{"location":"foundation/73.asemblly-wangshuang/#_28","title":"\u5341\u4e94\u3001\u5916\u4e2d\u65ad","text":"<p>\u5916\u8bbe\u5f15\u53d1\u7684\u4e2d\u65ad\u5206\u4e3a\u53ef\u5c4f\u853d\u4e2d\u65ad\u548c\u4e0d\u53ef\u5c4f\u853d\u4e2d\u65ad</p>","tags":["\u6c47\u7f16"]},{"location":"foundation/73.asemblly-wangshuang/#_29","title":"\u5341\u516d\u3001\u76f4\u63a5\u5b9a\u5740\u8868","text":"<p>\u6807\u53f7\u4e0d\u5149\u80fd\u8868\u793a\u5730\u5740\uff0c\u8fd8\u80fd\u8868\u793a\u5185\u5b58\u5355\u4f4d\u5927\u5c0f\uff0c\u4f8b\u5982</p> <pre><code>assume cs : code\ncode segment\na db 1,2, 3, 4, 5, 6, 7, 8\nb dw 0\n</code></pre> <p>a\u548cb\u662f\u4e24\u4e2a\u4e0d\u5e26\u5192\u53f7\u7684\u6807\u53f7\uff0c\u5b83\u4eec\u5206\u522b\u6307\u5b9a\u4e86\u6b64\u5904\u7684\u5185\u5b58\u5355\u5143\uff0ca\u5904\u7684\u5185\u5b58\u5355\u5143\u662f\u5b57\u8282\uff0cb\u662f\u5b57</p> <p>\u5e26\u5192\u53f7\u7684\u6807\u53f7\u53ea\u80fd\u5728\u6bb5\u5185\u4f7f\u7528\uff0c\u4e0d\u5e26\u5192\u53f7\u7684\u6807\u53f7\u80fd\u5728\u5176\u4ed6\u6bb5\u4f7f\u7528</p> <p>\u76f4\u63a5\u5b9a\u5740\u8868\u5176\u5b9e\u5c31\u662f\u7528\u6807\u53f7\u6765\u7ed9\u6570\u636e\u8d34\u6807\u7b7e\uff0c\u8ba9\u6211\u4eec\u80fd\u591f\u65b9\u4fbf\u5730\u8bbf\u95ee\u8fd9\u4e9b\u6570\u636e\u3002</p>","tags":["\u6c47\u7f16"]},{"location":"foundation/code-design/51.closure/","title":"\u95ed\u5305","text":"<p>\u95ed\u5305\u662f\u6307\u5e26\u6709\u72b6\u6001\u7684\u51fd\u6570\u3002\u5982\u679c\u4e00\u4e2a\u51fd\u6570\u80fd\u548c\u4e00\u4e2a\u9759\u6001\u6570\u636e\u7ed1\u5b9a\uff0c\u90a3\u4e48\u8fd9\u4e2a\u51fd\u6570\u5c31\u662f\u95ed\u5305\u3002</p>","tags":["\u4ee3\u7801\u8bbe\u8ba1"]},{"location":"foundation/code-design/51.closure/#js","title":"js\u95ed\u5305","text":"<pre><code>//\u4f8b\u4e00\nfunction closureFunc() {\n    var counter = 0;\n    function addFunc() {return counter += 1;}\n    return addFunc;\n}\nlet add = closurefunc();\n//\u5728\u4f8b\u4e00\u4e2d\uff0cadd\u5c31\u662f\u4e00\u4e2a\u95ed\u5305\uff0c\u5b83\u548ccounter\u7ed1\u5b9a\u4e86\uff0c\u5982\u679c\u4e0d\u60f3\u8ba9\u5916\u90e8\u8bbf\u95ee\u5230counter\uff0c\u53ef\u4ee5\u5c06\u51fd\u6570\u6539\u4e3a\u533f\u540d\u51fd\u6570\uff0c\u5373\u5199\u6210\u5982\u4e0b\u7684\u5f62\u5f0f\n\nlet add = (function () {\n    var counter = 0;\n    return function () {return counter += 1;}\n})();\n\n//\u4f8b\u4e8c\nfunction makeAdder(x) {\n  return function(y) {\n    return x + y;\n  };\n}\n\nvar add5 = makeAdder(5);\nvar add10 = makeAdder(10);\n//\u5728\u4f8b\u4e8c\u4e2d\uff0cadd5\u548cadd10\u90fd\u662f\u95ed\u5305\n\n//\u4f8b\u4e09\uff0c\u7528\u95ed\u5305\u6a21\u62df\u79c1\u6709\u65b9\u6cd5\nvar Counter = (function() {\n  var privateCounter = 0;\n  function changeBy(val) {\n    privateCounter += val;\n  }\n  return {\n    increment: function() {\n      changeBy(1);\n    },\n    decrement: function() {\n      changeBy(-1);\n    },\n    value: function() {\n      return privateCounter;\n    }\n  }\n})();\n\nconsole.log(Counter.value()); /* logs 0 */\nCounter.increment();\nCounter.increment();\nconsole.log(Counter.value()); /* logs 2 */\nCounter.decrement();\nconsole.log(Counter.value()); /* logs 1 */\n</code></pre>","tags":["\u4ee3\u7801\u8bbe\u8ba1"]},{"location":"foundation/code-design/51.closure/#c","title":"C\u95ed\u5305","text":"<pre><code>/*callee\u5c31\u662f\u4e00\u4e2a\u95ed\u5305*/\n#include &lt;stdio.h&gt;\nvoid* caller() {\n    int cnt = 0;\n    void callee() {\n        cnt++;\n        printf(\"%d\\n\", cnt);\n    }\n    return callee;\n}\nint main()\n{\n    void(*callee)(void) = caller();\n    callee();\n    return 0;\n}\n</code></pre>","tags":["\u4ee3\u7801\u8bbe\u8ba1"]},{"location":"foundation/code-design/51.closure/#c_1","title":"C++\u95ed\u5305","text":"<pre><code>//\u4f7f\u7528lambda\u5b9e\u73b0\u95ed\u5305\nfloat round = 0.5;\nauto f = [round](float f) { return f + round; }\n\n//\u4f7f\u7528\u51fd\u6570\u9002\u914d\u5668bind\u5b9e\u73b0\u95ed\u5305\nint boost_func(float f, float round)\n{ return f + round; }\nfloat round = 0.5;\nboost::function&lt;int(float)&gt; f = boost::bind(boost_func, _1, round);\n</code></pre> <p>\u4e0a\u9762\u8fd9\u4e24\u4e2a\u95ed\u5305\u6709\u7f3a\u9677\uff0c\u5176\u5185\u90e8\u7684\u72b6\u6001\u4e0d\u53ef\u6539\u53d8</p> <p>\u771f\u6b63\u7684\u95ed\u5305\uff0c\u53ef\u4ee5\u7528c++\u4e2d\u7684\u51fd\u6570\u5bf9\u8c61\u6765\u5b9e\u73b0</p>","tags":["\u4ee3\u7801\u8bbe\u8ba1"]},{"location":"foundation/code-design/70.design-patterns/","title":"\u300a\u8bbe\u8ba1\u6a21\u5f0f\u300b\u9605\u8bfb\u7b14\u8bb0","text":"<p>\u53c2\u8003\u300a\u8bbe\u8ba1\u6a21\u5f0f\u2014\u2014\u53ef\u590d\u7528\u9762\u5411\u5bf9\u8c61\u8f6f\u4ef6\u7684\u57fa\u7840\u300b</p>","tags":["\u4ee3\u7801\u8bbe\u8ba1"]},{"location":"foundation/code-design/70.design-patterns/#_1","title":"\u524d\u8ff0","text":"<p>\u8bbe\u8ba1\u6a21\u5f0f\u6574\u4f53\u770b\u4e0b\u6765\uff0c\u4e3b\u8981\u8bb2\u7684\u662f\u8be5\u5982\u4f55\u7ec4\u7ec7\u4ee3\u7801\uff0c\u5982\u4f55\u5c06\u4ee3\u7801\u7ec4\u7ec7\u6210\u53ef\u590d\u7528\u3001\u53ef\u7ef4\u62a4\u3001\u53ef\u6269\u5c55\u7684\u4ee3\u7801\u3002</p> <p>\u57fa\u672c\u7684\u601d\u60f3\u662f\u7075\u6d3b\u8fd0\u7528\u7ec4\u5408\u5c06\u8c03\u7528\u8005\u548c\u88ab\u8c03\u7528\u8005\u89e3\u8026\uff0c\u907f\u514d\u76f4\u63a5\u7684\u7ee7\u627f\u5173\u7cfb\uff0c\u5c3d\u91cf\u4f7f\u7528\u63a5\u53e3\u548c\u62bd\u8c61\u7c7b\u6765\u5b9a\u4e49\u901a\u7528\u7684\u529f\u80fd\u63a5\u53e3\u3002</p> <p>\u4e66\u4e2d\u5171\u63d0\u523023\u79cd\u8bbe\u8ba1\u6a21\u5f0f\uff0c\u5f88\u591a\u6a21\u5f0f\u5728\u5de5\u7a0b\u5b9e\u8df5\u4e2d\u5df2\u7ecf\u81ea\u7136\u800c\u7136\u5730\u88ab\u5927\u91cf\u4f7f\u7528\u4e86\uff0c\u4f8b\u5982\u6865\u63a5\u6a21\u5f0f\u3001\u9002\u914d\u5668\u6a21\u5f0f\u3001\u72b6\u6001\u6a21\u5f0f\u3001\u7b56\u7565\u6a21\u5f0f\u7b49\u7b49\uff0c\u8fd9\u4e9b\u6a21\u5f0f\u51e0\u4e4e\u662f\u65e0\u53ef\u4e89\u8bae\u7684\u6700\u4f73\u5b9e\u8df5\uff0c\u4e0d\u9700\u8981\u7279\u522b\u8bf4\u660e\uff0c\u5c31\u53ef\u4ee5\u81ea\u7136\u800c\u7136\u5730\u5e94\u7528\u5728\u4ee3\u7801\u4e2d\u3002</p> <p>\u9700\u8981\u7279\u522b\u6ce8\u610f\u7684\u6a21\u5f0f\u6709\u5982\u4e0b12\u79cd\uff1a</p>","tags":["\u4ee3\u7801\u8bbe\u8ba1"]},{"location":"foundation/code-design/70.design-patterns/#_2","title":"\u521b\u5efa\u578b\u6a21\u5f0f","text":"<ol> <li>\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u548c\u62bd\u8c61\u5de5\u5382\u6a21\u5f0f\uff1a\u4fa7\u91cd\u4e8e\u9690\u85cf\u5bf9\u8c61\u521b\u5efa\u7684\u7ec6\u8282\u3002</li> <li>\u539f\u578b\u6a21\u5f0f\uff1a\u8fd9\u4e2a\u6bd4\u8f83\u6709\u610f\u601d\uff0c\u4e3b\u8981\u662f\u4e3a\u4e86\u907f\u514d\u91cd\u590d\u521b\u5efa\u5bf9\u8c61\uff0c\u76f4\u63a5\u514b\u9686\u4e00\u4e2a\u5df2\u6709\u7684\u5bf9\u8c61\u3002</li> <li>\u5355\u4f8b\u6a21\u5f0f\uff1a\u786e\u4fdd\u4e00\u4e2a\u7c7b\u53ea\u6709\u4e00\u4e2a\u5b9e\u4f8b\uff0c\u5e76\u63d0\u4f9b\u5168\u5c40\u8bbf\u95ee\u70b9\u3002</li> </ol>","tags":["\u4ee3\u7801\u8bbe\u8ba1"]},{"location":"foundation/code-design/70.design-patterns/#_3","title":"\u7ed3\u6784\u578b\u6a21\u5f0f","text":"<ol> <li>\u5916\u89c2\u6a21\u5f0f\uff1a\u540c\u65f6\u63d0\u4f9b\u4f7f\u7528\u8f83\u4e3a\u7b80\u5355\u7684\u4e0a\u5c42\u63a5\u53e3\u548c\u8f83\u4e3a\u590d\u6742\u7684\u5e95\u5c42\u63a5\u53e3\uff0c\u4f9b\u4e0d\u540c\u5c42\u6b21\u7684\u7528\u6237\u4f7f\u7528\u3002\uff08\u57fa\u672c\u6240\u6709\u5927\u578b\u57fa\u7840\u5e93\u7684\u5bfc\u51fa\u63a5\u53e3\u90fd\u9075\u5faa\u8fd9\u4e2a\u6a21\u5f0f\uff0c\u4f8b\u5982openssl\u3001ffmpeg\u3001\u5404\u7cfb\u7edfapi\uff09</li> <li>\u4eab\u5143\u6a21\u5f0f\uff1a\u5171\u4eab\u53ef\u590d\u7528\u7684\u5bf9\u8c61\uff0c\u51cf\u5c11\u5185\u5b58\u5360\u7528\u548c\u63d0\u9ad8\u6027\u80fd\u3002\uff08\u6392\u7248\u7cfb\u7edf\u7684\u8bbe\u8ba1\u6a21\u5f0f\uff09</li> </ol>","tags":["\u4ee3\u7801\u8bbe\u8ba1"]},{"location":"foundation/code-design/70.design-patterns/#_4","title":"\u884c\u4e3a\u578b\u6a21\u5f0f","text":"<ol> <li>\u8d23\u4efb\u94fe\u6a21\u5f0f\uff1a\u8bf7\u6c42\u94fe\u5f0f\u4f20\u9012\uff0c\u94fe\u4e0a\u7684\u6bcf\u4e2a\u5bf9\u8c61\u90fd\u6709\u673a\u4f1a\u5904\u7406\u8bf7\u6c42\u3002\uff08golang\u7684gin\u6846\u67b6\u7684\u4e2d\u95f4\u4ef6\u673a\u5236\u5c31\u662f\u4e00\u4e2a\u5178\u578b\u7684\u8d23\u4efb\u94fe\u6a21\u5f0f\uff09</li> <li>\u547d\u4ee4\u6a21\u5f0f\uff1a\u5c06\u8bf7\u6c42\u5c01\u88c5\u4e3a\u4e00\u4e2a\u547d\u4ee4\u5bf9\u8c61\uff0c\u5c06\u8bf7\u6c42\u53d1\u8d77\u65b9\u548c\u8bf7\u6c42\u63a5\u6536\u65b9\u89e3\u8026\u3002\uff08ui\u5c42\u7684\u8bbe\u8ba1\u6a21\u5f0f\uff09</li> <li>\u89e3\u91ca\u5668\u6a21\u5f0f\uff1a\u7f16\u8bd1\u5668\u8bed\u6cd5\u5206\u6790\u4e13\u7528\u6a21\u5f0f</li> <li>\u5907\u5fd8\u5f55\uff1a\u4e3a\u5bf9\u8c61\u4e0d\u540c\u65f6\u523b\u7684\u72b6\u6001\u8bb0\u5f55\u68c0\u67e5\u70b9\uff0c\u4ee5\u4fbf\u5b9e\u73b0\u64a4\u9500\u64cd\u4f5c\uff08\u9002\u5408\u7528\u4e8e\u7f16\u8f91\u5668\u7684\u8bbe\u8ba1\uff09\u3002</li> <li>\u89c2\u5bdf\u8005\uff1a\u53d1\u5e03-\u8ba2\u9605\u6a21\u5f0f\u3002\uff08C#\u7684\u59d4\u6258\u5c31\u662f\u4e00\u79cd\u89c2\u5bdf\u8005\u6a21\u5f0f\uff09</li> <li>\u6a21\u677f\u65b9\u6cd5\u6a21\u5f0f\uff1a\u5176\u5b9e\u6ca1\u4ec0\u4e48\u7279\u522b\u7684\uff0c\u5b83\u6700\u5927\u7684\u7279\u70b9\u662f\u5b83\u662f\u8bbe\u8ba1\u6a21\u5f0f\u91cc\u9762\u552f\u4e00\u7684\u4e00\u4e2a\u7eaf\u9762\u5411\u5bf9\u8c61\u6a21\u5f0f\u3002</li> <li>\u8bbf\u95ee\u8005\u6a21\u5f0f\uff1a\u4e00\u79cd\u5c06\u6570\u636e\u548c\u64cd\u4f5c\u5206\u79bb\u7684\u6a21\u5f0f\uff0c\u4f8b\u5982\u6811\u72b6\u7ed3\u6784\u7684\u904d\u5386\u5904\u7406\uff0c\u633a\u6709\u610f\u601d\u3002</li> </ol>","tags":["\u4ee3\u7801\u8bbe\u8ba1"]},{"location":"foundation/code-design/70.design-patterns/#_5","title":"\u8bbe\u8ba1\u6a21\u5f0f\u7a7a\u95f4","text":"<p>\u6309\u76ee\u7684\u5206\u7c7b\uff1a</p> <ol> <li>\u521b\u5efa\u578b\uff08Creational\uff09\uff1a\u4e0e\u5bf9\u8c61\u521b\u5efa\u6709\u5173</li> <li>\u7ed3\u6784\u578b\uff08Structural\uff09\uff1a\u5904\u7406\u7c7b\u6216\u5bf9\u8c61\u7684\u7ec4\u5408</li> <li>\u884c\u4e3a\u578b\uff08Behavioral\uff09\uff1a\u7c7b\u548c\u5bf9\u8c61\u7684\u4ea4\u4e92\u4ee5\u53ca\u600e\u6837\u5206\u914d\u804c\u8d23</li> </ol> <p>\u6309\u4f5c\u7528\u8303\u56f4\u5206\u7c7b\uff1a</p> <ol> <li>\u7c7b\uff1a\u7c7b\u6a21\u5f0f\u5904\u7406\u7c7b\u548c\u5b50\u7c7b\u4e4b\u95f4\u7684\u5173\u7cfb\uff0c\u8fd9\u4e9b\u5173\u7cfb\u901a\u8fc7\u7ee7\u627f\u5efa\u7acb\uff0c\u662f\u9759\u6001\u7684\uff0c\u5728\u7f16\u8bd1\u9636\u6bb5\u5df2\u7ecf\u786e\u5b9a\u3002</li> <li>\u5bf9\u8c61\uff1a\u5bf9\u8c61\u6a21\u5f0f\u5904\u7406\u5bf9\u8c61\u95f4\u7684\u5173\u7cfb\uff0c\u8fd9\u4e9b\u5173\u7cfb\u5728\u8fd0\u884c\u65f6\u52a8\u6001\u53d8\u5316\u3002</li> </ol>","tags":["\u4ee3\u7801\u8bbe\u8ba1"]},{"location":"foundation/code-design/70.design-patterns/#uml","title":"\u8bbe\u8ba1\u6a21\u5f0f\u7684UML\u56fe\u8868\u793a\u6cd5","text":"","tags":["\u4ee3\u7801\u8bbe\u8ba1"]},{"location":"foundation/code-design/70.design-patterns/#_6","title":"\u7c7b","text":"","tags":["\u4ee3\u7801\u8bbe\u8ba1"]},{"location":"foundation/code-design/70.design-patterns/#_7","title":"\u5b9e\u4f8b\u5316","text":"<p>\u4e00\u4e2a\u7c7b\u7684\u5bf9\u8c61\u5b9e\u4f8b\u5316\u53e6\u4e00\u4e2a\u7c7b\u7684\u5bf9\u8c61\uff0c\u7bad\u5934\u6307\u5411\u88ab\u5b9e\u4f8b\u5316\u7684\u7c7b</p> <p></p>","tags":["\u4ee3\u7801\u8bbe\u8ba1"]},{"location":"foundation/code-design/70.design-patterns/#_8","title":"\u7ee7\u627f","text":"<p>\u7bad\u5934\u6307\u5411\u7236\u7c7b</p> <p></p>","tags":["\u4ee3\u7801\u8bbe\u8ba1"]},{"location":"foundation/code-design/70.design-patterns/#_9","title":"\u62bd\u8c61\u7c7b\u548c\u5b50\u7c7b\u7684\u5b9e\u73b0","text":"","tags":["\u4ee3\u7801\u8bbe\u8ba1"]},{"location":"foundation/code-design/70.design-patterns/#delegation","title":"\u59d4\u6258\uff08delegation\uff09","text":"<p>\u59d4\u6258\u662f\u4e00\u79cd\u7ec4\u5408\u65b9\u6cd5</p> <p>\u59d4\u6258\u7528\u7bad\u5934\u8868\u793a\u4e00\u4e2a\u7c7b\u7684\u5b9e\u4f8b\u5bf9\u53e6\u4e00\u4e2a\u7c7b\u5b9e\u4f8b\u7684\u5f15\u7528\u5173\u7cfb\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff0cWindow\u7c7b\u628a\u77e9\u5f62\u76f8\u5173\u7684\u64cd\u4f5c\u59d4\u6258\u7ed9\u4e86Rectangle\u7c7b\uff0c\u5177\u4f53\u5b9e\u73b0\u4e0a\u53ef\u4ee5\u662fWindow\u7c7b\u5305\u542b\u4e00\u4e2aRectangle\u5bf9\u8c61\u4f5c\u4e3a\u6210\u5458</p> <p></p>","tags":["\u4ee3\u7801\u8bbe\u8ba1"]},{"location":"foundation/code-design/70.design-patterns/#aggregation","title":"\u805a\u5408\uff08aggregation\uff09","text":"<p>\u805a\u5408\uff08aggregation\uff09\u662f\u6307\u4e00\u4e2a\u7c7b\u5305\u542b\u53e6\u4e00\u4e2a\u7c7b\u7684\u5bf9\u8c61\uff0c\u662f\u4e00\u79cd\u7ec4\u5408\u5173\u7cfb\uff0c\u805a\u5408\u548c\u76f8\u8bc6\uff08acquaintance\uff09\u7684\u533a\u522b\u662f\uff0c\u76f8\u8bc6\u662f\u4e00\u79cd\u5f31\u5f15\u7528\uff0c\u800c\u805a\u5408\u4f53\u73b0\u7684\u662f\u4e00\u79cd\u6240\u6709\u6743\u3002</p> <p></p>","tags":["\u4ee3\u7801\u8bbe\u8ba1"]},{"location":"foundation/code-design/70.design-patterns/#abstract-factory","title":"\u62bd\u8c61\u5de5\u5382\u6a21\u5f0f\uff08Abstract Factory\uff09","text":"<p>\u5982\u679c\u6211\u4eec\u6709\u591a\u4e2a\u4ea7\u54c1\u7ebf\uff08\u6216\u591a\u5957\u4ea7\u54c1\u914d\u7f6e\uff09\uff0c\u6bcf\u4e2a\u4ea7\u54c1\u7ebf\u5185\u542b\u7684\u529f\u80fd\u6a21\u5757\u548c\u5bf9\u5916\u63a5\u53e3\u90fd\u662f\u76f8\u540c\u7684\uff0c\u53ea\u662f\u529f\u80fd\u6a21\u5757\u7684\u5185\u90e8\u5b9e\u73b0\u4e0d\u540c\uff0c\u8fd9\u65f6\u53ef\u4ee5\u4f7f\u7528\u62bd\u8c61\u5de5\u5382\u6a21\u5f0f\u5bf9\u4ea7\u54c1\u7ebf\u8fdb\u884c\u9694\u79bb\u3002</p> <p>\u62bd\u8c61\u5de5\u5382\u6a21\u5f0f\u7531\u4ee5\u4e0b\u4e24\u4e2a\u90e8\u5206\u7ec4\u6210\uff1a 1. \u4e00\u4e2a\u62bd\u8c61\u5de5\u5382\u7c7b\uff0c \u591a\u4e2a\u5177\u4f53\u5de5\u5382\u7c7b 2. \u591a\u4e2a\u62bd\u8c61\u4ea7\u54c1\u7c7b\uff0c \u6bcf\u4e2a\u62bd\u8c61\u4ea7\u54c1\u7c7b\u53c8\u6839\u636e\u4ea7\u54c1\u7ebf\u7684\u6570\u91cf\u5bf9\u5e94\u591a\u4e2a\u5177\u4f53\u4ea7\u54c1\u7c7b</p> <p>\u6bcf\u4e2a\u5177\u4f53\u5de5\u5382\u8d1f\u8d23\u521b\u5efa\u5bf9\u5e94\u4ea7\u54c1\u7ebf\u7684\u6240\u6709\u4ea7\u54c1</p> <p>\u5982\u6b64\u4fbf\u53ef\u4ee5\u4e3a\u4e0d\u540c\u4ea7\u54c1\u7ebf\u5b9a\u4e49\u7edf\u4e00\u7684\u529f\u80fd\u63a5\u53e3\uff0c\u5e76\u901a\u8fc7\u5de5\u5382\u9694\u79bb\u4e0d\u540c\u7684\u4ea7\u54c1\u7ebf\uff0c\u5b9e\u73b0\u4e86\u63a5\u53e3\u548c\u4e1a\u52a1\u7684\u89e3\u8026</p>","tags":["\u4ee3\u7801\u8bbe\u8ba1"]},{"location":"foundation/code-design/70.design-patterns/#builder","title":"\u751f\u6210\u5668\u6a21\u5f0f\uff08Builder\uff09","text":"<p>\u5982\u679c\u4e00\u4e2a\u5b50\u4efb\u52a1\u6709\u591a\u79cd\u4e0d\u540c\u7684\u5904\u7406\u65b9\u5f0f\uff0c\u53ef\u4ee5\u5c06\u4e0d\u540c\u7c7b\u578b\u7684\u5b50\u4efb\u52a1\u7528\u7edf\u4e00\u7684\u62bd\u8c61\u63a5\u53e3\u5b9a\u4e49\uff0c\u8fd9\u6837\u53ef\u4ee5\u5c06\u5b50\u4efb\u52a1\u7684\u5177\u4f53\u5b9e\u73b0\u5bf9\u5916\u9690\u85cf\uff0c\u5728\u4e3b\u4efb\u52a1\u521b\u5efa\u65f6\u6839\u636e\u5b50\u4efb\u52a1\u7c7b\u578b\u914d\u7f6e\u5230\u4e3b\u4efb\u52a1\u5f53\u4e2d\uff0c\u8fd9\u5c31\u662f\u751f\u6210\u5668\u6a21\u5f0f\u3002</p> <p>\u751f\u6210\u5668\u6a21\u5f0f\u4fa7\u91cd\u4e8e\u9010\u6b65\u6784\u9020\u4e00\u4e2a\u590d\u6742\u5bf9\u8c61\u3002</p> <p>\u751f\u6210\u5668\u6a21\u5f0f\u4e3b\u8981\u5305\u542b\u4e24\u4e2a\u53c2\u4e0e\u8005\uff1a 1. \u5bfc\u5411\u5668\uff08director\uff09\uff0c\u7528\u6765\u8c03\u7528\u751f\u6210\u5668 2. \u751f\u6210\u5668\uff08builder\uff09\uff0c\u5305\u542b\u62bd\u8c61\u751f\u6210\u5668\u548c\u5177\u4f53\u751f\u6210\u5668\uff0c\u62bd\u8c61\u751f\u6210\u5668\u5b9a\u4e49\u4e86\u7edf\u4e00\u7684\u751f\u6210\u5668\u63a5\u53e3\uff0c\u5c06\u5177\u4f53\u751f\u6210\u5668\u548c\u5bfc\u5411\u5668\u89e3\u8026</p> <p>\u4ee5\u4e0b\u662f\u4e00\u4e2a\u751f\u6210\u5668\u6a21\u5f0f\u5728\u5bcc\u6587\u672c\u89e3\u6790\u5668\u4e2d\u5e94\u7528\u7684\u793a\u4f8b\uff0c\u793a\u4f8b\u4e2d\u4f7f\u7528\u4e86\u591a\u949f\u4e0d\u540c\u7684\u89e3\u6790\u5668\u5bf9\u5bcc\u6587\u672c\u505a\u8f6c\u6362\uff0c\u6839\u636e\u751f\u6210\u5668\u7684\u7c7b\u578b\uff0c\u53ef\u5c06\u5bcc\u6587\u672c\u8f6c\u6362\u4e3a\u7eaf\u6587\u672c\u3001tex\u548c\u53ef\u4ea4\u4e92\u7684ui\u7ec4\u4ef6</p> <p></p>","tags":["\u4ee3\u7801\u8bbe\u8ba1"]},{"location":"foundation/code-design/70.design-patterns/#factory-method","title":"\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\uff08Factory Method\uff09","text":"<p>\u7b80\u5355\u6765\u8bf4\uff0c\u5c31\u662f\u628a\u521b\u5efa\u5bf9\u8c61\u7684\u63a5\u53e3\u62bd\u8c61\u51fa\u6765\uff0c\u653e\u5230\u62bd\u8c61\u7c7b\u4e2d\u53bb</p> <p>\u8fd9\u4e2a\u6a21\u5f0f\u6bd4\u8f83\u7b80\u5355\uff0c\u62bd\u8c61\u5de5\u5382\u6a21\u5f0f\u7ecf\u5e38\u4f1a\u7528\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u5b9e\u73b0\uff0c\u53ef\u4ee5\u8bf4\uff0c\u5de5\u5382\u65b9\u6cd5\u6a21\u5f0f\u662f\u62bd\u8c61\u5de5\u5382\u6a21\u5f0f\u7684\u57fa\u7840</p>","tags":["\u4ee3\u7801\u8bbe\u8ba1"]},{"location":"foundation/code-design/70.design-patterns/#prototype","title":"\u539f\u578b\u6a21\u5f0f\uff08Prototype\uff09","text":"<p>\u4e8b\u5148\u521b\u5efa\u51fa\u6765\u4e00\u4e2a\u5bf9\u8c61\u7684\u793a\u4f8b\uff0c\u7528\u6237\u60f3\u8981\u83b7\u5f97\u4e00\u4e2a\u5bf9\u8c61\u65f6\uff0c\u76f4\u63a5\u4ece\u9884\u521b\u5efa\u7684\u5bf9\u8c61\u4e0a\u514b\u9686\u4e00\u4e2a\u65b0\u5bf9\u8c61\u51fa\u6765\uff0c\u800c\u4e0d\u662f\u8c03\u7528\u5de5\u5382\u65b9\u6cd5\u53bbnew\u4e00\u4e2a\u5bf9\u8c61\u51fa\u6765</p>","tags":["\u4ee3\u7801\u8bbe\u8ba1"]},{"location":"foundation/code-design/70.design-patterns/#singleton","title":"\u5355\u4f8b\u6a21\u5f0f\uff08Singleton\uff09","text":"","tags":["\u4ee3\u7801\u8bbe\u8ba1"]},{"location":"foundation/code-design/70.design-patterns/#adapter","title":"\u9002\u914d\u5668\u6a21\u5f0f\uff08Adapter\uff09","text":"<p>\u522b\u540d\uff1aWrapper</p> <p>\u7b2c\u4e00\u4e2a\u7ed3\u6784\u578b\u8bbe\u8ba1\u6a21\u5f0f\uff0c\u7b80\u5355\u6765\u8bf4\uff0c\u5c31\u662f\u5c06\u4e00\u4e2a\u7c7b\u7684\u63a5\u53e3\u9002\u914d\u5230\u53e6\u4e00\u4e2a\u7c7b\u7684\u63a5\u53e3\u4e0a\uff0c\u6bd4\u5982\uff0c\u5982\u679c\u6211\u4eec\u60f3\u5c06\u4e00\u4e2a\u5df2\u6709\u7684\u6a21\u5757\u66ff\u6362\u4e3a\u53e6\u4e00\u4e2a\uff0c\u65b0\u7684\u6a21\u5757\u63a5\u53e3\u548c\u539f\u6765\u5b8c\u5168\u4e0d\u4e00\u6837\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u52a0\u4e00\u5c42\uff0c\u4f7f\u7528\u9002\u914d\u5668\u6a21\u5f0f\uff0c\u5c06\u65b0\u6a21\u5757\u7684\u63a5\u53e3\u9002\u914d\u5230\u539f\u6709\u63a5\u53e3\u4e0a\u3002</p> <p>\u9002\u914d\u5668\u6a21\u5f0f\u7684\u7ee7\u627f\u5199\u6cd5:</p> <p></p> <p>\u9002\u914d\u5668\u6a21\u5f0f\u7684\u7ec4\u5408\u5199\u6cd5:</p> <p></p>","tags":["\u4ee3\u7801\u8bbe\u8ba1"]},{"location":"foundation/code-design/70.design-patterns/#bridge","title":"\u6865\u63a5\u6a21\u5f0f\uff08Bridge\uff09","text":"<p>\u5f88\u7b80\u5355\uff0c\u63a5\u53e3\u548c\u5b9e\u73b0\u5206\u79bb</p> <p></p> <p>\u8fd9\u4e2a\u56fe\u611f\u89c9\u753b\u7684\u6709\u70b9\u7a0d\u590d\u6742</p>","tags":["\u4ee3\u7801\u8bbe\u8ba1"]},{"location":"foundation/code-design/70.design-patterns/#composite","title":"\u7ec4\u5408\u6a21\u5f0f\uff08Composite\uff09","text":"<p>\u5e76\u4e0d\u662f\u7b80\u5355\u7684\u7ec4\u5408\uff0c\u800c\u662f\u628a\u6240\u6709\u5bf9\u8c61\u62bd\u8c61\u4e3a\u7edf\u4e00\u7684component\uff0c\u5e76\u5c06\u5176\u7ec4\u5408\u4e3a\u5c42\u5c42\u7236\u5b50\u5173\u7cfb</p> <p></p>","tags":["\u4ee3\u7801\u8bbe\u8ba1"]},{"location":"foundation/code-design/70.design-patterns/#decorator","title":"\u88c5\u9970\u5668\u6a21\u5f0f\uff08Decorator\uff09","text":"<p>\u88c5\u9970\u5668\u6a21\u5f0f\u4e5f\u662f\u4e00\u79cd\u7ec4\u5408\u6a21\u5f0f\uff0c\u88c5\u9970\u5668\u6a21\u5f0f\u5173\u6ce8\u7684\u662f\u5728\u4e0d\u6539\u53d8\u63a5\u53e3\u7684\u524d\u63d0\u4e0b\uff0c\u52a8\u6001\u6269\u5c55\u7236\u7c7b\u7684\u529f\u80fd</p> <p></p>","tags":["\u4ee3\u7801\u8bbe\u8ba1"]},{"location":"foundation/code-design/70.design-patterns/#facade","title":"\u5916\u89c2\u6a21\u5f0f\uff08Facade\uff09","text":"<p>\u5bf9\u4e8e\u4e00\u4e2a\u6bd4\u8f83\u590d\u6742\u7684\u7cfb\u7edf\uff0c\u5b83\u53ef\u80fd\u7531\u5f88\u591a\u5b50\u7cfb\u7edf\u6784\u6210\uff0c\u5b83\u5bf9\u5916\u66b4\u9732\u63a5\u53e3\u65f6\uff0c\u5c3d\u53ef\u80fd\u63d0\u4f9b\u4e00\u4e9b\u8f83\u4e3a\u7b80\u5355\u7684\u63a5\u53e3\u4f9b\u7528\u6237\u4f7f\u7528\uff0c\u540c\u65f6\u5b83\u4e0d\u4f1a\u5b8c\u5168\u9690\u85cf\u5e95\u5c42\u7684\u590d\u6742\u7ec6\u8282\uff0c\u4e5f\u4f1a\u66b4\u9732\u4e00\u4e9b\u76f8\u5bf9\u5e95\u5c42\u7684\u63a5\u53e3\u4f9b\u7528\u6237\u4f7f\u7528\uff0c\u5bf9\u4e8e\u5927\u591a\u6570\u7528\u6237\u6765\u8bf4\uff0c\u7b80\u5355\u7684\u9ed8\u8ba4\u63a5\u53e3\u5df2\u8db3\u591f\u4f7f\u7528\uff0c\u800c\u5bf9\u4e8e\u90a3\u4e9b\u4e86\u89e3\u5e95\u5c42\u7ec6\u8282\u7684\u7528\u6237\uff0c\u4ed6\u4eec\u53ef\u4ee5\u4f7f\u7528\u90a3\u4e9b\u76f8\u5bf9\u5e95\u5c42\u7684\u63a5\u53e3\uff0c\u8fd9\u5c31\u662f\u5916\u89c2\u6a21\u5f0f</p> <p></p>","tags":["\u4ee3\u7801\u8bbe\u8ba1"]},{"location":"foundation/code-design/70.design-patterns/#flyweight","title":"\u4eab\u5143\u6a21\u5f0f\uff08Flyweight\uff09","text":"<p>\u4eab\u5143\u6a21\u5f0f\u7684\u7406\u5ff5\u662f\u5171\u4eab\u53ef\u590d\u7528\u7684\u5bf9\u8c61\uff0c\u4e3b\u8981\u76ee\u7684\u662f\u51cf\u5c11\u521b\u5efa\u5bf9\u8c61\u7684\u6570\u91cf\uff0c\u4ee5\u51cf\u5c11\u5185\u5b58\u5360\u7528\u548c\u63d0\u9ad8\u6027\u80fd\u3002</p> <p>\u4eab\u5143\u6a21\u5f0f\u5c06\u4f7f\u7528\u4eab\u5143\u5de5\u5382\u548c\u4eab\u5143\u6c60\u6765\u7ba1\u7406\u548c\u5b58\u50a8\u5171\u4eab\u5bf9\u8c61</p> <p></p>","tags":["\u4ee3\u7801\u8bbe\u8ba1"]},{"location":"foundation/code-design/70.design-patterns/#proxy","title":"\u4ee3\u7406\u6a21\u5f0f\uff08Proxy\uff09","text":"<p>\u4e3a\u5176\u4ed6\u5bf9\u8c61\u63d0\u4f9b\u4ee3\u7406\uff0c\u4ee3\u7406\u7684\u76ee\u7684\u5305\u62ec\u8bbf\u95ee\u63a7\u5236\u3001\u6309\u9700\u521b\u5efa\u3001\u5f15\u7528\u8ba1\u6570\u7b49\u7b49</p> <p></p>","tags":["\u4ee3\u7801\u8bbe\u8ba1"]},{"location":"foundation/code-design/70.design-patterns/#chain-of-responsibility","title":"\u8d23\u4efb\u94fe\u6a21\u5f0f\uff08Chain of Responsibility\uff09","text":"<p>\u8bf7\u6c42\u94fe\u5f0f\u4f20\u9012\uff0c\u94fe\u4e0a\u7684\u6bcf\u4e2a\u5bf9\u8c61\u90fd\u6709\u673a\u4f1a\u5904\u7406\u8bf7\u6c42\uff0c\u8bf7\u6c42\u8005\u5e76\u4e0d\u77e5\u9053\u8bf7\u6c42\u6700\u7ec8\u4f1a\u88ab\u54ea\u4e2a\u5bf9\u8c61\u5904\u7406</p> <p></p>","tags":["\u4ee3\u7801\u8bbe\u8ba1"]},{"location":"foundation/code-design/70.design-patterns/#command","title":"\u547d\u4ee4\u6a21\u5f0f\uff08Command\uff09","text":"<p>\u547d\u4ee4\u6a21\u5f0f\u5c06\u8bf7\u6c42\u5c01\u88c5\u4e3a\u4e00\u4e2acommand\u5bf9\u8c61\uff0c\u5c06\u8bf7\u6c42\u53d1\u8d77\u65b9\u548c\u8bf7\u6c42\u63a5\u6536\u65b9\u89e3\u8026\u3002</p> <p>\u4ee5\u4e0b\u662f\u4e00\u4e2a\u547d\u4ee4\u6a21\u5f0f\u4f7f\u7528\u7684\u573a\u666f\uff1aUI\u5c42\u4f1a\u5c06\u6bcf\u4e2a\u83dc\u5355\u9879\u7684\u70b9\u51fb\u4e8b\u4ef6\u5c01\u88c5\u4e3a\u4e00\u4e2acommand\u5bf9\u8c61\uff0c\u4f20\u9012\u7ed9\u4e1a\u52a1\u5c42\uff0c\u4e1a\u52a1\u5c42\u6839\u636e\u4e0d\u540c\u7684command\u5bf9\u8c61\uff0c\u6267\u884c\u4e0d\u540c\u7684\u4e1a\u52a1\u903b\u8f91\u3002</p> <p></p> <p>\u547d\u4ee4\u6a21\u5f0f\u7684\u7ed3\u6784\u5982\u4e0b\u56fe\u6240\u793a\uff0c\u53c2\u4e0e\u8005\u5206\u4e3aclient\u3001invoker \u548c receiver, client\u8d1f\u8d23\u521b\u5efacommand\u5e76\u4e3a\u5176\u6307\u5b9areceiver\uff0cinvoker\u8d1f\u8d23\u8c03\u7528command\u7684execute\u65b9\u6cd5\uff0creceiver\u8d1f\u8d23\u5177\u4f53\u7684\u4e1a\u52a1\u903b\u8f91\uff0c\u6ce8\u610freceiver\u5e76\u4e0d\u662f\u63a5\u6536\u547d\u4ee4\u7684\u6267\u884c\u7ed3\u679c\uff0c\u800c\u662f\u63a5\u6536\u547d\u4ee4\u672c\u8eab\uff0c\u547d\u4ee4\u7684\u6267\u884c\u8981\u7531receiver\u8d1f\u8d23\u3002</p> <p></p>","tags":["\u4ee3\u7801\u8bbe\u8ba1"]},{"location":"foundation/code-design/70.design-patterns/#interpreter","title":"\u89e3\u91ca\u5668\u6a21\u5f0f\uff08Interpreter\uff09","text":"<p>\u89e3\u91ca\u5668\u6a21\u5f0f\u662f\u4e00\u79cd\u4e13\u95e8\u9488\u5bf9\u8bed\u6cd5\u89e3\u6790\u7684\u8bbe\u8ba1\u6a21\u5f0f</p> <p>\u4ee5\u4e0b\u662f\u4e00\u4e2a\u6b63\u5219\u8868\u8fbe\u5f0f\u89e3\u6790\u7684\u4f8b\u5b50\uff0c\u56fe\u4e2d\u5c06\u6b63\u5219\u8868\u8fbe\u5f0f\u62c6\u5206\u4e3a\u591a\u4e2a\u8868\u8fbe\u5f0f\u7c7b\uff0c\u6784\u6210\u4e86\u4e00\u4e2a\u62bd\u8c61\u8bed\u6cd5\u6811\u3002</p> <p></p>","tags":["\u4ee3\u7801\u8bbe\u8ba1"]},{"location":"foundation/code-design/70.design-patterns/#iterator","title":"\u8fed\u4ee3\u5668\u6a21\u5f0f\uff08Iterator\uff09","text":"<p>\u8fed\u4ee3\u5668\u6a21\u5f0f\u63d0\u4f9b\u4e00\u79cd\u904d\u5386\u805a\u5408\u5bf9\u8c61\u7684\u65b9\u6cd5\uff0c\u800c\u65e0\u9700\u66b4\u9732\u805a\u5408\u5bf9\u8c61\u7684\u5185\u90e8\u8868\u793a\u3002</p> <p></p>","tags":["\u4ee3\u7801\u8bbe\u8ba1"]},{"location":"foundation/code-design/70.design-patterns/#mediator","title":"\u4e2d\u4ecb\u8005\u6a21\u5f0f\uff08Mediator\uff09","text":"<p>\u4e2d\u4ecb\u8005\u6a21\u5f0f\u7528\u4e8e\u5c01\u88c5\u4e00\u7ec4\u5bf9\u8c61\u4e4b\u95f4\u7684\u4ea4\u4e92\u5173\u7cfb\u3002\u4e2d\u4ecb\u8005\u6a21\u5f0f\u5c06\u5bf9\u8c61\u4e4b\u95f4\u7684\u7f51\u72b6\u5173\u7cfb\u8f6c\u5316\u4e3a\u661f\u578b\u5173\u7cfb\uff0c\u4ece\u800c\u7b80\u5316\u4e86\u5bf9\u8c61\u4e4b\u95f4\u7684\u4ea4\u4e92\uff0c\u5e76\u4e14\u53ef\u4ee5\u5c06\u4ea4\u4e92\u884c\u4e3a\u72ec\u7acb\u51fa\u6765\uff0c\u4f7f\u5f97\u5bf9\u8c61\u4e4b\u95f4\u53ef\u4ee5\u677e\u8026\u5408\u5730\u4ea4\u4e92\u3002</p> <p>\u4ee5\u4e0b\u662f\u4e00\u4e2a\u4e2d\u4ecb\u8005\u6a21\u5f0f\u7684\u4ea4\u4e92\u793a\u4f8b\uff0c</p> <p></p>","tags":["\u4ee3\u7801\u8bbe\u8ba1"]},{"location":"foundation/code-design/70.design-patterns/#memento","title":"\u5907\u5fd8\u5f55\u6a21\u5f0f\uff08Memento\uff09","text":"<p>\u5907\u5fd8\u5f55\u6a21\u5f0f\u7528\u6765\u5b9e\u73b0\u68c0\u67e5\u70b9\u548c\u64a4\u9500\u673a\u5236\uff0c\u5b83\u53ef\u4ee5\u5c06\u5bf9\u8c61\u7684\u5f53\u524d\u72b6\u6001\u4fdd\u5b58\u4e3a\u4e00\u4e2a\u201c\u5907\u5fd8\u5f55\u201d\uff0c\u4f5c\u4e3a\u4e00\u4e2a\u68c0\u67e5\u70b9\uff0c\u4e4b\u540e\u5c31\u53ef\u4ee5\u5c06\u5bf9\u8c61\u6062\u590d\u5230\u4e4b\u524d\u72b6\u6001\u3002</p> <p></p> <p>\u5907\u5fd8\u5f55\u6a21\u5f0f\u7684\u53c2\u4e0e\u8005\u5305\u62ec\uff1a</p> <ul> <li>Originator\uff1a\u53d1\u8d77\u8005\uff0c\u5b83\u8d1f\u8d23\u521b\u5efa\u4e00\u4e2a\u5907\u5fd8\u5f55\uff0c\u7528\u4e8e\u8bb0\u5f55\u5f53\u524d\u72b6\u6001\uff0c\u4ee5\u53ca\u4f7f\u7528\u5907\u5fd8\u5f55\u6765\u6062\u590d\u4e4b\u524d\u7684\u72b6\u6001\u3002</li> <li>Memento\uff1a\u5907\u5fd8\u5f55\u3002</li> <li>Caretaker\uff1a\u7ba1\u7406\u8005\uff0c\u8d1f\u8d23\u4fdd\u5b58\u5907\u5fd8\u5f55\uff0c\u4f46\u4e0d\u80fd\u5bf9\u5907\u5fd8\u5f55\u7684\u5185\u5bb9\u8fdb\u884c\u64cd\u4f5c\u6216\u68c0\u67e5\u3002</li> </ul>","tags":["\u4ee3\u7801\u8bbe\u8ba1"]},{"location":"foundation/code-design/70.design-patterns/#observer","title":"\u89c2\u5bdf\u8005\u6a21\u5f0f\uff08Observer\uff09","text":"<p>\u89c2\u5bdf\u8005\u6a21\u5f0f\u662f\u4e00\u79cd\u53d1\u5e03-\u8ba2\u9605\uff08Publish-Subscribe\uff09\u6a21\u5f0f\uff0c\u5b83\u5b9a\u4e49\u4e86\u4e00\u79cd\u4e00\u5bf9\u591a\u7684\u4f9d\u8d56\u5173\u7cfb\uff0c\u5f53\u4e00\u4e2a\u5bf9\u8c61\u7684\u72b6\u6001\u53d1\u751f\u6539\u53d8\u65f6\uff0c\u6240\u6709\u4f9d\u8d56\u4e8e\u5b83\u7684\u5bf9\u8c61\u90fd\u4f1a\u5f97\u5230\u901a\u77e5\u5e76\u81ea\u52a8\u66f4\u65b0\u3002</p> <p></p>","tags":["\u4ee3\u7801\u8bbe\u8ba1"]},{"location":"foundation/code-design/70.design-patterns/#state","title":"\u72b6\u6001\u6a21\u5f0f\uff08State\uff09","text":"<p>\u5bf9\u8c61\u5185\u90e8\u72b6\u6001\u53d1\u751f\u6539\u53d8\u65f6\uff0c\u5bf9\u8c61\u7684\u884c\u4e3a\u4e5f\u4f1a\u968f\u4e4b\u6539\u53d8\uff0c\u5c31\u597d\u50cf\u4fee\u6539\u4e86\u5b83\u7684\u7c7b\u4e00\u6837\uff0c\u8fd9\u79cd\u6a21\u5f0f\u79f0\u4e3a\u72b6\u6001\u6a21\u5f0f\u3002</p> <p>\u72b6\u6001\u6a21\u5f0f\u7684\u4fa7\u91cd\u70b9\u5728\u4e8e\uff0c\u5f53\u4fdd\u6301\u5bf9\u8c61\u7684\u63a5\u53e3\u4e0d\u53d8\u65f6\uff0c\u5982\u4f55\u6839\u636e\u5bf9\u8c61\u7684\u72b6\u6001\u6539\u53d8\u5bf9\u8c61\u7684\u884c\u4e3a\u3002</p> <p>\u72b6\u6001\u6a21\u5f0f\u901a\u5e38\u4e0e\u72b6\u6001\u673a\u76f8\u7ed3\u5408\uff0c\u4f8b\u5982\uff0c\u4e0b\u9762\u662f\u4e00\u4e2aTCPConnection\u7c7b\u7684\u72b6\u6001\u6a21\u5f0f\u793a\u4f8b\uff1a</p> <p></p> <p>TCPConnection\u5bf9\u8c61\u5904\u4e8e\u4e0d\u540c\u7684\u72b6\u6001\u65f6\uff0c\u5b83\u7684\u63a5\u53e3\u4f1a\u6267\u884c\u4e0d\u540c\u7684\u52a8\u4f5c\uff0c\u8fd4\u56de\u4e0d\u540c\u7684\u7ed3\u679c\u3002</p>","tags":["\u4ee3\u7801\u8bbe\u8ba1"]},{"location":"foundation/code-design/70.design-patterns/#strategy","title":"\u7b56\u7565\u6a21\u5f0f\uff08Strategy\uff09","text":"<p>\u5c06\u4e0d\u540c\u7684\u7b97\u6cd5\u5c01\u88c5\u6210\u4e0d\u540c\u7684\u7b56\u7565\u7c7b\uff0c\u5e76\u901a\u8fc7\u4e0a\u4e0b\u6587\uff08Context\uff09\u6765\u9009\u62e9\u5177\u4f53\u7684\u7b56\u7565\u3002</p> <p></p>","tags":["\u4ee3\u7801\u8bbe\u8ba1"]},{"location":"foundation/code-design/70.design-patterns/#template-method","title":"\u6a21\u7248\u65b9\u6cd5\u6a21\u5f0f\uff08Template Method\uff09","text":"<p>\u5178\u578b\u7684\u9762\u5411\u5bf9\u8c61\u6a21\u5f0f\uff0c\u5b9a\u4e49\u4e00\u5957\u901a\u7528\u7684\u7b97\u6cd5\u63a5\u53e3\uff0c\u628a\u5177\u4f53\u5b9e\u73b0\u7559\u7ed9\u5b50\u7c7b\u53bb\u5b9e\u73b0\uff0c\u5404\u5b50\u7c7b\u5177\u6709\u5171\u6027\u7684\u5904\u7406\u65b9\u6cd5\u53ef\u4ee5\u76f4\u63a5\u5728\u57fa\u7c7b\u4e2d\u5b9e\u73b0\uff0c\u907f\u514d\u4ee3\u7801\u91cd\u590d\u3002</p> <p></p>","tags":["\u4ee3\u7801\u8bbe\u8ba1"]},{"location":"foundation/code-design/70.design-patterns/#visitor","title":"\u8bbf\u95ee\u8005\u6a21\u5f0f\uff08Visitor\uff09","text":"<p>\u8bbf\u95ee\u8005\u6a21\u5f0f\u662f\u4e00\u79cd\u5c06\u6570\u636e\u548c\u5bf9\u6570\u636e\u7684\u64cd\u4f5c\u5206\u79bb\u7684\u6a21\u5f0f\uff0c\u4f8b\u5982\uff0c\u6211\u4eec\u6709\u4e00\u4e2a\u6811\u72b6\u7ed3\u6784\uff0c\u6811\u4e2d\u6709\u5404\u4e2a\u7c7b\u578b\u7684\u8282\u70b9\uff0c\u6211\u4eec\u8981\u5bf9\u4e0d\u540c\u7c7b\u578b\u7684\u8282\u70b9\u505a\u5404\u79cd\u4e0d\u540c\u7684\u5904\u7406\uff0c\u5982\u679c\u628a\u8fd9\u4e9b\u5904\u7406\u903b\u8f91\u90fd\u653e\u5728\u8282\u70b9\u7c7b\u4e2d\uff0c\u4f1a\u5bfc\u81f4\u8282\u70b9\u7c7b\u7684\u4ee3\u7801\u53d8\u5f97\u975e\u5e38\u590d\u6742\uff0c\u8fd9\u65f6\u53ef\u4ee5\u4f7f\u7528\u8bbf\u95ee\u8005\u6a21\u5f0f\uff0c\u5c06\u5904\u7406\u903b\u8f91\u5c01\u88c5\u5230\u8bbf\u95ee\u8005\u7c7b\u4e2d\uff0c\u5f53\u904d\u5386\u6811\u72b6\u7ed3\u6784\u65f6\uff0c\u6839\u636e\u8282\u70b9\u7c7b\u578b\uff0c\u91c7\u7528\u4e0d\u540c\u7684\u8bbf\u95ee\u8005\u6765\u5904\u7406\u8282\u70b9\u3002</p> <p></p>","tags":["\u4ee3\u7801\u8bbe\u8ba1"]},{"location":"foundation/concurrent-programming/30.coroutine-stack/","title":"\u6709\u6808\u534f\u7a0b\u548c\u65e0\u6808\u534f\u7a0b","text":"","tags":["\u5e76\u53d1\u7f16\u7a0b","c/c++","golang"]},{"location":"foundation/concurrent-programming/30.coroutine-stack/#_1","title":"\u6709\u6808\u534f\u7a0b","text":"<ul> <li>\u6709\u6808\u534f\u7a0b\u662f\u6307\u7ed9\u6bcf\u4e2a\u534f\u7a0b\u5f00\u8f9f\u4e00\u4e2a\u5355\u72ec\u7684\u6808\u7a7a\u95f4\uff0c\u9700\u8981\u4e00\u5957\u8c03\u5ea6\u673a\u5236\u6765\u5bf9\u534f\u7a0b\u8fdb\u884c\u8c03\u5ea6\uff0c\u7c7b\u4f3c\u7ebf\u7a0b\u8c03\u5ea6\u3002</li> <li>\u6709\u6808\u534f\u7a0b\u4e4b\u95f4\u662f\u76f8\u4e92\u72ec\u7acb\u7684\uff0c\u4e0d\u5b58\u5728\u8c03\u7528\u5173\u7cfb\uff0c\u7531\u8c03\u5ea6\u5668\u8d1f\u8d23\u8c03\u5ea6\uff0c\u5bf9\u534f\u7a0b\u7684\u8c03\u5ea6\u76f8\u5bf9\u516c\u5e73\uff0c\u6709\u6808\u534f\u7a0b\u53c8\u79f0\u5bf9\u79f0\u534f\u7a0b</li> <li>golang\u7684\u534f\u7a0b\u5c31\u662f\u5178\u578b\u7684\u6709\u6808\u534f\u7a0b</li> </ul>","tags":["\u5e76\u53d1\u7f16\u7a0b","c/c++","golang"]},{"location":"foundation/concurrent-programming/30.coroutine-stack/#_2","title":"\u65e0\u6808\u534f\u7a0b","text":"<ul> <li>\u65e0\u6808\u534f\u7a0b\u662f\u6307\u6240\u6709\u534f\u7a0b\u7edf\u4e00\u7528\u4e00\u4e2a\u6808\uff0c\u534f\u7a0b\u6ca1\u6709\u5355\u72ec\u7684\u6808\u7a7a\u95f4\uff0c\u534f\u7a0b\u6267\u884c\u548c\u51fd\u6570\u8c03\u7528\u7c7b\u4f3c\u3002</li> <li>\u65e0\u6808\u534f\u7a0b\u7684\u6267\u884c\u987a\u5e8f\u548c\u534f\u7a0b\u8c03\u7528\u5173\u7cfb\u6709\u5173\uff0c\u8c03\u5ea6\u4e0d\u5982\u6709\u6808\u534f\u7a0b\u516c\u5e73\uff0c\u65e0\u6808\u534f\u7a0b\u53c8\u79f0\u975e\u5bf9\u79f0\u534f\u7a0b\u3002</li> <li>\u65e0\u6808\u534f\u7a0b\u76f8\u5bf9\u8f7b\u91cf\uff0c\u5bf9\u7cfb\u7edf\u8d44\u6e90\u7684\u6d88\u8017\u6bd4\u6709\u6808\u534f\u7a0b\u5c11</li> <li>async/await\uff0casync\u5c31\u662f\u628a\u4e00\u4e2a\u51fd\u6570\u58f0\u660e\u4e3a\u5f02\u6b65\u7684\uff0c\u5373\u58f0\u660e\u4e3a\u4e00\u4e2a\u534f\u7a0b\uff0cawait\u5c31\u662f\u542f\u52a8\u4e00\u4e2a\u534f\u7a0b\u5e76\u7b49\u5f85\u5b83\u6267\u884c\u5b8c\u6bd5</li> <li>js\u534f\u7a0b\u3001c++20\u534f\u7a0b\u3001python\u534f\u7a0b\u90fd\u662f\u65e0\u6808\u534f\u7a0b</li> </ul>","tags":["\u5e76\u53d1\u7f16\u7a0b","c/c++","golang"]},{"location":"foundation/concurrent-programming/37.condition-variable/","title":"\u6761\u4ef6\u53d8\u91cf","text":"<p>\u6761\u4ef6\u53d8\u91cf\u662f\u4e00\u79cd\u7ebf\u7a0b\u540c\u6b65\u624b\u6bb5\uff0c\u4e00\u822c\u7531\u4e09\u4e2a\u90e8\u5206\u7ec4\u6210\uff1a\u4fe1\u53f7\uff0c\u6761\u4ef6\u548c\u4e92\u65a5\u91cf\uff0c\u4ed6\u4eec\u7684\u4f5c\u7528\u662f\u8fd9\u6837\u7684\uff1a</p> <ul> <li>\u4fe1\u53f7\u7684\u4f5c\u7528\u662f\u7ebf\u7a0b\u95f4\u540c\u6b65\uff0c\u4e00\u822c\u4f1a\u63d0\u4f9b\u4e24\u4e2a\u57fa\u672c\u64cd\u4f5c\uff0cwait \u548c notify\uff0cwait\u7528\u4e8e\u7b49\u5f85\u4fe1\u53f7\uff0cnotify\u7528\u4e8e\u53d1\u51fa\u4fe1\u53f7</li> <li>\u6761\u4ef6\u4e00\u822c\u662f\u7528\u6237\u81ea\u5df1\u5b9a\u4e49\u7684\u68c0\u67e5\u6761\u4ef6\u3002</li> <li>\u4e92\u65a5\u91cf\u4e00\u662f\u7528\u4e8e\u4fdd\u62a4\u6761\u4ef6\u5728\u591a\u7ebf\u7a0b\u8bbf\u95ee\u4e0b\u7684\u4e00\u81f4\u6027\uff0c\u4e8c\u662f\u7528\u4e8e\u4fdd\u62a4\u6761\u4ef6\u53d8\u66f4\u548c\u4fe1\u53f7\u53d8\u66f4\u4e4b\u95f4\u7684\u65f6\u5e8f\uff0c\u9632\u6b62\u6f0f\u6389\u4fe1\u53f7\u6216\u7a0b\u5e8f\u6b7b\u9501\u3002</li> </ul>","tags":["c/c++","\u5e76\u53d1\u7f16\u7a0b"]},{"location":"foundation/concurrent-programming/37.condition-variable/#_1","title":"\u4e3a\u4ec0\u4e48\u9700\u8981\u4e92\u65a5\u91cf\uff1f","text":"<p>\u6761\u4ef6\u53d8\u91cf\u7684\u673a\u5236\u4e00\u822c\u662f\u8981\u6c42\u5fc5\u987b\u5728notify\u4e4b\u524dwait\uff0c\u5982\u679c\u5728notify\u4e4b\u540ewait\uff0c\u4f1a\u5bfc\u81f4notify\u4e22\u5931\uff0cwait\u6c38\u8fdc\u963b\u585e\uff0c\u8fd9\u662f\u524d\u63d0\u3002</p> <p>\u4f7f\u7528\u6761\u4ef6\u53d8\u91cf\u65f6\uff0c\u4e00\u822c\u6709\u56db\u79cd\u64cd\u4f5c\uff08\u5047\u8bbe\u6761\u4ef6\u540d\u4e3aready\uff09\uff1a</p> <ul> <li>\u7ebf\u7a0b1\uff1a<ul> <li>\u64cd\u4f5c1\uff1await\uff0c\u7b49\u5f85\u4fe1\u53f7</li> <li>\u64cd\u4f5c2\uff1acheck ready\uff0c\u68c0\u67e5\u6761\u4ef6</li> </ul> </li> <li>\u7ebf\u7a0b2\uff1a<ul> <li>\u64cd\u4f5c3\uff1aready &lt;- true\uff0c\u53d8\u66f4\u6761\u4ef6</li> <li>\u64cd\u4f5c4: notify\uff0c\u53d1\u51fa\u4fe1\u53f7</li> </ul> </li> </ul> <p>\u64cd\u4f5c3\u30014\u7684\u987a\u5e8f\u4e00\u822c\u662f\u56fa\u5b9a\u7684\uff0c\u6211\u4eec\u603b\u662f\u4f1a\u5728\u6761\u4ef6ready\u53d8\u66f4\u4e4b\u540e\u624dnotify\uff0c\u64cd\u4f5c1\u30012\u7684\u987a\u5e8f\u5219\u4e0d\u4e00\u5b9a\uff0c\u6709\u65f6\u5019\u5148check ready\u518d wait\uff0c\u6709\u65f6\u5019\u5148wait\u518dcheck ready\u3002</p> <p>\u4e92\u65a5\u91cf\u4fdd\u62a4\u7684\u662f\u6761\u4ef6\u5728\u591a\u7ebf\u7a0b\u4e0b\u7684\u4e00\u81f4\u6027\u548c\u64cd\u4f5c\u987a\u5e8f\u7684\u539f\u5b50\u6027\uff0c\u5982\u679c\u64cd\u4f5c1\u30012\u7684\u987a\u5e8f\u6c38\u8fdc\u662f\u5148wait\u518dcheck ready\uff0c\u5e76\u4e14\u53ea\u6267\u884c\u4e00\u6b21\uff0c\u662f\u4e0d\u9700\u8981\u4e92\u65a5\u91cf\u7684\uff0c\u56e0\u4e3await\u88ab\u89e6\u53d1\u65f6\uff0cready &lt;- true \u548c notify \u80af\u5b9a\u5df2\u7ecf\u6267\u884c\u5b8c\u6bd5\u4e86\uff0c\u8fd9\u65f6\u5019\u76f4\u63a5check ready\u80af\u5b9a\u662f\u6ca1\u95ee\u9898\u7684\u3002</p> <p>\u5982\u679c\u5148check ready\u518dwait\uff0c\u5728\u6ca1\u6709\u4e92\u65a5\u91cf\u7684\u60c5\u51b5\u4e0b\uff0c\u64cd\u4f5c\u987a\u5e8f\u53ef\u80fd\u4f1a\u88ab\u8c03\u5ea6\u4e3a\u4ee5\u4e0b\u987a\u5e8f\uff1a</p> <ul> <li>\u7ebf\u7a0b1\uff1acheck ready</li> <li>\u7ebf\u7a0b2\uff1aready &lt;- true</li> <li>\u7ebf\u7a0b2\uff1anotify</li> <li>\u7ebf\u7a0b1\uff1await</li> </ul> <p>\u5728\u8fd9\u79cd\u987a\u5e8f\u4e0b\uff0ccheck ready\u5728ready &lt;- true\u4e4b\u524d\uff0c\u56e0\u6b64\u7ebf\u7a0b1\u8ba4\u4e3a\u6b64\u65f6\u4e0d\u6ee1\u8db3\u6761\u4ef6\uff0c\u9700\u8981wait\uff0c\u800cwait\u88ab\u8c03\u5ea6\u5230\u4e86\u6700\u540e\uff0c\u5bfc\u81f4\u63a5\u6536\u4e0d\u5230\u7ebf\u7a0b2\u53d1\u51fa\u7684notify\u4fe1\u53f7\uff0c\u9677\u5165\u6c38\u8fdc\u7684\u963b\u585e\u5f53\u4e2d\u3002</p> <p>\u56e0\u6b64\uff0c\u6211\u4eec\u9700\u8981\u4f7f\u7528\u4e92\u65a5\u91cf\u5c06check ready\u548cwait\u64cd\u4f5c\u7ed1\u5b9a\u5230\u4e00\u8d77\uff0c\u540c\u65f6\u4e3aready &lt;- true\u64cd\u4f5c\u4e5f\u4e0a\u9501\uff0c\u8fd9\u6837\uff0c\u5f53check ready\u53d1\u751f\u5728ready &lt;- true\u4e4b\u524d\u65f6\uff0c\u53ea\u6709\u7ebf\u7a0b1\u6267\u884c\u5b8cwait\uff0c\u7ebf\u7a0b2\u624d\u80fd\u83b7\u53d6\u5230\u9501\uff0c\u6267\u884cready &lt;- true\uff0c\u8fd9\u6837\uff0cwait\u4e00\u5b9a\u53d1\u751f\u5728notify\u4e4b\u524d\uff0c\u6761\u4ef6ready\u4e5f\u5f97\u5230\u4e86\u591a\u7ebf\u7a0b\u4e0b\u7684\u8bbf\u95ee\u4fdd\u62a4\uff0ccheck ready \u548c ready &lt;- true\u4e4b\u95f4\u4e0d\u4f1a\u53d1\u751f\u51b2\u7a81\uff0c\u8c03\u5ea6\u987a\u5e8f\u5982\u4e0b\uff1a</p> <ul> <li>\u7ebf\u7a0b1\uff1a\u83b7\u53d6\u9501</li> <li>\u7ebf\u7a0b1\uff1acheck ready</li> <li>\u7ebf\u7a0b1\uff1await</li> <li>\u7ebf\u7a0b1\uff1a\u91ca\u653e\u9501\u5e76\u963b\u585e\u7b49\u5f85</li> <li>\u7ebf\u7a0b2\uff1a\u83b7\u53d6\u9501</li> <li>\u7ebf\u7a0b2\uff1aready &lt;- true</li> <li>\u7ebf\u7a0b2\uff1a\u91ca\u653e\u9501</li> <li>\u7ebf\u7a0b2\uff1anotify</li> </ul> <p>\u90a3\u4ec0\u4e48\u60c5\u51b5\u4e0b\u4f1a\u5148check ready\u518dwait\u5462\uff1f\u5728\u5faa\u73afcheck ready\u548cwait\u7684\u65f6\u5019\uff0c\u4f8b\u5982\uff1a</p> <pre><code>while(!ready)\n{\n   wait(); \n}\n//\u6216\ndo\n{\n    wait();\n}\nwhile(!ready)\n</code></pre> <p>\u6761\u4ef6\u53d8\u91cf\u4e2d\u6709\u4e09\u79cd\u539f\u5b50\u64cd\u4f5c</p> <ol> <li>\u9501\u5b9a -&gt; \u68c0\u67e5\u6761\u4ef6 -&gt; wait -&gt; \u89e3\u9501+\u963b\u585e\u7b49\u5f85</li> <li>wait\u5524\u9192 -&gt; \u9501\u5b9a</li> <li>\u9501\u5b9a -&gt; \u66f4\u6539\u6761\u4ef6 -&gt; \uff08\u89e3\u9501 -&gt; notify/notify -&gt; \u89e3\u9501\uff09</li> </ol> <p>\u4ee5\u4e0b\u5185\u5bb9\u53c2\u8003https://en.cppreference.com/w/cpp/thread/condition_variable/notify_onenotes\u90e8\u5206</p> <p>\u6ce8\u610f\uff0c\u5728notify\u4e4b\u524d\u89e3\u9501\u662f\u4e3a\u4e86\u9632\u6b62\u7b49\u5f85\u7ebf\u7a0b\u521a\u4e00\u5524\u9192\u5c31\u88ab\u963b\u585e\uff0c\u9020\u6210\u6027\u80fd\u635f\u5931\uff0c\u5728\u4e00\u4e9bpthread\u5b9e\u73b0\u4e2d\uff0c\u4f1a\u76f4\u63a5\u5728notify\u7684\u5185\u90e8\u5b9e\u73b0\u4e2d\u628a\u7b49\u5f85\u7ebf\u7a0b\u79fb\u5230mutex\u961f\u5217\u4e2d\uff0c\u8282\u7701\u6389notify\u7ebf\u7a0b\u89e3\u9501\u7b49\u5f85\u7ebf\u7a0b\u518d\u52a0\u9501\u8fd9\u4e00\u64cd\u4f5c\u3002</p> <p>\u6709\u65f6\u5019\u4e5f\u9700\u8981notify\u4e4b\u540e\u518d\u89e3\u9501\uff0c\u9632\u6b62wait\u7ebf\u7a0b\u628a\u4fe1\u53f7\u7ed9\u6790\u6784\u4e86\u5bfc\u81f4\u5728\u4e00\u4e2a\u88ab\u6790\u6784\u7684\u5bf9\u8c61\u4e0anotify</p> <p>\u540e\u9762\u8bf4\u7684\u8fd9\u79cd\u60c5\u51b5\u6839\u636e\u6211\u7684\u4e2a\u4eba\u7406\u89e3\u5e94\u8be5\u662f\u8fd9\u4e48\u4e00\u4e2a\u8c03\u5ea6\u987a\u5e8f</p> <ul> <li>\u7ebf\u7a0b2\uff1a\u83b7\u53d6\u9501</li> <li>\u7ebf\u7a0b2\uff1aready &lt;- true</li> <li>\u7ebf\u7a0b2\uff1a\u89e3\u9501</li> <li>\u7ebf\u7a0b1\uff1a\u83b7\u53d6\u9501</li> <li>\u7ebf\u7a0b1\uff1acheck ready</li> <li>\u7ebf\u7a0b1\uff1a\u6ee1\u8db3\u6761\u4ef6\u540e\u76f4\u63a5\u8df3\u8fc7wait\uff0c\u6790\u6784\u4fe1\u53f7</li> <li>\u7ebf\u7a0b1\uff1a\u89e3\u9501</li> <li>\u7ebf\u7a0b2\uff1anotify\u540e\u5d29\u6e83</li> </ul> <p>\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u9700\u8981\u4e92\u65a5\u9501\u628a\u6761\u4ef6\u53d8\u66f4\u548cnotify\u64cd\u4f5c\u7ed1\u5b9a\u5230\u4e00\u8d77\u3002</p> <p>\u8fd9\u4e48\u770b\u6765\uff0c\u6587\u4e2d\u6240\u63d0\u5230\u7684\u4e00\u4e9bpthread\u5b9e\u73b0\u5176\u5b9e\u66f4\u597d\uff0c\u65e2\u907f\u514d\u4e86\u6027\u80fd\u635f\u5931\u95ee\u9898\uff0c\u53c8\u907f\u514d\u4e86\u4fe1\u53f7\u5728notify\u4e4b\u524d\u88ab\u6790\u6784\u3002</p>","tags":["c/c++","\u5e76\u53d1\u7f16\u7a0b"]},{"location":"foundation/concurrent-programming/37.condition-variable/#c11-condition_variable","title":"C++11 \u4e2d \u7684 condition_variable","text":"<p>\u53c2\u8003https://zh.cppreference.com/w/cpp/thread/condition_variable</p> <p>C++11\u4e2d\u7684\u6761\u4ef6\u53d8\u91cf\u673a\u5236\u53eb\u505acondition_variable\uff0c\u5934\u6587\u4ef6\u662f<code>#include &lt;condition_variable&gt;</code></p> <p>condition_variable\u5305\u542b\u4e09\u90e8\u5206\uff0c<code>std::mutex</code>\u3001<code>std::condition_variable</code>\u548c\u4e00\u4e2abool\u8c13\u8bcd\uff08\u4e00\u4e2a\u7528\u4f5c\u6761\u4ef6\u68c0\u67e5\u7684\u51fd\u6570\uff09</p> <p>condition_variable\u63d0\u4f9b\u4e86\u51e0\u79cd\u64cd\u4f5c\uff1a</p> <ul> <li><code>wait</code></li> <li><code>wait_for</code></li> <li><code>wait_until</code></li> <li><code>notify_one</code></li> <li><code>notify_all</code></li> </ul> <p>\u5176\u4e2dwait\u7cfb\u5217\u64cd\u4f5c\u5206\u522b\u5305\u542b\u4e24\u4e2a\u7248\u672c\uff0c\u4e00\u4e2a\u5e26\u6761\u4ef6\u7684\uff0c\u4e00\u4e2a\u4e0d\u5e26\u6761\u4ef6\u7684\u3002</p> <p>\u5728\u4e0a\u6587\u63d0\u5230\u7684\u6761\u4ef6\u53d8\u91cf\u4e09\u79cd\u539f\u5b50\u64cd\u4f5c\u4e2d\uff1a</p> <ol> <li>\u9501\u5b9a -&gt; \u68c0\u67e5\u6761\u4ef6 -&gt; wait -&gt; \u89e3\u9501+\u963b\u585e\u7b49\u5f85</li> <li>wait\u5524\u9192 -&gt; \u9501\u5b9a</li> <li>\u9501\u5b9a -&gt; \u66f4\u6539\u6761\u4ef6 -&gt; \uff08\u89e3\u9501 -&gt; notify/notify -&gt; \u89e3\u9501\uff09</li> </ol> <p>wait\u64cd\u4f5c\u5185\u90e8\u6574\u5408\u4e86<code>\u68c0\u67e5\u6761\u4ef6 -&gt; wait -&gt; \u89e3\u9501+\u963b\u585e\u7b49\u5f85</code>\u4ee5\u53ca<code>wait\u5524\u9192 -&gt; \u9501\u5b9a</code>\uff0c\u5176\u4ed6\u7684\u9501\u5b9a\u548c\u89e3\u9501\u52a8\u4f5c\u9700\u8981\u7528\u6237\u81ea\u5df1\u53bb\u5b8c\u6210\u3002</p> <p>c++\u6761\u4ef6\u53d8\u91cf\u6807\u51c6\u5199\u6cd5\uff1a</p> <pre><code>std::mutex muCond;\nstd::condition_variable cond;\n\n//\u7ebf\u7a0bA...\nstd::unique_lock&lt;std::mutex&gt; ul(muCond);\ncond.wait(ul);\n\n//\u7ebf\u7a0bB..\nstd::unique_lock&lt;std::mutex&gt; ul(muCond);\ncond.notify_all();\n</code></pre> <p>C++\u7684condition_variable\u4e0d\u4f1a\u7f13\u5b58\u4fe1\u53f7\u72b6\u6001\uff0c\u6362\u53e5\u8bdd\u8bf4\uff0c\u5982\u679c\u7ebf\u7a0bA\u5148notify\uff0c\u7ebf\u7a0bB\u540ewait\uff0c\u7ebf\u7a0bB\u5c31\u4f1a\u9519\u8fc7notify\uff0cwait\u4f1a\u6c38\u8fdc\u963b\u585e\u3002</p> <p>\u4e0e\u4e4b\u76f8\u6bd4\uff0cwindows\u539f\u751f\u7684event\u5c31\u80fd\u7f13\u5b58\u4fe1\u53f7\u72b6\u6001\uff0cevent\u5206\u4e24\u79cd\u6a21\u5f0f\uff0c\u81ea\u52a8\u91cd\u7f6e\u548c\u624b\u52a8\u91cd\u7f6e\uff0c\u81ea\u52a8\u91cd\u7f6e\u6a21\u5f0f\u7684\u884c\u4e3a\u57fa\u672c\u548cC++\u7684condition_variable\u4e00\u81f4\uff0c\u800c\u624b\u52a8\u91cd\u7f6e\u6a21\u5f0f\u4e0b\uff0cset event\u4e4b\u540e\uff0c\u4fe1\u53f7\u72b6\u6001\u4f1a\u4fdd\u6301\uff0c\u5373\u4f7fwait\u5728set event\u4e4b\u540e\u88ab\u8c03\u7528\uff0c\u4ecd\u80fd\u83b7\u53d6\u5230event\u7684set\u72b6\u6001\uff0c\u7528\u6237\u5982\u679c\u60f3\u8981\u91cd\u7f6eevent\u7684\u72b6\u6001\uff0c\u9700\u8981\u663e\u5f0f\u518d\u6b21\u8c03\u7528set event\u53bb\u91cd\u7f6eevent\u7684\u72b6\u6001\u3002</p> <p>\u5982\u4f55\u8ba9C++\u7684condition_variable\u4e5f\u80fd\u4fdd\u5b58\u72b6\u6001\uff1f\u8fd9\u9700\u8981\u7528\u6237\u81ea\u5b9a\u4e49\u4e00\u4e2a\u72b6\u6001\uff0c\u4f8b\u5982</p> <pre><code>std::mutex muCond;\nstd::condition_variable cond;\nbool flag = false;  //\u7528\u6237\u81ea\u5b9a\u4e49\u72b6\u6001\n\n//\u7ebf\u7a0bA...\nstd::unique_lock&lt;std::mutex&gt; ul(muCond);\n//\u8c03\u7528wait\u5e26\u8c13\u8bcd\u7248\uff0c\u5728\u8c13\u8bcd\u4e2d\u68c0\u67e5\u6761\u4ef6\u662f\u5426\u6ee1\u8db3\u5e76\u91cd\u7f6e\u72b6\u6001\n//wait\u4f1a\u5148\u68c0\u67e5\u6761\u4ef6\u662f\u5426\u6ee1\u8db3\uff0c\u5982\u679c\u4e0d\u6ee1\u8db3\uff0c\u5219\u963b\u585e\u7b49\u5f85\ncond.wait(ul, \n    [&amp;flag]()-&gt;bool \n    {\n        if (flag) {\n            flag = false;\n            return true;\n        }\n        return false;\n    });\n\n//\u7ebf\u7a0bB..\nstd::unique_lock&lt;std::mutex&gt; ul(muCond);\nflag = true;    //\u8bbe\u7f6e\u72b6\u6001\ncond.notify_all();\n</code></pre> <p>\u5e26\u8c13\u8bcd\u7684wait\u8c03\u7528\u672c\u8eab\u662f\u4e3a\u4e86\u89e3\u51b3\u865a\u5047\u5524\u9192\u7684\u95ee\u9898\uff0c\u5f53condition_variable\u88ab\u610f\u5916\u5524\u9192\u65f6\uff0cwait\u4f1a\u5148\u68c0\u67e5\u8c13\u8bcd\u662f\u5426\u6ee1\u8db3\u6761\u4ef6\uff0c\u5982\u679c\u4e0d\u6ee1\u8db3\uff0c\u5219\u7ee7\u7eedblock\u7b49\u5f85\uff0c\u5b83\u7684\u5b9e\u73b0\u7b49\u540c\u4e8e</p> <pre><code>while (!pred())\n    wait(lock);\n</code></pre> <p>\u5b83\u4f1a\u5148\u68c0\u67e5\u6761\u4ef6\uff0c\u7136\u540e\u518dwait\uff0c\u8fd9\u6837\u6070\u597d\u4e5f\u80fd\u89e3\u51b3notify\u4e22\u5931\u7684\u95ee\u9898</p>","tags":["c/c++","\u5e76\u53d1\u7f16\u7a0b"]},{"location":"foundation/concurrent-programming/71.lockfree-ringbuffer/","title":"\u65e0\u9501\u73af\u5f62Buffer","text":"","tags":["c/c++","\u5e76\u53d1\u7f16\u7a0b","\u7b97\u6cd5"]},{"location":"foundation/concurrent-programming/71.lockfree-ringbuffer/#_1","title":"\u65e0\u9501\u73af\u5f62\u961f\u5217\u4ecb\u7ecd","text":"<p>\u65e0\u9501\u73af\u5f62\u961f\u5217\u63d0\u9ad8\u5e76\u53d1\u6548\u7387\u4e3b\u8981\u4f9d\u8d56\u4ee5\u4e0b\u4e24\u70b9\uff1a</p> <ol> <li>\u73af\u5f62\u961f\u5217\u672c\u8eab\u662f\u4e2a\u7f13\u51b2\u533a\uff0c\u53ef\u4ee5\u5c06\u751f\u4ea7\u8005\u548c\u6d88\u8d39\u8005\u89e3\u8026\uff0c\u5929\u7136\u5177\u5907\u5e76\u53d1\u8bfb\u5199\u7684\u6761\u4ef6</li> <li>\u91c7\u7528CAS\uff08Compare And Swap\uff09\u907f\u514d\u9501\u7ade\u4e89\u5e26\u6765\u7684\u7ebf\u7a0b\u963b\u585e</li> </ol> <p>CAS\u672c\u8d28\u662f\u5c06\u68c0\u67e5\u6761\u4ef6\u548c\u5199\u5165\u65b0\u6570\u636e\u5c01\u88c5\u4e3a\u4e86\u539f\u5b50\u64cd\u4f5c</p> <p>CAS\u7684\u7279\u70b9\uff1a</p> <ul> <li>CAS\u672c\u8eab\u662f\u4e00\u79cd\u4e50\u89c2\u9501\u673a\u5236\uff0c\u52a0\u9501\u7c92\u5ea6\u6bd4\u8f83\u5c0f</li> <li>CAS\u4f9d\u8d56\u786c\u4ef6\u539f\u5b50\u6307\u4ee4\u4fdd\u8bc1\u6570\u636e\u4e00\u81f4\u6027\uff0cCAS\u6307\u4ee4\u901a\u5e38\u662f\u975e\u963b\u585e\u7684\uff0c\u6709\u70b9\u7c7b\u4f3cspin lock\uff0c\u907f\u514d\u7ebf\u7a0b\u963b\u585e\u5e26\u6765\u7684\u4e0a\u4e0b\u6587\u5207\u6362\u6210\u672c</li> </ul> <p>C++\u63d0\u4f9b\u4e86\u4e00\u79cdCAS\u673a\u5236\uff1a\u5373<code>atomic</code>\u7684\u4e24\u4e2aCAS\u64cd\u4f5c\uff0c<code>compare_exchange_weak</code>\u548c<code>compare_exchange_strong</code>\uff0c\u4f46<code>atomic</code>\u4e0d\u4fdd\u8bc1\u8de8\u8fdb\u7a0b\u539f\u5b50\u6027\uff0c\u56e0\u6b64\u65e0\u6cd5\u5728\u5171\u4eab\u5185\u5b58\u4e2d\u4f7f\u7528</p> <p>windows\u540c\u6837\u63d0\u4f9b\u4e86CAS\u673a\u5236\uff1a<code>InterlockedCompareExchange</code>\uff0c\u8fd9\u4e2a\u53ef\u4ee5\u5728\u5171\u4eab\u5185\u5b58\u4e2d\u8de8\u8fdb\u7a0b\u4f7f\u7528</p>","tags":["c/c++","\u5e76\u53d1\u7f16\u7a0b","\u7b97\u6cd5"]},{"location":"foundation/concurrent-programming/71.lockfree-ringbuffer/#_2","title":"\u7b80\u5355\u7684\u65e0\u9501\u73af\u5f62\u961f\u5217\u5b9e\u73b0","text":"<p>\u4e00\u5199\u4e00\u8bfb\u5b9e\u73b0\uff08\u53ef\u4ee5\u4f7f\u7528\u53d1\u5e03\u8ba2\u9605\u6a21\u5f0f\u5b9e\u73b0\u4e00\u5199\u591a\u8bfb\uff09</p> <p>\u6bcf\u4e2abuffer\u90fd\u6709\u4e00\u4e2a\u72b6\u6001\u5b57\u6bb5\uff0c\u6709\u56db\u4e2a\u503c\uff1aempty, filled, writting, reading\uff0c\u5206\u522b\u4ee3\u8868\u65e0\u6570\u636e\uff0c\u5df2\u5199\u5165\u6570\u636e\uff0c\u6b63\u5728\u5199\uff0c\u6b63\u5728\u8bfb</p> <p>\u73af\u5f62\u961f\u5217\u6709\u4e24\u4e2a\u8bfb\u5199\u6307\u9488\uff0c\u5206\u522b\u4ee3\u8868\u5f53\u524d\u53ef\u8bfb\u548c\u53ef\u5199\u7684\u4f4d\u7f6e</p> <p>\u53ea\u6709\u66f4\u65b0\u72b6\u6001\u4f1a\u6d89\u53ca\u5230cas\u64cd\u4f5c\uff0c\u8bfb\u5199\u6307\u9488\u66f4\u65b0\u4e0d\u9700\u8981cas\uff08\u56e0\u4e3a\u53ea\u6709\u4e00\u4e2a\u751f\u4ea7\u8005\u548c\u4e00\u4e2a\u6d88\u8d39\u8005\uff09</p> <p>\u8bfb\u53d6\u65f6\u7684cas\u64cd\u4f5c\uff1a 1. loop     - \u83b7\u53d6tail\u6570\u636e\u72b6\u6001\uff0c\u5982\u679c\u4e0d\u4e3afilled\uff0c\u5219loop\u91cd\u8bd5     - \u5c06\u5f53\u524d (\u72b6\u6001) \u4f5c\u4e3a\u9884\u671f\u503c     - cas\u64cd\u4f5c\uff0c\u5982\u679c\u72b6\u6001\u6ca1\u53d8 \u5219\u66f4\u65b0\u4e3a reading 3. \u8bfb\u53d6\u6570\u636e 4. \u72b6\u6001\u539f\u5b50\u66f4\u65b0\u4e3a empty 5. tail+1\uff1a\u53ea\u6709\u8bfb\u7aef\u4f1a\u66f4\u65b0tail\u6307\u9488\uff0c\u76f4\u63a5\u66f4\u65b0\u5373\u53ef</p> <p>\u5199\u5165\u65f6\u7684cas\u64cd\u4f5c\uff1a 1. loop     - \u83b7\u53d6head\u6570\u636e\u72b6\u6001\uff0c\u5982\u679c\u4e0d\u4e3a empty\uff0c\u5219loop\u91cd\u8bd5     - \u5c06\u5f53\u524d (\u72b6\u6001) \u4f5c\u4e3a\u9884\u671f\u503c     - cas\u64cd\u4f5c\uff0c\u5982\u679c\u72b6\u6001\u6ca1\u53d8 \u5219\u66f4\u65b0\u4e3a writting 2. \u5199\u5165\u6570\u636e 3. \u72b6\u6001\u539f\u5b50\u66f4\u65b0\u4e3a filled 5. head+1\uff0c\u53ea\u6709\u5199\u7aef\u4f1a\u66f4\u65b0head\u6307\u9488\uff0c\u76f4\u63a5\u66f4\u65b0\u5373\u53ef</p>","tags":["c/c++","\u5e76\u53d1\u7f16\u7a0b","\u7b97\u6cd5"]},{"location":"foundation/concurrent-programming/71.lockfree-ringbuffer/#_3","title":"\u4e00\u79cd\u7279\u6b8a\u573a\u666f\u4e0b\u7684\u5171\u4eab\u5185\u5b58\u5b9e\u73b0","text":"<ol> <li>\u4e00\u5199\u591a\u8bfb</li> <li>\u6570\u636e\u5757\u6bd4\u8f83\u5927\uff088MB\uff09\uff0c\u5355\u6b21memcpy\u7684\u8017\u65f6\u662f500~1000us</li> <li>\u8bfb\u53d6\u65b9\u5e0c\u671b\u6bcf\u6b21\u8bfb\u53d6\u90fd\u5c3d\u91cf\u8bfb\u53d6\u6700\u65b0\u7684\u6570\u636e</li> <li>\u4e0d\u6015\u4e22\u6389\u65e7\u6570\u636e</li> </ol> <p>\u65b9\u6848\uff1a 1. \u4e0d\u9700\u8981\u8bfb\u5199\u6307\u9488\uff0c\u53ea\u9700\u8981\u4e00\u4e2a\u5199\u6307\u9488head 2. \u5199\u5165\u7aef\u6bcf\u6b21\u5c1d\u8bd5\u5f80head\u7aef\u5199\u5165\u6570\u636e\uff0c\u8bfb\u53d6\u7aef\u6bcf\u6b21\u5c1d\u8bd5\u8bfb\u53d6head\u524d\u4e00\u4e2abuffer\u4e2d\u7684\u6570\u636e 3. \u8bfb\u53d6\u65b9\u4e0d\u9700\u8981\u8003\u8651\u5220\u9664\u6570\u636e\u7684\u95ee\u9898\uff0c\u56e0\u4e3a\u8bfb\u53d6\u65b9\u6c38\u8fdc\u5c1d\u8bd5\u8bfb\u53d6\u6700\u65b0buffer\uff0c\u5199\u5165\u65f6\u8986\u76d6\u5199\u5373\u53ef</p> <p>\u5728\u5199\u5feb\u8bfb\u6162\u7684\u6781\u7aef\u573a\u666f\uff0c\u53ef\u80fd\u4f1a\u51fa\u73b0\u4ee5\u4e0b\u60c5\u51b5\uff0c\u73af\u5f62\u961f\u5217\u4e24\u7aef\u90fd\u88abread\u5360\u636e</p> <pre><code>      read1                read2                \u65e0                 read3\n        \u2193                    \u2193                  \u2193                    \u2193\n+-------------------+-------------------+-------------------+-------------------+\n|    Buffer_1(tail) |     Buffer_2      |    Buffer_3       |   Buffer_4(head)  |\n+-------------------+-------------------+-------------------+-------------------+\n        \u2191\n   write block\n</code></pre> <p>\u6bcf\u4e2abuffer\u90fd\u6709\u4e00\u4e2a\u72b6\u6001\u503c\uff1aempty, filled</p> <p>\u6bcf\u4e2abuffer\u90fd\u6709\u4e00\u4e2a\u8bfb\u5199\u8ba1\u6570\uff1a-1\uff1a\u5199\uff0c0\uff1a\u672a\u5360\u7528\uff0c&gt;0: \u8bfb</p> <p>\u8bfb\u53d6\u65f6\u7684cas\u64cd\u4f5c\uff1a 1. loop     - \u83b7\u53d6head-1\u8282\u70b9\u8bfb\u5199\u8ba1\u6570\u548c\u72b6\u6001\uff0c\u5982\u679c\u4e3aempty\u548c-1\uff0cloop\u91cd\u8bd5     - \u5c06\u5f53\u524d (\u72b6\u6001\uff0c\u8bfb\u5199\u8ba1\u6570) \u4f5c\u4e3a\u9884\u671f\u503c     - cas\u64cd\u4f5c\uff0c\u6bd4\u8f83\u5e76\u66f4\u65b0\u4e3a\uff08\u72b6\u6001, \u8bfb\u5199\u8ba1\u6570+1\uff09\uff0c\u4e0d\u4fee\u6539\u72b6\u6001\uff0c\u53ea\u4fee\u6539\u8bfb\u5199\u8ba1\u6570 2. \u8bfb\u53d6\u6570\u636e 3. \u8bfb\u5199\u8ba1\u6570\u539f\u5b50-1</p> <p>\u5199\u5165\u65f6\u7684cas\u64cd\u4f5c\uff1a 1. loop     - \u83b7\u53d6head\u8bfb\u5199\u8ba1\u6570\uff0c\u5982\u679c\u4e0d\u4e3a0\uff0c\u76f4\u63a5loop\u91cd\u8bd5     - \u5c06\u5f53\u524d (\u72b6\u6001\uff0c\u8bfb\u5199\u8ba1\u6570) \u4f5c\u4e3a\u9884\u671f\u503c     - cas\u64cd\u4f5c\uff0c\u6bd4\u8f83\u5e76\u66f4\u65b0\u4e3a\uff08\u72b6\u6001, \u8bfb\u5199\u8ba1\u6570\u4e3a-1\uff09 3. \u5199\u5165\u6570\u636e 4. \u72b6\u6001\u548c\u8bfb\u5199\u8ba1\u6570\u539f\u5b50\u66f4\u65b0\u4e3a \uff08filled, 0\uff09</p>","tags":["c/c++","\u5e76\u53d1\u7f16\u7a0b","\u7b97\u6cd5"]},{"location":"foundation/cpp/20.cpp-stl-algorithm-overview/","title":"c++\u6807\u51c6\u5e93\u7b97\u6cd5\u6982\u89c8","text":"","tags":["c/c++","\u7b97\u6cd5"]},{"location":"foundation/cpp/20.cpp-stl-algorithm-overview/#_1","title":"\u53c2\u8003","text":"<ol> <li>\u300aC++ Primer \u7b2c5\u7248\u300b</li> <li>cppreference.com</li> </ol>","tags":["c/c++","\u7b97\u6cd5"]},{"location":"foundation/cpp/20.cpp-stl-algorithm-overview/#_2","title":"\u8bf4\u660e","text":"<p>\u672c\u8282\u5185\u5bb9\u5305\u62ec\uff1a5\u7c7b\u8fed\u4ee3\u5668\u3001\u7b97\u6cd5\u5f62\u53c2\u6a21\u5f0f\u3001\u7b97\u6cd5\u547d\u540d\u89c4\u8303\u3001\u7279\u5b9a\u5bb9\u5668\u7b97\u6cd5\u3002</p>","tags":["c/c++","\u7b97\u6cd5"]},{"location":"foundation/cpp/20.cpp-stl-algorithm-overview/#5","title":"5\u7c7b\u8fed\u4ee3\u5668","text":"<p>\u7b97\u6cd5\u6240\u8981\u6c42\u7684\u8fed\u4ee3\u5668\u64cd\u4f5c\u53ef\u4ee5\u5206\u4e3a5\u4e2a\u8fed\u4ee3\u5668\u7c7b\u522b\uff0c\u6bcf\u4e2a\u7b97\u6cd5\u90fd\u4f1a\u5bf9\u5b83\u7684\u6bcf\u4e2a\u8fed\u4ee3\u5668\u53c2\u6570\u6307\u660e\u987b\u63d0\u4f9b\u54ea\u7c7b\u8fed\u4ee3\u5668\u3002</p> <ul> <li>\u8f93\u5165\u8fed\u4ee3\u5668\uff1a\u53ea\u8bfb\uff0c\u4e0d\u5199\uff1b\u5355\u904d\u626b\u63cf\uff0c\u53ea\u80fd\u9012\u589e\u3002 \u4f8b\u5982\uff0c<code>istream_iterator</code>\u662f\u4e00\u79cd\u8f93\u5165\u8fed\u4ee3\u5668\u3002</li> <li>\u8f93\u51fa\u8fed\u4ee3\u5668\uff1a\u53ea\u5199\uff0c\u4e0d\u8bfb\uff1b\u5355\u904d\u626b\u63cf\uff0c\u53ea\u80fd\u9012\u589e\u3002 \u4f8b\u5982\uff1a<code>ostream_iterator</code>\u662f\u4e00\u79cd\u8f93\u51fa\u8fed\u4ee3\u5668\u3002</li> <li>\u524d\u5411\u8fed\u4ee3\u5668\uff1a\u53ef\u8bfb\u5199\uff0c\u591a\u904d\u626b\u63cf\uff0c\u53ea\u80fd\u9012\u589e\u3002 <code>forward_list</code>\u4e0a\u7684\u8fed\u4ee3\u5668\u662f\u524d\u5411\u8fed\u4ee3\u5668\u3002</li> <li>\u53cc\u5411\u8fed\u4ee3\u5668\uff1a\u53ef\u8bfb\u5199\uff0c\u591a\u904d\u626b\u63cf\uff0c\u53ef\u9012\u589e\u9012\u51cf\u3002 \u9664\u4e86<code>forward_list</code>\u5916\uff0c\u5176\u4ed6\u6807\u51c6\u5e93\u5bb9\u5668\u90fd\u63d0\u4f9b\u53cc\u5411\u8fed\u4ee3\u5668\u3002</li> <li>\u968f\u673a\u8bbf\u95ee\u8fed\u4ee3\u5668\uff1a\u53ef\u8bfb\u5199\uff0c\u591a\u904d\u626b\u63cf\uff0c\u652f\u6301\u5168\u90e8\u8fed\u4ee3\u5668\u8fd0\u7b97\u3002 <code>array</code>\u3001<code>deque</code>\u3001<code>string</code>\u3001<code>vector</code>\u7684\u8fed\u4ee3\u5668\u90fd\u662f\u968f\u673a\u8bbf\u95ee\u8fed\u4ee3\u5668\u3002 \u6ce8\u610f\uff1a\u53ea\u6709\u987a\u5e8f\u5bb9\u5668\u624d\u6709\u968f\u673a\u8bbf\u95ee\u8fed\u4ee3\u5668\uff0c\u53ea\u6709\u987a\u5e8f\u5bb9\u5668\u624d\u80fd\u7528\u4e0b\u6807\u8bbf\u95ee\u5143\u7d20\u3002\u987a\u5e8f\u5bb9\u5668\u672c\u8eab\u548c\u987a\u5e8f\u5bb9\u5668\u7684\u8fed\u4ee3\u5668\u90fd\u6709\u4e0b\u6807\u8fd0\u7b97\u7b26<code>\"[]\"</code>\u3002\uff08\u89c1\u4e66\u4e2d\u7b2c310\u9875\u548c\u7b2c367\u9875\uff09</li> </ul> <p>\u4e00\u4e2a\u9ad8\u5c42\u7c7b\u522b\u7684\u8fed\u4ee3\u5668\u652f\u6301\u4f4e\u5c42\u7c7b\u522b\u8fed\u4ee3\u5668\u7684\u6240\u6709\u64cd\u4f5c\u3002C++\u6807\u51c6\u6307\u660e\u4e86\u6cdb\u578b\u548c\u6570\u503c\u7b97\u6cd5\u7684\u6bcf\u4e2a\u8fed\u4ee3\u5668\u53c2\u6570\u7684\u6700\u5c0f\u7c7b\u522b\u3002</p>","tags":["c/c++","\u7b97\u6cd5"]},{"location":"foundation/cpp/20.cpp-stl-algorithm-overview/#_3","title":"\u7b97\u6cd5\u5f62\u53c2\u6a21\u5f0f","text":"<p>\u7b97\u6cd5\u6709\u4e00\u7ec4\u53c2\u6570\u89c4\u8303\u3002\u5927\u591a\u6570\u7b97\u6cd5\u5177\u6709\u5982\u4e0b4\u79cd\u5f62\u5f0f\u4e4b\u4e00\uff1a</p> <ul> <li><code>alg(beg, end, other args);</code></li> <li><code>alg(beg, end, dest, other args);</code></li> <li><code>alg(beg, end, beg2, other args);</code></li> <li><code>alg(beg, end, beg2, end2, other args);</code></li> </ul> <p><code>alg</code>\u662f\u7b97\u6cd5\u540d\u5b57\uff0c<code>beg</code>\u548c<code>end</code>\u662f\u7b97\u6cd5\u6240\u64cd\u4f5c\u7684\u8f93\u5165\u8303\u56f4\u3002<code>dest</code>\u53c2\u6570\u662f\u4e00\u4e2a\u8868\u793a\u7b97\u6cd5\u53ef\u4ee5\u5199\u5165\u7684\u76ee\u7684\u4f4d\u7f6e\u7684\u8fed\u4ee3\u5668\u3002\u7b97\u6cd5\u5047\u5b9a\uff1a\u6309\u5176\u9700\u8981\u5199\u5165\u6570\u636e\uff0c\u4e0d\u7ba1\u5199\u5165\u591a\u5c11\u4e2a\u5143\u7d20\u90fd\u662f\u5b89\u5168\u7684\u3002\u53ea\u63a5\u53d7\u5355\u72ec<code>beg2</code>\u7684\u7b97\u6cd5\u5c06<code>beg2</code>\u4f5c\u4e3a\u7b2c\u4e8c\u4e2a\u8f93\u5165\u8303\u56f4\u4e2d\u7684\u9996\u5143\u7d20\u3002\u7b97\u6cd5\u5047\u5b9a\u4ece<code>beg2</code>\u5f00\u59cb\u7684\u8303\u56f4\u4e0e<code>beg</code>\u548c<code>end</code>\u6240\u8868\u793a\u7684\u8303\u56f4\u81f3\u5c11\u4e00\u6837\u5927\u3002</p> <p>\u8fd8\u6709\u4e00\u4e9b\u5176\u4ed6\u7684\u7b97\u6cd5\u5f62\u53c2\u3002<code>unaryPred</code>\u548c<code>binaryPred</code>\u662f\u4e00\u5143\u548c\u4e8c\u5143\u8c13\u8bcd\uff0c\u5206\u522b\u63a5\u53d7\u4e00\u4e2a\u548c\u4e24\u4e2a\u53c2\u6570\uff0c\u90fd\u662f\u6765\u81ea\u8f93\u5165\u5e8f\u5217\u7684\u5143\u7d20\uff0c\u4e24\u4e2a\u8c13\u8bcd\u90fd\u8fd4\u56de\u53ef\u7528\u4f5c\u6761\u4ef6\u7684\u7c7b\u578b\u3002<code>comp</code>\u662f\u4e00\u4e2a\u4e8c\u5143\u8c13\u8bcd,\u6ee1\u8db3\u5173\u8054\u5bb9\u5668\u4e2d\u5bf9\u5173\u952e\u5b57\u5e8f\u7684\u8981\u6c42\u3002<code>unaryOp</code>\u548c<code>binaryOp</code>\u662f\u53ef\u8c03\u7528\u5bf9\u8c61\uff0c\u53ef\u5206\u522b\u4f7f\u7528\u6765\u81ea\u8f93\u5165\u5e8f\u5217\u7684\u4e00\u4e2a\u548c\u4e24\u4e2a\u5b9e\u53c2\u6765\u8c03\u7528\u3002\u8c13\u8bcd\u548c\u53ef\u8c03\u7528\u5bf9\u8c61\u7684\u533a\u522b\u5728\u4e8e\u8c13\u8bcd\u5fc5\u987b\u8fd4\u56debool\u7c7b\u578b\u7684\u503c\u3002</p>","tags":["c/c++","\u7b97\u6cd5"]},{"location":"foundation/cpp/20.cpp-stl-algorithm-overview/#_4","title":"\u7b97\u6cd5\u547d\u540d\u89c4\u8303","text":"<p>\u9664\u4e86\u53c2\u6570\u89c4\u8303\uff0c\u7b97\u6cd5\u8fd8\u9075\u5faa\u4e00\u5957\u547d\u540d\u548c\u91cd\u8f7d\u89c4\u8303\u3002</p> <ul> <li>\u4f7f\u7528\u91cd\u8f7d\u5f62\u5f0f\u4f20\u9012\u4e00\u4e2a\u8c13\u8bcd</li> <li><code>_if</code>\u7248\u672c\u7684\u7b97\u6cd5 \u63a5\u53d7\u4e00\u4e2a\u5143\u7d20\u503c\u7684\u7b97\u6cd5\u901a\u5e38\u6709\u4e00\u4e2a<code>_if</code>\u7248\u672c\uff0c\u8be5\u7248\u672c\u63a5\u53d7\u4e00\u4e2a\u8c13\u8bcd\u4ee3\u66ff\u5143\u7d20\u503c\u3002</li> <li><code>_copy</code>\u7248\u672c\u7684\u7b97\u6cd5</li> </ul>","tags":["c/c++","\u7b97\u6cd5"]},{"location":"foundation/cpp/20.cpp-stl-algorithm-overview/#_5","title":"\u7279\u5b9a\u5bb9\u5668\u7b97\u6cd5","text":"<p>\u94fe\u8868<code>list</code>\u548c<code>forward_list</code>\u5b9a\u4e49\u4e86\u51e0\u4e2a\u6210\u5458\u51fd\u6570\u5f62\u5f0f\u7684\u7b97\u6cd5\u3002\u7279\u522b\u662f\uff0c\u5b83\u4eec\u5b9a\u4e49\u4e86\u72ec\u6709\u7684<code>sort</code>\u3001<code>merge</code>\u3001<code>remove</code>\u3001<code>reverse</code>\u548c<code>unique</code>\u3002\u94fe\u8868\u7c7b\u578b\u5b9a\u4e49\u7684\u5176\u4ed6\u7b97\u6cd5\u7684\u901a\u7528\u7248\u672c\u53ef\u4ee5\u7528\u4e8e\u94fe\u8868\uff0c\u4f46\u4ee3\u4ef7\u592a\u9ad8\u3002\u94fe\u8868\u53ef\u4ee5\u901a\u8fc7\u6539\u53d8\u5143\u7d20\u95f4\u7684\u94fe\u63a5\u800c\u4e0d\u662f\u771f\u7684\u4ea4\u6362\u5b83\u4eec\u7684\u503c\u6765\u5feb\u901f\u201c\u4ea4\u6362\u201d\u5143\u7d20\u3002\u94fe\u8868\u7c7b\u578b\u5b9a\u4e49\u4e86\u7279\u6709\u7684<code>splice</code>\u7b97\u6cd5\uff0c\u8be5\u7b97\u6cd5\u662f\u94fe\u8868\u6570\u636e\u7ed3\u6784\u7279\u6709\u7684\uff0c\u56e0\u6b64\u6ca1\u6709\u901a\u7528\u7248\u672c\u3002 \u94fe\u8868\u7279\u6709\u7248\u672c\u4e0e\u901a\u7528\u7248\u672c\u7684\u4e00\u4e2a\u91cd\u8981\u533a\u522b\u5c31\u662f\u94fe\u8868\u7248\u672c\u4f1a\u6539\u53d8\u5e95\u5c42\u7684\u5bb9\u5668\uff01 <code>string</code>\u7c7b\u4e5f\u63d0\u4f9b\u4e86\u4e00\u4e9b\u7279\u6709\u7684\u7b97\u6cd5\uff0c\u5982\u66ff\u6362\u3001\u641c\u7d22\u3001\u6bd4\u8f83\u3001\u6570\u503c\u8f6c\u6362\u7b49\u7b97\u6cd5\u3002</p>","tags":["c/c++","\u7b97\u6cd5"]},{"location":"foundation/cpp/20.cpp-stl-algorithm-overview/#_6","title":"\u5934\u6587\u4ef6","text":"<ul> <li><code>functional</code> \u901a\u7528\u51fd\u6570\u9002\u914d\u5668<code>bind</code>\u3002</li> <li><code>iterator</code> \u6d41\u8fed\u4ee3\u5668<code>istream_iterator</code>\u548c<code>ostream_iterator</code>\u3002</li> <li><code>utility</code> <code>pair</code>\u7c7b\u578b\uff1b<code>std::dest</code>\u51fd\u6570\u3002</li> <li><code>algorithm</code> \u58f0\u660e\u4e86\u5927\u591a\u6570\u7b97\u6cd5\u3002</li> <li><code>numeric</code> \u58f0\u660e\u4e86\u6570\u503c\u7b97\u6cd5\u3002</li> </ul>","tags":["c/c++","\u7b97\u6cd5"]},{"location":"foundation/cpp/20.cpp-stl-algorithm-overview/#_7","title":"\u5176\u4ed6\u5185\u5bb9","text":"<ul> <li>\u8fed\u4ee3\u5668\u9002\u914d\u5668 \u63d2\u5165\u8fed\u4ee3\u5668\u662f\u4e00\u79cd\u8fed\u4ee3\u5668\u9002\u914d\u5668\u3002\u6709\u4e09\u79cd\u63d2\u5165\u8fed\u4ee3\u5668\uff0c\u5dee\u5f02\u5728\u4e8e\u5143\u7d20\u63d2\u5165\u7684\u4f4d\u7f6e\uff1a<code>back_inserter</code>\u3001<code>front_inserter</code>\u3001<code>inserter</code>\u3002</li> <li>\u6d41\u8fed\u4ee3\u5668\uff08\u6d41\u8fed\u4ee3\u5668\u662f\u8fed\u4ee3\u5668\u9002\u914d\u5668\u5417\uff1f\uff09</li> <li> <p>\u51fd\u6570\u9002\u914d\u5668 <code>bind</code>\u51fd\u6570\u5728\u5934\u6587\u4ef6<code>functional</code>\u4e2d\uff0c\u662f\u4e00\u4e2a\u901a\u7528\u51fd\u6570\u9002\u914d\u5668\u3002 <code>bind</code>\u6240\u7528\u5230\u7684\u540d\u5b57<code>_n</code>\u5b9a\u4e49\u5728\u4e00\u4e2a\u540d\u4e3a<code>placeholders</code>\u7684\u547d\u540d\u7a7a\u95f4\u4e2d\uff0c\u800c\u8fd9\u4e2a\u547d\u540d\u7a7a\u95f4\u672c\u8eab\u5b9a\u4e49\u5728<code>std</code>\u547d\u540d\u7a7a\u95f4\u3002\u4f8b\u5982\uff0c<code>_1</code>\u7684\u58f0\u660e\u4e3a\uff1a<code>using std::placeholders::_1;</code> </p> </li> <li> <p>lambda\u8868\u8fbe\u5f0f</p> </li> </ul>","tags":["c/c++","\u7b97\u6cd5"]},{"location":"foundation/cpp/20.cpp-stl-algorithm-overview/#_8","title":"\u4e00\u4e9b\u7ecf\u9a8c","text":"<ul> <li>\u5bf9\u4e8e\u4e0d\u4fee\u6539\u5bb9\u5668\u5143\u7d20\u503c\u7684\u7b97\u6cd5\uff0c\u53ef\u4ee5\u4f20\u9012<code>const</code>\u8fed\u4ee3\u5668\u53c2\u6570\u3002</li> <li>\u6709\u4e9b\u7b97\u6cd5\u8fd4\u56de\u7684\u662f\u6307\u5411\u5143\u7d20\u7684\u8fed\u4ee3\u5668\u3002\u5bf9\u4e8e\u987a\u5e8f\u5bb9\u5668\uff0c\u53ef\u4ee5\u91c7\u7528\u8fed\u4ee3\u5668\u76f8\u51cf\u7684\u529e\u6cd5\u83b7\u5f97\u5143\u7d20\u4e0b\u6807\u3002\u5bf9\u4e8e\u94fe\u5f0f\u5bb9\u5668\uff0c\u5219\u53ea\u80fd\u91c7\u7528\u904d\u5386\u5bb9\u5668\u7684\u65b9\u5f0f\u5f97\u5230\u5143\u7d20\u7684\u4e0b\u6807\u3002</li> <li>\u8c13\u8bcd\u548c\u53ef\u8c03\u7528\u5bf9\u8c61\u7684\u533a\u522b\u5728\u4e8e\u8c13\u8bcd\u5fc5\u987b\u8fd4\u56de<code>bool</code>\u7c7b\u578b\u7684\u503c\u3002</li> <li>\u5982\u679c\u4e00\u4e2a\u7b97\u6cd5\u9700\u8981\u4e8c\u5143\u8c13\u8bcd\uff0c\u5728\u4f20\u5165\u7684\u4e24\u4e2a\u5143\u7d20\u4e2d\uff0c\u9760\u5de6\u7684\u5143\u7d20\u4f1a\u4f5c\u4e3a\u4e8c\u5143\u8c13\u8bcd\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\uff0c\u9760\u53f3\u7684\u5143\u7d20\u4f1a\u4f5c\u4e3a\u4e8c\u5143\u8c13\u8bcd\u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\u3002</li> <li>\u67e5\u627e\u5bf9\u8c61\u7684\u7b97\u6cd5\u5728\u672a\u627e\u5230\u5143\u7d20\u7684\u60c5\u51b5\u4e0b\u4f1a\u8fd4\u56de<code>end</code>\uff0c\u6ce8\u610f\u8fd9\u4e2a<code>end</code>\u662f\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u7ed9\u7b97\u6cd5\u7684\u90a3\u4e2a<code>end</code>\uff0c\u800c\u4e0d\u662f\u5bb9\u5668\u771f\u6b63\u7684<code>end</code>\u8fed\u4ee3\u5668\u3002</li> <li>\u8bf4\u67d0\u4e2a\u5e8f\u5217\u662f\u201c\u6709\u5e8f\u7684\u201d\u6307\u7684\u662f\u8be5\u5e8f\u5217\u6309\u4ece\u5c0f\u5230\u5927\u7684\u987a\u5e8f\u6392\u5217\u3002</li> <li>\u53ea\u6709\u987a\u5e8f\u5bb9\u5668\u624d\u6709\u968f\u673a\u8bbf\u95ee\u8fed\u4ee3\u5668\uff0c\u53ea\u6709\u987a\u5e8f\u5bb9\u5668\u624d\u80fd\u7528\u4e0b\u6807\u8bbf\u95ee\u5143\u7d20\u3002\u987a\u5e8f\u5bb9\u5668\u672c\u8eab\u548c\u987a\u5e8f\u5bb9\u5668\u7684\u8fed\u4ee3\u5668\u90fd\u6709\u4e0b\u6807\u8fd0\u7b97\u7b26<code>\"[]\"</code>\u3002\uff08\u89c1\u4e66\u4e2d\u7b2c310\u9875\u548c\u7b2c367\u9875\uff09</li> <li><code>nth_element</code>\u662f\u4e2a\u5212\u5206\u7b97\u6cd5\uff0c\u4e0d\u662f\u4e2a\u6392\u5e8f\u7b97\u6cd5\u3002</li> </ul>","tags":["c/c++","\u7b97\u6cd5"]},{"location":"foundation/cpp/20.cpp-stl-algorithm-overview/#_9","title":"\u67e5\u627e\u5bf9\u8c61\u7684\u7b97\u6cd5","text":"<p>\u5728\u4e00\u4e2a\u8f93\u5165\u5e8f\u5217\u4e2d\u641c\u7d22\u4e00\u4e2a\u6307\u5b9a\u503c\u6216\u4e00\u4e2a\u503c\u7684\u5e8f\u5217\u3002\u6bcf\u4e2a\u7b97\u6cd5\u63d0\u4f9b\u4e24\u4e2a\u91cd\u8f7d\u7248\u672c\uff0c\u7b2c\u4e00\u4e2a\u7248\u672c\u4f7f\u7528<code>\"==\"</code>\u8fd0\u7b97\u7b26\u6bd4\u8f83\u5143\u7d20\uff0c\u7b2c\u4e8c\u4e2a\u7248\u672c\u4f7f\u7528<code>unaryPred</code>\u548c<code>binaryPred</code>\u6bd4\u8f83\u5143\u7d20\u3002</p>","tags":["c/c++","\u7b97\u6cd5"]},{"location":"foundation/cpp/20.cpp-stl-algorithm-overview/#_10","title":"\u7b80\u5355\u67e5\u627e\u7b97\u6cd5","text":"<p>\u8fd9\u4e9b\u7b97\u6cd5\u67e5\u627e\u6307\u5b9a\u503c\uff0c\u8981\u6c42\u8f93\u5165\u8fed\u4ee3\u5668\u3002</p> <p><code>find(beg, end, val)</code> <code>find_if(beg, end, unaryPred)</code> <code>find_if_not(beg, end, unaryPred)</code> </p> <ul> <li>\u8981\u6c42\u8f93\u5165\u8fed\u4ee3\u5668\u3002</li> <li>\u8fd9\u4e09\u4e2a\u7b97\u6cd5\u8fd4\u56de\u4e00\u4e2a\u8fed\u4ee3\u5668\uff0c\u6307\u5411\u7b2c\u4e00\u4e2a\u201c\u7b49\u4e8e<code>val</code>/\u6ee1\u8db3\u6761\u4ef6/\u4e0d\u6ee1\u8db3\u6761\u4ef6\u201d\u7684\u5143\u7d20\u3002</li> <li>\u8fd9\u4e09\u4e2a\u7b97\u6cd5\u5728\u6ca1\u6709\u627e\u5230\u5143\u7d20\u65f6\u90fd\u8fd4\u56de<code>end</code>\u3002</li> </ul> <p><code>count(beg, end, val)</code> <code>count_if(beg, end, unaryPred)</code></p> <ul> <li>\u8981\u6c42\u8f93\u5165\u8fed\u4ee3\u5668\u3002</li> <li>\u8fd9\u4e24\u4e2a\u7b97\u6cd5\u8fd4\u56de\u4e00\u4e2a\u6570\uff0c\u7edf\u8ba1\u6709\u591a\u5c11\u4e2a\u7b49\u4e8e<code>val</code>\u6216\u8005\u6ee1\u8db3\u6761\u4ef6\u7684\u5143\u7d20\u3002</li> </ul> <p><code>all_if(beg, end, unaryPred)</code> <code>any_if(beg, end, unaryPred)</code> <code>none_if(beg, end, unaryPred)</code></p> <ul> <li>\u8981\u6c42\u8f93\u5165\u8fed\u4ee3\u5668\u3002</li> <li>\u8fd9\u4e9b\u7b97\u6cd5\u90fd\u8fd4\u56de<code>bool</code>\u503c\uff0c\u5206\u522b\u6307\u51fa\u662f\u5426\u6240\u6709\u5143\u7d20\u90fd\u6ee1\u8db3\u6761\u4ef6\u3001\u662f\u5426\u5b58\u5728\u6ee1\u8db3\u6761\u4ef6\u7684\u5143\u7d20\u3001\u662f\u5426\u6240\u6709\u5143\u7d20\u90fd\u4e0d\u6ee1\u8db3\u6761\u4ef6\u3002</li> <li>\u5982\u679c\u5e8f\u5217\u4e3a\u7a7a\uff0c<code>any_of</code>\u8fd4\u56de<code>false</code>\uff0c<code>all_of</code>\u548c<code>none_of</code>\u8fd4\u56de<code>true</code>\u3002</li> </ul>","tags":["c/c++","\u7b97\u6cd5"]},{"location":"foundation/cpp/20.cpp-stl-algorithm-overview/#_11","title":"\u67e5\u627e\uff08\u76f8\u90bb\uff09\u91cd\u590d\u503c\u7684\u7b97\u6cd5","text":"<p>\u8fd9\u4e9b\u7b97\u6cd5\u5728\u8f93\u5165\u5e8f\u5217\u4e2d\u67e5\u627e\u91cd\u590d\u5143\u7d20\u3002\u8981\u6c42\u524d\u5411\u8fed\u4ee3\u5668\u3002</p> <p><code>adjacent_find(beg, end)</code> <code>adjacent_find(beg, end, binaryPred)</code></p> <ul> <li>\u8981\u6c42\u524d\u5411\u8fed\u4ee3\u5668\u3002</li> <li>\u8fd4\u56de\u6307\u5411\u7b2c\u4e00\u5bf9\u76f8\u90bb\u91cd\u590d\u5143\u7d20\u7684\u8fed\u4ee3\u5668\uff0c\u6307\u5411\u4e24\u4e2a\u5143\u7d20\u4e2d\u7684\u524d\u4e00\u4e2a\u5143\u7d20\u3002</li> <li>\u5982\u679c\u5e8f\u5217\u4e2d\u65e0\u76f8\u90bb\u91cd\u590d\u5143\u7d20\uff0c\u5219\u8fd4\u56de<code>end</code>\u3002</li> <li>\u867d\u8bf4\u8fd9\u4e2a\u7b97\u6cd5\u9700\u8981\u524d\u5411\u8fed\u4ee3\u5668\uff0c\u4f46\u662f\u4f20\u53c2\u65f6\u4f20\u5165<code>vi.cbegin()</code>\u540e\u7b97\u6cd5\u4e5f\u80fd\u6b63\u5e38\u6267\u884c\uff08\u6d4b\u8bd5\u5e8f\u5217\u662f\u4e00\u4e2a<code>vector&lt;int&gt;</code>\uff09\u3002</li> <li>\u4e8c\u5143\u8c13\u8bcd\u7528\u6765\u5224\u65ad\u4e24\u4e2a\u5143\u7d20\u662f\u5426\u76f8\u7b49\u3002</li> </ul> <p><code>search_n(beg, end, count, val)</code> <code>search_n(beg, end, count, val, binaryPred)</code></p> <ul> <li>\u8981\u6c42\u524d\u5411\u8fed\u4ee3\u5668</li> <li>\u8fd4\u56de\u4e00\u4e2a\u8fed\u4ee3\u5668\uff0c\u4ece\u6b64\u4f4d\u7f6e\u5f00\u59cb\u6709\u8fde\u7eed\u7684<code>count</code>\u4e2a\u76f8\u7b49\u5143\u7d20\uff0c\u6bcf\u4e2a\u5143\u7d20\u7684\u503c\u90fd\u548c<code>val</code>\u76f8\u7b49\u3002</li> <li>\u5982\u679c\u5e8f\u5217\u4e2d\u4e0d\u5b58\u5728\u8fd9\u6837\u7684\u5b50\u5e8f\u5217\uff0c\u8fd4\u56de<code>end</code>\u3002</li> <li>\u7b2c\u4e00\u4e2a\u7b97\u6cd5\u7528<code>'=='</code>\u8fd0\u7b97\u7b26\u5224\u65ad\u4e24\u4e2a\u5143\u7d20\u662f\u5426\u76f8\u7b49\u3002\u7b2c\u4e8c\u4e2a\u7b97\u6cd5\u7528\u8c13\u8bcd\u5224\u65ad\u4e24\u4e2a\u5143\u7d20\u662f\u5426\u76f8\u7b49\u3002</li> <li>\u6ce8\u610f\uff1a\u7b97\u6cd5\u65e2\u8981\u6bd4\u8f83\u5e8f\u5217\u4e2d\u7684\u4e24\u4e2a\u76f8\u90bb\u5143\u7d20\u662f\u5426\u76f8\u7b49\uff0c\u53c8\u8981\u6bd4\u8f83\u8fd9\u4e24\u4e2a\u5143\u7d20\u5404\u81ea\u662f\u5426\u548c<code>val</code>\u76f8\u7b49\uff0c\u56e0\u6b64\u6bcf\u4e24\u4e2a\u5143\u7d20\u81f3\u5c11\u8981\u6bd4\u8f83\u4e24\u5230\u4e09\u6b21\u3002</li> </ul>","tags":["c/c++","\u7b97\u6cd5"]},{"location":"foundation/cpp/20.cpp-stl-algorithm-overview/#_12","title":"\u67e5\u627e\u5b50\u5e8f\u5217\u7684\u7b97\u6cd5","text":"<p>\u8fd9\u4e9b\u7b97\u6cd5\u4e2d\u9664\u4e86<code>find_first_of</code>\u4e4b\u5916\uff0c\u90fd\u8981\u6c42\u4e24\u4e2a\u524d\u5411\u8fed\u4ee3\u5668\u3002<code>find_first_of</code>\u7528\u8f93\u5165\u8fed\u4ee3\u5668\u8868\u793a\u7b2c\u4e00\u4e2a\u5e8f\u5217\uff0c\u7528\u524d\u5411\u8fed\u4ee3\u5668\u8868\u793a\u7b2c\u4e8c\u4e2a\u5e8f\u5217\u3002\u8fd9\u4e9b\u7b97\u6cd5\u641c\u7d22\u5b50\u5e8f\u5217\u800c\u4e0d\u662f\u5355\u4e2a\u5143\u7d20\u3002</p> <p><code>search(beg1, end1, beg2, end2)</code> <code>search(beg1, end1, beg2, end2, binaryPred)</code></p> <ul> <li>\u8981\u6c42\u4e24\u4e2a\u524d\u5411\u8fed\u4ee3\u5668\u3002</li> <li>\u8fd4\u56de\u4e00\u4e2a\u8fed\u4ee3\u5668\uff0c\u6307\u5411\u7b2c\u4e8c\u4e2a\u8f93\u5165\u8303\u56f4\uff08\u5b50\u5e8f\u5217\uff09\u5728\u7b2c\u4e00\u4e2a\u8f93\u5165\u8303\u56f4\u4e2d\u7b2c\u4e00\u6b21\u51fa\u73b0\u7684\u4f4d\u7f6e\u3002\u5982\u679c\u672a\u627e\u5230\u5b50\u5e8f\u5217\uff0c\u5219\u8fd4\u56de<code>end1</code>\u3002</li> <li><code>binaryPred</code>\u7528\u6765\u6bd4\u8f83\u4e24\u4e2a\u5143\u7d20\u662f\u5426\u76f8\u7b49\u3002</li> </ul> <p><code>find_first_of(beg1, end1, beg2, end2)</code> <code>find_first_of(beg1, end1, beg2, end2, binaryPred)</code></p> <ul> <li>\u7b2c\u4e00\u4e2a\u8f93\u5165\u8303\u56f4\u8981\u6c42\u8f93\u5165\u8fed\u4ee3\u5668\uff0c\u7b2c\u4e8c\u4e2a\u8f93\u5165\u8303\u56f4\u8981\u6c42\u524d\u5411\u8fed\u4ee3\u5668\u3002</li> <li>\u8fd4\u56de\u4e00\u4e2a\u8fed\u4ee3\u5668\uff0c\u6307\u5411\u7b2c\u4e8c\u4e2a\u8f93\u5165\u8303\u56f4\uff08\u5b50\u5e8f\u5217\uff09\u4e2d\u4efb\u610f\u5143\u7d20\u5728\u7b2c\u4e00\u4e2a\u8f93\u5165\u8303\u56f4\u4e2d\u7b2c\u4e00\u6b21\u51fa\u73b0\u7684\u4f4d\u7f6e\u3002\u5982\u679c\u672a\u627e\u5230\u5339\u914d\u5143\u7d20\uff0c\u5219\u8fd4\u56de<code>end1</code>\u3002</li> </ul> <p><code>find_end(beg1, end1, beg2, end2)</code> <code>find_end(beg1, end1, beg2, end2, binaryPred)</code></p> <ul> <li>\u7c7b\u4f3c<code>search</code>\uff0c\u4f46\u8fd4\u56de\u7684\u662f\u6700\u540e\u4e00\u6b21\u51fa\u73b0\u7684\u4f4d\u7f6e\u3002\u672a\u627e\u5230\u5219\u8fd4\u56de<code>end1</code>\u3002</li> </ul>","tags":["c/c++","\u7b97\u6cd5"]},{"location":"foundation/cpp/20.cpp-stl-algorithm-overview/#_13","title":"\u5176\u4ed6\u53ea\u8bfb\u7b97\u6cd5","text":"<p>\u8fd9\u4e9b\u7b97\u6cd5\u8981\u6c42\u8f93\u5165\u8fed\u4ee3\u5668\u3002</p> <p><code>for_each(beg, end, unaryOp)</code></p> <ul> <li>\u8981\u6c42\u8f93\u5165\u8fed\u4ee3\u5668\u3002</li> <li>\u5bf9\u6bcf\u4e2a\u5143\u7d20\u8c03\u7528<code>unaryOp</code>\uff0c\u6ce8\u610f<code>unaryOp</code>\u662f\u4e2a\u53ef\u8c03\u7528\u5bf9\u8c61\uff0c\u4e0d\u662f\u8c13\u8bcd\u3002\u5ffd\u7565<code>unaryOp</code>\u7684\u8fd4\u56de\u503c\u3002\u5982\u679c\u8fed\u4ee3\u5668\u5141\u8bb8\u7684\u8bdd\uff0c\u53ef\u4ee5\u5728<code>unaryOp</code>\u91cc\u4fee\u6539\u5143\u7d20\u3002</li> </ul> <p><code>mismatch(beg1, end1, beg2)</code> <code>mismatch(beg1, end1, beg2, binaryPred)</code></p> <ul> <li>\u8981\u6c42\u8f93\u5165\u8fed\u4ee3\u5668\u3002</li> <li>\u6bd4\u8f83\u4e24\u4e2a\u5e8f\u5217\u4e2d\u7684\u5143\u7d20\u3002\u8fd4\u56de\u4e00\u4e2a<code>pair&lt;iter1, iter2&gt;</code>\u7c7b\u578b\uff08<code>pair</code>\u5728\u5934\u6587\u4ef6<code>utility</code>\u4e2d\uff09\uff0c<code>pair</code>\u4e2d\u4fdd\u5b58\u4e86\u4e24\u4e2a\u8fed\u4ee3\u5668\uff0c\u8868\u793a\u4e24\u4e2a\u5e8f\u5217\u5404\u81ea\u7684\u7b2c\u4e00\u4e2a\u4e0d\u5339\u914d\u5143\u7d20\u3002\u5982\u679c\u6240\u6709\u5143\u7d20\u90fd\u5339\u914d\uff0c\u5219<code>iter1</code>\u6307\u5411<code>end1</code>\uff0c<code>iter2</code>\u6307\u5411\u7b2c\u4e8c\u4e2a\u5e8f\u5217\u4e2d\u504f\u79fb\u91cf\u7b49\u4e8e<code>end1</code>-<code>beg1</code>\u7684\u4f4d\u7f6e\u3002</li> <li>\u663e\u7136\uff0c\u8fd9\u91cc\u7684\u201c\u6240\u6709\u5143\u7d20\u90fd\u5339\u914d\u201d\u6307\u7684\u662f\u7b2c\u4e8c\u4e2a\u5e8f\u5217\u7684\u524d\u534a\u90e8\u5206\u548c\u7b2c\u4e00\u4e2a\u5e8f\u5217\u5b8c\u5168\u5339\u914d\u3002</li> </ul> <p><code>equal(beg1, end1, beg2)</code> <code>equal(beg1, end1, beg2, binaryPred)</code></p> <ul> <li>\u8981\u6c42\u8f93\u5165\u8fed\u4ee3\u5668\u3002</li> <li>\u8fd4\u56de\u4e00\u4e2a<code>bool</code>\u7c7b\u578b\u7684\u503c\u3002\u7b97\u6cd5\u68c0\u67e5\u4e24\u4e2a\u5e8f\u5217\u662f\u5426\u76f8\u7b49\u3002\u76f8\u7b49\u5c31\u8fd4\u56de<code>true</code>\u3002</li> <li>\u6ce8\u610f\uff0c\u5982\u679c\u7b2c\u4e8c\u4e2a\u5e8f\u5217\u6bd4\u7b2c\u4e00\u4e2a\u957f\u7684\u8bdd\uff0c\u8fd9\u4e2a\u7b97\u6cd5\u53ea\u4f1a\u6bd4\u8f83\u7b2c\u4e8c\u4e2a\u5e8f\u5217\u7684\u524d\u534a\u90e8\u5206\u662f\u5426\u548c\u7b2c\u4e00\u4e2a\u5e8f\u5217\u76f8\u540c\uff0c\u76f8\u540c\u5c31\u8fd4\u56de<code>true</code>\u3002\u8fd9\u4e2a\u7b97\u6cd5\u8fd8\u6709\u4e00\u4e2a\u5e26<code>end2</code>\u53c2\u6570\u7684\u7248\u672c\uff0c\u8fd9\u4e2a\u7b97\u6cd5\u5728\u4e0a\u9762\u8fd9\u79cd\u60c5\u51b5\u4e0b\u4f1a\u8fd4\u56de<code>false</code>\u3002</li> </ul>","tags":["c/c++","\u7b97\u6cd5"]},{"location":"foundation/cpp/20.cpp-stl-algorithm-overview/#_14","title":"\u4e8c\u5206\u641c\u7d22\u7b97\u6cd5","text":"<p>\u8fd9\u4e9b\u7b97\u6cd5\u90fd\u8981\u6c42\u524d\u5411\u8fed\u4ee3\u5668\uff0c\u4f46\u8fd9\u4e9b\u7b97\u6cd5\u4ec5\u8fc7\u4e86\u4f18\u5316\uff0c\u5982\u679c\u63d0\u4f9b\u4e86\u968f\u673a\u8bbf\u95ee\u8fed\u4ee3\u5668\uff0c\u7b97\u6cd5\u7684\u6027\u80fd\u4f1a\u597d\u5f88\u591a\u3002 \u8fd9\u4e9b\u7b97\u6cd5\u8981\u6c42\u5e8f\u5217\u4e2d\u7684\u5143\u7d20\u5df2\u7ecf\u662f\u6709\u5e8f\u7684(\u8fd9\u91cc\u7684\u201c\u6709\u5e8f\u201d\u662f\u6307\u5143\u7d20\u6309\u4ece\u5c0f\u5230\u5927\u6392\u5217)\u3002 \u6bcf\u4e2a\u7b97\u6cd5\u63d0\u4f9b\u4e24\u4e2a\u7248\u672c\uff1a\u7b2c\u4e00\u4e2a\u7248\u672c\u7528<code>\"&lt;\"</code>\u8fd0\u7b97\u7b26\u6bd4\u8f83\u5143\u7d20\uff1b\u7b2c\u4e8c\u4e2a\u7248\u672c\u7528<code>comp</code>\u6bd4\u8f83\u5143\u7d20\u3002</p> <p><code>lower_bound(beg, end, val)</code> <code>lower_bound(beg, end, val, comp)</code></p> <ul> <li>\u8981\u6c42\u524d\u5411\u8fed\u4ee3\u5668\u3002</li> <li>\u8fd4\u56de\u4e00\u4e2a\u8fed\u4ee3\u5668\uff0c\u6307\u5411\u7b2c\u4e00\u4e2a\u4e0d\u5c0f\u4e8e\uff08\u5927\u4e8e\u7b49\u4e8e\uff09<code>val</code>\u7684\u5143\u7d20\uff0c\u5982\u679c\u4e0d\u5b58\u5728\u8fd9\u6837\u7684\u5143\u7d20\uff0c\u5219\u8fd4\u56de<code>end</code>\u3002</li> </ul> <p><code>upper_bound(beg, end, val)</code> <code>upper_bound(beg, end, val, comp)</code></p> <ul> <li>\u8981\u6c42\u524d\u5411\u8fed\u4ee3\u5668\u3002</li> <li>\u8fd4\u56de\u4e00\u4e2a\u8fed\u4ee3\u5668\uff0c\u6307\u5411\u7b2c\u4e00\u4e2a\u5927\u4e8e\uff08\u6ca1\u6709\u7b49\u4e8e\uff09<code>val</code>\u7684\u5143\u7d20\uff0c\u5982\u679c\u4e0d\u5b58\u5728\u8fd9\u6837\u7684\u5143\u7d20\uff0c\u5219\u8fd4\u56de<code>end</code>\u3002</li> <li>\u6ce8\u610f\uff1a<code>lower_bound</code>\u5e0c\u671b\u5c06\u5143\u7d20\u63d2\u5165\u5230\u76f8\u540c\u5143\u7d20\u7684\u524d\u9762\uff0c\u56e0\u800c\u8fd4\u56de\u7684\u8fed\u4ee3\u5668\u6307\u5411\u7684\u5143\u7d20\u4e0d\u5c0f\u4e8e\u63d2\u5165\u5143\u7d20\uff0c\u800c<code>upper_bound</code>\u76f8\u53cd\uff0c\u5b83\u5e0c\u671b\u5c06\u5143\u7d20\u63d2\u5165\u5230\u76f8\u540c\u5143\u7d20\u7684\u540e\u9762\uff0c\u56e0\u800c\u8fd4\u56de\u7684\u8fed\u4ee3\u5668\u6307\u5411\u7684\u5143\u7d20\u5927\u4e8e\u63d2\u5165\u5143\u7d20\u3002</li> </ul> <p><code>equal_range(beg, end, val)</code> <code>equal_range(beg, end, val, comp)</code></p> <ul> <li>\u8981\u6c42\u524d\u5411\u8fed\u4ee3\u5668\u3002</li> <li>\u8fd4\u56de\u4e00\u4e2a<code>pair&lt;iter1, iter2&gt;</code>\uff0c\u5176\u4e2d<code>iter1</code>\u662f<code>lower_bound</code>\u8fd4\u56de\u7684\u8fed\u4ee3\u5668\uff0c<code>iter2</code>\u662f<code>upper_bound</code>\u8fd4\u56de\u7684\u8fed\u4ee3\u5668\u3002</li> </ul> <p><code>binary_search(beg, end, val)</code> <code>binary_search(beg, end, val, comp)</code></p> <ul> <li>\u8981\u6c42\u524d\u5411\u8fed\u4ee3\u5668\u3002</li> <li>\u8fd4\u56de\u4e00\u4e2abool\u503c\uff0c\u6307\u51fa\u5e8f\u5217\u4e2d\u662f\u5426\u5305\u542b<code>val</code>\u3002</li> </ul>","tags":["c/c++","\u7b97\u6cd5"]},{"location":"foundation/cpp/20.cpp-stl-algorithm-overview/#_15","title":"\u5199\u5bb9\u5668\u7684\u7b97\u6cd5","text":"","tags":["c/c++","\u7b97\u6cd5"]},{"location":"foundation/cpp/20.cpp-stl-algorithm-overview/#_16","title":"\u53ea\u5199\u4e0d\u8bfb\u5143\u7d20\u7684\u7b97\u6cd5","text":"<p>\u8fd9\u4e9b\u7b97\u6cd5\u8981\u6c42\u4e00\u4e2a\u8f93\u51fa\u8fed\u4ee3\u5668\uff0c\u8868\u793a\u76ee\u7684\u4f4d\u7f6e\uff0c<code>_n</code>\u7684\u7248\u672c\u63a5\u53d7\u7b2c\u4e8c\u4e2a\u5b9e\u53c2\uff0c\u8868\u793a\u5199\u5165\u7684\u5143\u7d20\u6570\u76ee\u3002</p> <p><code>fill(beg, end, val)</code> <code>fill_n(dest, cnt, val)</code></p> <ul> <li>\u8981\u6c42\u8f93\u51fa\u8fed\u4ee3\u5668</li> <li>\u7ed9\u5e8f\u5217\u4e2d\u6bcf\u4e2a\u5143\u7d20\u8d4b\u65b0\u503c<code>val</code>\u3002</li> <li><code>fill</code>\u8fd4\u56de<code>void</code>\uff0c<code>fill_n</code>\u8fd4\u56de\u4e00\u4e2a\u8fed\u4ee3\u5668\uff0c\u6307\u5411\u6700\u540e\u4e00\u4e2a\u5199\u5165\u5143\u7d20\u4e4b\u540e\u7684\u4f4d\u7f6e\u3002</li> </ul> <p><code>generate(beg, end, gen)</code> <code>generate(dest, cnt, gen)</code></p> <ul> <li>\u8981\u6c42\u8f93\u51fa\u8fed\u4ee3\u5668\u3002</li> <li>\u4e0e<code>fill</code>\u4e0d\u540c\uff0c<code>generate</code>\u7528\u53ef\u8c03\u7528\u5bf9\u8c61<code>gen</code>\u751f\u6210\u65b0\u503c\uff0c<code>gen</code>\u7684\u8fd4\u56de\u503c\u548c\u5bb9\u5668\u4e2d\u5143\u7d20\u7684\u7c7b\u578b\u76f8\u540c\uff0c\u5e76\u4e14<code>gen</code>\u4e0d\u9700\u8981\u7528\u5e8f\u5217\u4e2d\u7684\u5143\u7d20\u4f5c\u4e3a\u53c2\u6570\u3002</li> <li><code>gen</code>\u8fd4\u56de<code>void</code>\uff0c<code>gen_n</code>\u8fd4\u56de\u4e00\u4e2a\u8fed\u4ee3\u5668\uff0c\u6307\u5411\u6700\u540e\u4e00\u4e2a\u5199\u5165\u5143\u7d20\u4e4b\u540e\u7684\u4f4d\u7f6e\u3002</li> </ul>","tags":["c/c++","\u7b97\u6cd5"]},{"location":"foundation/cpp/20.cpp-stl-algorithm-overview/#_17","title":"\u4f7f\u7528\u8f93\u5165\u8fed\u4ee3\u5668\u7684\u5199\u7b97\u6cd5","text":"<p>\u8fd9\u4e9b\u7b97\u6cd5\u8bfb\u53d6\u4e00\u4e2a\u8f93\u5165\u5e8f\u5217\uff0c\u5c06\u503c\u5199\u5230\u4e00\u4e2a\u8f93\u51fa\u5e8f\u5217\u4e2d\u3002\u8981\u6c42\u4e24\u4e2a\u8868\u793a\u8303\u56f4\u7684\u8f93\u5165\u8fed\u4ee3\u5668\u548c\u4e00\u4e2a\u8f93\u51fa\u8fed\u4ee3\u5668\u3002</p> <p><code>copy(beg, end, dest)</code> <code>copy_if(beg, end, dest, unaryPred)</code> <code>copy_n(beg, n, dest)</code></p> <ul> <li>\u8981\u6c42\u8f93\u5165\u8fed\u4ee3\u5668\u548c\u8f93\u51fa\u8fed\u4ee3\u5668\u3002</li> <li><code>copy_if</code>\u62f7\u8d1d\u6ee1\u8db3\u6761\u4ef6\u7684\u5143\u7d20\u3002</li> <li>\u8fd4\u56de\u503c\uff1f</li> </ul> <p><code>move(beg, end, dest)</code></p> <ul> <li>\u8981\u6c42\u8f93\u5165\u8fed\u4ee3\u5668\u548c\u8f93\u51fa\u8fed\u4ee3\u5668\u3002</li> <li>\u5bf9\u8f93\u5165\u5e8f\u5217\u7684\u6bcf\u4e2a\u5143\u7d20\u8c03\u7528<code>std::move</code>\uff08\u89c113.3.1\u8282\uff0c\u7b2c472\u9875\uff09\uff0c\u5c06\u5176\u79fb\u52a8\u5230<code>dest</code>\u5f00\u59cb\u7684\u5e8f\u5217\u4e2d\u3002</li> </ul> <p><code>transform(beg, end, dest, unaryOp)</code> <code>transform(beg, end, beg2, dest, binaryOp)</code></p> <ul> <li>\u8981\u6c42\u8f93\u5165\u8fed\u4ee3\u5668\u548c\u8f93\u51fa\u8fed\u4ee3\u5668\u3002</li> <li>\u7b2c\u4e00\u4e2a\u7248\u672c\u5bf9\u5e8f\u5217\u4e2d\u6240\u6709\u5143\u7d20\u8c03\u7528<code>unaryOp</code>\uff0c\u5e76\u5c06\u7ed3\u679c\u5199\u5230<code>dest</code>\u4e2d\uff1b\u7b2c\u4e8c\u4e2a\u7248\u672c\u5bf9\u4e24\u4e2a\u5e8f\u5217\u4e2d\u7684\u5143\u7d20\u5e94\u7528<code>binaryOp</code>\u3002</li> </ul> <p><code>replace_copy(beg, end, dest, old_val, new_val)</code> <code>replace_copy_if(beg, end, dest, unaryPred, new_val)</code></p> <ul> <li>\u8981\u6c42\u8f93\u5165\u8fed\u4ee3\u5668\u548c\u8f93\u51fa\u8fed\u4ee3\u5668\u3002</li> <li>\u5c06\u6bcf\u4e2a\u5143\u7d20\u62f7\u8d1d\u5230<code>dest</code>\uff0c\u5c06\u6307\u5b9a\u7684\u5143\u7d20\u66ff\u6362\u4e3a<code>new_val</code>\u3002</li> </ul> <p><code>merge(beg1, end1, beg2, end2, dest)</code> <code>merge(beg1, end1, beg2, end2, dest, comp)</code></p> <ul> <li>\u8981\u6c42\u8f93\u5165\u8fed\u4ee3\u5668\u548c\u8f93\u51fa\u8fed\u4ee3\u5668\u3002</li> <li>\u4e24\u4e2a\u8f93\u5165\u5e8f\u5217\u5fc5\u987b\u662f\u6709\u5e8f\u7684\u3002</li> <li>\u7b2c\u4e00\u4e2a\u7248\u672c\u7528<code>\"&lt;\"</code>\u8fd0\u7b97\u7b26\u6bd4\u8f83\u5143\u7d20\uff0c\u7b2c\u4e8c\u4e2a\u7248\u672c\u7528<code>comp</code>\u6bd4\u8f83\u5143\u7d20\u3002</li> </ul>","tags":["c/c++","\u7b97\u6cd5"]},{"location":"foundation/cpp/20.cpp-stl-algorithm-overview/#_18","title":"\u4f7f\u7528\u524d\u5411\u8fed\u4ee3\u5668\u7684\u5199\u7b97\u6cd5","text":"<p>\u8fd9\u4e9b\u7b97\u6cd5\u8981\u6c42\u524d\u5411\u8fed\u4ee3\u5668\uff0c\u5411\u8f93\u5165\u5e8f\u5217\u4e2d\u5199\u5165\u5143\u7d20\u3002</p> <p><code>iter_swap(iter1, iter2)</code></p> <ul> <li>\u8981\u6c42\u524d\u5411\u8fed\u4ee3\u5668\u3002</li> <li>\u4ea4\u6362<code>iter1</code>\u548c<code>iter2</code>\u6307\u5411\u7684\u5143\u7d20\u7684\u503c\uff08\u53ea\u4ea4\u6362\u8fd9\u4e24\u4e2a\u5143\u7d20\uff0c\u4e0d\u4ea4\u6362\u5e8f\u5217\uff09\u3002</li> <li>\u8fd4\u56de<code>void</code>\u3002</li> </ul> <p><code>swap_ranges(beg1, end1, beg2)</code></p> <ul> <li>\u8981\u6c42\u524d\u5411\u8fed\u4ee3\u5668\u3002</li> <li>\u5c06\u4e24\u4e2a\u8303\u56f4\u5185\u7684\u6240\u6709\u5143\u7d20\u8fdb\u884c\u4ea4\u6362\uff0c\u4e24\u4e2a\u8303\u56f4\u4e0d\u80fd\u6709\u91cd\u53e0\u3002</li> <li>\u8fd4\u56de\u4e00\u4e2a\u8fed\u4ee3\u5668\uff0c\u6307\u5411\u7b2c\u4e8c\u4e2a\u5e8f\u5217\u6700\u540e\u4e00\u4e2a\u88ab\u4ea4\u6362\u5143\u7d20\u4e4b\u540e\u7684\u4f4d\u7f6e\u3002</li> </ul> <p><code>replace(beg, end, old_val, new,val)</code> <code>replace_if(beg, end, unaryPred, new,val)</code></p> <ul> <li>\u539f\u5740\u66ff\u6362\u3002</li> </ul>","tags":["c/c++","\u7b97\u6cd5"]},{"location":"foundation/cpp/20.cpp-stl-algorithm-overview/#_19","title":"\u4f7f\u7528\u53cc\u5411\u8fed\u4ee3\u5668\u7684\u5199\u7b97\u6cd5","text":"<p>\u8fd9\u4e9b\u7b97\u6cd5\u8981\u6c42\u53cc\u5411\u8fed\u4ee3\u5668\u3002</p> <p><code>copy_backward(beg, end, dest)</code> <code>move_backward(beg, end, dest)</code></p> <ul> <li>\u8981\u6c42\u53cc\u5411\u8fed\u4ee3\u5668\u3002</li> <li>\u4ece\u8f93\u5165\u8303\u56f4\u4e2d\u62f7\u8d1d\u6216\u79fb\u52a8\u5143\u7d20\u5230\u6307\u5b9a\u76ee\u7684\u4f4d\u7f6e\u3002</li> <li><code>dest</code>\u662f\u8f93\u51fa\u5e8f\u5217\u7684\u5c3e\u540e\u8fed\u4ee3\u5668\uff08\u6ce8\u610f\u4e0d\u662f\u53cd\u5411\u8fed\u4ee3\u5668\uff09\u3002</li> <li>\u5982\u679c\u8303\u56f4\u4e3a\u7a7a\uff0c\u5219\u8fd4\u56de<code>dest</code>\uff1b\u5426\u5219\uff0c\u8fd4\u56de\u503c\u6307\u5411\u4ece<code>*beg</code>\u62f7\u8d1d\u6216\u79fb\u52a8\u7684\u5143\u7d20\uff08\u800c\u4e0d\u662f<code>beg</code>\u7684\u524d\u4e00\u4e2a\u4f4d\u7f6e\uff09\u3002</li> </ul> <p><code>inplace_merge(beg, mid, end)</code> <code>inplace_merge(beg, mid, end, comp)</code></p> <ul> <li>\u8981\u6c42\u53cc\u5411\u8fed\u4ee3\u5668\u3002</li> <li>\u5c06\u540c\u4e00\u4e2a\u5e8f\u5217\u7684\u4e24\u4e2a\uff08\u76f8\u90bb\u7684\uff09\u6709\u5e8f\u5b50\u5e8f\uff08\u90fd\u662f\u9012\u589e\u5e8f\u5217\uff09\u5408\u5e76\u4e3a\u5355\u4e00\u7684\u6709\u5e8f\u5e8f\u5217\u3002<code>beg</code>\u5230<code>mid</code>\u95f4\u7684\u5b50\u5e8f\u5217\u548c<code>mid</code>\u5230<code>end</code>\u95f4\u7684\u5b50\u5e8f\u5217\u88ab\u5408\u5e76\uff0c\u5e76\u88ab\u5199\u5165\u5230\u539f\u5e8f\u5217\u4e2d\u3002\u7b2c\u4e00\u4e2a\u7248\u672c\u4f7f\u7528<code>\u201c&lt;\u201d</code>\u8fd0\u7b97\u7b26\u6bd4\u8f83\u5143\u7d20\uff0c\u7b2c\u4e8c\u4e2a\u7248\u672c\u4f7f\u7528<code>comp</code>\u6bd4\u8f83\u5143\u7d20\u3002</li> <li>\u8fd4\u56de<code>void</code>\u3002</li> </ul>","tags":["c/c++","\u7b97\u6cd5"]},{"location":"foundation/cpp/20.cpp-stl-algorithm-overview/#_20","title":"\u5212\u5206\u4e0e\u6392\u5e8f\u7b97\u6cd5","text":"<p>\u6bcf\u4e2a\u6392\u5e8f\u548c\u5212\u5206\u7b97\u6cd5\u90fd\u63d0\u4f9b\u7a33\u5b9a\u548c\u4e0d\u7a33\u5b9a\u7248\u672c\u3002</p>","tags":["c/c++","\u7b97\u6cd5"]},{"location":"foundation/cpp/20.cpp-stl-algorithm-overview/#_21","title":"\u5212\u5206\u7b97\u6cd5","text":"<p>\u5212\u5206\u7b97\u6cd5\u5c06\u5143\u7d20\u5212\u4e3a\u4e24\u7ec4\uff0c\u7b2c\u4e00\u7ec4\u5143\u7d20\u6ee1\u8db3\u7ed9\u5b9a\u8c13\u8bcd\uff0c\u7b2c\u4e8c\u7ec4\u4e0d\u6ee1\u8db3\u3002 \u8fd9\u4e9b\u7b97\u6cd5\u90fd\u8981\u6c42\u53cc\u5411\u8fed\u4ee3\u5668\u3002</p> <p><code>is_partitioned(beg, end, unaryPred)</code></p> <ul> <li>\u8981\u6c42\u53cc\u5411\u8fed\u4ee3\u5668\u3002</li> <li>\u68c0\u67e5\u8f93\u5165\u5e8f\u5217\u662f\u5426\u5df2\u7ecf\u5212\u5206\u597d\u3002\u8fd4\u56de\u4e00\u4e2a<code>bool</code>\u503c\u3002\u5982\u679c\u5e8f\u5217\u4e3a\u7a7a\uff0c\u8fd4\u56de<code>true</code>\u3002</li> </ul> <p><code>partition_copy(beg, end, dest1, dest2, unaryPred)</code></p> <ul> <li>\u8981\u6c42\u53cc\u5411\u8fed\u4ee3\u5668\u3002</li> <li>\u5c06\u6ee1\u8db3<code>unaryPred</code>\u7684\u5143\u7d20\u62f7\u8d1d\u5230<code>dest1</code>\uff0c\u4e0d\u6ee1\u8db3\u7684\u5143\u7d20\u62f7\u8d1d\u5230<code>dest2</code>\u3002</li> <li>\u8fd4\u56de\u4e00\u4e2a<code>pair&lt;iter1, iter2&gt;</code>\u503c\uff0c<code>iter1</code>\u6307\u5411<code>dest1</code>\u5e8f\u5217\u7684\u672b\u5c3e\uff08\u5e94\u8be5\u6307\u7684\u662f\u5c3e\u540e\uff09\uff0c<code>iter2</code>\u6307\u5411<code>dest2</code>\u5e8f\u5217\u7684\u672b\u5c3e\u3002</li> <li>\u8f93\u5165\u5e8f\u5217\u548c\u4e24\u4e2a\u76ee\u7684\u5e8f\u5217\u4e0d\u80fd\u6709\u91cd\u53e0\u3002</li> </ul> <p><code>partition_point(beg, end, unaryPred)</code></p> <ul> <li>\u8981\u6c42\u53cc\u5411\u8fed\u4ee3\u5668\u3002</li> <li>\u8f93\u5165\u5e8f\u5217\u5fc5\u987b\u662f\u5df2\u7ecf\u7528<code>unaryPred</code>\u5212\u5206\u8fc7\u4e86\u3002\u8fd4\u56de\u6ee1\u8db3<code>unaryPred</code>\u90e8\u5206\u7684\u5c3e\u540e\u8fed\u4ee3\u5668\u3002</li> </ul> <p><code>stable_partition(beg, end, unaryPred)</code> <code>partition(beg, end, unaryPred)</code></p> <ul> <li>\u8981\u6c42\u53cc\u5411\u8fed\u4ee3\u5668\u3002</li> <li>\u4f7f\u7528<code>unaryPred</code>\u5212\u5206\u5e8f\u5217\u3002\u4e00\u4e2a\u662f\u7a33\u5b9a\u5212\u5206\uff0c\u4e00\u4e2a\u4e0d\u662f\u7a33\u5b9a\u5212\u5206\u3002</li> <li>\u8fd4\u56de\u6ee1\u8db3<code>unaryPred</code>\u90e8\u5206\u7684\u5c3e\u540e\u8fed\u4ee3\u5668\u3002</li> </ul> <p><code>nth_element(beg, nth, end)</code> <code>nth_element(beg, nth, end, comp)</code></p> <ul> <li>\u8981\u6c42\u968f\u673a\u8bbf\u95ee\u8fed\u4ee3\u5668\u3002</li> <li>\u53c2\u6570<code>nth</code>\u662f\u4e00\u4e2a\u8fed\u4ee3\u5668\uff0c\u6307\u5411\u8f93\u5165\u5e8f\u5217\u4e2d\u7684\u4e00\u4e2a\u4f4d\u7f6e\u3002\u5212\u5206\u7ed3\u675f\u540e\uff0c\u8fd9\u4e2a\u4f4d\u7f6e\u4e0a\u7684\u65b0\u5143\u7d20\u4e4b\u524d\u7684\u5143\u7d20\u5747\u5c0f\u4e8e\u7b49\u4e8e\u5b83\uff0c\u4e4b\u540e\u7684\u5143\u7d20\u5747\u5927\u4e8e\u7b49\u4e8e\u5b83\u3002</li> <li>\u8fd9\u4e2a\u7b97\u6cd5\u4e0e\u5feb\u901f\u6392\u5e8f\u7684\u5212\u5206\u7b97\u6cd5\u6709\u5f88\u5927\u533a\u522b\u3002\u5feb\u901f\u6392\u5e8f\u7684\u5212\u5206\u7b97\u6cd5\u662f\u8fd9\u6837\uff0c\u9009\u62e9\u4e00\u4e2a\u5143\u7d20\uff0c\u628a\u8fd9\u4e2a\u5143\u7d20\u653e\u5230\u5b83\u6700\u7ec8\u8be5\u5728\u7684\u4f4d\u7f6e\uff1b\u800c<code>nth_element</code>\u8fd9\u4e2a\u7b97\u6cd5\u662f\u9009\u62e9\u4e00\u4e2a\u4f4d\u7f6e\uff0c\u628a\u6700\u7ec8\u8be5\u5728\u8fd9\u4e2a\u4f4d\u7f6e\u4e0a\u7684\u5143\u7d20\u653e\u5230\u8fd9\u91cc\u6765\u3002</li> </ul>","tags":["c/c++","\u7b97\u6cd5"]},{"location":"foundation/cpp/20.cpp-stl-algorithm-overview/#_22","title":"\u6392\u5e8f\u7b97\u6cd5","text":"<p>\u8fd9\u4e9b\u7b97\u6cd5\u8981\u6c42\u968f\u673a\u8bbf\u95ee\u8fed\u4ee3\u5668\u3002\u6bcf\u4e2a\u6392\u5e8f\u7b97\u6cd5\u63d0\u4f9b\u4e24\u4e2a\u91cd\u8f7d\u7248\u672c\uff0c\u4e00\u4e2a\u7248\u672c\u7528<code>\"&lt;\"</code>\u8fd0\u7b97\u7b26\u6765\u6bd4\u8f83\u5143\u7d20\uff0c\u53e6\u4e00\u4e2a\u7248\u672c\u7528<code>comp</code>\u6bd4\u8f83\u5143\u7d20\u3002<code>partial_sort_copy</code>\u8fd4\u56de\u4e00\u4e2a\u6307\u5411\u76ee\u7684\u4f4d\u7f6e\u7684\u8fed\u4ee3\u5668\uff0c\u5176\u4ed6\u6392\u5e8f\u7b97\u6cd5\uff08\u672c\u8282\u8fd8\u6709\u4e0d\u6392\u5e8f\u7684\u7b97\u6cd5\uff09\u90fd\u8fd4\u56de<code>void</code>\u3002</p> <p><code>sort(beg, end)</code> <code>stable_sort(beg, end)</code> <code>sort(beg, end, comp)</code> <code>stable_sort(beg, end, comp)</code></p> <ul> <li>\u8981\u6c42\u968f\u673a\u8bbf\u95ee\u8fed\u4ee3\u5668\u3002</li> <li>\u6392\u5e8f\u6574\u4e2a\u8303\u56f4\u3002\u8fd4\u56de<code>void</code>\u3002</li> <li>\u5143\u7d20\u4e2a\u6570\u8f83\u5c11\u65f6\uff0csort\u4f1a\u4f7f\u7528\u63d2\u5165\u6392\u5e8f\u7b97\u6cd5\uff1b\u5143\u7d20\u4e2a\u6570\u8f83\u591a\u65f6\uff0csort\u4f1a\u4f7f\u7528\u5feb\u901f\u6392\u5e8f\u7b97\u6cd5\uff0c\u5e76\u4e14\u6392\u5e8f\u7684\u8fc7\u7a0b\u4e2d\u4f1a\u8c03\u7528\u5143\u7d20\u81ea\u5b9a\u4e49\u7684swap\u51fd\u6570\u4ea4\u6362\u5143\u7d20\uff08\u5982\u679c\u6709\u7684\u8bdd\uff09\u3002</li> </ul> <p><code>is_sorted(beg, end)</code> <code>is_sorted(beg, end, comp)</code> <code>is_sorted_until(beg, end)</code> <code>is_sorted_until(beg, end, comp)</code></p> <ul> <li>\u8981\u6c42\u968f\u673a\u8bbf\u95ee\u8fed\u4ee3\u5668\u3002</li> <li><code>is_sorted</code>\u8fd4\u56de<code>bool</code>\u503c\uff0c\u6307\u51fa\u6574\u4e2a\u5e8f\u5217\u662f\u5426\u6709\u5e8f\u3002</li> <li><code>is_sorted_until</code>\u5728\u8f93\u5165\u5e8f\u5217\u4e2d\u67e5\u627e\u6700\u957f\u7684\u6709\u5e8f\u5b50\u5e8f\u5217\u3002\u8fd4\u56de\u4e00\u4e2a\u8fed\u4ee3\u5668\uff0c\u6307\u5411\u6700\u957f\u6709\u5e8f\u5b50\u5e8f\u5217\u7684\u5c3e\u540e\u4f4d\u7f6e\u3002</li> </ul> <p><code>partial_sort(beg, mid, end)</code> <code>partial_sort(beg, mid, end, comp)</code></p> <ul> <li>\u8981\u6c42\u968f\u673a\u8bbf\u95ee\u8fed\u4ee3\u5668\u3002</li> <li>\u4ece\u5e8f\u5217\u4e2d\u627e\u51fa\u6700\u5c0f\u7684<code>mid-beg</code>\u4e2a\u5143\u7d20\uff0c\u5c06\u8fd9\u4e9b\u5143\u7d20\u6709\u5e8f\u5730\u653e\u5728\u5e8f\u5217\u6700\u524d\u9762\uff0c\u672a\u6392\u5e8f\u533a\u57df\u7684\u5143\u7d20\u987a\u5e8f\u662f\u672a\u77e5\u7684\u3002\uff08\u6ce8\u610f\u8fd9\u4e2a\u7b97\u6cd5\u4e0d\u662f\u53ea\u6392\u5e8f\u524d<code>mid-beg</code>\u4e2a\u5143\u7d20\uff0c\u53ea\u6392\u4e00\u90e8\u5206\u5143\u7d20\u4f7f\u7528<code>sort</code>\u7b97\u6cd5\u5c31\u53ef\u4ee5\uff09</li> </ul> <p><code>partial_sort_copy(beg, end, destBeg, destEnd)</code> <code>partial_sort_copy(beg, end, destBeg, destEnd, comp)</code></p> <ul> <li>\u8981\u6c42\u968f\u673a\u8bbf\u95ee\u8fed\u4ee3\u5668\u3002</li> <li>\u6392\u5e8f\u6574\u4e2a\u8f93\u5165\u5e8f\u5217\uff0c\u5c06\u6392\u5e8f\u7ed3\u679c\u62f7\u8d1d\u5230\u76ee\u7684\u8303\u56f4\u4e2d\u3002\u5982\u679c\u76ee\u7684\u8303\u56f4\u5927\u4e8e\u7b49\u4e8e\u8f93\u5165\u8303\u56f4\uff0c\u5219\u5c06\u6574\u4e2a\u8f93\u51fa\u5e8f\u5217\u62f7\u8d1d\u5230\u76ee\u7684\u8303\u56f4\u3002\u5982\u679c\u76ee\u7684\u8303\u56f4\u6bd4\u8f93\u5165\u8303\u56f4\u5c0f\uff0c\u5219\u53ea\u628a\u8f93\u51fa\u5e8f\u5217\u4e2d\u548c\u76ee\u7684\u8303\u56f4\u4e00\u6837\u591a\u7684\u5143\u7d20\u62f7\u8d1d\u5230\u76ee\u7684\u8303\u56f4\u3002</li> <li>\u8fd4\u56de\u4e00\u4e2a\u8fed\u4ee3\u5668\uff0c\u6307\u5411\u76ee\u7684\u8303\u56f4\u4e2d\u8f93\u51fa\u5e8f\u5217\u7684\u5c3e\u540e\u5143\u7d20\u3002</li> </ul>","tags":["c/c++","\u7b97\u6cd5"]},{"location":"foundation/cpp/20.cpp-stl-algorithm-overview/#_23","title":"\u901a\u7528\u91cd\u6392\u64cd\u4f5c","text":"","tags":["c/c++","\u7b97\u6cd5"]},{"location":"foundation/cpp/20.cpp-stl-algorithm-overview/#_24","title":"\u4f7f\u7528\u524d\u5411\u8fed\u4ee3\u5668\u7684\u91cd\u6392\u7b97\u6cd5","text":"<p><code>remove(beg, end, val)</code> <code>remove_if(beg, end, unaryPred)</code> <code>remove_copy(beg, end, val)</code> <code>remove_copy_if(beg, end, unaryPred)</code></p> <ul> <li>\u8981\u6c42\u524d\u5411\u8fed\u4ee3\u5668\u3002</li> <li>\u4ece\u5e8f\u5217\u4e2d\u201c\u5220\u9664\u5143\u7d20\u201d\u3002\u901a\u8fc7\u79fb\u52a8\u5143\u7d20\u6765\u5b8c\u6210\u5220\u9664\uff0c\u4f7f\u5f97\u4e0d\u88ab\u5220\u9664\u5f97\u5143\u7d20\u51fa\u73b0\u5728\u5bb9\u5668\u7684\u524d\u5934\uff0c\u5e76\u4e14\u4fdd\u7559\u5143\u7d20\u7684\u76f8\u5bf9\u987a\u5e8f\u3002</li> <li>\u8fd4\u56de\u4e00\u4e2a\u8fed\u4ee3\u5668\uff0c\u6307\u5411\u65b0\u8303\u56f4\u7684\u5c3e\u540e\u4f4d\u7f6e\u3002\u65b0\u7684\u5c3e\u540e\u4f4d\u7f6e\u548c\u65e7\u7684\u5c3e\u540e\u4f4d\u7f6e\u4e4b\u95f4\u7684\u503c\u662f\u672a\u77e5\u7684\uff08\u65e0\u610f\u4e49\u7684\uff09\u3002</li> <li>\u8be5\u7b97\u6cd5\u901a\u5e38\u548c\u5bb9\u5668\u7684<code>erase</code>\u7b97\u6cd5\u76f8\u914d\u5408\u4f7f\u7528\u3002</li> </ul> <p><code>unique(beg, end)</code> <code>unique(beg, end, binaryPred)</code> <code>unique_copy(beg, end, dest)</code> <code>unique_copy_if(beg, end, dest, binaryPred)</code></p> <ul> <li>\u8981\u6c42\u524d\u5411\u8fed\u4ee3\u5668\u3002</li> <li>\u5bf9\u4e8e\u5e8f\u5217\u4e2d\u6bcf\u7ec4\u8fde\u7eed\u7684\uff08\u76f8\u90bb\u7684\uff09\u76f8\u7b49\u5143\u7d20\uff0c\u4fdd\u7559\u7b2c\u4e00\u4e2a\u5143\u7d20\uff0c\u5220\u6389\u540e\u9762\u7684\u5143\u7d20\u3002\u7528\u8986\u76d6\u7684\u65b9\u6cd5\u5220\u9664\uff0c\u4fdd\u7559\u5143\u7d20\u7684\u76f8\u5bf9\u987a\u5e8f\u3002</li> <li>\u8fd4\u56de\u4e00\u4e2a\u8fed\u4ee3\u5668\uff0c\u6307\u5411\u4e0d\u91cd\u590d\u5143\u7d20\u7684\u5c3e\u540e\u4f4d\u7f6e\u3002\u65b0\u7684\u5c3e\u540e\u4f4d\u7f6e\u548c\u65e7\u7684\u5c3e\u540e\u4f4d\u7f6e\u4e4b\u95f4\u7684\u503c\u662f\u672a\u77e5\u7684\uff08\u65e0\u610f\u4e49\u7684\uff09\u3002</li> </ul> <p><code>rotate(beg, mid, end)</code> <code>rotate_copy(beg, mid, end, dest)</code></p> <ul> <li>\u8981\u6c42\u524d\u5411\u8fed\u4ee3\u5668\u3002</li> <li>\u628a\u8f93\u5165\u5e8f\u5217\u7684\u524d\u540e\u4e24\u4e2a\u90e8\u5206\u98a0\u5012\u987a\u5e8f\uff0c<code>mid</code>\u662f\u5206\u5272\u70b9\u3002\u5982{2\uff0c3\uff0c4\uff0c5\uff0c7\uff0c8\uff0c9\uff0c10}\u53d8\u4e3a{7\uff0c8\uff0c9\uff0c10\uff0c2\uff0c3\uff0c4\uff0c5}\uff0c\u5206\u5272\u70b9\u662f7\u3002</li> <li>\u8fd4\u56de\u4e00\u4e2a\u8fed\u4ee3\u5668\uff0c\u6307\u5411\u91cd\u6392\u524d\u5e8f\u5217\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\u5728\u91cd\u6392\u540e\u7684\u4f4d\u7f6e\u3002\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u4f1a\u8fd4\u56de2\u6240\u5728\u7684\u4f4d\u7f6e\u3002</li> </ul>","tags":["c/c++","\u7b97\u6cd5"]},{"location":"foundation/cpp/20.cpp-stl-algorithm-overview/#_25","title":"\u4f7f\u7528\u53cc\u5411\u8fed\u4ee3\u5668\u7684\u91cd\u6392\u7b97\u6cd5","text":"<p>\u8fd9\u4e9b\u7b97\u6cd5\u8981\u53cd\u5411\u5904\u7406\u8f93\u5165\u5e8f\u5217\uff0c\u5b83\u4eec\u8981\u6c42\u53cc\u5411\u8fed\u4ee3\u5668\u3002</p> <p><code>reverse(beg, end)</code> <code>reverse_copy(beg, end, dest)</code></p> <ul> <li>\u8981\u6c42\u53cc\u5411\u8fed\u4ee3\u5668\u3002</li> <li>\u7ffb\u8f6c\u5e8f\u5217\u4e2d\u7684\u5143\u7d20\u3002<code>reverse</code>\u8fd4\u56de<code>void</code>\uff0c<code>reverse_copy</code>\u8fd4\u56de\u4e00\u4e2a\u8fed\u4ee3\u5668\uff0c\u6307\u5411\u76ee\u7684\u5e8f\u5217\u7684\u5c3e\u540e\u5143\u7d20\u3002</li> </ul>","tags":["c/c++","\u7b97\u6cd5"]},{"location":"foundation/cpp/20.cpp-stl-algorithm-overview/#_26","title":"\u4f7f\u7528\u968f\u673a\u8bbf\u95ee\u8fed\u4ee3\u5668\u7684\u91cd\u6392\u7b97\u6cd5","text":"<p><code>random_shuffle(beg, end)</code> <code>random_shuffle(beg, end, rand)</code> <code>shuffle(beg, end, Uniform_rand)</code></p> <ul> <li>\u8981\u6c42\u968f\u673a\u8bbf\u95ee\u8fed\u4ee3\u5668\u3002</li> <li>\u6df7\u6d17\u8f93\u5165\u5e8f\u5217\u4e2d\u7684\u5143\u7d20\u3002\u7b2c\u4e8c\u4e2a\u7248\u672c\u7684\u53c2\u6570<code>rand</code>\u662f\u4e00\u4e2a\u53ef\u8c03\u7528\u5bf9\u8c61\uff0c\u8be5\u5bf9\u8c61\u5fc5\u987b\u63a5\u53d7\u4e00\u4e2a\u6b63\u6574\u6570\uff0c\u5e76\u751f\u62100\u5230\u6b64\u503c\u7684\u5305\u542b\u533a\u95f4\u5185\u7684\u4e00\u4e2a\u670d\u4ece\u5747\u5300\u5206\u5e03\u7684\u968f\u673a\u6574\u6570\u3002<code>shuffle</code>\u7684\u7b2c\u4e09\u4e2a\u53c2\u6570\u5fc5\u987b\u6ee1\u8db3\u5747\u5300\u5206\u5e03\u968f\u673a\u6570\u751f\u6210\u5668\u7684\u8981\u6c42\uff08\u53c2\u89c117.4\u8282\uff0c\u7b2c659\u9875\uff09\u3002\u6240\u6709\u7248\u672c\u90fd\u8fd4\u56de<code>void</code>\u3002</li> </ul>","tags":["c/c++","\u7b97\u6cd5"]},{"location":"foundation/cpp/20.cpp-stl-algorithm-overview/#_27","title":"(\u5168)\u6392\u5217\u7b97\u6cd5","text":"<p>\u6392\u5217\u7b97\u6cd5\u751f\u6210\u5e8f\u5217\u7684\u5b57\u5178\u5e8f\u6392\u5217\u3002\u8003\u8651\u4e0b\u9762\u8fd9\u4e09\u4e2a\u5b57\u7b26\u7684\u5e8f\u5217abc\uff0c\u5b83\u6709\u516d\u79cd\u53ef\u80fd\u7684\u6392\u5217\uff1aabc\u3001acb\u3001bac\u3001bca\u3001cab\u3001cba\u3002\u8fd9\u4e9b\u6392\u5217\u662f\u6309\u5b57\u5178\u5e8f\u9012\u589e\u6392\u5e8f\u7684\u3002</p> <p>\u6392\u5217\u7b97\u6cd5\u8fd4\u56de\u4e00\u4e2a<code>bool</code>\u503c\uff0c\u6307\u51fa\u4e00\u4e2a\u8f93\u5165\u5e8f\u5217\u662f\u5426\u6709\u4e0b\u4e00\u4e2a\u6216\u524d\u4e00\u4e2a\u6392\u5217\u3002\u8fd9\u4e9b\u7b97\u6cd5\u5047\u5b9a\u5e8f\u5217\u4e2d\u7684\u5143\u7d20\u90fd\u662f\u552f\u4e00\u7684\uff0c\u5373\uff0c\u6ca1\u6709\u4e24\u4e2a\u5143\u7d20\u7684\u503c\u662f\u4e00\u6837\u7684\u3002\u7b97\u6cd5\u8981\u6c42\u53cc\u5411\u8fed\u4ee3\u5668\u3002</p> <p><code>is_permutation(beg1, end1, beg2)</code> <code>is_permutation(beg1, end1, beg2, binaryPred)</code></p> <ul> <li>\u8981\u6c42\u53cc\u5411\u8fed\u4ee3\u5668\u3002</li> <li>\u5982\u679c\u7b2c\u4e8c\u4e2a\u5e8f\u5217\u7684\u67d0\u4e2a\u6392\u5217\u548c\u7b2c\u4e00\u4e2a\u5e8f\u5217\u5177\u6709\u76f8\u540c\u6570\u76ee\u7684\u5143\u7d20\uff0c\u4e14\u5143\u7d20\u90fd\u76f8\u7b49\u3002\u5219\u8fd4\u56de<code>true</code>\u3002\u7b2c\u4e00\u4e2a\u7248\u672c\u7528<code>\u201c==\u201d</code>\u8fd0\u7b97\u7b26\u6bd4\u8f83\u5143\u7d20\uff0c\u7b2c\u4e8c\u4e2a\u7248\u672c\u7528<code>binaryPred</code>\u6bd4\u8f83\u5143\u7d20\u3002</li> <li>\u8fd9\u91cc\u6709\u4e2a\u95ee\u9898\uff0c<code>binaryPred</code>\u662f\u4ec5\u7528\u6765\u5728\u4e24\u4e2a\u5e8f\u5217\u95f4\u6bd4\u8f83\u5143\u7d20\u8fd8\u662f\u4e5f\u4f1a\u7528\u5728\u5e8f\u5217\u5185\u90e8\u7684\u5143\u7d20\u6bd4\u8f83\u4e0a\uff1f\uff08\u4ece\u76f4\u89c9\u4e0a\u6765\u770b\u5e94\u8be5\u662f\u4ec5\u7528\u6765\u5728\u4e24\u4e2a\u5e8f\u5217\u95f4\u6bd4\u8f83\u5143\u7d20\u3002\u539f\u56e0\u662f<code>binaryPred</code>\u662f\u7528\u6765\u4ee3\u66ff<code>\u201c==\u201d</code>\u8fd0\u7b97\u7b26\u7684\uff0c\u800c\u5149\u7528<code>\u201c==\u201d</code>\u8fd0\u7b97\u7b26\u662f\u65e0\u6cd5\u5bf9\u5e8f\u5217\u8fdb\u884c\u5b57\u5178\u5e8f\u6392\u5e8f\u7684\u3002\u4f46\u5982\u679c\u7c7b\u6ca1\u6709\u91cd\u8f7d<code>\u201c==\u201d</code>\u8fd0\u7b97\u7b26\u65f6\u7b97\u6cd5\u4f9d\u7136\u80fd\u6b63\u5e38\u8fd0\u884c\uff0c\u8bf4\u660e<code>binaryPred</code>\u662f\u7528\u6765\u6bd4\u8f83\u6240\u6709\u5143\u7d20\u7684\uff09</li> </ul> <p><code>next_permutation(beg, end)</code> <code>next_permutation(beg, end, comp)</code></p> <ul> <li>\u8981\u6c42\u53cc\u5411\u8fed\u4ee3\u5668\u3002</li> <li>\u5982\u679c\u5e8f\u5217\u5df2\u7ecf\u662f\u6700\u540e\u4e00\u4e2a\u6392\u5217\uff0c\u5219<code>next_permutation</code>\u5c06\u6392\u5217\u91cd\u6392\u4e3a\u6700\u5c0f\u7684\u6392\u5217\uff08\u7b2c\u4e00\u4e2a\u6392\u5217\uff09\uff0c\u5e76\u8fd4\u56de<code>false</code>\u3002\u5426\u5219\uff0c\u5b83\u5c06\u8f93\u5165\u5e8f\u5217\u8f6c\u6362\u4e3a\u5b57\u5178\u5e8f\u7684\u4e0b\u4e00\u4e2a\u6392\u5217\uff0c\u5e76\u8fd4\u56de<code>true</code>\u3002</li> <li>\u7b2c\u4e00\u4e2a\u7248\u672c\u7528<code>\u201c&lt;\u201d</code>\u8fd0\u7b97\u7b26\u6bd4\u8f83\u5143\u7d20\uff0c\u7b2c\u4e8c\u4e2a\u7248\u672c\u7528\u7ed9\u5b9a\u7684\u6bd4\u8f83\u64cd\u4f5c\u3002</li> </ul> <p><code>prev_permutation(beg, end)</code> <code>prev_permutation(beg, end, comp)</code></p> <ul> <li>\u529f\u80fd\u548c\u4e0a\u9762\u4e24\u4e2a\u51fd\u6570\u76f8\u53cd\u3002</li> </ul>","tags":["c/c++","\u7b97\u6cd5"]},{"location":"foundation/cpp/20.cpp-stl-algorithm-overview/#_28","title":"\u6709\u5e8f\u5e8f\u5217\u7684\u96c6\u5408\u7b97\u6cd5","text":"<p>\u96c6\u5408\u7b97\u6cd5\u5b9e\u73b0\u4e86\u6709\u5e8f\u5e8f\u5217\u4e0a\u7684\u4e00\u822c\u96c6\u5408\u64cd\u4f5c\u3002\u8fd9\u4e9b\u7b97\u6cd5\u4e0e\u6807\u51c6\u5e93<code>set</code>\u5bb9\u5668\u4e0d\u540c\uff0c\u4e0d\u8981\u4e0e<code>set</code>\u4e0a\u7684\u64cd\u4f5c\u76f8\u6df7\u6dc6\u3002</p> <p>\u8fd9\u4e9b\u7b97\u6cd5\u8981\u6c42\u8f93\u5165\u8fed\u4ee3\u5668\u3002\u8fd4\u56de\u9012\u589e\u540e\u7684<code>dest</code>\u8fed\u4ee3\u5668\uff0c\u8868\u793a\u5199\u5165<code>dest</code>\u7684\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u4e4b\u540e\u7684\u4f4d\u7f6e\u3002</p> <p>\u6bcf\u79cd\u7b97\u6cd5\u90fd\u6709\u4e24\u4e2a\u91cd\u8f7d\u7248\u672c\uff0c\u7b2c\u4e00\u4e2a\u7248\u672c\u4f7f\u7528<code>\u201c&lt;\u201d</code>\u8fd0\u7b97\u7b26\u6bd4\u8f83\u5143\u7d20\uff0c\u7b2c\u4e8c\u4e2a\u7248\u672c\u4f7f\u7528\u7ed9\u5b9a\u7684\u6bd4\u8f83\u64cd\u4f5c\u3002</p> <p><code>include(beg, end, beg2, end2)</code> <code>include(beg, end, beg2, end2, comp)</code></p> <ul> <li>\u8981\u6c42\u4e24\u7ec4\u8f93\u5165\u8fed\u4ee3\u5668\u3002</li> <li>\u5982\u679c\u7b2c\u4e8c\u4e2a\u5e8f\u5217\u4e2d\u6bcf\u4e2a\u5143\u7d20\u90fd\u5305\u542b\u5728\u8f93\u5165\u5e8f\u5217\u4e2d\uff0c\u8fd4\u56de<code>true</code>\u3002\u5426\u5219\u8fd4\u56de<code>false</code>\u3002</li> <li>B\u2286A</li> </ul> <p><code>set_intersection(beg, end, beg2, end2, dest)</code> <code>set_intersection(beg, end, beg2, end2, dest, comp)</code></p> <ul> <li>\u8981\u6c42\u4e24\u7ec4\u8f93\u5165\u8fed\u4ee3\u5668\u548c\u4e00\u4e2a\u8f93\u51fa\u8fed\u4ee3\u5668\u3002</li> <li>\u5bf9\u4e24\u4e2a\u5e8f\u5217\u4e2d\u7684\u6240\u6709\u5143\u7d20\uff0c\u521b\u5efa\u5b83\u4eec\u7684\u6709\u5e8f\u5e8f\u5217\u3002\u5982\u679c\u67d0\u4e2a\u5143\u7d20e\u5728\u7b2c\u4e00\u4e2a\u5e8f\u5217\u4e2d\u51fa\u73b0\u4e86m\u6b21\uff0c\u5728\u7b2c\u4e8c\u4e2a\u5e8f\u5217\u4e2d\u51fa\u73b0\u4e86n\u6b21\uff0c\u90a3\u4e48\u5c06\u7b2c\u4e00\u4e2a\u5e8f\u5217\u4e2d\u7684\u524dmin{m, n}\u4e2a\u5143\u7d20\u62f7\u8d1d\u5230\u76ee\u7684\u5e8f\u5217\uff0c\u4fdd\u7559\u5143\u7d20\u95f4\u7684\u76f8\u5bf9\u987a\u5e8f\u3002</li> <li>A\u2229B</li> </ul> <p><code>set_union(beg, end, beg2, end2, dest)</code> <code>set_union(beg, end, beg2, end2, dest, comp)</code></p> <ul> <li>\u5bf9\u4e24\u4e2a\u5e8f\u5217\u4e2d\u7684\u6240\u6709\u5143\u7d20\uff0c\u521b\u5efa\u5b83\u4eec\u7684\u6709\u5e8f\u5e8f\u5217\u3002\u5982\u679c\u67d0\u4e2a\u5143\u7d20e\u5728\u7b2c\u4e00\u4e2a\u5e8f\u5217\u4e2d\u51fa\u73b0\u4e86m\u6b21\uff0c\u5728\u7b2c\u4e8c\u4e2a\u5e8f\u5217\u4e2d\u51fa\u73b0\u4e86n\u6b21\uff0c\u90a3\u4e48\u5c06max{m, n}\u4e2a\u5143\u7d20\u62f7\u8d1d\u5230\u76ee\u7684\u5e8f\u5217\uff0c\u4fdd\u7559\u5143\u7d20\u95f4\u7684\u76f8\u5bf9\u987a\u5e8f\u3002\u8fd9\u4e2amax{m, n}\u4e2a\u5143\u7d20\u5148\u4ece\u7b2c\u4e00\u4e2a\u5e8f\u5217\u4e2d\u62f7\u8d1d\uff0c\u7b2c\u4e00\u4e2a\u5e8f\u5217\u7684\u5143\u7d20\u4e0d\u591f\u7528\u65f6\u518d\u4ece\u7b2c\u4e8c\u4e2a\u5e8f\u5217\u4e2d\u62f7\u8d1d\u3002</li> <li>A\u222aB</li> </ul> <p><code>set_difference(beg, end, beg2, end2, dest)</code> <code>set_difference(beg, end, beg2, end2, dest, comp)</code></p> <ul> <li>\u5bf9\u51fa\u73b0\u5728\u7b2c\u4e00\u4e2a\u5e8f\u5217\u4e2d\uff0c\u4f46\u4e0d\u5728\u7b2c\u4e8c\u4e2a\u5e8f\u5217\u4e2d\u7684\u5143\u7d20\uff0c\u521b\u5efa\u4e00\u4e2a\u6709\u5e8f\u5e8f\u5217\u3002</li> <li>A-B</li> </ul> <p><code>set_symmetric_difference(beg, end, beg2, end2, dest)</code> <code>set_symmetric_difference(beg, end, beg2, end2, dest, comp)</code></p> <ul> <li>\u5bf9\u90a3\u4e9b\u53ea\u51fa\u73b0\u5728\u4e00\u4e2a\u5e8f\u5217\uff0c\u4e0d\u5728\u53e6\u5916\u4e00\u4e2a\u5e8f\u5217\u4e2d\u7684\u5143\u7d20\uff0c\u521b\u5efa\u4e00\u4e2a\u6709\u5e8f\u5e8f\u5217\u3002</li> <li>A\u222aB-A\u2229B</li> </ul>","tags":["c/c++","\u7b97\u6cd5"]},{"location":"foundation/cpp/20.cpp-stl-algorithm-overview/#_29","title":"\u6700\u5c0f\u503c\u548c\u6700\u5927\u503c","text":"<p>\u8fd9\u4e9b\u7b97\u6cd5\u4f7f\u7528<code>\u201c&lt;\u201d</code>\u8fd0\u7b97\u7b26\u6bd4\u8f83\u5143\u7d20\u3002\u7b2c\u4e00\u7ec4\u7b97\u6cd5\u5bf9\u503c\u8fdb\u884c\u64cd\u4f5c\uff0c\u7b2c\u4e8c\u7ec4\u7b97\u6cd5\u5bf9\u5e8f\u5217\u8fdb\u884c\u64cd\u4f5c\u3002\u8981\u6c42\u8f93\u5165\u8fed\u4ee3\u5668\u3002</p> <p><code>min(val1, val2)</code> <code>min(val1, val2, comp)</code> <code>min(init_list)</code> <code>min(init_list, comp)</code> </p> <p><code>max(val1, val2)</code> <code>max(val1, val2, comp)</code> <code>max(init_list)</code> <code>max(init_list, comp)</code> </p> <ul> <li>\u8fd4\u56de\u6700\u5c0f\u503c/\u6700\u5927\u503c\u3002\u53c2\u6570\u90fd\u662f<code>const</code>\u7684\u5f15\u7528\u3002</li> <li>\u6ce8\u610f\uff1a\u7b2c\u4e8c\u7ec4\u7b97\u6cd5\u9700\u8981\u4e00\u4e2a\u5bb9\u5668\u4f5c\u4e3a\u53c2\u6570\uff0c\u800c\u4e0d\u662f\u8fed\u4ee3\u5668\u3002</li> </ul> <p><code>minmax(val1, val2)</code> <code>minmax(val1, val2, comp)</code> <code>minmax(init_list)</code> <code>minmax(init_list, comp)</code></p> <ul> <li>\u8fd4\u56de\u4e00\u4e2a<code>pair</code>\uff0c\u5b83\u7684\u7b2c\u4e00\u4e2a\u6210\u5458\u662f\u6700\u5c0f\u503c\uff0c\u7b2c\u4e8c\u4e2a\u6210\u5458\u662f\u6700\u5927\u503c\u3002</li> </ul> <p><code>min_element(beg, end)</code> <code>min_element(beg, end, comp)</code> <code>max_element(beg, end)</code> <code>max_element(beg, end, comp)</code> <code>minmax_element(beg, end)</code> <code>minmax_element(beg, end, comp)</code></p> <ul> <li>\u9700\u8981\u8fed\u4ee3\u5668\u4f5c\u4e3a\u53c2\u6570\u3002</li> <li>\u524d\u56db\u4e2a\u7b97\u6cd5\u8fd4\u56de\u6700\u5927\u503c/\u6700\u5c0f\u503c\u3002</li> <li>\u540e\u4e24\u4e2a\u7b97\u6cd5\u8fd4\u56de<code>pair</code>\u3002</li> </ul>","tags":["c/c++","\u7b97\u6cd5"]},{"location":"foundation/cpp/20.cpp-stl-algorithm-overview/#_30","title":"\u5b57\u5178\u5e8f\u6bd4\u8f83","text":"<p><code>lexicographical_compare(beg1, end1, beg2, end2)</code> <code>lexicographical_compare(beg1, end1, beg2, end2, comp)</code></p> <ul> <li>\u7b97\u6cd5\u6bd4\u8f83\u4e24\u4e2a\u5e8f\u5217\uff0c\u6839\u636e\u7b2c\u4e00\u5bf9\u4e0d\u76f8\u7b49\u7684\u5143\u7d20\u6765\u8fd4\u56de\u7ed3\u679c\u3002\u7b97\u6cd5\u4f7f\u7528<code>\u201c&lt;\u201d</code>\u8fd0\u7b97\u7b26\u6216<code>comp</code>\u6bd4\u8f83\u5143\u7d20\u3002</li> <li>\u5982\u679c\u5e8f\u52171\u5728\u5b57\u5178\u5e8f\u4e2d\u5c0f\u4e8e\u5e8f\u52172\uff0c\u5219\u8fd4\u56de<code>true</code>\uff0c\u5426\u5219\u8fd4\u56de<code>false</code>\u3002</li> </ul>","tags":["c/c++","\u7b97\u6cd5"]},{"location":"foundation/cpp/20.cpp-stl-algorithm-overview/#_31","title":"\u6570\u503c\u7b97\u6cd5","text":"<p><code>accumulate(beg, end, init)</code> <code>accumulate(beg, end, init, binaryOp)</code></p> <ul> <li>\u7b97\u6cd5\u6c42\u8f93\u5165\u5e8f\u5217\u7684\u5143\u7d20\u4e4b\u548c\uff0c<code>init</code>\u4e3a\u521d\u503c\uff0c<code>binaryOp</code>\u4ee3\u66ff\u4e86<code>\u201c+\u201d</code>\u8fd0\u7b97\u7b26\u3002</li> </ul> <p><code>inner_product(beg1, end1, beg2, init)</code> <code>inner_product(beg1, end1, beg2, init, binOp1, binOp2)</code></p> <ul> <li>\u8fd4\u56de\u4e24\u4e2a\u5e8f\u5217\u7684\u5185\u79ef\u3002\u548c\u7684\u521d\u503c\u7531<code>init</code>\u6307\u5b9a\uff0c<code>init</code>\u7684\u7c7b\u578b\u786e\u5b9a\u4e86\u8fd4\u56de\u503c\u7684\u7c7b\u578b\u3002<code>binOp1</code>\u4ee3\u66ff\u52a0\u6cd5\uff0c<code>binOp2</code>\u4ee3\u66ff\u4e58\u6cd5\u3002</li> </ul> <p><code>partial_sum(beg, end, dest)</code> <code>partial_sum(beg, end, dest, binaryOp)</code></p> <ul> <li>\u5c06\u65b0\u5e8f\u5217\u5199\u5230<code>dest</code>\u4e2d\uff0c\u65b0\u5e8f\u5217\u4e2d\u7684\u6bcf\u4e2a\u5143\u7d20\u90fd\u662f\u8f93\u5165\u5e8f\u5217\u4e2d\u5f53\u524d\u4f4d\u7f6e\u4e0a\u7684\u524d\u7f00\u548c\uff08\u5305\u62ec\u5f53\u524d\u4f4d\u7f6e\uff09\u3002\u7528<code>binaryOp</code>\u4ee3\u66ff<code>\u201c+\u201d</code>\u8fd0\u7b97\u7b26\u3002\u8fd4\u56de\u4e00\u4e2a\u8fed\u4ee3\u5668\uff0c\u6307\u5411\u8f93\u51fa\u5e8f\u5217\u7684\u5c3e\u540e\u4f4d\u7f6e\u3002</li> </ul> <p><code>adjacent_difference(beg, end, dest)</code> <code>adjacent_difference(beg, end, dest, bianryOp)</code></p> <ul> <li>\u5c06\u65b0\u5e8f\u5217\u5199\u5165<code>dest</code>\uff0c\u6bcf\u4e2a\u65b0\u5143\u7d20\u7684\u503c\u90fd\u7b49\u4e8e\u5f53\u524d\u4f4d\u7f6e\u548c\u524d\u4e00\u4e2a\u4f4d\u7f6e\u5143\u7d20\u53ea\u5dee\u3002\u7528<code>binaryOp</code>\u4ee3\u66ff<code>\u201c-\u201d</code>\u8fd0\u7b97\u7b26\u3002</li> </ul> <p><code>iota(beg, end, val)</code></p> <ul> <li>\u5c06<code>val</code>\u503c\u8d4b\u4e88\u9996\u5143\u7d20\u5e76\u9012\u589e<code>val</code>\uff0c\u5c06\u9012\u589e\u540e\u7684\u503c\u8d4b\u4e88\u4e0b\u4e00\u4e2a\u5143\u7d20\u3002\u4f7f\u7528\u524d\u7f6e\u7684<code>\u201c++\u201d</code>\u8fd0\u7b97\u7b26\u9012\u589e<code>val</code>\u3002</li> </ul>","tags":["c/c++","\u7b97\u6cd5"]},{"location":"foundation/cpp/23.cpp-new-malloc/","title":"c++\u4e2dnew\u548cmalloc\u7684\u533a\u522b","text":"<p>malloc\u51fd\u6570\u53ea\u8d1f\u8d23\u5206\u914d\u4e00\u5757\u5806\u5185\u5b58\uff0c\u5e76\u4e0d\u8d1f\u8d23\u6784\u9020\u5bf9\u8c61\u3002malloc\u8fd4\u56de\u4e00\u4e2a<code>void *</code>\u6307\u9488\uff0c\u4f7f\u7528\u65f6\u8981\u5c06\u8fd9\u4e2a\u6307\u9488\u8f6c\u6362\u6210\u5bf9\u8c61\u7684\u7c7b\u578b\u3002</p> <p>new\u5173\u952e\u5b57\u7528\u4e8ec++\u4e2d\u7684\u5185\u5b58\u5206\u914d\u8868\u8fbe\u5f0f\uff0cnew\u8868\u8fbe\u5f0f\u5b9e\u9645\u4e0a\u5b8c\u6210\u4e86\u4e24\u4ef6\u4e8b\u2014\u2014\u5206\u914d\u4e00\u5757\u5806\u5185\u5b58\u5e76\u5728\u8fd9\u5757\u5185\u5b58\u4e0a\u6784\u9020\u5bf9\u8c61\u3002\u56e0\u6b64\uff0c\u5982\u679c\u4e00\u4e2a\u7c7b\u6ca1\u6709\u5b9a\u4e49\u9ed8\u8ba4\u6784\u9020\u51fd\u6570\uff0c\u662f\u4e0d\u80fd\u7528new\u6765\u5206\u914d\u8be5\u7c7b\u7684\u52a8\u6001\u6570\u7ec4\u7684\u3002</p> <p>\u7528\u6237\u53ef\u4ee5\u81ea\u5b9a\u4e49operator new\u548coperator delete\uff0c\u4ee3\u66ffnew\u548cdelete\u8868\u8fbe\u5f0f\u7684\u5185\u5b58\u5206\u914d\u548c\u91ca\u653e</p>","tags":["c/c++"]},{"location":"foundation/cpp/23.cpp-new-malloc/#newreplacement-new","title":"\u5b9a\u4f4dnew\uff08Replacement new\uff09","text":"<p>\u5b9a\u4f4dnew\u662f\u4e00\u79cd\u8868\u8fbe\u5f0f\uff0c\u4f5c\u7528\u662f\u5728\u5185\u5b58\u4e0a\u5206\u914d\u5bf9\u8c61\uff0c\u53ef\u4ee5\u662f\u5806\u5185\u5b58\uff0c\u4e5f\u53ef\u4ee5\u662f\u6808\u5185\u5b58\uff0c\u5c06\u5185\u5b58\u6307\u9488\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u7ed9placement new\u5373\u53ef\u3002</p> <p>\u53ef\u4ee5\u4f7f\u7528\u5b9a\u4f4dnew\u5728\u4e00\u5757\u672a\u521d\u59cb\u5316\u7684\u5806\u5185\u5b58\u4e0a\u6784\u9020\u5bf9\u8c61\uff0c\u4f8b\u5982</p> <pre><code>T *p = (T*)malloc(sizeof(T));\nnew (p) T(); //\u5b9a\u4f4dnew\n</code></pre> <p>\u5b9a\u4f4dnew\u4e0d\u8d1f\u8d23\u5206\u914d\u5185\u5b58\uff0c\u53ea\u8d1f\u8d23\u6784\u9020\u5bf9\u8c61\uff0c\u56e0\u6b64\u4e0d\u80fd\u4f7f\u7528delete\u53bb\u91ca\u653e\u5185\u5b58\u3002\u5982\u679c\u60f3\u9500\u6bc1\u5bf9\u8c61\uff0c\u8c03\u7528\u5bf9\u8c61\u7684\u6790\u6784\u51fd\u6570\u3002</p>","tags":["c/c++"]},{"location":"foundation/cpp/24.cpp-static/","title":"c++\u4e2d\u7684static","text":"","tags":["c/c++"]},{"location":"foundation/cpp/24.cpp-static/#static","title":"static","text":"<ul> <li>static \u53d8\u91cf\u7684\u751f\u547d\u5468\u671f\u4ece\u521d\u59cb\u5316\u8d77\u4e00\u76f4\u6301\u7eed\u5230\u7a0b\u5e8f\u6267\u884c\u7ed3\u675f</li> <li>static \u53d8\u91cf\u5b58\u653e\u5728\u6570\u636e\u533a\uff0c\u5206\u4e3a\u5df2\u521d\u59cb\u5316\u7684\u5168\u5c40\u53d8\u91cf\u533a\uff08data \u6bb5\uff09\u548c\u672a\u521d\u59cb\u5316\u7684\u5168\u5c40\u53d8\u91cf\u533a\uff08bss \u6bb5\uff09</li> <li>static\u5b9a\u4e49\u7684\u5168\u5c40\u53d8\u91cf\u548c\u51fd\u6570\u53ea\u5728\u5f53\u524d\u6587\u4ef6\u53ef\u89c1</li> <li>static\u53d8\u91cf\u521d\u59cb\u5316\u65f6\u673a<ul> <li>static\u5168\u5c40\u53d8\u91cf\u5728main\u51fd\u6570\u6267\u884c\u4e4b\u524d\u521d\u59cb\u5316</li> <li>\u51fd\u6570\u5185\u90e8static\u53d8\u91cf\u5728\u7b2c\u4e00\u6b21\u8bbf\u95ee\u8be5\u53d8\u91cf\u65f6\u521d\u59cb\u5316</li> </ul> </li> </ul>","tags":["c/c++"]},{"location":"foundation/cpp/24.cpp-static/#staticextern","title":"static\u5168\u5c40\u53d8\u91cf\u548cextern\u5168\u5c40\u53d8\u91cf","text":"<p>\u76f8\u4f3c\u4e4b\u5904\uff1a</p> <ul> <li>\u4e0d\u7ba1\u662f\u54ea\u79cd\u5168\u5c40\u53d8\u91cf\uff0c\u90fd\u4f1a\u9ed8\u8ba4\u521d\u59cb\u5316</li> </ul> <p>\u533a\u522b\uff1a</p> <ul> <li>\u4e0d\u80fd\u540c\u65f6\u6307\u5b9aextern\u548cstatic</li> <li>extern\u5b9a\u4e49\u7684\u5168\u5c40\u53d8\u91cf\u4f5c\u7528\u57df\u53ef\u4ee5\u6269\u5c55\u5230\u6574\u4e2a\u7a0b\u5e8f\uff0c\u53ea\u8981\u5728\u4f7f\u7528\u7684\u5730\u65b9\u7528extern\u58f0\u660e\u5373\u53ef\u3002</li> <li>static\u5b9a\u4e49\u7684\u5168\u5c40\u53d8\u91cf\u53ea\u5728\u5f53\u524d\u6587\u4ef6\u53ef\u89c1</li> </ul> <p>\u4e0b\u9762\u662f\u4f7f\u7528extern\u7684\u4f8b\u5b50</p> <pre><code>// A.cpp\n    //\u4ee5\u4e0b\u4e09\u79cd\u5199\u6cd5\u662f\u90fd\u5b9a\u4e49\u7684\u662fextern\u5168\u5c40\u53d8\u91cf\n    extern int A = 5;\n    int B = 6;\n    int C;  //\u9ed8\u8ba4\u521d\u59cb\u5316\u4e3a0\n// B.cpp\n    //\u58f0\u660e\n    extern int A;\n    extern int B;\n    extern int C;\n</code></pre>","tags":["c/c++"]},{"location":"foundation/cpp/24.cpp-static/#static_1","title":"\u7c7b\u4e2d\u7684 static","text":"<p>\u7c7b\u4e2d\u7684 static \u6709\u4e09\u79cd\u7528\u6cd5</p> <ol> <li>static \u6210\u5458\u53d8\u91cf</li> <li>static \u6210\u5458\u51fd\u6570</li> <li>\u6210\u5458\u51fd\u6570\u4e2d\u7684 static \u53d8\u91cf</li> </ol>","tags":["c/c++"]},{"location":"foundation/cpp/24.cpp-static/#static_2","title":"static \u6210\u5458\u53d8\u91cf","text":"<ul> <li>\u4e0d\u5305\u542b\u5728\u4efb\u4f55\u5bf9\u8c61\u4e2d</li> <li>\u53ef\u4ee5\u662f public\uff0c\u4e5f\u53ef\u4ee5\u662f private</li> <li>\u5fc5\u987b\u5728\u7c7b\u5916\u90e8\u5b9a\u4e49\u548c\u521d\u59cb\u5316\u9759\u6001\u6210\u5458</li> <li>static \u5173\u952e\u5b57\u53ea\u80fd\u51fa\u73b0\u5728\u7c7b\u5185\u90e8\u7684\u58f0\u660e\u4e2d\uff0c\u5916\u90e8\u7684\u5b9a\u4e49\u4e0d\u52a0 static</li> <li>\u5982\u679c\u9759\u6001\u6210\u5458\u662f\u5b57\u9762\u91cf\u7c7b\u578b\u7684 constexpr\uff0c\u5c31\u53ef\u4ee5\u5728\u7c7b\u5185\u5b9a\u4e49\u548c\u521d\u59cb\u5316\u3002</li> <li>\u4f7f\u7528\u4f5c\u7528\u57df\u8fd0\u7b97\u7b26\u76f4\u63a5\u8bbf\u95ee</li> </ul> <pre><code>//ca.h\nclass CA\n{\npublic:\n    static int a;   //\u7c7b\u5185static\u58f0\u660e\n};\n\n//ca.cpp\n#include \"algo.h\"\nint CA::a = 5;  //\u7c7b\u5916\u5b9a\u4e49\u548c\u521d\u59cb\u5316\n</code></pre>","tags":["c/c++"]},{"location":"foundation/cpp/24.cpp-static/#static_3","title":"static \u6210\u5458\u51fd\u6570","text":"<ul> <li>\u4e0d\u5305\u542b this \u6307\u9488\uff0c\u4e0d\u80fd\u52a0 const \u9650\u5b9a\u7b26</li> <li>\u4f7f\u7528\u4f5c\u7528\u57df\u8fd0\u7b97\u7b26\u76f4\u63a5\u8bbf\u95ee</li> </ul>","tags":["c/c++"]},{"location":"foundation/cpp/24.cpp-static/#static_4","title":"\u6210\u5458\u51fd\u6570\u4e2d\u7684 static \u4e2d\u7684\u6210\u5458\u53d8\u91cf","text":"<p>\u53ef\u4ee5\u4f7f\u7528\u8fd9\u4e2a\u7279\u6027\u6765\u5b9e\u73b0 C++11 \u7684\u5355\u4f8b\u6a21\u5f0f\uff0c\u5e76\u4e14\u662f\u7ebf\u7a0b\u5b89\u5168\u7684</p> <pre><code># pragma once\n\n# include &lt;iostream&gt;\n\nclass Demo_A\n{\n    public:\n        static Demo_A &amp; getDemoA()\n        {\n            //\u4fdd\u8bc1\u63a7\u5236\u6d41\u7b2c\u4e00\u6b21\u8fdb\u5165\u51fd\u6570\u65f6\u89e6\u53d1\u521d\u59cb\u5316\n            static Demo_A onlyOne;\n            std::cout&lt;&lt;\"get demo A.\"&lt;&lt;std::endl;\n            return onlyOne;\n        }\n        //\u7981\u7528\u62f7\u8d1d\u548c\u79fb\u52a8\n        Demo_A(const Demo_A &amp;) = delete;    //\u62f7\u8d1d\u6784\u9020\n        Demo_A &amp; operator=(const Demo_A &amp;) = delete;   //\u62f7\u8d1d\u8d4b\u503c\n        Demo_A(Demo_A &amp;&amp;) = delete; //\u79fb\u52a8\u6784\u9020\n        Demo_A &amp; operator=(Demo_A &amp;&amp;) = delete;    //\u79fb\u52a8\u8d4b\u503c\n    private:\n        Demo_A(){std::cout&lt;&lt;\"demo_a construct.\"&lt;&lt;std::endl;}\n};\n</code></pre>","tags":["c/c++"]},{"location":"foundation/cpp/25.cpp-dup-symbols/","title":"c++\u4e2d\u7b26\u53f7\u91cd\u5b9a\u4e49\u95ee\u9898","text":"<p>\u5728\u5f00\u53d1\u6bd4\u8f83\u5927\u7684\u9879\u76ee\u65f6\uff0c\u6709\u65f6\u5019\u4f1a\u51fa\u73b0\u591a\u52a8\u6001\u5e93\u4e4b\u95f4\u5b9a\u4e49\u4e86\u91cd\u590d\u540d\u5b57\u7684\u60c5\u51b5\uff0c\u6216\u8005\u52a8\u6001\u5e93\u548c\u4e3b\u7a0b\u5e8f\u4e4b\u95f4\u5b9a\u4e49\u4e86\u91cd\u590d\u540d\u5b57\u7684\u60c5\u51b5\u3002</p>","tags":["c/c++"]},{"location":"foundation/cpp/25.cpp-dup-symbols/#gcc","title":"\u5728gcc\u4e0a\u9a8c\u8bc1","text":"<p>\u7f16\u8bd1\u5668\u7248\u672c\u662fgcc4.8\uff0c\u5728linux\u4e0b\u8fdb\u884c\u4e86\u6d4b\u8bd5\uff0c\u52a8\u6001\u5e93\u90fd\u662f.so\u6587\u4ef6</p>","tags":["c/c++"]},{"location":"foundation/cpp/25.cpp-dup-symbols/#_1","title":"\u52a8\u6001\u52a0\u8f7d","text":"<p>\u5982\u679c.so\u6587\u4ef6\u662f\u52a8\u6001\u52a0\u8f7d\u5230\u4e3b\u7a0b\u5e8f\u4e2d\u7684\uff0c\u5373\u4f7f\u53cc\u65b9\u6709\u540c\u540d\u7684\u5168\u5c40\u53d8\u91cf\uff0c\u4e5f\u4e92\u76f8\u4e0d\u5f71\u54cd\uff0c\u5404\u81ea\u7528\u5b83\u4eec\u81ea\u5df1\u7684\u5168\u5c40\u53d8\u91cf\u3002\uff08\u524d\u63d0\u662f.so\u6587\u4ef6\u4e8b\u5148\u6ca1\u6709\u88ab\u94fe\u63a5\u5230\u4e3b\u7a0b\u5e8f\uff09</p>","tags":["c/c++"]},{"location":"foundation/cpp/25.cpp-dup-symbols/#_2","title":"\u52a8\u6001\u94fe\u63a5","text":"<p>.so\u6587\u4ef6\u5728\u7f16\u8bd1\u540e\u88ab\u7acb\u5373\u94fe\u63a5\u5230\u4e3b\u7a0b\u5e8f\uff0c\u7a0b\u5e8f\u542f\u52a8\u540e.so\u6587\u4ef6\u4e0d\u4f1a\u91cd\u65b0\u521d\u59cb\u5316\u8fd9\u4e2a\u53d8\u91cf\uff0c\u800c\u662f\u4f7f\u7528\u4e3b\u7a0b\u5e8f\u7684\u5168\u5c40\u53d8\u91cf\u7684\u503c\u3002\u5982\u679c.so\u6587\u4ef6\u540e\u7eed\u4f7f\u7528\u4e86\u8fd9\u4e2a\u53d8\u91cf\uff0c\u5219\u7a0b\u5e8f\u7684\u884c\u4e3a\u53ef\u80fd\u4e0d\u7b26\u5408.so\u6587\u4ef6\u7f16\u5199\u8005\u7684\u9884\u671f\uff0c\u56e0\u4e3a.so\u6587\u4ef6\u7684\u7f16\u5199\u8005\u8fd8\u4ee5\u4e3a\u4ed6\u4f7f\u7528\u7684\u662f.so\u6587\u4ef6\u81ea\u5df1\u5b9a\u4e49\u7684\u5168\u5c40\u53d8\u91cf</p>","tags":["c/c++"]},{"location":"foundation/cpp/25.cpp-dup-symbols/#soso","title":"\u4e3b\u7a0b\u5e8f\u548c.so\u6587\u4ef6\u4e8b\u5148\u8fdb\u884c\u4e86\u94fe\u63a5\uff0c\u4e3b\u7a0b\u5e8f\u53c8\u52a8\u6001\u52a0\u8f7d\u4e86.so\u6587\u4ef6","text":"<p>\u8fd9\u65f6\uff0c\u7531\u4e8e\u4e3b\u7a0b\u5e8f\u548cso\u4e8b\u5148\u8fdb\u884c\u4e86\u94fe\u63a5\uff0c\u56e0\u6b64so\u4f1a\u4f7f\u7528\u4e3b\u7a0b\u5e8f\u4e2d\u5b9a\u4e49\u7684\u5168\u5c40\u53d8\u91cf\uff0c\u4f46\u662f\u7531\u4e8eso\u662f\u540e\u6765\u52a8\u6001\u52a0\u8f7d\u8fdb\u6765\u7684\uff0c\u6240\u4ee5\u5f53so\u88ab\u5173\u95ed\u65f6\uff0cso\u8981\u53bb\u6790\u6784\u8fd9\u4e2a\u53d8\u91cf\uff0c\u8fd9\u5c31\u4f1a\u5bfc\u81f4\u4e3b\u7a0b\u5e8f\u91cc\u7684\u5168\u5c40\u53d8\u91cf\u53d7\u5230\u5f71\u54cd\u3002</p>","tags":["c/c++"]},{"location":"foundation/cpp/25.cpp-dup-symbols/#_3","title":"\u5efa\u8bae","text":"<p>\u4e0d\u662f\u5f88\u6e05\u695a\u8fd9\u79cd\u7b26\u53f7\u91cd\u5b9a\u4e49\u662f\u4e0d\u662f\u672a\u5b9a\u4e49\u884c\u4e3a\uff0c\u4f46\u662f\u6beb\u65e0\u7591\u95ee\u4f1a\u51fa\u73b0\u4e0d\u7b26\u5408\u7528\u6237\u9884\u671f\u7684\u7ed3\u679c\uff0c\u89e3\u51b3\u529e\u6cd5\uff1a</p> <ol> <li>\u7f16\u8bd1.so\u6587\u4ef6\u65f6\u52a0\u4e0a\u94fe\u63a5\u53c2\u6570<code>-Wl,-Bsymbolic</code>\uff0c\u5f3a\u5236\u8981\u6c42.so\u6587\u4ef6\u4f7f\u7528\u4ed6\u81ea\u5df1\u7684\u7b26\u53f7\u3002</li> <li>\u4f7f\u7528\u7f16\u8bd1\u9009\u9879<code>-fvisibility=hidden</code>\u548c<code>-fvisibility-inlines-hidden</code>\u9690\u85cf\u5e93\u5185\u90e8\u7684\u6240\u6709\u7b26\u53f7\uff0c\u5e76\u914d\u5408<code>__attribute__((visibility(\"default\"/\"hidden\")))</code>\u624b\u52a8\u63a7\u5236\u540d\u5b57\u662f\u5426\u5bfc\u51fa\u3002</li> <li>\u4f7f\u7528\u547d\u540d\u7a7a\u95f4\u63a7\u5236\u540d\u5b57\u7684\u53ef\u89c1\u6027\u3002</li> </ol>","tags":["c/c++"]},{"location":"foundation/cpp/26.cpp-copy-move/","title":"c++\u4e2d\u7684\u62f7\u8d1d\u548c\u79fb\u52a8\u8bed\u4e49","text":"","tags":["c/c++"]},{"location":"foundation/cpp/26.cpp-copy-move/#demo","title":"demo","text":"<pre><code>class A{\npublic:\n    A(const A&amp; b):e(new int(*(b.e))){}\n    A &amp; operator=(const A &amp; b){\n        if(this != *b){\n            int * c = new int(*(b.e));\n            delete e;\n            e = c;\n        }\n        return *this;\n    }\n    A(A &amp;&amp;b) noexcept :e(b.e){\n        b.e = nullptr;\n    }\n    A &amp; operator=(A &amp;&amp; b) noexcept{\n        if(this!=*b){\n            delete e;\n            e = b.e;\n            b.e = nullptr;\n        }\n        return *this;\n    }\nprivate:\n    int *e;\n};\n</code></pre>","tags":["c/c++"]},{"location":"foundation/cpp/26.cpp-copy-move/#_1","title":"\u62f7\u8d1d\u8bed\u4e49","text":"<p>\u62f7\u8d1d\u8bed\u4e49\u5206\u4e3a\u62f7\u8d1d\u6784\u9020\u548c\u62f7\u8d1d\u8d4b\u503c</p> <pre><code>\nclass ClassA{\npublic:\n    // \u62f7\u8d1d\u6784\u9020\n    ClassA(const ClassA &amp; b):e(new int(*(b.e))){}\n    // \u62f7\u8d1d\u8d4b\u503c\n    ClassA &amp; operator=(const ClassA &amp; b) {\n        //\u68c0\u6d4b\u81ea\u8d4b\u503c\n        if(this != &amp;b){\n            int newe = new int(*(b.e));\n            delete e;\n            e = newe;\n        }\n        return *this;\n    }\nprivate:\n    int *e;\n}\n\n</code></pre>","tags":["c/c++"]},{"location":"foundation/cpp/26.cpp-copy-move/#move","title":"\u79fb\u52a8\uff08move\uff09\u8bed\u4e49","text":"<p>C++11 \u4e2d\u63d0\u51fa\u4e86\u79fb\u52a8\uff08move\uff09\u8bed\u4e49\uff0c\u79fb\u52a8\u8bed\u4e49\u662f\u76f8\u5bf9\u4e8e\u62f7\u8d1d\u8bed\u4e49\u7684\uff0c\u76ee\u7684\u662f\u60f3\u51cf\u5c11\u5bf9\u4e34\u65f6\u503c\u7684\u62f7\u8d1d\uff0c\u6539\u4e3a\u76f4\u63a5\u63a5\u7ba1\u4e34\u65f6\u503c\u7684\u8d44\u6e90\u3002</p> <p>\u79fb\u52a8\u8bed\u4e49\u53ea\u662f\u4e00\u4e2a\u8bed\u4e49\uff0c\u5177\u4f53\u7684\u79fb\u52a8\u64cd\u4f5c\u9700\u8981\u7528\u6237\u81ea\u5df1\u914d\u5408\u53f3\u503c\u5f15\u7528\u6765\u5b9e\u73b0\u3002</p> <p>\u4e3a\u4e86\u8bf4\u660e\u79fb\u52a8\u8bed\u4e49\u7684\u4f5c\u7528\uff0c\u9996\u5148\u4ecb\u7ecd\u4e00\u4e0b C++\u4e2d\u7684\u503c\u7c7b\u578b\u3002</p>","tags":["c/c++"]},{"location":"foundation/cpp/26.cpp-copy-move/#c","title":"C++\u4e2d\u7684\u503c\u7c7b\u578b","text":"<p>\u53c2\u8003</p> <ul> <li>C++ lvalue\uff0cprvalue\uff0cxvalue\uff0cglvalue \u548c rvalue \u8be6\u89e3\uff08from cppreference\uff09</li> <li>\u4ec0\u4e48\u662f lvalue, rvalue, xvalue</li> <li>cppreference.com-Value categories</li> </ul> <p>\u73b0\u4ee3 C++\u4e2d\u7684\u503c\u5206\u4e3a 5 \u7c7b\uff0c\u8fd9\u91cc\u5bf9\u8fd9\u4e94\u7c7b\u503c\u505a\u4e00\u4e2a\u7b80\u5355\u4ecb\u7ecd\u3002</p> <p>lvalue\uff1a\u5de6\u503c\uff0c\u5c31\u662f\u4f20\u7edf\u610f\u4e49\u4e0a\u7684\u5de6\u503c\u3002 prvalue\uff1a\u7eaf\u53f3\u503c\uff0c\u662f\u4f20\u7edf\u53f3\u503c\u7684\u4e00\u90e8\u5206\uff0c\u7eaf\u53f3\u503c\u662f\u8868\u8fbe\u5f0f\u4ea7\u751f\u7684\u4e2d\u95f4\u503c\u3002 xvalue\uff1a\u6d88\u4ea1\u503c\uff0c\u53ea\u80fd\u901a\u8fc7\u53f3\u503c\u5f15\u7528\u4ea7\u751f\u3002 glvalue\uff1a\u6cdb\u5de6\u503c\u3002glvalue = lvalue + xvalue rvalue\uff1a\u53f3\u503c\uff0c\u5c31\u662f\u4f20\u7edf\u610f\u4e49\u4e0a\u7684\u53f3\u503c\u3002ravlue= prvalue + xvalue</p> <p>\u4e00\u4e2a\u6700\u7b80\u5355\u7684\u7406\u89e3\u662f\uff0c\u5de6\u503c\u662f\u6301\u4e45\u7684\u53ef\u4ee5\u53d6\u5730\u5740\u5e76\u4fee\u6539\u7684\u53d8\u91cf\uff0c\u53f3\u503c\u662f\u4e00\u4e2a\u4e34\u65f6\u7684\u4e0d\u53ef\u4ee5\u4fee\u6539\u7684\u503c\u3002\u6bd4\u5982:</p> <pre><code>int i = 0;  //\u5de6\u503c\ni * 45; //\u53f3\u503c\n</code></pre> <p>\u901a\u5e38\u5c5e\u4e8e\u53f3\u503c\u7684\u6709\uff0c\u5e38\u91cf\u3001\u5b57\u9762\u91cf\u3001\u4e34\u65f6\u53d8\u91cf/\u5bf9\u8c61\u3001\u533f\u540d\u5bf9\u8c61</p>","tags":["c/c++"]},{"location":"foundation/cpp/26.cpp-copy-move/#_2","title":"\u53f3\u503c\u5f15\u7528","text":"<p>\u53f3\u503c\u5f15\u7528\u53ea\u80fd\u7ed1\u5b9a\u5230\u53f3\u503c\u4e0a\uff08\u901a\u5e38\u662f\u4e00\u4e2a\u4e34\u65f6\u5bf9\u8c61\uff09\uff0c\u56e0\u6b64\u53f3\u503c\u5f15\u7528\u53ef\u4ee5\u4fdd\u8bc1</p> <ol> <li>\u6240\u5f15\u7528\u7684\u5bf9\u8c61\u5373\u5c06\u88ab\u9500\u6bc1\u3002</li> <li>\u8be5\u5bf9\u8c61\u6ca1\u6709\u5176\u4ed6\u7528\u6237\u3002</li> </ol> <p>\u8fd9\u4e24\u4e2a\u7279\u6027\u610f\u5473\u7740\uff1a\u4f7f\u7528\u53f3\u503c\u5f15\u7528\u7684\u4ee3\u7801\u53ef\u4ee5\u81ea\u7531\u5730\u63a5\u7ba1\u6240\u5f15\u7528\u5bf9\u8c61\u7684\u8d44\u6e90\u3002</p> <p>\u6211\u4eec\u901a\u8fc7<code>\u201c&amp;&amp;\u201d</code>\u6765\u83b7\u5f97\u53f3\u503c\u5f15\u7528\uff0c\u4f8b\u5982\uff0c</p> <pre><code>int i = 42;\nint &amp;&amp; r = i*42;    //r\u662f\u4e00\u4e2a\u53f3\u503c\u5f15\u7528\n</code></pre> <p>\u901a\u8fc7\u4e00\u4e2a\u4f8b\u5b50\u770b\u5de6\u503c\u5f15\u7528\u548c\u53f3\u503c\u5f15\u7528\u7684\u533a\u522b</p> <pre><code>int main()\n{\n    int i = 3;\n    int &amp;&amp;j = i++;  //\u6b63\u786e\n    int &amp;&amp;k = ++i;  //\u9519\u8bef\uff0c++i\u8fd4\u56de\u7684\u662f\u4e00\u4e2a\u5de6\u503c\n    int &amp;m = i++;   //\u9519\u8bef\uff0ci++\u8fd4\u56de\u7684\u662f\u4e00\u4e2a\u53f3\u503c\n    int &amp;l = ++i;   //\u6b63\u786e\n    return 0;\n}\n</code></pre> <p>\u62a5\u9519\uff1a</p> <pre><code>algo.cpp: \u5728\u51fd\u6570\u2018int main()\u2019\u4e2d:\nalgo.cpp:20:17: \u9519\u8bef\uff1a\u65e0\u6cd5\u5c06\u5de6\u503c\u2018int\u2019\u7ed1\u5b9a\u5230\u2018int&amp;&amp;\u2019\n     int &amp;&amp;k = ++i;\n                 ^\nalgo.cpp:21:15: \u9519\u8bef\uff1a\u7528\u7c7b\u578b\u4e3a\u2018int\u2019\u7684\u53f3\u503c\u521d\u59cb\u5316\u7c7b\u578b\u4e3a\u2018int&amp;\u2019\u7684\u975e\u5e38\u91cf\u5f15\u7528\u65e0\u6548\n     int &amp;m = i++;\n</code></pre>","tags":["c/c++"]},{"location":"foundation/cpp/26.cpp-copy-move/#_3","title":"\u5982\u4f55\u5b9e\u73b0\u79fb\u52a8\u8bed\u4e49","text":"<p>\u79fb\u52a8\u8bed\u4e49\u5305\u62ec\u4e24\u90e8\u5206\uff0c\u79fb\u52a8\u6784\u9020\u51fd\u6570\u548c\u79fb\u52a8\u8d4b\u503c\u8fd0\u7b97\u7b26</p> <p>\u79fb\u52a8\u6784\u9020\u51fd\u6570\u548c\u79fb\u52a8\u8d4b\u503c\u8fd0\u7b97\u7b26\u6b63\u662f\u5229\u7528\u4e86\u4e0a\u9762\u6240\u63d0\u5230\u7684\u53f3\u503c\u5f15\u7528\u7684\u7279\u6027\u3002</p> <p>\u79fb\u52a8\u6784\u9020\u51fd\u6570\u548c\u79fb\u52a8\u8d4b\u503c\u8fd0\u7b97\u7b26\u9700\u8981\u4e00\u4e2a\u53f3\u503c\u5f15\u7528\u4f5c\u4e3a\u53c2\u6570\u3002\u8fd9\u5c31\u610f\u5473\u503c\uff0c\u5982\u679c\u53c2\u6570\u7c7b\u578b\u6709\u6790\u6784\u65b9\u6cd5\uff0c\u8fd9\u4e2a\u53c2\u6570\u968f\u540e\u5c31\u4f1a\u88ab\u6790\u6784\u3002</p> <p>\u5f88\u591a\u8d44\u6599\u4f1a\u544a\u8bc9\u6211\u4eec\uff0c\u79fb\u52a8\u6784\u9020\u51fd\u6570\u6216\u79fb\u52a8\u8d4b\u503c\u8fd0\u7b97\u7b26\u4f1a\u63a5\u7ba1\u8d44\u6e90\u800c\u4e0d\u662f\u62f7\u8d1d\u8d44\u6e90\u3002\u8fd9\u79cd\u8868\u8ff0\u975e\u5e38\u4ee4\u4eba\u8ff7\u60d1\uff0c\u5b9e\u9645\u4e0a\uff0c\u63a5\u7ba1\u8d44\u6e90\u5e76\u4e0d\u662f\u8fd9\u4e24\u4e2a\u51fd\u6570\u672c\u8eab\u7684\u529f\u80fd\u2014\u2014\u2014\u2014\u5b83\u4eec\u672c\u8eab\u4ec0\u4e48\u529f\u80fd\u90fd\u6ca1\u6709\uff0c\u53ea\u662f\u7ed9\u63a5\u53e3\u5b9a\u4e49\u4e86\u79fb\u52a8\u8bed\u4e49\u3002\u63a5\u7ba1\u8d44\u6e90\u8fd9\u4e00\u529f\u80fd\u662f\u901a\u8fc7\u7a0b\u5e8f\u5458\u81ea\u5df1\u5728\u79fb\u52a8\u6784\u9020\u51fd\u6570\u4e2d\u5199\u4ee3\u7801\u6765\u5b9e\u73b0\u7684\u3002</p> <p>\u5b9e\u73b0\u4e00\u4e2a\u79fb\u52a8\u64cd\u4f5c\u8981\u4fdd\u8bc1\u4ee5\u4e0b\u51e0\u70b9\uff1a</p> <ul> <li>\u53c2\u6570\u5fc5\u987b\u662f\u53f3\u503c\u5f15\u7528\uff08\u8fd9\u6837\u624d\u80fd\u5b9a\u4e49\u79fb\u52a8\u8bed\u4e49\uff09</li> <li>\u4e0d\u5206\u914d\u65b0\u5185\u5b58\uff0c\u4e0d\u8fdb\u884c\u5185\u5b58\u62f7\u8d1d\uff0c\u800c\u662f\u901a\u8fc7\u4fee\u6539\u6307\u9488\u6765\u63a5\u7ba1\u8d44\u6e90</li> <li>\u786e\u4fdd\u6e90\u5bf9\u8c61\u7684\u6790\u6784\u64cd\u4f5c\u4e0d\u4f1a\u5f71\u54cd\u76ee\u6807\u5bf9\u8c61</li> <li>\u4e0d\u629b\u51fa\u5f02\u5e38\uff0c\u5e76\u663e\u5f0f\u58f0\u660e\uff08\u4f7f\u7528 noexcept \u5173\u952e\u5b57\uff09\uff0c\u9632\u6b62\u7f16\u8bd1\u5668\u8ba4\u4e3a\u79fb\u52a8\u64cd\u4f5c\u4e0d\u5b89\u5168\u4ece\u800c\u4e0d\u4f7f\u7528\u79fb\u52a8\u6784\u9020</li> </ul> <p>\u4e0b\u9762\u662f\u79fb\u52a8\u64cd\u4f5c\u7684\u4f8b\u5b50</p> <pre><code>\nclass ClassA{\npublic:\n    // \u79fb\u52a8\u6784\u9020\n    ClassA(ClassA &amp;&amp; b) noexcept //\u53c2\u6570\u662f\u53f3\u503c\u5f15\u7528\n    : e(b.e) {  //\u63a5\u7ba1\u8d44\u6e90\n        b.e = nullptr;  //\u786e\u4fddb\u6790\u6784\u662f\u5b89\u5168\u7684\n    }\n    // \u79fb\u52a8\u8d4b\u503c\n    &amp;ClassA operator=(ClassA &amp;&amp; b) noexcept { //\u53c2\u6570\u662f\u53f3\u503c\u5f15\u7528\n        //\u68c0\u6d4b\u81ea\u8d4b\u503c\n        if(this != &amp;b){\n            delete e;     //\u91ca\u653e\u5df2\u6709\u5143\u7d20\n            e = b.e;    //\u63a5\u7ba1\u8d44\u6e90\n            b.e = nullptr;\n        }\n        return *this;\n    }\nprivate:\n    int *e;\n}\n</code></pre>","tags":["c/c++"]},{"location":"foundation/cpp/26.cpp-copy-move/#stdmove","title":"std::move","text":"<p>\u6807\u51c6\u5e93\u51fd\u6570<code>std::move()</code>\u53ef\u4ee5\u83b7\u53d6\u4e00\u4e2a\u5de6\u503c\u7684\u53f3\u503c\u5f15\u7528\u3002\u5bf9\u4e00\u4e2a\u6e90\u5bf9\u8c61\u8c03\u7528\u8fd9\u4e2a\u51fd\u6570\u540e\u5fc5\u987b\u4fdd\u8bc1\u540e\u7eed\u5bf9\u6e90\u5bf9\u8c61\u53ea\u505a\u8d4b\u503c\u6216\u9500\u6bc1\u64cd\u4f5c\uff0c\u4f46\u662f\u4e0d\u53bb\u4f7f\u7528\u5b83\u3002</p>","tags":["c/c++"]},{"location":"foundation/cpp/26.cpp-copy-move/#_4","title":"\u5176\u4ed6","text":"","tags":["c/c++"]},{"location":"foundation/cpp/26.cpp-copy-move/#_5","title":"\u6210\u5458\u51fd\u6570\u9650\u5b9a\u7b26 &amp;\u548c &amp;&amp;","text":"<p>\u548c\u7ed9\u7c7b\u7684\u6210\u5458\u51fd\u6570\u52a0\u4e0a const \u9650\u5b9a\u7b26\u7c7b\u4f3c\uff0c\u4e5f\u53ef\u4ee5\u628a<code>&amp;</code>\u548c<code>&amp;&amp;</code>\u4f5c\u4e3a\u6210\u5458\u51fd\u6570\u9650\u5b9a\u7b26\uff0c\u8868\u793a\u53ea\u6709\u5de6\u503c\u6216\u53f3\u503c\u624d\u80fd\u8c03\u7528\u8fd9\u4e2a\u51fd\u6570\u3002</p> <p>&amp;\u3001&amp;&amp;\u53ef\u4ee5\u548cconst\u4e00\u8d77\u4f7f\u7528\uff0cconst\u5fc5\u987b\u5199\u5728\u524d\u9762\u3002</p>","tags":["c/c++"]},{"location":"foundation/cpp/26.cpp-copy-move/#copy-elision","title":"Copy Elision","text":"<p>Copy Elison \u662f C++\u7684\u4e00\u9879\u7f16\u8bd1\u5668\u4f18\u5316\uff0c\u610f\u601d\u662f\u5728\u67d0\u4e9b\u60c5\u5f62\u4e0b\uff0c\u6784\u9020\u5bf9\u8c61\u65f6\u4f1a\u5ffd\u7565\u8be5\u5bf9\u8c61\u7684\u62f7\u8d1d/\u79fb\u52a8\u6784\u9020\u51fd\u6570\uff0c\u76f4\u63a5\u5c06\u5bf9\u8c61\u6784\u9020\u51fa\u6765\u3002\u6709\u4e00\u79cd\u60c5\u5f62\u662f\u8fd9\u6837\u7684\uff0c\u7528\u4e00\u4e2a\u4e34\u65f6\u5bf9\u8c61\u53bb\u6784\u9020\u4e00\u4e2a\u76f8\u540c\u7c7b\u578b\u7684\u5bf9\u8c61</p> <pre><code>T obj(T(arg));\n</code></pre> <p>\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u5bf9\u8c61<code>obj</code>\u4e0d\u4f1a\u53bb\u8c03\u7528\u4ed6\u7684\u79fb\u52a8\u6784\u9020\u51fd\u6570\uff0c\u800c\u662f\u76f4\u63a5\u88ab\u6784\u9020\u51fa\u6765\u3002</p> <p>\u5982\u679c\u7a0b\u5e8f\u662f\u7528 gcc \u7684 C++14 \u6216 C++11 \u6807\u51c6\u7f16\u8bd1\u7684\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u52a0\u4e0a<code>-fno-elide-constructors</code>\u8fd9\u4e00\u7f16\u8bd1\u9009\u9879\u6765\u963b\u6b62\u7f16\u8bd1\u5668\u8fdb\u884c\u6b64\u9879\u4f18\u5316\u3002</p> <p>\u4e00\u4e2a\u4f1a\u89e6\u53d1 Copy Elision \u7684\u5178\u578b\u573a\u666f\u662f\u8fd9\u6837\u7684\uff08\u5982\u4e0b\u9762\u7684\u4ee3\u7801\u6240\u793a\uff09 \uff0c\u5047\u5982\u4e00\u4e2a\u7c7b\u540c\u65f6\u5b9a\u4e49\u4e86\u4e00\u4e2a\u9690\u5f0f\u7684\u7c7b\u7c7b\u578b\u8f6c\u6362\u548c\u4e00\u4e2a\u62f7\u8d1d\u6784\u9020/\u79fb\u52a8\u6784\u9020\u51fd\u6570\u65f6\uff0c\u5982\u679c\u6784\u9020\u5bf9\u8c61\u65f6\u540c\u65f6\u7528\u5230\u4e86\u8fd9\u4e24\u4e2a\u51fd\u6570\uff0c\u5c31\u4f1a\u89e6\u53d1 Copy Elison\uff0c\u5373\u53ea\u4f1a\u8fdb\u884c\u76f4\u63a5\u6784\u9020\uff08\u9690\u5f0f\u7684\u7c7b\u7c7b\u578b\u8f6c\u6362\uff09\uff0c\u800c\u4e0d\u4f1a\u8fdb\u884c\u4e4b\u540e\u7684\u62f7\u8d1d\u6784\u9020\u3002</p> <pre><code>//\u7c7b\u4ee3\u7801\nclass String{\n...\npublic:\n    String();\n    String(const char*);  //c\u98ce\u683c\u5b57\u7b26\u4e32,\u9690\u5f0f\u7684\u7c7b\u7c7b\u578b\u8f6c\u6362\u89c4\u5219\n    //\u62f7\u8d1d\u63a7\u5236\n    String(const String &amp;); //\u62f7\u8d1d\u6784\u9020\n\n...\n};\n//\u6d4b\u8bd5\u4ee3\u7801\nString str = \"Hello world!\"; //\u8fd9\u91cc\u4f1a\u89e6\u53d1copy elision\n</code></pre> <p>\u7136\u800c\u5728 C++17 \u4e2d\uff0c\u60c5\u51b5\u6709\u6240\u6539\u53d8\uff0c\u4e0a\u8ff0\u60c5\u5f62\u4e0d\u518d\u5c5e\u4e8e Copy Elision\u3002C++17 \u89c4\u5b9a\uff0c\u7528 prvalue\uff08\u5373\u7eaf\u53f3\u503c\uff09\u6784\u9020\u76f8\u540c\u7c7b\u578b\u7684\u5bf9\u8c61\u65f6\uff0c\u4e0d\u8c03\u7528\u5176\u79fb\u52a8/\u62f7\u8d1d\u6784\u9020\u51fd\u6570\u3002<code>T(arg)</code>\u662f\u4e00\u4e2a prvalue\uff0c\u56e0\u6b64\u6784\u9020<code>obj</code>\u65f6\u662f\u4e0d\u4f1a\u53bb\u8c03\u7528\u5b83\u7684\u79fb\u52a8/\u62f7\u8d1d\u6784\u9020\u51fd\u6570\u7684\u3002\u4e5f\u5c31\u662f\u8bf4 C++17 \u628a\u5bf9\u4e0a\u8ff0\u60c5\u5f62\u7684\u4f18\u5316\u76f4\u63a5\u653e\u5230\u4e86 C++\u8bed\u8a00\u6807\u51c6\u91cc\uff0c\u4e0d\u518d\u5c5e\u4e8e\u7f16\u8bd1\u5668\u4f18\u5316\u3002\u8fd9\u5c31\u610f\u5473\u7740\u5728 C++17 \u6807\u51c6\u4e0b\uff0c\u5373\u4f7f\u52a0\u4e0a\u7f16\u8bd1\u5668\u9009\u9879<code>-fno-elide-constructors</code>\u4e5f\u4e0d\u80fd\u963b\u6b62\u4e0a\u8ff0\u60c5\u5f62\u88ab\u4f18\u5316\u3002</p> <p>\u5f53\u7136 C++17 \u4e2d\u4ecd\u7136\u6709 Copy Elision\uff0c\u53ea\u662f\u4e0a\u8ff0\u60c5\u51b5\u4e0d\u518d\u5c5e\u4e8e Copy Elision\u3002</p> <p>\u53c2\u8003</p> <p>\u5728 C++11 \u4e2d\uff0c\u4f7f\u7528\u533f\u540d\u7c7b\u6784\u9020\u4e00\u4e2a\u5bf9\u8c61\u65f6\u4f1a\u53d1\u751f\u4ec0\u4e48\uff1f C++ lvalue\uff0cprvalue\uff0cxvalue\uff0cglvalue \u548c rvalue \u8be6\u89e3\uff08from cppreference\uff09</p> <p>cppreference.com-Copy elision cppreference.com-Value categories</p>","tags":["c/c++"]},{"location":"foundation/cpp/26.cpp-copy-move/#swap","title":"swap","text":"<p>swap \u7528\u6765\u4ea4\u6362\u4e24\u4e2a\u5bf9\u8c61\u7684\u6570\u636e\uff0cswap \u7684\u5b9e\u73b0\u5206\u4e3a\u7528\u6237\u81ea\u5b9a\u4e49 swap \u548c std::swap()</p> <p>\u4ee5\u4e0b\u662f\u7528\u6237\u81ea\u5b9a\u4e49 swap \u7684\u4f8b\u5b50</p> <pre><code>class ClassA{\n    friend void swap(ClassA &amp;,Class &amp;);\nprivate:\n    int *e;\n};\ninline\nvoid swap(ClassA &amp;a,Class &amp;b){\n    using std::swap;    //\u8fd9\u4e2a\u58f0\u660e\u5e76\u4e0d\u662f\u4e3a\u4e86\u8ba9\u4e0b\u9762\u8c03\u7528std::swap\uff0c\u800c\u662f\u5f53\u4e0b\u9762\u88ab\u4ea4\u6362\u7684\u503c\u6ca1\u6709\u81ea\u5b9a\u4e49swap\u51fd\u6570\u65f6\uff0c\u7ed9\u5b83\u4eec\u8c03\u7528std::swap\u7684\u673a\u4f1a\n    swap(a.e, b.e); //\u8fd9\u91cc\u4f18\u5148\u5339\u914d\u53c2\u6570\u7c7b\u578b\u81ea\u5df1\u5b9a\u4e49\u7684swap\uff0c\u5982\u679c\u5339\u914d\u4e0d\u5230\u624d\u8c03\u7528std::swap\n}\n</code></pre>","tags":["c/c++"]},{"location":"foundation/cpp/27.cpp-const/","title":"c++\u4e2d\u7684const","text":"","tags":["c/c++"]},{"location":"foundation/cpp/27.cpp-const/#const","title":"const \u5f15\u7528\u53c2\u6570","text":"<p>\u51fd\u6570\u7684 const \u5f15\u7528\u53c2\u6570\u6709\u4e24\u4e2a\u4f5c\u7528</p> <ol> <li>\u5bf9\u8c03\u7528\u8005\u627f\u8bfa\u4e0d\u4f1a\u4fee\u6539\u53d8\u91cf</li> <li>\u5141\u8bb8\u8c03\u7528\u8005\u4f20\u4e00\u4e2a\u53f3\u503c\u4f5c\u4e3a\u53c2\u6570\uff0c\u4f8b\u5982\u5e38\u91cf\u3001\u5b57\u9762\u91cf\u3001\u4e34\u65f6\u5bf9\u8c61\u3001\u533f\u540d\u5bf9\u8c61</li> </ol> <p>\u4f8b\u5982</p> <pre><code>void func(const int&amp; a){\n    std::cout &lt;&lt; a &lt;&lt;std::endl;\n    return;\n}\n//\u53ef\u4ee5\u8fd9\u6837\u8c03\u7528\nfunc(5)\n</code></pre> <p>\u5982\u679c\u5f15\u7528\u53c2\u6570\u4e0d\u52a0const\uff0c\u90a3\u4e48\u5b83\u662f\u4e00\u4e2a\u5de6\u503c\u5f15\u7528\uff0c\u4e0d\u80fd\u628a\u53f3\u503c\u4f20\u7ed9\u5b83\u4f5c\u4e3a\u53c2\u6570</p> <p>\u4f8b\u5982\u4e0b\u9762\u8fd9\u4e9b\u5199\u6cd5\u90fd\u662f\u65e0\u6cd5\u901a\u8fc7\u7f16\u8bd1\u7684</p> <pre><code>int &amp;a = 5; // 5\u662f\u4e2a\u5b57\u9762\u91cf\uff0c\u4e0d\u80fd\u88ab\u5f15\u7528\nstd::string &amp;s = \"123\"; //\u6ce8\u610f\uff0c\u7406\u8bba\u4e0a\u8fd9\u91cc\u8fd8\u53d1\u751f\u4e86\u4e00\u6b21\u9690\u5f0f\u7c7b\u578b\u8f6c\u6362\uff0c\u4f46\u662f\u4ecd\u7136\u4e0d\u884c\nstd::string &amp;s2 = std::string(\"123\");   //\u5f15\u7528\u4e00\u4e2a\u533f\u540d\u5bf9\u8c61\u4e5f\u4e0d\u884c\n</code></pre>","tags":["c/c++"]},{"location":"foundation/cpp/28.cpp-inline/","title":"\u5173\u4e8eC++ inline\u5173\u952e\u5b57","text":"<p>inline\uff0c\u5185\u8054\uff0c\u65e9\u671finline\u5173\u952e\u5b57\u662f\u7ed9\u7f16\u8bd1\u5668\u7684\u5185\u8054\u5efa\u8bae\uff0c\u7f16\u8bd1\u5668\u4f1a\u89c6\u60c5\u51b5\u5c06\u51fd\u6570\u5728\u8c03\u7528\u5904\u5c55\u5f00\u3002</p> <p>\u4f46\u662f\u73b0\u5728\u6ca1\u6709\u7f16\u8bd1\u5668\u4f1a\u542c\u4ece\u7528\u6237\u7684\u5efa\u8bae\u3002</p> <p>inline\u7684\u65b0\u8bed\u4e49\uff0c\u5982\u679c\u5728\u4e0d\u540c\u6587\u4ef6\u4e2d\u53d1\u73b0\u76f8\u540c\u7684inline\u51fd\u6570\uff0c\u53ea\u4fdd\u7559\u4e00\u4efd</p> <p>inline\u7684\u7528\u6cd5</p> <ul> <li>inline\u51fd\u6570\u7684\u58f0\u660e\u548c\u5b9a\u4e49\u5fc5\u987b\u5728\u540c\u4e00\u4e2a\u6587\u4ef6\uff0c\u901a\u5e38\u662f\u5c06inline\u51fd\u6570\u7684\u58f0\u660e\u548c\u5b9a\u4e49\u90fd\u653e\u5230\u5934\u6587\u4ef6\u91cc\uff0c\u5426\u5219\u5c31\u53ea\u80fd\u5728\u6bcf\u4e2a\u5b9e\u73b0\u6587\u4ef6\u91cc\u90fd\u5b9a\u4e49\u4e00\u4e2a\u76f8\u540c\u7684inline\u51fd\u6570\u3002</li> <li>\u5728\u7c7b\u4e2d\u5b9a\u4e49\u7684\u51fd\u6570\u9ed8\u8ba4\u662f\u5185\u8054\u7684\uff0c\u5982\u679c\u60f3\u628a\u4e00\u4e2a\u7c7b\u5916\u5b9a\u4e49\u7684\u51fd\u6570\u5b9a\u4e49\u4e3a\u5185\u8054\u7684\uff0c\u5fc5\u987b\u663e\u5f0f\u6307\u5b9ainline</li> <li>inline\u53ea\u80fd\u653e\u5728\u51fd\u6570\u5b9a\u4e49\u91cc\uff0c\u4e0d\u80fd\u653e\u5728\u51fd\u6570\u58f0\u660e\u91cc\u3002</li> </ul> <p>\u8fd8\u6709\u4e2a\u7c7b\u4f3c\u7684\u5173\u952e\u5b57register\uff0cregister\u5728c\u4e2d\u7684\u4f5c\u7528\u662f\u544a\u8bc9\u7f16\u8bd1\u5668\u5c06\u4e00\u4e2a\u53d8\u91cf\u653e\u5728\u5bc4\u5b58\u5668\u4e2d\uff0cc++\u4e2d\u7684register\u6ca1\u7528\uff0c\u5b8c\u5168\u662f\u4e3a\u4e86\u517c\u5bb9c\u7a0b\u5e8f\u800c\u5b58\u5728\u7684\u3002</p>","tags":["c/c++"]},{"location":"foundation/cpp/29.cpp-forward-declaration/","title":"\u5173\u4e8eC++\u524d\u5411\u58f0\u660e","text":"<p>\u5982\u679c\u6709\u4e24\u4e2a\u7c7b\u76f8\u4e92\u4e4b\u95f4\u53d1\u751f\u4e86\u5f15\u7528\uff0c\u53ef\u80fd\u4f1a\u4ea7\u751f\u4e00\u4e9b\u95ee\u9898\u3002\u300aC++ primer \u7b2c5\u7248\u300b\u4e2d12.1.1\u8282\u548c12.1.6\u8282\u7ed9\u51fa\u7684\u4f8b\u5b50\u5c31\u51fa\u73b0\u4e86\u8fd9\u79cd\u60c5\u51b5\u3002\u5728\u8fd9\u4e24\u8282\u4e2d\uff0c\u4f5c\u8005\u5b9a\u4e49\u4e86\u4e24\u4e2a\u7c7b<code>StrBlob</code>\u548c<code>StrBlobPtr</code>\u6765\u6a21\u4eff\u5bb9\u5668\u548c\u8fed\u4ee3\u5668\u7684\u529f\u80fd\u3002\u7c7b<code>StrBlob</code>\u4e2d\u7684<code>begin()</code>\u548c<code>end()</code>\u51fd\u6570\u4e2d\u7528\u5230\u4e86<code>StrBlobPtr</code>\u7c7b\uff1b\u7c7b<code>StrBlobPtr</code>\u7684\u6784\u9020\u51fd\u6570\u4e2d\u7528\u5230\u4e86<code>StrBlob</code>\u7c7b\u3002</p>","tags":["c/c++"]},{"location":"foundation/cpp/29.cpp-forward-declaration/#_1","title":"\u53c2\u8003","text":"<ul> <li>cppreference-\u4e2d\u6587\u7248-C++/C++\u8bed\u8a00/\u7c7b/\u7c7b\u58f0\u660e </li> <li>\u5982\u4f55\u770b\u5f85C++\u524d\u7f6e\u58f0\u660e\uff1f - \u77e5\u4e4e</li> </ul>","tags":["c/c++"]},{"location":"foundation/cpp/29.cpp-forward-declaration/#_2","title":"\u5934\u6587\u4ef6\u5faa\u73af\u5305\u542b","text":"<p>\u5982\u679c\u4e24\u4e2a\u76f8\u4e92\u5f15\u7528\u7684\u7c7b\u7684\u58f0\u660e\u5728\u4e0d\u540c\u7684\u5934\u6587\u4ef6\uff0c\u5219\u6700\u6709\u53ef\u80fd\u51fa\u73b0\u7684\u95ee\u9898\u5c31\u662f\u5934\u6587\u4ef6\u53d1\u751f\u4e86\u5faa\u73af\u5305\u542b\u3002</p> <p>\u4f8b\u5982\uff0c\u5728\u4ee5\u4e0b\u4ee3\u7801\u4e2d\u6709A\u3001B\u4e24\u4e2a\u7c7b\uff0c\u4ed6\u4eec\u53d1\u751f\u4e86\u76f8\u4e92\u5f15\u7528\uff0c\u5e76\u4e14\u58f0\u660e\u5728\u4e0d\u540c\u7684\u5934\u6587\u4ef6\u4e2d\u3002</p> <pre><code>//A.h\n#pragma once\n#include \"B.h\"\n\nclass A{...};\n\n//B.h\n#pragma once\n#include \"A\"\n\nclass B{...};\n</code></pre> <p>\u8fd9\u6837\u7684\u4ee3\u7801\u662f\u65e0\u6cd5\u901a\u8fc7\u7f16\u8bd1\u7684\uff0c\u56e0\u4e3a\u5934\u6587\u4ef6\u53d1\u751f\u4e86\u5faa\u73af\u5305\u542b\u3002\u5f53\u7f16\u8bd1\u5668\u6b63\u5728\u7f16\u8bd1A.h\u65f6\uff0c\u53d1\u73b0A.h\u4e2d\u5305\u542b\u4e86B.h\uff0c\u7f16\u8bd1\u5668\u5c31\u53bb\u7f16\u8bd1B.h\uff0c\u7136\u800cB.h\u4e2d\u5305\u542b\u4e86A.h\uff0c\u7f16\u8bd1\u5668\u4f1a\u8ba4\u4e3aA.h\u5df2\u7ecf\u7f16\u8bd1\u8fc7\u4e86\uff0c\u4f46\u662f\u5b9e\u9645\u60c5\u51b5\u662fA.h\u5e76\u6ca1\u6709\u7f16\u8bd1\u5b8c\u6210\uff0c\u56e0\u6b64\u7f16\u8bd1\u7c7bB\u4e2d\u7684\u4ee3\u7801\u65f6\u5c31\u4f1a\u53d1\u751f\u9519\u8bef\u3002</p>","tags":["c/c++"]},{"location":"foundation/cpp/29.cpp-forward-declaration/#forward-declaration","title":"\u524d\u7f6e\u58f0\u660e\uff08Forward Declaration\uff09","text":"<p>\u524d\u7f6e\u58f0\u660e\u662f\u6307\uff0c\u5982\u679c\u8981\u5728\u7c7bA\u4e2d\u4f7f\u7528\u53e6\u5916\u4e00\u4e2a\u7c7bB\uff0c\u53ef\u4ee5\u5728\u7c7bA\u4e4b\u524d\u7ed9\u51fa\u7c7bB\u7684\u524d\u7f6e\u58f0\u660e\u3002\u4f8b\u5982</p> <pre><code>class B;    //\u524d\u7f6e\u58f0\u660e\nclass A{...};\n</code></pre> <p>\u4f7f\u7528\u524d\u7f6e\u58f0\u660e\u53ef\u4ee5\u89e3\u51b3\u5faa\u73af\u5305\u542b\u7684\u95ee\u9898\u3002\u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u5934\u6587\u4ef6A.h\u4e2d\u5305\u542bB.h\uff0c\u7136\u540e\u5728B.h\u4e2d\u53ea\u7ed9\u51faA\u7684\u524d\u7f6e\u58f0\u660e\uff0c\u800c\u4e0d\u7528\u5305\u542bA.h\u3002</p> <pre><code>//A.h\n#pragma once\n#include \"B.h\"\n\nclass A{...};\n\n//B.h\n#pragma once\n\nclass A;\nclass B{...};\n</code></pre>","tags":["c/c++"]},{"location":"foundation/cpp/29.cpp-forward-declaration/#_3","title":"\u524d\u7f6e\u58f0\u660e\u7684\u95ee\u9898","text":"<p>\u524d\u7f6e\u58f0\u660e\u7684\u95ee\u9898\u5728\u4e8e\uff0c\u5b83\u53ea\u662f\u4e2a\u7c7b\u540d\u3002\u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u5982\u679c\u7c7bB\u4e2d\u53ea\u662f\u51fa\u73b0\u4e86\u7c7bA\u7684\u5f15\u7528\u3001\u6307\u9488\u3001\u53cb\u5143\u58f0\u660e\u7b49\uff08\u5373\u53ea\u7528\u5230\u4e86\u7c7bB\u7684\u540d\u5b57\uff09\uff0c\u5229\u7528\u524d\u7f6e\u58f0\u660e\u53d6\u4ee3#include\u662f\u53ef\u4ee5\u7684\u3002</p> <p>\u4f46\u662f\u5982\u679c\u7c7bB\u4e2d\u7528\u5230\u4e86\u7c7bA\u4e2d\u7684\u6210\u5458\uff0c\u4f7f\u7528\u524d\u7f6e\u58f0\u660e\u4ee3\u66ff#include\u5c31\u884c\u4e0d\u901a\u4e86\uff0c\u7f16\u8bd1\u5668\u4f1a\u62a5\u9519\uff08\u56e0\u4e3a\u7f16\u8bd1\u5668\u627e\u4e0d\u5230\u8fd9\u4e9b\u6210\u5458\u7684\u58f0\u660e\uff09\u3002\u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u53ea\u6709\u7c7b\u4e2d\u6210\u5458\u51fd\u6570\u7684\u51fd\u6570\u4f53\u5185\u4f1a\u7528\u5230\u53e6\u5916\u4e00\u4e2a\u7c7b\u7684\u6210\u5458\uff0c\u56e0\u6b64\u6700\u597d\u5c06\u51fd\u6570\u58f0\u660e\u548c\u5b9a\u4e49\u5206\u5f00\uff0c\u5373\u5c06\u58f0\u660e\u653e\u5728\u5934\u6587\u4ef6\u4e2d\uff0c\u5b9a\u4e49\u653e\u5728.cpp\u6587\u4ef6\u4e2d\u3002 </p> <p>\u5bf9\u4e8einline\u51fd\u6570\uff0c\u7531\u4e8e\u4e0d\u80fd\u5c06inline\u51fd\u6570\u7684\u58f0\u660e\u548c\u5b9a\u4e49\u5206\u522b\u653e\u5230\u4e24\u4e2a\u6587\u4ef6\u4e2d\uff0c\u56e0\u6b64\u4f7f\u7528\u4e86\u524d\u7f6e\u58f0\u660e\u540e\uff0cinline\u51fd\u6570\u5185\u90e8\u662f\u4e0d\u80fd\u4f7f\u7528\u88ab\u58f0\u660e\u7c7b\u7684\u6210\u5458\u7684\uff0c\u9664\u975e\u53d6\u6d88inline\u58f0\u660e\uff0c\u628a\u51fd\u6570\u7684\u5b9a\u4e49\u548c\u5b9e\u73b0\u5206\u5f00\u3002</p>","tags":["c/c++"]},{"location":"foundation/cpp/29.cpp-forward-declaration/#_4","title":"\u524d\u7f6e\u58f0\u660e\u7684\u5176\u4ed6\u95ee\u9898","text":"<p>\u7f51\u4e0a\u6709\u4e9b\u8d44\u6599\u8bf4\uff0c\u524d\u7f6e\u58f0\u660e\u6709\u65f6\u4f1a\u9020\u6210\u7a0b\u5e8f\u8fd0\u884c\u65f6\u51fa\u73b0\u9519\u8bef\u7684\u7ed3\u679c\u3002\u6240\u4ee5\u5728google\u7684C++ code style\u4e2d\u5efa\u8bae\u5e94\u5c3d\u91cf\u907f\u514d\u4f7f\u7528\u524d\u7f6e\u58f0\u660e\uff0c\u5c3d\u53ef\u80fd\u4f7f\u7528#include\u3002</p>","tags":["c/c++"]},{"location":"foundation/cpp/29.cpp-forward-declaration/#_5","title":"\u603b\u7ed3","text":"<p>\u7f16\u7a0b\u65f6\u5e94\u8be5\uff1a\uff081\uff09\u5c3d\u91cf\u907f\u514d\u51fa\u73b0\u4e24\u4e2a\u7c7b\u76f8\u4e92\u5f15\u7528\u7684\u60c5\u51b5\uff0c\uff082\uff09\u5c3d\u53ef\u80fd\u591a\u5730\u4f7f\u7528#include\uff0c\u800c\u4e0d\u662f\u524d\u7f6e\u58f0\u660e\uff0c\uff083\uff09\u5c3d\u53ef\u80fd\u5c06\u51fd\u6570\u7684\u58f0\u660e\u548c\u5b9a\u4e49\u5206\u79bb\u3002</p> <p>\u5982\u679c\u4e24\u4e2a\u7c7b\u76f8\u4e92\u5f15\u7528\u7684\u60c5\u51b5\u4e0d\u53ef\u907f\u514d\uff0c\u65e0\u8bba\u8fd9\u4e24\u4e2a\u7c7b\u662f\u5426\u58f0\u660e\u5728\u540c\u4e00\u4e2a\u5934\u6587\u4ef6\u4e2d\uff0c\u90fd\u9700\u8981\u4f7f\u7528\u524d\u7f6e\u58f0\u660e\u4ee5\u907f\u514d\u5faa\u73af\u5305\u542b\u3002</p>","tags":["c/c++"]},{"location":"foundation/cpp/57.effective-cpp/","title":"\u300aEffective C++ \u7b2c\u4e09\u7248\u300b\u9605\u8bfb\u7b14\u8bb0","text":"","tags":["c/c++"]},{"location":"foundation/cpp/57.effective-cpp/#defineconst-enum-inlinedefine","title":"\u7b2c\u4e8c\u6761\uff1a\u5c11\u7528#define\uff0c\u7528const, enum, inline\u4ee3\u66ff#define","text":"","tags":["c/c++"]},{"location":"foundation/cpp/57.effective-cpp/#definedumpdefinedefine","title":"define\u5b9a\u4e49\u7684\u540d\u5b57\u4f1a\u88ab\u9884\u5904\u7406\u5668\u66ff\u6362\u4e3a\u5b83\u7684\u503c\uff0c\u8fd9\u56de\u5bfc\u81f4\u5b9a\u4f4d\u95ee\u9898\u56f0\u96be\uff0c\u56e0\u4e3a\u4e0d\u7ba1\u662f\u7f16\u8bd1\u62a5\u9519\u8fd8\u662fdump\u6587\u4ef6\u8c03\u7528\u6808\u91cc\u9762\u7684\u540d\u5b57\u90fd\u662f#define\u7684\u503c\uff0c\u800c\u4e0d\u662f#define\u7684\u540d\u5b57\uff0c\u8ddf\u4ee3\u7801\u5b8c\u5168\u5bf9\u4e0d\u4e0a","text":"<p>\u5c24\u5176\u662f#define\u5b9a\u4e49\u7684\u51fd\u6570\u5b8f\uff0c\u96be\u4ee5\u9605\u8bfb\uff0c\u96be\u4ee5\u7ef4\u62a4</p>","tags":["c/c++"]},{"location":"foundation/cpp/57.effective-cpp/#const-const","title":"\u7b2c\u4e09\u6761\uff1a\u591a\u7528const \u53ca const\u7684\u6b63\u786e\u7528\u6cd5","text":"","tags":["c/c++"]},{"location":"foundation/cpp/57.effective-cpp/#const","title":"const\u662f\u4ec0\u4e48","text":"<p>const\u662f\u4e00\u4e2a\u8bed\u4e49\u7ea6\u675f\uff0c\u544a\u8bc9\u7f16\u8bd1\u5668\u67d0\u4e2a\u5bf9\u8c61\u4e0d\u8be5\u88ab\u4fee\u6539\u3002</p> <p>const\u7528\u5728\u6307\u9488\u4e0a\u65f6\uff0c\u5206\u4e3a\u9876\u5c42const\u548c\u5e95\u5c42const</p>","tags":["c/c++"]},{"location":"foundation/cpp/57.effective-cpp/#const_1","title":"\u5c06\u51fd\u6570\u8fd4\u56de\u503c\u5b9a\u4e49\u4e3aconst\u6709\u4ec0\u4e48\u7528","text":"<p>\u5c06\u51fd\u6570\u8fd4\u56de\u5b9a\u4e49\u4e3aconst\uff0c\u53ef\u4ee5\u907f\u514d\u7528\u6237\u5199\u51fa\u8fd9\u6837\u7684\u4e1c\u897f\uff1a<code>a * b = 6</code>\uff0c\uff08a\u548cb\u662f\u4e24\u4e2a\u81ea\u5b9a\u4e49\u7c7b\u578b\u7684\u5bf9\u8c61\uff0c\u5982\u679ca\u548cb\u662f\u5185\u7f6e\u7c7b\u578b\uff0c\u8fd9\u4e48\u505a\u5f53\u7136\u662f\u4e0d\u5408\u6cd5\u7684\uff09\uff0c\u4ee5\u4e0b\u4ee3\u7801\u5c31\u662f\u4e2a\u4f8b\u5b50\uff1a</p> <pre><code>class CNum\n{\npublic:\n    //1. \u6784\u9020\u51fd\u6570\u5b9a\u4e49\u4e86\u4e00\u4e2a\u4ece\u5185\u7f6e\u7c7b\u578bint\u5230CNum\u7684\u9690\u5f0f\u7c7b\u578b\u8f6c\u6362\n    CNum(int n) :_n(n) {}\n    //2. \u91cd\u8f7d\u4e86\u62f7\u8d1d\u590d\u5236\u8fd0\u7b97\u7b26\n    CNum&amp; operator=(const CNum&amp; num)\n    {\n        _n = num._n;\n    }\nprivate:\n    int _n;\n};\n\n//3. \u91cd\u8f7d\u4e86\u4e58\u6cd5\u8fd0\u7b97\u7b26\nCNum operator*(const CNum&amp; a, const CNum&amp; b)\n{\n    return a * b;\n}\n\nint main(int argc, char**argv)\n{\n    CNum a(1);\n    CNum b(2);\n    //4. \u7136\u540e\u5c31\u80fd\u5199\u51fa\u4e0b\u9762\u8fd9\u6837\u7684\u4e1c\u897f\n    a * b = 6;\n    return 0;\n}\n</code></pre> <p>\u5982\u679c\u6211\u4eec\u5728\u4e0a\u9762\u8fd9\u6bb5\u4ee3\u7801\u4e2d\u8ba9\u91cd\u8f7d\u4e58\u6cd5\u8fd0\u7b97\u7b26\u8fd4\u56de\u4e00\u4e2aconst\u503c\uff0c\u5c31\u80fd\u907f\u514d<code>a * b = 6</code>\u8fd9\u6837\u7684\u5199\u6cd5</p>","tags":["c/c++"]},{"location":"foundation/cpp/57.effective-cpp/#const_2","title":"const\u6210\u5458\u51fd\u6570\u600e\u4e48\u7528","text":"<p>const\u5bf9\u8c61\u53ea\u80fd\u8c03\u7528const\u6210\u5458\u51fd\u6570</p> <p>const\u6709\u4e24\u79cd\uff0c\u4e00\u79cd\u662fbitwise constness\uff08physical constness\uff09\uff0c\u5b57\u9762\u7ffb\u8bd1\u662f\u7269\u7406const\uff0c\u7b2c\u4e8c\u79cd\u662flogical constness\uff0c\u5373\u903b\u8f91const\uff0c\u8fd9\u4e24\u79cdconst\u6709\u4ec0\u4e48\u533a\u522b\u5462\uff0c\u4e0b\u9762\u7ed9\u51fa\u4e24\u4e2a\u4f8b\u5b50\uff0c</p> <p>\u4f8b\u4e00\uff1a\u4e00\u4e2a\u5bf9\u8c61\u6709\u4e00\u4e2a\u6307\u9488\u6210\u5458\uff0c\u5982\u679c\u6211\u4eec\u5728\u4e00\u4e2aconst\u6210\u5458\u51fd\u6570\u91cc\u6539\u4e86\u6307\u9488\u6307\u5411\u7684\u5185\u5bb9\uff0c\u800c\u6ca1\u6709\u6539\u6307\u9488\u672c\u8eab\uff0c\u8fd9\u79cdconst\u5c5e\u4e8ebitwise constness\uff0c\u5373\u6211\u4eec\u6ca1\u6709\u4fee\u6539\u5bf9\u8c61\u7684\u4efb\u4f55\u4e00\u4e2a\u6210\u5458\uff0c\u54ea\u6015\u4e00\u4e2abit\uff0c\u4f46\u4e0d\u5c5e\u4e8elogical constness\uff0c\u56e0\u4e3a\u4ece\u903b\u8f91\u4e0a\u8bb2\u5b9e\u9645\u4e0a\u6211\u4eec\u6539\u4e1c\u897f\u4e86\uff0c\u53ea\u4e0d\u8fc7\u6539\u7684\u4e0d\u662f\u6210\u5458\u672c\u8eab\u7684\u503c\uff0c\u6539\u7684\u662f\u5b83\u6307\u5411\u5730\u5740\u91cc\u7684\u5185\u5bb9\u3002\u8fd9\u79cd\u60c5\u51b5\u7f16\u8bd1\u5668\u4e0d\u4f1a\u62a5\u9519\uff0c\u7f16\u8bd1\u5668\u53ea\u8ba4bitwise constness\u3002</p> <p>\u4f8b\u4e8c\uff1a\u548c\u4f8b\u4e00\u76f8\u53cd\uff0c\u6211\u4eec\u6709\u4e00\u4e2aconst\u6210\u5458\u51fd\u6570length\uff0c\u662f\u83b7\u53d6\u5bf9\u8c61\u7684\u957f\u5ea6\uff0c\u4f46\u662f\u83b7\u53d6\u7684\u65f6\u5019\u5462\uff0c\u6211\u4eec\u5e0c\u671b\u66f4\u65b0\u4e00\u4e0b\u5185\u90e8\u7684\u4e00\u4e2a\u957f\u5ea6\u53d8\u91cf\u7684\u503c\uff0c\u4ece\u903b\u8f91\u4e0a\u8bb2\uff0c\u8c03\u7528length\u51fd\u6570\u7684\u7528\u6237\u80af\u5b9a\u5bf9\u66f4\u65b0\u53d8\u91cf\u662f\u65e0\u6240\u8c13\u7684\uff08\u5b83\u53ea\u662f\u5bf9\u957f\u5ea6\u7684\u4e00\u4e2a\u7f13\u5b58\u800c\u5df2\uff09\uff0c\u4f46\u7f16\u8bd1\u5668\u4e0d\u540c\u610f\uff0c\u5b83\u4e0d\u5141\u8bb8\u4f60\u53bb\u4fee\u6539\u4efb\u4f55\u4e00\u4e2a\u6210\u5458\u3002</p> <p>\u50cf\u4f8b\u4e8c\u8fd9\u79cd\u60c5\u51b5\uff0c\u6211\u4eec\u7684\u89e3\u51b3\u529e\u6cd5\u662f\u5c06\u957f\u5ea6\u53d8\u91cf\u5b9a\u4e49\u4e3a<code>mutable</code></p> <p>\u6211\u4eec\u5728\u7f16\u5199const\u51fd\u6570\u65f6\uff0c\u6700\u597d\u662f\u57fa\u4e8elogical constness\u7684\u539f\u5219\uff0c\u56e0\u4e3a\u8fd9\u66f4\u7b26\u5408\u4eba\u7c7b\u7684\u601d\u7ef4</p> <p>\u5f53\u540c\u4e00\u4e2a\u6210\u5458\u51fd\u6570\u8981\u540c\u65f6\u5b9a\u4e49const\u548c\u975econst\u4e24\u4e2a\u7248\u672c\u65f6\uff0c\u4e3a\u4e86\u907f\u514d\u4ee3\u7801\u91cd\u590d\uff0c\u6700\u597d\u8ba9\u975econst\u7248\u53bb\u8c03\u7528const\u7248\uff0c\u800c\u4e0d\u8981\u53cd\u8fc7\u6765\uff0c\u56e0\u4e3a\u90a3\u4f1a\u6253\u7834const\u51fd\u6570\u4e0d\u4fee\u6539\u4efb\u4f55\u4e1c\u897f\u7684\u627f\u8bfa\uff08\u800c\u4e14\u8fd8\u9700\u8981\u5f15\u5165\u7c7b\u4f3c<code>const_cast</code>\u8fd9\u6837\u7684\u7279\u6027\uff0c\u8fd9\u4e0d\u662f\u4e2a\u597d\u5146\u5934\uff09</p>","tags":["c/c++"]},{"location":"foundation/cpp/57.effective-cpp/#_1","title":"\u7b2c\u56db\u6761\uff1a\u6c38\u8fdc\u90fd\u8981\u521d\u59cb\u5316\u53d8\u91cf\u6216\u5bf9\u8c61","text":"<p>\u539f\u56e0\u5f88\u7b80\u5355\uff0c\u4f7f\u7528\u4e00\u4e2a\u672a\u521d\u59cb\u5316\u7684\u5bf9\u8c61\u5728c++\u4e2d\u662f\u672a\u5b9a\u4e49\u884c\u4e3a\uff08Undefined Behavior\uff09\uff0c\u4e00\u65e6\u89e6\u53d1\u8fd9\u79cd\u573a\u666f\uff0c\u7a0b\u5e8f\u5f88\u6709\u53ef\u80fd\u51fa\u9519\u3002</p> <p>\u95ee\u9898\u5728\u4e8e\uff0c\u54ea\u79cd\u573a\u666f\u6bd4\u8f83\u5bb9\u6613\u89e6\u53d1\u8fd9\u4e2a\u95ee\u9898\u5462\uff1f</p> <p>\u5728C++\u4e2d\uff0c\u5bf9\u8c61\u7684\u521d\u59cb\u5316\u987a\u5e8f\u662f\u6709\u4e25\u683c\u89c4\u5b9a\u7684\uff0c\u4f46\u6ca1\u6709\u89c4\u5b9a\u8de8\u7f16\u8bd1\u5355\u5143\u7684non local static\u5bf9\u8c61\u7684\u521d\u59cb\u5316\u6b21\u5e8f\uff0c\u8fd9\u5c31\u610f\u5473\u7740\uff0c\u5982\u679c\u4f60\u6709\u4e24\u4e2a\u8fd9\u6837\u7684\u5bf9\u8c61A\u548cB, A\u5728\u521d\u59cb\u5316\u65f6\u4f7f\u7528\u4e86B\uff0c\u4f46\u7531\u4e8eA\u548cB\u7684\u521d\u59cb\u5316\u6b21\u5e8f\u4e0d\u4e00\u5b9a\uff0c\u5f88\u6709\u80fd\u5728B\u672a\u521d\u59cb\u5316\u7684\u60c5\u51b5\u4e0b\u88abA\u5f15\u7528\u4e86\uff0c\u8fd9\u65f6\u7a0b\u5e8f\u5c31\u4f1a\u51fa\u9519\u3002</p> <p>\u8fd9\u91cc\u89e3\u91ca\u4e0b\u4ec0\u4e48\u53eb\u201c\u6ca1\u6709\u89c4\u5b9a\u8de8\u7f16\u8bd1\u5355\u5143\u7684non local static\u5bf9\u8c61\u201d\uff0c \u7f16\u8bd1\u5355\u5143\u662f\u6307\u4ea7\u51fa\u5355\u4e00\u76ee\u6807\u6587\u4ef6\uff08obj\u6587\u4ef6\uff09\u7684\u6e90\u7801\uff0c\u57fa\u672c\u4e0a\u5c31\u662f\u5355\u4e2a\u6e90\u7801\u6587\u4ef6\u52a0\u4e0a\u5176\u6240\u5305\u542b\u7684\u5934\u6587\u4ef6\uff0cnon local static\u5bf9\u8c61\u662f\u6307\u5b9a\u4e49\u5728\u51fd\u6570\u5916\u7684static\u5bf9\u8c61\uff0c\u5305\u62ec\u5168\u5c40\u5bf9\u8c61\uff0c\u7c7b\u7684static\u6210\u5458\uff0c\u6587\u4ef6\u5185\u7684static\u5bf9\u8c61\u7b49\u3002</p> <p>\u7ed3\u8bba\u662f\uff0c\u5c3d\u91cf\u4f7f\u7528local static\u5bf9\u8c61\uff08\u5373\u5b9a\u4e49\u5728\u51fd\u6570\u5185\u90e8\u7684static\u5bf9\u8c61\uff09\uff0c\u56e0\u4e3alocal static\u5bf9\u8c61\u5b9a\u4e49\u5728\u51fd\u6570\u5185\u90e8\uff0c\u5f53\u51fd\u6570\u7b2c\u4e00\u6b21\u88ab\u8c03\u7528\u7684\u65f6\u5019\u624d\u4f1a\u89e6\u53d1\u5bf9\u8c61\u7684\u521d\u59cb\u5316\uff0c\u8fd9\u4e5f\u662fC++\u7ecf\u5178\u7684\u5355\u4f8b\u6a21\u5f0f\u5199\u6cd5\uff08\u5728C++11\u4e2d\uff0c\u591a\u7ebf\u7a0b\u521d\u59cb\u5316local static\u5bf9\u8c61\u662f\u7ebf\u7a0b\u5b89\u5168\u7684\uff09</p>","tags":["c/c++"]},{"location":"foundation/cpp/57.effective-cpp/#_2","title":"\u7b2c\u4e03\u6761\uff1a\u865a\u6790\u6784\u51fd\u6570","text":"<p>\u4e0d\u8981\u53bb\u7ee7\u627f\u4e00\u4e2a\u6ca1\u6709\u591a\u6001\u6027\u8d28\u7684\u57fa\u7c7b\uff0c\u6bd4\u5982\u4e00\u4e2a\u7c7b\uff0c\u5b83\u6ca1\u6709\u5b9a\u4e49\u865a\u6790\u6784\u51fd\u6570\uff0c\u8fd9\u8bf4\u660e\u7f16\u5199\u8005\u6ca1\u6709\u60f3\u628a\u8fd9\u4e2a\u7c7b\u4f5c\u4e3a\u591a\u6001\u57fa\u7c7b\uff0c\u5982\u679c\u6211\u4eec\u53bb\u7ee7\u627f\u4e86\u8fd9\u4e2a\u7c7b\uff0c\u6709\u5b58\u5728\u5f88\u5927\u7684\u5185\u5b58\u6cc4\u9732\u98ce\u9669\u3002</p> <p>\u6bd4\u5982\uff0c\u7c7bA\u662f\u57fa\u7c7b\uff0c\u6ca1\u6709\u5b9a\u4e49\u865a\u6790\u6784\u51fd\u6570\uff0c\u7c7bB\u7ee7\u627f\u81ea\u7c7bA\uff0c\u5982\u679c\u5b9a\u4e49\u4e86\u4e00\u4e2a\u6307\u5411B\u7684\u6307\u9488pb\uff0c\u7136\u540e\u4e0d\u5c0f\u5fc3\u628a\u5b83\u8f6c\u6362\u4e3a\u6307\u5411A\u7684\u6307\u9488pa\uff0c\u5f53\u6211\u4eec\u8bd5\u56fedelete pa\u65f6\uff0c\u4f1a\u53d1\u751f\u5185\u5b58\u6cc4\u9732\uff0c\u56e0\u4e3aA\u6ca1\u6709\u865a\u6790\u6784\u51fd\u6570</p> <p>\u62bd\u8c61\u7c7b\u7684\u7eaf\u865a\u6790\u6784\u51fd\u6570\u8981\u7ed9\u4e00\u4e2a\u5b9a\u4e49\uff0c\u4e0d\u7136\u6d3e\u751f\u7c7b\u8c03\u4e0d\u5230\u4f1a\u5f15\u53d1\u94fe\u63a5\u9519\u8bef\u3002</p> <p>\u7ed3\u8bba\uff1a\u57fa\u7c7b\u6ca1\u6709\u5b9a\u4e49\u865a\u6790\u6784\u51fd\u6570\u7684\u65f6\u5019\uff0c\u4ece\u57fa\u7c7b\u6307\u9488\u6790\u6784\u6d3e\u751f\u7c7b\uff0c\u53ea\u4f1a\u8c03\u7528\u57fa\u7c7b\u7684\u6790\u6784\u51fd\u6570\uff0c\u4e0d\u4f1a\u53bb\u8c03\u7528\u6d3e\u751f\u7c7b\u7684\u6790\u6784\u51fd\u6570</p>","tags":["c/c++"]},{"location":"foundation/cpp/57.effective-cpp/#_3","title":"\u7b2c\u4e5d\u6761\uff1a\u4e0d\u8981\u5728\u6784\u9020\u548c\u6790\u6784\u51fd\u6570\u4e2d\u8c03\u7528\u865a\u51fd\u6570","text":"<p>\u5f53\u7c7b\u4e4b\u95f4\u5b58\u5728\u591a\u6001\u7684\u7ee7\u627f\u5173\u7cfb\u65f6\uff0c\u5982\u679c\u57fa\u7c7b\u5728\u6784\u9020\u548c\u6790\u6784\u65f6\u8c03\u7528\u865a\u51fd\u6570\uff0c\u6b64\u65f6\u4f1a\u8c03\u7528\u57fa\u7c7b\u81ea\u8eab\u7684\u865a\u51fd\u6570\uff0c\u5373\uff0c\u5f53\u6d3e\u751f\u7c7b\u6784\u9020\u65f6\uff0c\u57fa\u7c7b\u6784\u9020\u548c\u6790\u6784\u51fd\u6570\u8c03\u7528\u7684\u662f\u57fa\u7c7b\u7684\u865a\u51fd\u6570\uff0c\u800c\u4e0d\u662f\u6d3e\u751f\u7c7b\u7684\u865a\u51fd\u6570\u3002</p> <p>\u539f\u56e0\u4e5f\u5f88\u597d\u7406\u89e3\uff0c\u6784\u9020\u65f6\uff0c\u57fa\u7c7b\u6210\u5458\u5148\u4e8e\u6d3e\u751f\u7c7b\u6210\u5458\u6784\u9020\uff0c\u5982\u679c\u57fa\u7c7b\u53bb\u8c03\u7528\u6d3e\u751f\u7c7b\u7684\u865a\u51fd\u6570\uff0c\u90a3\u5c31\u6709\u53ef\u80fd\u51fa\u95ee\u9898\uff0c\u53cd\u8fc7\u6765\uff0c\u6790\u6784\u65f6\u4e5f\u662f\u540c\u6837\u7684\u9053\u7406\u3002</p>","tags":["c/c++"]},{"location":"foundation/cpp/57.effective-cpp/#operator","title":"\u7b2c\u4e5d\u3001\u5341\u6761\uff1a\u62f7\u8d1d\u8d4b\u503coperator=\u7684\u6b63\u786e\u5199\u6cd5","text":"<p>\u5199\u6cd5\u4e00\uff1a</p> <pre><code>class Widget\n{\n...\nprivate:\n    Bitmap* pb;\n}\n\n//1. \u8fd4\u56deWidget\u5f15\u7528\u662f\u6807\u51c6\u5199\u6cd5\uff0c\u65b9\u4fbf\u94fe\u5f0f\u8c03\u7528\nWidget &amp; Widget::operator=(const Widget&amp; rhs)\n{\n    //2. \u81ea\u8d4b\u503c\u5224\u65ad\n    if(this == &amp;rhs)\n    {\n        return *this;\n    }\n\n    //3. \u5148\u628a\u539f\u6765\u7684\u5185\u5b58\u4fdd\u5b58\u4e0b\u8f7d\uff0c\u7b49\u65b0\u5185\u5b58\u5206\u914d\u6210\u529f\u4e86\uff0c\u518d\u91ca\u653e\u539f\u6765\u7684\u5185\u5b58\n    // \u5982\u679c\u5148\u91ca\u653e\u539f\u6765\u7684\u5185\u5b58\uff0c\u4e00\u65e6\u65b0\u5185\u5b58\u5206\u914d\u5931\u8d25\uff0c\u539f\u6765\u7684\u5bf9\u8c61\u4e5f\u6ca1\u6709\u4e86\n    // \u8fd9\u6837\u53ef\u4ee5\u4fdd\u62a4\u539f\u5bf9\u8c61\uff0c\u5e76\u4e14\u5929\u7136\u5177\u6709\u81ea\u8d4b\u503c\u5224\u65ad\u7684\u529f\u80fd\n    Bitmap* pOrig = pb;\n    pb = new Bitmap(*rhs.pb);\n    delete pOrig;\n    return *this;\n}\n</code></pre> <p>\u4e3a\u4ec0\u4e48\u8981\u505a\u81ea\u8d4b\u503c\u5224\u65ad\uff0c\u4e00\u662f\u56e0\u4e3a\u8d4b\u503c\u64cd\u4f5c\u53ef\u80fd\u8981\u628a\u539f\u6765\u7684\u5185\u5b58\u91ca\u653e\u6389\uff0c\u91cd\u65b0\u7533\u8bf7\u5185\u5b58\u540e\u518d\u8d4b\u503c\uff0c\u5982\u679c\u5148\u53bb\u91ca\u653e\u5185\u5b58\uff0c\u81ea\u8d4b\u503c\u65f6\u5c31\u4f1a\u5c06\u81ea\u8eab\u7834\u574f\u6389\uff0c\u4e3a\u4e86\u9632\u6b62\u8fd9\u79cd\u60c5\u51b5\uff0c\u9700\u8981\u8fdb\u884c\u81ea\u8d4b\u503c\u5224\u65ad\uff0c\u4e8c\u662f\u51fa\u4e8e\u6267\u884c\u6548\u7387\u8003\u8651\uff0c\u4e5f\u5e94\u8be5\u8fdb\u884c\u81ea\u8d4b\u503c\u5224\u65ad</p> <p>\u5199\u6cd5\u4e8c\uff1a</p> <pre><code>class Widget\n{\n...\nprivate:\n    Bitmap* pb;\n}\n\nWidget &amp; Widget::operator=(const Widget&amp; rhs)\n{\n    Widget temp(rhs);\n    swap(temp);\n    return *this;\n}\n</code></pre> <p>\u8fd9\u79cd\u5199\u6cd5\u548c\u4e0a\u9762\u7684\u6548\u679c\u662f\u4e00\u6837\u7684\uff0c\u90fd\u4f1a\u4ea7\u751f\u4e00\u6b21\u5bf9\u8c61\u6784\u9020\uff0c\u800c\u4e14\u5177\u5907\u81ea\u8d4b\u503c\u68c0\u67e5\u529f\u80fd</p>","tags":["c/c++"]},{"location":"foundation/cpp/57.effective-cpp/#raii","title":"\u7b2c\u5341\u4e09\u6761\uff1aRAII","text":"<p>RAII(Resource Acquisition Is Initialization)</p> <ol> <li>\u83b7\u53d6\u5230\u8d44\u6e90\u540e\u7acb\u5373\u653e\u5165\u5bf9\u8c61\u7ba1\u7406</li> <li>\u9760\u5bf9\u8c61\u6790\u6784\u91ca\u653e\u8d44\u6e90</li> </ol> <p>\u5e38\u89c1\u7684\u6807\u51c6\u5e93RAII\u7c7b\uff1a<code>std::shared_ptr</code>\uff0c<code>std::lock_guard</code></p>","tags":["c/c++"]},{"location":"foundation/cpp/57.effective-cpp/#const-t-t","title":"\u7b2c\u4e8c\u5341\u6761\uff1a\u53c2\u6570\u7c7b\u578b\u5c3d\u91cf\u7528const T&amp; \u4ee3\u66ff T","text":"<p>\u8fd9\u4e48\u505a\u6709\u4ee5\u4e0b\u597d\u5904\uff1a</p> <ol> <li>\u4f20\u5f15\u7528\u6bd4\u4f20\u503c\u9ad8\u6548\uff0c\u53ef\u4ee5\u907f\u514d\u4e0d\u5fc5\u8981\u7684\u5bf9\u8c61\u62f7\u8d1d</li> <li>\u652f\u6301\u591a\u6001</li> <li>\u8bed\u4e49\u6bd4\u8f83\u660e\u786e\uff0c\u8c03\u7528\u8005\u4f1a\u660e\u767d\u8fd9\u662f\u4e2a\u4e0d\u53ef\u4fee\u6539\u7684\u5165\u53c2</li> </ol>","tags":["c/c++"]},{"location":"foundation/cpp/57.effective-cpp/#swap","title":"\u7b2c\u4e8c\u5341\u4e94\u6761\uff1a\u5b9a\u4e49\u4e00\u4e2aswap\u51fd\u6570","text":"<p>\u4e66\u91cc\u7f57\u5217\u4e86\u597d\u51e0\u6761\u590d\u6742\u7684\u539f\u5219\uff0c\u7565\u8fc7</p>","tags":["c/c++"]},{"location":"foundation/cpp/57.effective-cpp/#_4","title":"\u7b2c\u4e8c\u5341\u4e03\u6761\uff1a\u5c3d\u91cf\u5c11\u505a\u7c7b\u578b\u8f6c\u6362","text":"<p>\u7c7b\u578b\u8f6c\u6362\u6bd4\u8f83\u5371\u9669\uff0c\u5bb9\u6613\u5f15\u8d77\u9519\u8bef</p> <p>\u73b0\u4ee3C++\u4e2d\u7684\u56db\u79cd\u7c7b\u578b\u8f6c\u6362\uff1a</p> <ol> <li><code>const_cast&lt;T&gt; (expression)</code>\uff1a\u505aconst\u6d88\u9664</li> <li><code>dynamic_cast&lt;T&gt;(expression)</code>\uff1a\u4ece\u57fa\u7c7b\u6307\u9488\u6216\u5f15\u7528\u8f6c\u4e3a\u6d3e\u751f\u7c7b\u6307\u9488\u6216\u5f15\u7528</li> <li><code>reinterpret_cast&lt;T&gt;(expression)</code>\uff1a\u5f3a\u884c\u8f6c\u6362</li> <li><code>static_cast&lt;T&gt;(expression)</code>\uff1a\u5f3a\u8feb\u9690\u5f0f\u7c7b\u578b\u8f6c\u6362\uff0c\u5927\u90e8\u5206\u8001\u5f0f\u7c7b\u578b\u8f6c\u6362\u90fd\u53ef\u4ee5\u7528<code>static_cast</code>\u4ee3\u66ff</li> </ol> <p>\u73b0\u4ee3c++\u628a\u8001\u5f0f\u7684\u5f3a\u5236\u7c7b\u578b\u8f6c\u6362\u62c6\u6210\u4e86\u4e24\u4e2a\uff0c<code>static_cast</code>\u548c<code>reinterpret_cast</code>\uff0c<code>static_cast</code>\u4f1a\u5728\u7f16\u8bd1\u5668\u68c0\u67e5\u8f6c\u6362\u7684\u5408\u6cd5\u6027\uff0c\u800c<code>reinterpret_cast</code>\u4e0d\u4f1a\u53bb\u68c0\u67e5\uff0c\u5c31\u662f\u5f3a\u8f6c\u3002</p>","tags":["c/c++"]},{"location":"foundation/cpp/57.effective-cpp/#_5","title":"\u7b2c\u4e8c\u5341\u4e5d\u6761\uff1a\u5f02\u5e38\u5b89\u5168\u7684\u4ee3\u7801","text":"<p>\u8fd9\u4e00\u6761\u8bb2\u7684\u662f\u4e00\u4e2a\u4ee3\u7801\u8bbe\u8ba1\u95ee\u9898\uff0c\u5e76\u4e0d\u662f\u8bed\u6cd5\u95ee\u9898</p> <p>\u5f02\u5e38\u5b89\u5168\u7684\u4ee3\u7801\uff0c\u8981\u80fd\u505a\u5230\u4ee5\u4e0b\u51e0\u70b9\u4e4b\u4e00\uff1a</p> <ol> <li>\u5982\u679c\u5f02\u5e38\u88ab\u629b\u51fa\uff0c\u7a0b\u5e8f\u5185\u7684\u4efb\u4f55\u4e8b\u7269\u4ecd\u80fd\u4fdd\u6301\u6709\u6548\u72b6\u6001</li> <li>\u5982\u679c\u5f02\u5e38\u88ab\u629b\u51fa\uff0c\u7a0b\u5e8f\u72b6\u6001\u4e0d\u53d8\uff0c\u4ecd\u80fd\u6062\u590d\u5230\u539f\u6709\u72b6\u6001\uff0c\u5373\uff0c\u8981\u4e48\u5b8c\u5168\u6210\u529f\uff0c\u8981\u4e48\u5931\u8d25\u56de\u6eda</li> <li>\u7edd\u4e0d\u629b\u51fa\u5f02\u5e38</li> </ol> <p>copy and swap\uff1a\u4fee\u6539\u5bf9\u8c61\u5185\u6570\u636e\u65f6\uff0c\u5148\u4fee\u6539\u5b83\u7684\u526f\u672c\uff0c\u8fd9\u6837\u5373\u4f7f\u5f02\u5e38\u53d1\u751f\uff0c\u4e5f\u4e0d\u4f1a\u5f71\u54cd\u539f\u59cb\u6570\u636e </p>","tags":["c/c++"]},{"location":"foundation/cpp/57.effective-cpp/#is-a","title":"\u7b2c\u4e09\u5341\u4e8c\u6761\uff1a\u7ee7\u627f\u662f\u4e00\u79cd\u201cis-a\u201d\u5173\u7cfb","text":"<p>\u53e6\u5916\u4e24\u79cd\u5173\u7cfb\u662f\u201chas-a\u201d \u548c \u201cis-implemented-in-terms-of\u201d</p>","tags":["c/c++"]},{"location":"foundation/cpp/57.effective-cpp/#_6","title":"\u7b2c\u4e09\u5341\u4e09\u6761\uff1a\u4e0d\u8981\u906e\u63a9\u7ee7\u627f\u6765\u7684\u540d\u5b57","text":"<p>\u6d3e\u751f\u7c7b\u4e2d\u7684\u540d\u5b57\u4f1a\u628a\u57fa\u7c7b\u4e2d\u76f8\u540c\u7684\u540d\u5b57\u8986\u76d6\u6389\uff0c\u6709\u70b9\u7c7b\u4f3c\u4e8e\u5c40\u90e8\u4f5c\u7528\u57df\u628a\u5168\u5c40\u4f5c\u7528\u57df\u7684\u540d\u5b57\u8986\u76d6\u6389</p> <p>\u6709\u95ee\u9898\u7684\u5199\u6cd5\uff1a</p> <pre><code>class Base\n{\npublic:\n    virtual void mf1() = 0;\n    virtual void mf1(int) {}\n    virtual void mf2() {}\n    void mf3() {}\n    void mf3(double) {}\n\nprivate:\n    int x = 0;\n};\n\nclass Derived:public Base\n{\npublic:\n    virtual void mf1() {}\n    void mf3() {}\n    void mf4() {}\nprivate:\n};\n\nint main()\n{\n    Derived d;\n    d.mf1();    //\u8c03\u7528 Derived::mf1\n    d.mf1(2);   //\u9519\u8bef\uff1a\u7f16\u8bd1\u5668\u63d0\u793a\u627e\u4e0d\u5230\u8fd9\u4e2a\u51fd\u6570\n    d.mf2();    //\u8c03\u7528 Base::mf2\n    d.mf3();    //\u8c03\u7528 Derived::mf3\n    d.mf3(2);   //\u9519\u8bef\uff1a\u7f16\u8bd1\u5668\u63d0\u793a\u627e\u4e0d\u5230\u8fd9\u4e2a\u51fd\u6570\n    return 0;\n}\n</code></pre> <p>\u6b63\u786e\u5199\u6cd5\uff1a</p> <pre><code>class Base\n{\npublic:\n    virtual void mf1() = 0;\n    virtual void mf1(int) {}\n    virtual void mf2() {}\n    void mf3() {}\n    void mf3(double) {}\n\nprivate:\n    int x = 0;\n};\n\nclass Derived:public Base\n{\npublic:\n    using Base::mf1;    //\u4f7f\u57fa\u7c7b\u7684\u6240\u6709mf1\u53ef\u89c1\n    using Base::mf3;    //\u4f7f\u57fa\u7c7b\u7684\u6240\u6709mf3\u53ef\u89c1\n\n    virtual void mf1() {}\n    void mf3() {}\n    void mf4() {}\nprivate:\n};\n\nint main()\n{\n    Derived d;\n    d.mf1();\n    d.mf1(2);\n    d.mf2();\n    d.mf3();\n    d.mf3(2);\n    return 0;\n}\n</code></pre> <p>\u6216\u8005</p> <pre><code>//...\nclass Derived:public Base\n{\npublic:\n    //...\n    virtual void mf1() {\n        Base::mf1();    //\u663e\u793a\u8c03\u7528\u57fa\u7c7b\u51fd\u6570\n    }\n};\n</code></pre>","tags":["c/c++"]},{"location":"foundation/cpp/57.effective-cpp/#_7","title":"\u7b2c\u4e09\u5341\u56db\u6761\uff1a\u63a5\u53e3\u7ee7\u627f\u548c\u5b9e\u73b0\u7ee7\u627f","text":"<p>pure-virtual\u51fd\u6570\u5c5e\u4e8e\u63a5\u53e3\u7ee7\u627f</p> <p>impure-virtaul\u51fd\u6570\u5c5e\u4e8e\u662f\u63d0\u4f9b\u4e86\u9ed8\u8ba4\u5b9e\u73b0\u7684\u63a5\u53e3\u7ee7\u627f</p> <p>non-virtual\u51fd\u6570\u5c5e\u4e8e\u5b9e\u73b0\u7ee7\u627f</p>","tags":["c/c++"]},{"location":"foundation/cpp/57.effective-cpp/#overridenon-virtual","title":"\u7b2c\u4e09\u5341\u516d\u6761\uff1a\u4e0d\u8981override\u57fa\u7c7b\u7684non-virtual\u51fd\u6570","text":"<p>\u8fd9\u4f1a\u8ba9\u4eba\u56f0\u60d1\uff0c\u65e2\u7136\u4f60\u8981override\uff0c\u4e3a\u4ec0\u4e48\u4e0d\u628a\u8fd9\u4e2a\u51fd\u6570\u5b9a\u4e49\u4e3avirtual\u51fd\u6570</p> <p>\u5f53\u7136\u8fd9\u4e48\u505a\u5728\u8bed\u6cd5\u4e0a\u662f\u884c\u5f97\u901a\u7684</p>","tags":["c/c++"]},{"location":"foundation/cpp/57.effective-cpp/#_8","title":"\u7b2c\u4e09\u5341\u4e03\u6761\uff1a\u865a\u51fd\u6570\u662f\u52a8\u6001\u7ed1\u5b9a\u7684\uff0c\u800c\u865a\u51fd\u6570\u7684\u9ed8\u8ba4\u53c2\u6570\u5374\u4e0d\u662f","text":"<p>\u4e5f\u5c31\u662f\u8bf4\uff0c\u5982\u679c\u57fa\u7c7b\u7684\u865a\u51fd\u6570\u58f0\u660e\u4e86\u9ed8\u8ba4\u53c2\u6570\uff0c\u5373\u4f7f\u5b50\u7c7b\u7684\u865a\u51fd\u6570\u58f0\u660e\u4e86\u4e0d\u540c\u7684\u9ed8\u8ba4\u53c2\u6570\uff0c\u4ece\u57fa\u7c7b\u7684\u6307\u9488\u8c03\u7528\u865a\u51fd\u6570\u65f6\uff0c\u4f7f\u7528\u7684\u8fd8\u662f\u57fa\u7c7b\u58f0\u660e\u7684\u9ed8\u8ba4\u53c2\u6570</p>","tags":["c/c++"]},{"location":"foundation/cpp/57.effective-cpp/#compositionhas-a","title":"\u7b2c\u4e09\u5341\u516b\u6761\uff1a\u7ec4\u5408\uff08composition\uff09\u662f\u4e00\u79cd\u201chas-a\u201d\u5173\u7cfb","text":"<p>\u53c2\u8003\u7b2c\u4e09\u5341\u4e8c\u6761</p>","tags":["c/c++"]},{"location":"foundation/cpp/57.effective-cpp/#_9","title":"\u7b2c\u56db\u5341\u6761\uff1a\u591a\u91cd\u7ee7\u627f\u7684\u95ee\u9898","text":"<p>\u5c3d\u91cf\u4e0d\u8981\u4f7f\u7528\u591a\u91cd\u7ee7\u627f</p> <p>\u4f7f\u7528\u591a\u91cd\u7ee7\u627f\u65f6\uff0c\u4f60\u7684\u7c7b\u7ee7\u627f\u5173\u7cfb\u53ef\u80fd\u4f1a\u5f62\u6210\u4e00\u4e2a\u83f1\u5f62\u7ed3\u6784\uff0c\u4f8b\u5982\uff0c\u7c7bB,C\u90fd\u7ee7\u627f\u4e86\u7c7bA\uff0c\u7c7bD\u591a\u91cd\u7ee7\u627f\u81ea\u7c7bB,C\uff0c\u8fd9\u4f1a\u5bfc\u81f4\u4e24\u4e2a\u95ee\u9898\uff1a</p> <ol> <li>\u4ece\u7c7bD\u8c03\u7528\u7c7bA\u4e2d\u7684\u51fd\u6570\u65f6\u4f1a\u4ea7\u751f\u6b67\u4e49\uff0c\u7f16\u8bd1\u5668\u4e0d\u77e5\u9053\u8be5\u8c03\u7528\u4ece\u54ea\u4e2a\u5206\u652f\u7ee7\u627f\u8fc7\u6765\u7684\u51fd\u6570\uff0c\u89e3\u51b3\u529e\u6cd5\u662f\u660e\u786e\u6307\u5b9a\u51fd\u6570\u7684\u7c7b\u540d</li> <li>\u7c7bA\u7684\u5b9e\u4f8b\u4f1a\u5b58\u5728\u4e24\u4efd\uff0c\u89e3\u51b3\u529e\u6cd5\u662f\u4f7f\u7528\u865a\u7ee7\u627f\uff0c\u800c\u865a\u7ee7\u627f\u7684\u6027\u80fd\u8f83\u5dee\uff0c\u5e76\u4e14\u865a\u57fa\u7c7b\u7684\u521d\u59cb\u5316\u89c4\u5219\u4e5f\u5f88\u590d\u6742</li> </ol> <p>\u6240\u4ee5\u5c3d\u91cf\u4e0d\u8981\u4f7f\u7528\u591a\u91cd\u7ee7\u627f</p>","tags":["c/c++"]},{"location":"foundation/cpp/57.effective-cpp/#new-handler","title":"\u7b2c\u56db\u5341\u4e5d\u6761\uff1anew-handler","text":"<p>\u6b63\u5e38\u60c5\u51b5\u4e0b\uff0cC++\u4e2d\u7684new\u64cd\u4f5c\u5931\u8d25\u65f6\u4f1a\u629b\u51fabad_alloc\u5f02\u5e38</p> <p>\u800cnew-handler\u662fnew\u64cd\u4f5c\u5931\u8d25\u65f6\u7684\u5904\u7406\u51fd\u6570\uff0c\u7528\u6237\u53ef\u4ee5\u8c03\u7528<code>std::set_new_handler</code>\u5c06\u4e00\u4e2a\u51fd\u6570\u6307\u5b9a\u4e3anew-handler\uff0c\u5728new\u64cd\u4f5c\u5931\u8d25\u629b\u51fa\u5f02\u5e38\u4e4b\u524d\uff0c\u5b83\u4f1a\u5148\u8c03\u7528new-handle\uff0c\u7528\u6237\u53ef\u4ee5\u5728\u8fd9\u4e2a\u51fd\u6570\u91cc\u4e3a\u5185\u5b58\u5206\u914d\u5931\u8d25\u201c\u5584\u540e\u201d\u3002</p> <p>\u53ef\u4ee5\u7ed9\u7c7b\u5b9a\u4e49\u4e00\u4e2astatic\u7684new-handler\u6210\u5458\uff0c\u4f5c\u4e3a\u4e13\u5c5e\u7c7b\u7684new-handler\uff0c\u5982\u679c\u5c06\u8be5\u7c7b\u4f5c\u4e3a\u57fa\u7c7b\uff0c\u8ba9\u6d3e\u751f\u7c7b\u4e5f\u90fd\u80fd\u7ee7\u627fnew-handler\uff0c\u8fd9\u4f1a\u4ea7\u751f\u4e00\u4e2a\u95ee\u9898\uff0c\u4e0d\u540c\u7684\u6d3e\u751f\u7c7b\u4f1a\u5171\u4eab\u540c\u4e00\u4e2astatic\u6210\u5458\uff0c\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u6587\u4e2d\u7528\u4e86\u4e00\u4e2a\u6280\u5de7\uff0c\u5373\u5c06\u8fd9\u4e2a\u57fa\u7c7b\u6a21\u677f\u5316\uff0c\u5373\u53ef\u89e3\u51b3\u95ee\u9898</p>","tags":["c/c++"]},{"location":"foundation/cpp/62.effective-modern-cpp/","title":"\u300aEffective Modern C++\u300b\u9605\u8bfb\u7b14\u8bb0","text":"","tags":["c/c++"]},{"location":"foundation/cpp/62.effective-modern-cpp/#1","title":"\u6761\u6b3e1\uff1a\u6a21\u677f\u7c7b\u578b\u63a8\u5bfc","text":"<p>c++\u6a21\u677f\u7c7b\u578b\u63a8\u5bfc\u7ecf\u5e38\u7528\u5728\u6a21\u677f\u51fd\u6570\u7c7b\u578b\u63a8\u5bfc\uff0c\u548cauto\u7c7b\u578b\u63a8\u5bfc</p> <p>\u51fd\u6570\u6a21\u677f\u4e00\u822c\u662f\u4ee5\u4e0b\u5f62\u5f0f</p> <pre><code>template&lt;typename T&gt; \nvoid f(ParamType param); \n</code></pre> <p>ParamType\u548cT\u7684\u533a\u522b\u662fParamType\u4f1a\u5305\u542b\u4e00\u4e9b\u9970\u8bcd\uff0c\u4f8b\u5982const\uff0c\u5f15\u7528\u7b26&amp;\u7b49</p> <p>T\u7684\u63a8\u5bfc\u7ed3\u679c\u8981\u5206\u4e09\u79cd\u60c5\u51b5\u8ba8\u8bba\uff1a</p>","tags":["c/c++"]},{"location":"foundation/cpp/62.effective-modern-cpp/#1paramtype","title":"1.ParamType\u662f\u6307\u9488\u6216\u5f15\u7528\uff0c\u4f46\u4e0d\u662f\u4e07\u80fd\u5f15\u7528","text":"<p>\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0cT\u4e2d\u53ea\u4f1a\u5305\u542bParamType\u4e2d\u6ca1\u6709\u7684\u9970\u8bcd\uff0cParamType\u4e2d\u5df2\u7ecf\u6709\u7684\u9970\u8bcd\u4f1a\u88ab\u5ffd\u7565\uff0c\u4f8b\u5982</p> <pre><code>template&lt;typename T&gt;\nvoid f(const T&amp; param);         //param\u73b0\u5728\u662freference-to-const\n\nint x=27;                       //x\u662fint\nconst int cx=x;                 //cx\u662fconst int\nconst int&amp; rx=x;                //rx\u662f\u6307\u5411\u4f5c\u4e3aconst int\u7684x\u7684\u5f15\u7528\n\nf(x);                           //T\u662fint\uff0cparam\u7684\u7c7b\u578b\u662fconst int&amp;\nf(cx);                          //T\u662fint\uff0cparam\u7684\u7c7b\u578b\u662fconst int&amp;\nf(rx);                          //T\u662fint\uff0cparam\u7684\u7c7b\u578b\u662fconst int&amp;\n</code></pre>","tags":["c/c++"]},{"location":"foundation/cpp/62.effective-modern-cpp/#2paramtype","title":"2.ParamType\u662f\u4e07\u80fd\u5f15\u7528","text":"<p>\u4ec0\u4e48\u662f\u4e07\u80fd\u5f15\u7528\uff1f\u53f3\u503c\u5f15\u7528\u5f62\u53c2+\u6a21\u677f\u7c7b\u578b\u63a8\u5bfc\u5c31\u662f\u4e07\u80fd\u5f15\u7528\uff08\u4e0d\u5728\u6a21\u677f\u4e2d\u4f7f\u7528\u53f3\u503c\u5f15\u7528\u5c31\u4e0d\u80fd\u53eb\u4e07\u80fd\u5f15\u7528\uff09\uff0c\u4f8b\u5982\uff1a</p> <pre><code>template&lt;typename T&gt; \nvoid f(T &amp;&amp; param);\n</code></pre> <p>\u6b64\u65f6\u6a21\u677f\u7c7b\u578b\u63a8\u5bfc\u7684\u89c4\u5219\u5982\u4e0b\u6240\u793a</p> <pre><code>template&lt;typename T&gt;\nvoid f(T&amp;&amp; param);              //param\u73b0\u5728\u662f\u4e00\u4e2a\u4e07\u80fd\u5f15\u7528\u7c7b\u578b\n\nint x=27;                       //\u5982\u4e4b\u524d\u4e00\u6837\nconst int cx=x;                 //\u5982\u4e4b\u524d\u4e00\u6837\nconst int &amp; rx=cx;              //\u5982\u4e4b\u524d\u4e00\u6837\n\nf(x);                           //x\u662f\u5de6\u503c\uff0c\u6240\u4ee5T\u662fint&amp;\uff0c\n                                //param\u7c7b\u578b\u4e5f\u662fint&amp;\n\nf(cx);                          //cx\u662f\u5de6\u503c\uff0c\u6240\u4ee5T\u662fconst int&amp;\uff0c\n                                //param\u7c7b\u578b\u4e5f\u662fconst int&amp;\n\nf(rx);                          //rx\u662f\u5de6\u503c\uff0c\u6240\u4ee5T\u662fconst int&amp;\uff0c\n                                //param\u7c7b\u578b\u4e5f\u662fconst int&amp;\n\nf(27);                          //27\u662f\u53f3\u503c\uff0c\u6240\u4ee5T\u662fint\uff0c\n                                //param\u7c7b\u578b\u5c31\u662fint&amp;&amp;\n</code></pre> <p>\u8fd9\u4e5f\u662f\u4e3a\u4ec0\u4e48\u8fd9\u79cd\u5f62\u5f0f\u7684\u58f0\u660e\u53eb\u505a\u4e07\u80fd\u5f15\u7528\uff0c\u5f53\u51fd\u6570\u5165\u53c2\u662f\u53f3\u503c\u65f6\uff0cparam\u7684\u7c7b\u578b\u662f\u53f3\u503c\u5f15\u7528\uff0c\u5f53\u51fd\u6570\u5165\u53c2\u662f\u5de6\u503c\u65f6\uff0cparam\u7684\u7c7b\u578b\u5c31\u662f\u5de6\u503c\u5f15\u7528</p>","tags":["c/c++"]},{"location":"foundation/cpp/62.effective-modern-cpp/#3paramtype","title":"3.ParamType\u65e2\u975e\u5f15\u7528\u4e5f\u975e\u6307\u9488","text":"<p>\u8fd9\u79cd\u60c5\u51b5\u4e5f\u5c31\u662f\u6309\u503c\u4f20\u9012\u53c2\u6570\uff0c\u7c7b\u578b\u63a8\u5bfc\u65f6\u4f1a\u5ffd\u7565\u4f20\u5165\u53c2\u6570\u7684\u5f15\u7528\u7b26\u53f7&amp;\u3001const\u548cvolatile\uff0c\u5982\u679c\u4f20\u5165\u53c2\u6570\u662f\u4e2a\u6307\u9488\uff0c\u4f1a\u5ffd\u7565\u9876\u5c42const\uff0c\u4f46\u4e0d\u4f1a\u5ffd\u7565\u5e95\u5c42const</p> <pre><code>template&lt;typename T&gt;\nvoid f(T param);                //\u4ee5\u4f20\u503c\u7684\u65b9\u5f0f\u5904\u7406param\n\nint x=27;                       //\u5982\u4e4b\u524d\u4e00\u6837\nconst int cx=x;                 //\u5982\u4e4b\u524d\u4e00\u6837\nconst int &amp; rx=cx;              //\u5982\u4e4b\u524d\u4e00\u6837\n\nf(x);                           //T\u548cparam\u7684\u7c7b\u578b\u90fd\u662fint\nf(cx);                          //T\u548cparam\u7684\u7c7b\u578b\u90fd\u662fint\nf(rx);                          //T\u548cparam\u7684\u7c7b\u578b\u90fd\u662fint\n</code></pre> <p>\u4e3a\u4ec0\u4e48\u8981\u5ffd\u7565const\uff0c\u56e0\u4e3ac++\u8ba4\u4e3a\uff0c\u65e2\u7136\u662f\u6309\u503c\u4f20\u9012\uff0c\u4f20\u5165\u53c2\u6570\u4e0d\u80fd\u4fee\u6539\u4e0d\u610f\u5473\u7740\u526f\u672c\u4e0d\u80fd\u4fee\u6539</p>","tags":["c/c++"]},{"location":"foundation/cpp/62.effective-modern-cpp/#_1","title":"\u6570\u7ec4\u548c\u51fd\u6570\u5b9e\u53c2\u63a8\u5bfc","text":"<p>\u7b80\u5355\u6765\u8bf4\uff0cParamType\u4e2d\u7684\u7c7b\u578b\u9970\u8bcd\u975e\u5f15\u7528\u65f6\uff0c\u6570\u7ec4\u548c\u51fd\u6570\u7c7b\u578b\u90fd\u4f1a\u9000\u5316\u4e3a\u6307\u9488</p>","tags":["c/c++"]},{"location":"foundation/cpp/62.effective-modern-cpp/#_2","title":"\u6570\u7ec4\u5b9e\u53c2\u63a8\u5bfc","text":"<pre><code>const char name[] = \"J. P. Briggs\";     //name\u7684\u7c7b\u578b\u662fconst char[13]\n\ntemplate&lt;typename T&gt;\nvoid f(T param);                        //\u4f20\u503c\u5f62\u53c2\u7684\u6a21\u677f\n\nf(name);                                //T\u88ab\u63a8\u5bfc\u4e3aconst char*\n</code></pre> <pre><code>const char name[] = \"J. P. Briggs\";     //name\u7684\u7c7b\u578b\u662fconst char[13]\n\ntemplate&lt;typename T&gt;\nvoid f(T &amp;param);                        //\u4f20\u503c\u5f62\u53c2\u7684\u6a21\u677f\n\nf(name);                                //T\u88ab\u63a8\u5bfc\u4e3aconst char (&amp;)[13]\n</code></pre> <p>\u5f53\u6a21\u677f\u51fd\u6570\u7684\u53c2\u6570\u662f\u6309\u503c\u4f20\u9012\u65f6\uff0c\u6570\u7ec4\u5165\u53c2\u4f1a\u9000\u5316\u4e3a\u6307\u9488\uff0c\u5f53\u6a21\u677f\u51fd\u6570\u7684\u53c2\u6570\u662f\u6309\u5f15\u7528\u4f20\u9012\u65f6\uff0c\u6570\u7ec4\u5165\u53c2\u4f1a\u6309\u6570\u7ec4\u7684\u5f15\u7528\u4f20\u9012</p> <p>\u8fd9\u4e00\u7279\u6027\u53ef\u4ee5\u7528\u6765\u5b9e\u73b0\u4e00\u4e2a\u5229\u7528\u6a21\u677f\u83b7\u53d6\u6570\u7ec4\u5927\u5c0f\u7684\u529f\u80fd</p> <pre><code>template&lt;typename T, std::size_t N&gt;\nconstexpr std::size_t arraySize(T (&amp;)[N]) noexcept\n{                                                       \n    return N;\n}\n</code></pre>","tags":["c/c++"]},{"location":"foundation/cpp/62.effective-modern-cpp/#_3","title":"\u51fd\u6570\u5b9e\u53c2\u63a8\u5bfc","text":"<pre><code>void someFunc(int, double);         //someFunc\u662f\u4e00\u4e2a\u51fd\u6570\uff0c\n                                    //\u7c7b\u578b\u662fvoid(int, double)\n\ntemplate&lt;typename T&gt;\nvoid f1(T param);                   //\u4f20\u503c\u7ed9f1\n\ntemplate&lt;typename T&gt;\nvoid f2(T &amp; param);                 //\u4f20\u5f15\u7528\u7ed9f2\n\nf1(someFunc);                       //param\u88ab\u63a8\u5bfc\u4e3a\u6307\u5411\u51fd\u6570\u7684\u6307\u9488\uff0c\n                                    //\u7c7b\u578b\u662fvoid(*)(int, double)\nf2(someFunc);                       //param\u88ab\u63a8\u5bfc\u4e3a\u6307\u5411\u51fd\u6570\u7684\u5f15\u7528\uff0c\n                                    //\u7c7b\u578b\u662fvoid(&amp;)(int, double)\n\n</code></pre> <p>\u548c\u6570\u7ec4\u5b9e\u53c2\u7c7b\u578b\u63a8\u5bfc\u7c7b\u4f3c\uff0c\u51fd\u6570\u5b9e\u53c2\u7684\u63a8\u5bfc\u53d6\u51b3\u4e8e\u6a21\u677f\u5f62\u53c2\u7684\u7c7b\u578b\uff0c\u6a21\u677f\u5f62\u53c2\u4e3a\u6309\u503c\u4f20\u9012\u65f6\uff0c\u51fd\u6570\u7c7b\u578b\u4f1a\u9000\u5316\u4e3a\u51fd\u6570\u6307\u9488\u5417\uff0c\u6a21\u677f\u5f62\u53c2\u4e3a\u6309\u5f15\u7528\u4f20\u9012\u65f6\uff0c\u51fd\u6570\u5165\u53c2\u4f1a\u6309\u7167\u51fd\u6570\u5f15\u7528\u4f20\u9012</p>","tags":["c/c++"]},{"location":"foundation/cpp/62.effective-modern-cpp/#2auto","title":"\u6761\u6b3e2\uff1aauto\u7c7b\u578b\u63a8\u5bfc","text":"<p>C++11 \u65b0\u589e\u4e86auto\u7c7b\u578b\u58f0\u660e</p> <p>auto\u7c7b\u578b\u63a8\u5bfc\u548c\u6a21\u677f\u7c7b\u578b\u63a8\u5bfc\u7c7b\u4f3c\uff0c\u50cf<code>auto x = f(2);</code>\u8fd9\u6837\u4e00\u4e2a\u53d8\u91cf\u5b9a\u4e49\uff0cauto\u5bf9\u5e94\u7684\u662f\u6a21\u677f\u7c7b\u578b\u63a8\u5bfc\u4e2d\u7684ParamType\uff0c\u5373\u7c7b\u578bT+\u9970\u8bcd\u3002</p> <p>\u4e5f\u5206\u4e09\u79cd\u60c5\u51b5\uff1a</p> <ol> <li>\u7c7b\u578b\u9970\u8bcd\u662f\u6307\u9488\u6216\u5f15\u7528\uff0c\u4f46\u4e0d\u662f\u4e07\u80fd\u5f15\u7528\u3002</li> <li>\u7c7b\u578b\u9970\u8bcd\u662f\u4e07\u80fd\u5f15\u7528\u3002</li> <li>\u7c7b\u578b\u9970\u8bcd\u65e2\u975e\u6307\u9488\u4e5f\u975e\u5f15\u7528\u3002</li> </ol> <p>\u548c\u6a21\u677f\u7c7b\u578b\u63a8\u5bfc\u7ed3\u679c\u662f\u76f8\u540c\u7684\u3002</p> <p>\u7c7b\u578b\u9970\u8bcd\u975e\u5f15\u7528\u7684\u60c5\u51b5\u4e0b\uff0c\u6570\u7ec4\u548c\u51fd\u6570\u7c7b\u578b\u4e5f\u4f1a\u9000\u5316\u6210\u6307\u9488\u3002</p> <p>auto\u63a8\u5bfc\u548c\u6a21\u677f\u63a8\u5bfc\u552f\u4e00\u4e0d\u540c\u4e4b\u5904\uff0c\u662f\u5bf9\u4e8e\u5927\u62ec\u53f7\u521d\u59cb\u5316\u8868\u8fbe\u5f0f\u7684\u5904\u7406\u65b9\u5f0f\uff0c\u5982\u679c\u4e00\u4e2aauto\u53d8\u91cf\u4ee5\u8fd9\u79cd\u65b9\u5f0f\u58f0\u660e\uff0c<code>auto x={27};</code>\uff0cx\u4f1a\u88ab\u63a8\u5bfc\u4e3a<code>std:: initializer_ list</code>\u7c7b\u578b\uff0c\u5982\u679c\u5927\u62ec\u53f7\u91cc\u7684\u503c\u7c7b\u578b\u4e0d\u4e00\uff0c\u5219\u7c7b\u578b\u63a8\u5bfc\u5931\u8d25\uff0c\u4ee3\u7801\u901a\u4e0d\u8fc7\u7f16\u8bd1\uff0c\u4f8b\u5982<code>auto xs = { 1, 2, 3.0 };</code>\uff0c\u800c\u6a21\u677f\u63a8\u5bfc\u4e0d\u4e86<code>{27}</code>\u8fd9\u79cd\u5f62\u5f0f\u7684\u5165\u53c2\u3002</p> <p>C++14\u4e2d\uff0c\u51fd\u6570\u8fd4\u56de\u503c\u53ef\u4ee5\u58f0\u660e\u4e3aauto\uff0clambda\u8868\u8fbe\u5f0f\u4e2d\u7684\u51fd\u6570\u5f62\u53c2\u4e5f\u53ef\u4ee5\u58f0\u660e\u4e3aauto\uff0c\u8fd9\u4e24\u79cdauto\u63a8\u5bfc\u5b9e\u9645\u4e0a\u662f\u6a21\u677f\u63a8\u5bfc</p>","tags":["c/c++"]},{"location":"foundation/cpp/62.effective-modern-cpp/#3decltype","title":"\u6761\u6b3e3\uff1adecltype","text":"<p>decltype\u53ef\u4ee5\u5728\u7f16\u8f91\u5668\u8ba1\u7b97\u8868\u8fbe\u5f0f\u7684\u7c7b\u578b\uff0c\u53ef\u4ee5\u8fd9\u4e48\u7528</p> <pre><code>template&lt;typename Container, typename Index&gt; \nauto authAndAccess(Container&amp; c, Index i ) -&gt; decltype(c[i])\n{\n    authenticateUser(); \n    return c[i]; \n} \n</code></pre> <p>\u8fd9\u91cc\u4f7f\u7528\u4e86C++\u5c3e\u7f6e\u8fd4\u56de\u503c\uff08trailing return type\uff09\uff0c\u5c3e\u7f6e\u8fd4\u56de\u503c\u7684\u597d\u5904\u662f\u53ef\u4ee5\u4f7f\u7528\u5f62\u53c2\u5217\u8868\u4e2d\u7684\u53d8\u91cf</p> <p>decltype\u4f1a\u8fd4\u56de\u7ed9\u5b9a\u540d\u5b57\u6216\u8868\u8fbe\u5f0f\u7684\u786e\u5207\u7c7b\u578b\uff0c\u4e0d\u4f1a\u5ffd\u7565\u6216\u8f6c\u6362\u4efb\u4f55\u4e1c\u897f\uff0c\u8fd9\u4e00\u70b9\u548c\u6a21\u677f\u63a8\u5bfc\u548cauto\u63a8\u5bfc\u4e0d\u540c\uff0c\u8fd9\u6709\u4e2a\u597d\u5904\uff0c\u5982\u679cauto\u8fd4\u56de\u503c\u58f0\u660e\u4e0d\u7b26\u5408\u9884\u671f\uff0c\u53ef\u4ee5\u4f7f\u7528<code>decltype(auto)</code>\u8ba9auto\u7684\u63a8\u5bfc\u91c7\u7528decltype\u7684\u89c4\u5219\uff0c\u4f8b\u5982\uff1a</p> <pre><code> template&lt;typename Container, typename Index&gt; \ndecltype(auto) \nauthAndAccess(Container&amp; c, Index i)\n{\n    authenticateUser(); \n    return c[i]; \n}\n</code></pre> <p>\u4e0a\u9762\u8fd9\u6bb5\u4ee3\u7801\u4e2d\uff0c\u5982\u679c\u4e0d\u4f7f\u7528decltype(auto)\uff0c\u53ea\u4f7f\u7528auto\uff0c\u6309\u6a21\u677f\u63a8\u5bfc\u7684\u89c4\u5219\uff0c\u8fd4\u56de\u7c7b\u578b\u4f1a\u5c06\u5f15\u7528\u53bb\u6389\uff0c\u5b9e\u9645\u8fd4\u56de\u7684\u662f\u503c\u7c7b\u578b</p> <p>decltype\u6709\u4e00\u4e9b\u6bd4\u8f83\u590d\u6742\u7684\u60c5\u51b5\uff0c\u4f8b\u5982\uff0c\u5bf9\u4e8e\u8fd9\u79cd\u7528\u6cd5\uff0c<code>decltype(Expr)</code>\uff08Expr\u662f\u4e2a\u5de6\u503c\u8868\u8fbe\u5f0f\uff09\uff0c\u5982\u679cExpr\u53ea\u662f\u4e2a\u540d\u5b57\uff0c\u90a3\u8fd9\u4e2a\u540d\u5b57\u5bf9\u5e94\u7684\u7c7b\u578b\u662f\u5565\uff0cdecltype\u8fd4\u56de\u7684\u5c31\u662f\u5565\uff0c\u5982\u679cExpr\u7a0d\u5fae\u590d\u6742\u4e00\u70b9\uff0cdecltype\u5c31\u4f1a\u8fd4\u56de\u5f15\u7528\u7c7b\u578b\uff0c\u4f8b\u5982\uff1a</p> <pre><code>int x = 5;\ndecltype(x);    //\u8fd4\u56deint\ndecltype((x));  //\u8fd4\u56deint &amp;\n</code></pre>","tags":["c/c++"]},{"location":"foundation/cpp/62.effective-modern-cpp/#4","title":"\u6761\u6b3e4\uff1a\u5982\u4f55\u67e5\u770b\u7c7b\u578b\u63a8\u5bfc\u7ed3\u679c","text":"<p>\u6784\u9020\u4e00\u4e2a\u7a7a\u6a21\u677f\uff0c\u5229\u7528\u7f16\u8bd1\u9519\u8bef\u8f93\u51fa\u6a21\u677f\u63a8\u5bfc\u7ed3\u679c</p> <pre><code>//\u6bd4\u65b9\u8bf4\uff0c\u60f3\u77e5\u9053x\u548cy\u7684\u63a8\u5bfc\u7ed3\u679c\nconst int theAnswer; 42; \nauto x = theAnswer; \nauto y = &amp;theAnswer;\n\n//\u58f0\u660e\u4e00\u4e2a\u6a21\u677f\uff0c\u4e0d\u5b9e\u73b0\ntemplate&lt;typename T&gt; \nclass TD; \n\n//\u53ea\u8981\u8bd5\u56fe\u5b9e\u4f8b\u5316\u8be5\u6a21\u677f\uff0c\u5c31\u4f1a\u8bf1\u53d1\u4e00\u4e2a\u9519\u8bef\u6d88\u606f\uff0c\u7f16\u8bd1\u5668\u8f93\u51fa\u7684\u9519\u8bef\u4fe1\u606f\u5c31\u4f1a\u628ax\u548cy\u7684\u7c7b\u578b\u6253\u5370\u51fa\u6765\nTD&lt;decltype(x)&gt; xType; \nTD&lt;decltype(y)&gt; yType; \n</code></pre> <p>\u8fd8\u53ef\u4ee5\u4f7f\u7528<code>typeid(x).name()</code>\u5728\u8fd0\u884c\u65f6\u6253\u5370\u7c7b\u578b\u4fe1\u606f\uff0c\u4f46\u662f\u8fd9\u79cd\u65b9\u6cd5\u6253\u5370\u51fa\u6765\u7684\u4e0d\u4e00\u5b9a\u51c6</p> <p>IDE\u4e2d\u663e\u793a\u7684\u7c7b\u578b\u4e5f\u4e0d\u4e00\u5b9a\u51c6\u3002</p> <p>boost\u5e93\u7684<code>Boost.Typelndex</code>\u662f\u51c6\u7684\u3002</p>","tags":["c/c++"]},{"location":"foundation/cpp/62.effective-modern-cpp/#8nullptr","title":"\u6761\u6b3e8\uff1anullptr","text":"<p>nullptr\u6bd4\u8d77NULL\uff0c\u6709\u5229\u4e8e\u6a21\u677f\u7c7b\u578b\u63a8\u5bfc\uff0c\u6709\u5229\u4e8e\u6d88\u9664\u91cd\u8f7d\u51fd\u6570\u8c03\u7528\u7684\u4e8c\u4e49\u6027\uff0c\u539f\u56e0\u662fNULL\u5b9e\u9645\u4e0a\u662f\u4e2aint\u7c7b\u578b</p>","tags":["c/c++"]},{"location":"foundation/cpp/62.effective-modern-cpp/#9using-typedef","title":"\u6761\u6b3e9\uff1ausing \u548c typedef","text":"<p>\u5c3d\u91cf\u4f7f\u7528using\uff0cusing\u53ef\u4ee5\u6a21\u677f\u5316</p> <pre><code>template&lt;typename T&gt;\nusing MyAllocList = std:: list&lt;T, MyAlloc&lt;T&gt;&gt;;\n\nMyAllocList&lt;Widget&gt; lw; //\u7528\u6237\u4ee3\u7801\n</code></pre> <p>\u5982\u679c\u7528typedef\uff0c\u5fc5\u987b\u65b0\u5b9a\u4e49\u4e00\u4e2astruct\uff0c\u7136\u540e\u5199\u5728struct\u5185\u90e8</p> <pre><code>template&lt;typename T&gt;                            //MyAllocList&lt;T&gt;\u662f\nstruct MyAllocList {                            //std::list&lt;T, MyAlloc&lt;T&gt;&gt;\n    typedef std::list&lt;T, MyAlloc&lt;T&gt;&gt; type;      //\u7684\u540c\u4e49\u8bcd  \n};\n\nMyAllocList&lt;Widget&gt;::type lw;                   //\u7528\u6237\u4ee3\u7801\n</code></pre> <p>\u7528\u6237\u4ee3\u7801\u8981\u52a0\u4e2a<code>::type</code></p> <p>\u5982\u679c\u8981\u5728\u6a21\u677f\u5185\u90e8\u4f7f\u7528\u8fd9\u4e2atypedef\u5b9a\u4e49</p> <pre><code>template&lt;typename T&gt;\nclass Widget {                              //Widget&lt;T&gt;\u542b\u6709\u4e00\u4e2a\nprivate:                                    //MyAllocLIst&lt;T&gt;\u5bf9\u8c61\n    typename MyAllocList&lt;T&gt;::type list;     //\u4f5c\u4e3a\u6570\u636e\u6210\u5458\n    \u2026\n}; \n</code></pre> <p>\u524d\u9762\u8981\u52a0<code>typename</code>\uff0c\u540e\u9762\u8981\u52a0<code>::type</code></p>","tags":["c/c++"]},{"location":"foundation/cpp/62.effective-modern-cpp/#10-enum-class-enum","title":"\u6761\u6b3e10\uff1a\u4f18\u5148\u4f7f\u7528 enum class \u800c\u4e0d\u662f enum","text":"","tags":["c/c++"]},{"location":"foundation/cpp/62.effective-modern-cpp/#11-delete-private","title":"\u6761\u6b3e11\uff1a\u4f18\u5148\u4f7f\u7528 <code>= delete</code> \u800c\u4e0d\u662f private\u58f0\u660e","text":"","tags":["c/c++"]},{"location":"foundation/cpp/62.effective-modern-cpp/#14noexcept","title":"\u6761\u6b3e14\uff1a\u4e0d\u629b\u51fa\u5f02\u5e38\u7684\u51fd\u6570\uff0c\u5c3d\u91cf\u58f0\u660e\u4e3anoexcept\u7684","text":"<p>stl\u5bb9\u5668\u91c7\u7528\u79fb\u52a8\u64cd\u4f5c\u7684\u524d\u63d0\u662f\uff0c\u79fb\u52a8\u64cd\u4f5c\u58f0\u660e\u4e3anoexcept\u7684\uff0c\u8fd9\u6837stl\u5bb9\u5668\u624d\u80fd\u5728\u6ee1\u8db3\u5f02\u5e38\u5b89\u5168\u4fdd\u8bc1\u7684\u524d\u63d0\u4e0b\u4f7f\u7528\u79fb\u52a8\u64cd\u4f5c</p> <p>\u5176\u4ed6\u7565</p>","tags":["c/c++"]},{"location":"foundation/cpp/62.effective-modern-cpp/#17","title":"\u6761\u6b3e17\uff1a\u7279\u6b8a\u6210\u5458\u51fd\u6570\u7684\u751f\u6210\u89c4\u5219","text":"<ol> <li>\u9ed8\u8ba4\u6784\u9020\u51fd\u6570\uff1a\u7528\u6237\u6ca1\u6709\u5b9a\u4e49\u4efb\u4f55\u6784\u9020\u51fd\u6570\u7684\u65f6\u5019\uff0c\u7f16\u8bd1\u5668\u624d\u4f1a\u53bb\u751f\u6210\u9ed8\u8ba4\u6784\u9020\u51fd\u6570</li> <li>\u62f7\u8d1d\u6784\u9020\u51fd\u6570\u548c\u62f7\u8d1d\u8d4b\u503c\u8fd0\u7b97\u7b26<ul> <li>\u76f8\u4e92\u72ec\u7acb\uff0c\u5982\u679c\u7528\u6237\u53ea\u5b9a\u4e49\u4e86\u5176\u4e2d\u4e00\u4e2a\uff0c\u7f16\u8bd1\u5668\u4f1a\u53bb\u751f\u6210\u53e6\u5916\u4e00\u4e2a</li> </ul> </li> <li>\u79fb\u52a8\u6784\u9020\u51fd\u6570\u548c\u79fb\u52a8\u8d4b\u503c\u8fd0\u7b97\u7b26<ul> <li>\u53ea\u8981\u7528\u6237\u5b9a\u4e49\u4e86\u5176\u4e2d\u4e00\u4e2a\uff0c\u7f16\u8bd1\u5668\u5c31\u4e0d\u53bb\u751f\u6210\u53e6\u5916\u4e00\u4e2a\u4e86\uff0c\u53ea\u6709\u4e24\u4e2a\u90fd\u6ca1\u6709\u5b9a\u4e49\u7684\u65f6\u5019\uff0c\u7f16\u8bd1\u5668\u624d\u4f1a\u53bb\u751f\u6210</li> </ul> </li> <li>\u62f7\u8d1d\uff0c\u79fb\u52a8\u548c\u6790\u6784\u7684\u5173\u7cfb<ul> <li>\u5982\u679c\u7528\u6237\u5b9a\u4e49\u4e86\u62f7\u8d1d\u64cd\u4f5c\uff0c\u90a3\u4e48\u7f16\u8bd1\u5668\u4e0d\u4f1a\u53bb\u751f\u6210\u9ed8\u8ba4\u7684\u79fb\u52a8\u64cd\u4f5c</li> <li>\u53cd\u8fc7\u6765\uff0c\u5982\u679c\u7528\u6237\u5b9a\u4e49\u4e86\u79fb\u52a8\u64cd\u4f5c\uff0c\u90a3\u4e48\u7f16\u8bd1\u5668\u4e5f\u4e0d\u4f1a\u53bb\u751f\u6210\u9ed8\u8ba4\u7684\u62f7\u8d1d\u64cd\u4f5c</li> <li>\u5982\u679c\u5b9a\u4e49\u4e86\u6790\u6784\u51fd\u6570\uff0c\u7f16\u8bd1\u5668\u4e5f\u4e0d\u4f1a\u53bb\u751f\u6210\u79fb\u52a8\u6784\u9020\u51fd\u6570</li> </ul> </li> </ol>","tags":["c/c++"]},{"location":"foundation/cpp/62.effective-modern-cpp/#18unique_ptr","title":"\u6761\u6b3e18\uff1aunique_ptr","text":"<p>\u6307\u9488\u6240\u6709\u6743\u53ea\u80fd\u8f6c\u79fb\uff0c\u4e0d\u80fd\u5171\u4eab</p> <p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u9500\u6bc1\u5c06\u901a\u8fc7<code>delete</code>\u8fdb\u884c\uff0c\u4e5f\u53ef\u4ee5\u81ea\u5b9a\u4e49\u5220\u9664\u5668</p> <p><code>unique_ptr</code>\u53ef\u4ee5\u76f4\u63a5\u7c7b\u578b\u8f6c\u6362\u4e3a<code>shared_ptr</code></p> <p>\u81ea\u5b9a\u4e49\u5220\u9664\u5668\u7684\u5199\u6cd5</p> <pre><code>auto delInvmt = [](Investment* pInvestment)         //\u81ea\u5b9a\u4e49\u5220\u9664\u5668\n                {                                   //\uff08lambda\u8868\u8fbe\u5f0f\uff09\n                    makeLogEntry(pInvestment);\n                    delete pInvestment; \n                };\n\nstd::unique_ptr&lt;Investment, decltype(delInvmt)&gt; //\u5e94\u8fd4\u56de\u7684\u6307\u9488\n        pInv(nullptr, delInvmt);\n</code></pre>","tags":["c/c++"]},{"location":"foundation/cpp/62.effective-modern-cpp/#19shared_ptr","title":"\u6761\u6b3e19\uff1ashared_ptr","text":"<p><code>std::shared_ptr</code>\u4f7f\u7528\u5f15\u7528\u8ba1\u6570\uff08reference count\uff09\u786e\u5b9a\u6709\u591a\u5c11\u4e2a\u5bf9\u539f\u59cb\u6307\u9488\u7684\u5f15\u7528</p> <p>\u5f15\u7528\u8ba1\u6570\u7684\u6027\u80fd\u95ee\u9898</p> <ol> <li>\u5f15\u7528\u8ba1\u6570\u5fc5\u987b\u52a8\u6001\u5206\u914d\uff0c<code>make_shared</code>\u6bd4\u76f4\u63a5\u7528shared_ptr\u6784\u9020\u5f00\u9500\u8981\u5c0f\u4e00\u4e9b\uff0c\u5b83\u5c06\u63a7\u5236\u5757\u7684\u6784\u9020\u548c\u5bf9\u8c61\u7684\u6784\u9020\u8fc7\u7a0b\u5408\u5e76\u4e86</li> <li>\u5f15\u7528\u8ba1\u6570\u7684\u589e\u51cf\u662f\u539f\u5b50\u7684\uff0c\u56e0\u6b64\uff0c\u5bf9shared_ptr\u8fdb\u884c\u79fb\u52a8\u6784\u9020\u6bd4\u62f7\u8d1d\u6784\u9020\u5feb\uff0c\u79fb\u52a8\u6784\u9020\u4e0d\u9700\u8981\u589e\u51cf\u5f15\u7528\u8ba1\u6570</li> </ol> <p>shared_ptr\u81ea\u5b9a\u4e49\u5220\u9664\u5668\u65f6\uff0c\u548cunique_ptr\u4e0d\u540c\uff0c\u5220\u9664\u5668\u4e0d\u662f\u7c7b\u578b\u7684\u4e00\u90e8\u5206</p> <pre><code>auto loggingDel = [](Widget *pw)        //\u81ea\u5b9a\u4e49\u5220\u9664\u5668\n                  {                     //\uff08\u548c\u6761\u6b3e18\u4e00\u6837\uff09\n                      makeLogEntry(pw);\n                      delete pw;\n                  };\n\nstd::unique_ptr&lt;                        //\u5220\u9664\u5668\u7c7b\u578b\u662f\n    Widget, decltype(loggingDel)        //\u6307\u9488\u7c7b\u578b\u7684\u4e00\u90e8\u5206\n    &gt; upw(new Widget, loggingDel);\n\nstd::shared_ptr&lt;Widget&gt;                 //\u5220\u9664\u5668\u7c7b\u578b\u4e0d\u662f\n    spw(new Widget, loggingDel);        //\u6307\u9488\u7c7b\u578b\u7684\u4e00\u90e8\u5206\n</code></pre> <p>shared_ptr\u4f1a\u4e3a\u7ba1\u7406\u7684\u5bf9\u8c61\u5efa\u7acb\u4e00\u4e2a\u63a7\u5236\u5757\uff0c\u63a7\u5236\u5757\u4e2d\u5305\u542b\u5f15\u7528\u8ba1\u6570\uff0c\u81ea\u5b9a\u4e49\u5220\u9664\u5668\u7684\u62f7\u8d1d\u7b49\uff0c\u591a\u4e2ashared_ptr\u4f1a\u5229\u7528\u6307\u9488\u5171\u4eab\u8fd9\u4e2a\u63a7\u5236\u5757</p> <p>shared_ptr\u63d0\u4f9b\u4e86<code>std::enable_shared_from_this</code>\u548c<code>shared_from_this</code>\u8fd9\u4e24\u4e2a\u8bbe\u65bd\uff0c\u5bf9\u8c61\u53ef\u4ee5\u7528\u8fd9\u4e24\u4e2a\u4e1c\u897f\u83b7\u53d6\u5230\u6307\u5411\u81ea\u8eab\u7684shared_ptr\uff0c\u4fdd\u8bc1\u5bf9\u8c61\u5728\u5904\u7406\u4e00\u4e9b\u5f02\u6b65\u64cd\u4f5c\u65f6\u88ab\u9519\u8bef\u91ca\u653e\u6389\uff0c<code>shared_from_this</code>\u8981\u6c42\u5bf9\u8c61\u5916\u5fc5\u987b\u5df2\u7ecf\u6709\u4e00\u4e2ashared_ptr\u6307\u5411\u5bf9\u8c61\u4e86\uff0c\u5982\u679c\u6ca1\u6709\u4f1a\u629b\u51fa\u5f02\u5e38\uff08\u5f88\u5408\u7406\uff0c\u5982\u679c<code>shared_from_this</code>\u662f\u521b\u5efa\u4e00\u4e2a\u65b0\u7684shared_ptr\uff0c\u8fd9\u4e2ashared_ptr\u4e00\u65e6\u88ab\u91ca\u653e\uff0c\u5bf9\u8c61\u4e5f\u8ddf\u7740\u88ab\u91ca\u653e\u4e86\uff09\uff0c\u7528\u6cd5\u5982\u4e0b</p> <pre><code>class Widget: public std::enable_shared_from_this&lt;Widget&gt; {\npublic:\n    ...\n    void process();\n    ...\n};\n\nvoid Widget::process()\n{\n    ...\n    auto thisPtr = shared_from_this();\n    ...\n}\n</code></pre>","tags":["c/c++"]},{"location":"foundation/cpp/62.effective-modern-cpp/#20weak_ptr","title":"\u6761\u6b3e20\uff1aweak_ptr","text":"<p>weak_ptr\u4e0d\u662f\u72ec\u7acb\u7684\u667a\u80fd\u6307\u9488\uff0c\u662f\u5bf9shared_ptr\u7684\u589e\u5f3a\uff0c\u5b83\u4e0d\u80fd\u89e3\u5f15\u7528\uff0c\u4e5f\u4e0d\u80fd\u5224\u7a7a\uff08\u548cnullptr\u6bd4\u8f83\uff09</p> <p>std::weak_ptr\u901a\u5e38\u4ecestd::shared_ptr\u4e0a\u521b\u5efa\uff0c\u4f46\u5b83\u4e0d\u4f1a\u5f71\u54cdshared_ptr\u7684\u5f15\u7528\u8ba1\u6570</p>","tags":["c/c++"]},{"location":"foundation/cpp/62.effective-modern-cpp/#_4","title":"\u57fa\u672c\u64cd\u4f5c\uff1a\u68c0\u67e5\u8d44\u6e90\u6709\u6548\u6027","text":"<p>\u68c0\u67e5\u6240\u6307\u5bf9\u8c61\u662f\u5426\u6709\u6548\uff1a</p> <pre><code>if (wpw.expired()) \u2026  \n</code></pre> <p>\u68c0\u67e5\u5e76\u8bbf\u95ee\u5bf9\u8c61\uff1a</p> <pre><code>std::shared_ptr&lt;Widget&gt; spw1 = wpw.lock();  //\u5982\u679cwpw\u8fc7\u671f\uff0cspw1\u5c31\u4e3a\u7a7a\n</code></pre> <p>shared_ptr\u7684\u63a7\u5236\u5757\u4e2d\u9664\u4e86\u5f15\u7528\u8ba1\u6570\u4ee5\u5916\u8fd8\u6709\u5f31\u8ba1\u6570\uff0c\u5bf9\u5e94weak_ptr\u7684\u5f15\u7528\uff0c\u4f46weak_ptr\u662f\u901a\u8fc7\u68c0\u67e5\u5f15\u7528\u8ba1\u6570\u5224\u65ad\u5bf9\u8c61\u662f\u5426\u6709\u6548\u7684\uff0c\u5e76\u4e0d\u662f\u5f31\u8ba1\u6570\u3002</p>","tags":["c/c++"]},{"location":"foundation/cpp/62.effective-modern-cpp/#_5","title":"\u5faa\u73af\u5f15\u7528\u95ee\u9898","text":"<p>weak_ptr\u53ef\u4ee5\u89e3\u51b3shared_ptr\u5faa\u73af\u5f15\u7528\u95ee\u9898</p> <p>\u6709\u4e24\u4e2ashared_ptr\u5206\u522b\u6307\u5411A\u548cB\uff0c\u540c\u65f6\u5bf9\u8c61A\u548cB\u5404\u81ea\u6301\u6709\u5bf9\u65b9\u7684shared_ptr\uff0c\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u91ca\u653e\u667a\u80fd\u6307\u9488\u5b9e\u9645\u4e0a\u662f\u91ca\u653e\u4e0d\u4e86A\u548cB\u7684</p> <p>\u53ef\u4ee5\u901a\u8fc7\u5c06A\u6216B\u5185\u90e8\u6301\u6709\u7684shared_ptr\u6362\u6210weak_ptr\u6765\u89e3\u51b3</p>","tags":["c/c++"]},{"location":"foundation/cpp/62.effective-modern-cpp/#weak_ptr","title":"weak_ptr\u7684\u4f7f\u7528\u539f\u5219","text":"<p>weak_ptr\u548cshared_ptr\u7684\u6700\u4e3b\u8981\u533a\u522b\u662fweak_ptr\u4e0d\u4f1a\u83b7\u5f97\u8d44\u6e90\u7684\u6240\u6709\u6743\uff0c\u60f3\u8981\u6b63\u786e\u4f7f\u7528weak_ptr\uff0c\u8981\u7262\u8bb0\u8fd9\u4e00\u70b9</p>","tags":["c/c++"]},{"location":"foundation/cpp/62.effective-modern-cpp/#21-make_shared-make_unique","title":"\u6761\u6b3e21\uff1a\u4f18\u5148\u4f7f\u7528 make_shared \u548c make_unique","text":"<p>\u4e3a\u4ec0\u4e48\u8981\u4f18\u5148\u4f7f\u7528 make_shared \u548c make_unique\uff1a</p> <ol> <li><code>std::shared_ptr&lt;Widget&gt;(new Widget)</code>\u8fd9\u79cd\u5199\u6cd5\u5b58\u5728\u6f5c\u5728\u7684\u8d44\u6e90\u6cc4\u9732\uff0c\u6784\u9020\u5bf9\u8c61\u548c\u6784\u9020\u667a\u80fd\u6307\u9488\u5206\u6210\u4e86\u4e24\u6b65\uff0c\u5f88\u5bb9\u6613\u56e0\u4e3a\u7f16\u8bd1\u5668\u4f18\u5316\u5728\u8fd9\u4e24\u6b65\u4e2d\u95f4\u63d2\u5165\u522b\u7684\u64cd\u4f5c\uff0c\u4e00\u65e6\u4e2d\u95f4\u8fd9\u4e2a\u64cd\u4f5c\u6709\u5f02\u5e38\uff0c\u5c31\u4f1a\u9020\u6210\u8d44\u6e90\u6cc4\u9732</li> <li><code>std::shared_ptr&lt;Widget&gt; spw(new Widget)</code>\u4f1a\u6bd4 make_shared \u591a\u5206\u914d\u4e00\u6b21\u5185\u5b58\uff0c\u7b2c\u4e00\u6b21\u662fnew\u4e00\u4e2a\u5bf9\u8c61\uff0c\u7b2c\u4e8c\u6b21\u662f\u4e3ashared_ptr\u7684\u63a7\u5236\u5757\u5206\u914d\u5185\u5b58\uff0cmake_shared \u4f1a\u628a\u8fd9\u4e24\u6b21\u5185\u5b58\u5206\u914d\u5408\u5e76</li> </ol> <p>make\u7cfb\u5217\u51fd\u6570\u7684\u9650\u5236\uff1a</p> <ol> <li>\u65e0\u6cd5\u4f7f\u7528\u81ea\u5b9a\u4e49\u6790\u6784\u5668</li> <li>\u5bf9\u81ea\u5b9a\u4e49new\u548cdelete\u7684\u7c7b\u4e0d\u53cb\u597d</li> <li>\u7531\u4e8e\u63a7\u5236\u5757\u548c\u5bf9\u8c61\u7684\u5185\u5b58\u662f\u4e00\u8d77\u5206\u914d\u7684\uff0c\u56e0\u6b64\u6700\u540e\u4e00\u4e2aweak_ptr\u4e0d\u9500\u6bc1\u7684\u60c5\u51b5\u4e0b\uff0c\u5bf9\u8c61\u5373\u4f7f\u6790\u6784\uff0c\u5185\u5b58\u4e5f\u662f\u4e0d\u4f1a\u56de\u6536\u7684\uff0c\u4f7f\u7528new \u5219\u4e0d\u4f1a\u6709\u8fd9\u4e2a\u95ee\u9898\uff0c\u5bf9\u8c61\u7684\u5185\u5b58\u548c\u63a7\u5236\u5757\u7684\u5185\u5b58\u662f\u5206\u5f00\u5206\u914d\u7684\u3002</li> </ol>","tags":["c/c++"]},{"location":"foundation/cpp/62.effective-modern-cpp/#23stdmove-stdforward","title":"\u6761\u6b3e23\uff1astd::move \u548c std::forward","text":"<p>std::move \u548c std::forward \u90fd\u662f\u5f3a\u5236\u7c7b\u578b\u8f6c\u6362\uff0c\u672c\u8eab\u4e0d\u505a\u4efb\u4f55\u79fb\u52a8\u548c\u8f6c\u53d1\u7684\u64cd\u4f5c</p> <p>\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u4e0b\u9762\u8fd9\u6bb5\u4ee3\u7801\u5b9e\u9645\u4e0a\u5e76\u4e0d\u4f1a\u89e6\u53d1value\u7684\u79fb\u52a8\u6784\u9020\u51fd\u6570\uff0c\u539f\u56e0\u662fstd::move\u8f6c\u6362\u540e\u7684text\u662f\u4e00\u4e2a\u5e26const\u7684\u53f3\u503c\uff0c\u65e0\u6cd5\u89e6\u53d1value\u7684\u79fb\u52a8\u6784\u9020</p> <pre><code>const std::string text = \"abc\";\nstd::string value(std::move(text));\n</code></pre> <p>std::forward\u4f1a\u5c06\u4f20\u5165\u7684\u53f3\u503c\u5f15\u7528\u53c2\u6570\u5f3a\u884c\u8f6c\u6362\u4e3a\u53f3\u503c\u5f15\u7528\uff0c\u8fd9\u53e5\u8bdd\u770b\u8d77\u6765\u5f88\u5947\u602a\uff0c\u662f\u56e0\u4e3a\u51fd\u6570\u5f62\u53c2\u5728\u51fd\u6570\u5185\u90e8\u4f7f\u7528\u65f6\u59cb\u7ec8\u662f\u4e2a\u5de6\u503c\u8868\u8fbe\u5f0f\uff0c\u5982\u679c\u60f3\u4fdd\u7559\u4f20\u5165\u53c2\u6570\u7684\u53f3\u503c\u5f15\u7528\u5c5e\u6027\uff0c\u5c31\u9700\u8981std::forward\u5f3a\u8f6c\uff0cstd::forward\u4e00\u822c\u914d\u5408\u6a21\u677f\u7684\u4e07\u80fd\u5f15\u7528\u53c2\u6570\uff08T &amp;&amp;\uff09\u6765\u4f7f\u7528</p>","tags":["c/c++"]},{"location":"foundation/cpp/62.effective-modern-cpp/#24","title":"\u6761\u6b3e24\uff1a\u533a\u5206\u53f3\u503c\u5f15\u7528\u548c\u4e07\u80fd\u5f15\u7528","text":"<p>\u6d89\u53ca\u5230\u6a21\u677f\u7c7b\u578b\u63a8\u5bfc\u7684\u5c31\u662f\u4e07\u80fd\u5f15\u7528</p> <p>\u4f8b\u5982\uff0c\u4ee5\u4e0b\u5199\u6cd5\u90fd\u662f\u4e07\u80fd\u5f15\u7528</p> <pre><code>auto&amp;&amp; var2 = var1;\n\ntemplate&lt;typename T&gt;\nvoid f(T&amp;&amp; param);\n</code></pre> <p>\u4e07\u80fd\u5f15\u7528\u5fc5\u987b\u662f<code>T&amp;&amp;</code>\u8fd9\u79cd\u5f62\u5f0f</p> <p>\u50cf\u4ee5\u4e0b\u8fd9\u79cd\u4e0d\u6d89\u53ca\u7c7b\u578b\u63a8\u5bfc\u7684\u6a21\u677f\uff0c\u4e5f\u4e0d\u662f\u4e07\u80fd\u5f15\u7528</p> <pre><code>template&lt;class T, class Allocator = allocator&lt;T&gt;&gt;\nclass vector\n{\npublic:\n    void push_back(T&amp;&amp; x);  //\u4e0d\u662f\u4e07\u80fd\u5f15\u7528\n    \u2026\n}\n</code></pre> <p>\u4f5c\u4e3a\u5bf9\u6bd4\uff0c\u4ee5\u4e0b\u5c5e\u4e8e\u4e07\u80fd\u5f15\u7528</p> <pre><code>template&lt;class T, class Allocator = allocator&lt;T&gt;&gt;   //\u4f9d\u65e7\u6765\u81eaC++\u6807\u51c6\nclass vector {\npublic:\n    template &lt;class... Args&gt;\n    void emplace_back(Args&amp;&amp;... args);\n    \u2026\n};\n</code></pre> <p>\u4e00\u79cd\u5b8c\u7f8e\u8f6c\u53d1\u51fd\u6570\u8c03\u7528\u7684\u5199\u6cd5</p> <pre><code>auto AnyFuncWrapper =\n    [](auto&amp;&amp; func, auto&amp;&amp;... params)           //C++14\n    {\n        std::cout &lt;&lt; \"func in\" &lt;&lt; std::endl;\n        std::forward&lt;decltype(func)&gt;(func)(     //\u5bf9params\u8c03\u7528func\n            std::forward&lt;decltype(params)&gt;(params)...\n            );\n        std::cout &lt;&lt; \"func out\" &lt;&lt; std::endl;\n    };\n</code></pre> <p>\u4e07\u80fd\u5f15\u7528\u5b9e\u9645\u4e0a\u6d89\u53ca\u5230\u4e00\u4e2a\u53eb\u5f15\u7528\u6298\u53e0\uff08reference collapse\uff09\u7684\u6982\u5ff5</p>","tags":["c/c++"]},{"location":"foundation/cpp/62.effective-modern-cpp/#25stdmovestdforward","title":"\u6761\u6b3e25\uff1a\u5bf9\u53f3\u503c\u5f15\u7528\u7528std::move\uff0c\u5bf9\u4e07\u80fd\u5f15\u7528\u7528std::forward","text":"<p>\u5982\u9898\u6240\u793a</p> <p>\u53e6\u5916\u4e00\u4e2a\u77e5\u8bc6\u70b9\u662f\u5173\u4e8eC++\u7684\u8fd4\u56de\u503c\u4f18\u5316\uff08return value optimization\uff0cRVO\uff09\u7684</p> <p>\u4ec0\u4e48\u662fRVO\u5462\uff1f\u5373\u5bf9\u4e8e\u4e0b\u9762\u8fd9\u79cd\u4ee3\u7801\uff0c</p> <pre><code>Widget makeWidget()\n{\n    Widget w;\n    ...\n    return w;\n}\n</code></pre> <p>\u7f16\u8bd1\u5668\u4f1a\u8003\u8651\u662f\u5426\u4e3a\u8fd4\u56de\u503c\u505a\u62f7\u8d1d\u6d88\u9664\uff08copy elision\uff09\u4f18\u5316\uff0c\u5373\u76f4\u63a5\u628aw\u6784\u9020\u5230\u8fd4\u56de\u503c\u5bf9\u8c61\u4e0a\uff0c\u800c\u4e0d\u662f\u8fd4\u56de\u65f6\u62f7\u8d1d\u4e00\u6b21\uff0c\u6709\u70b9\u7c7b\u4f3c\u4e8e\u4e0b\u9762\u7684\u4ee3\u7801\uff0c</p> <pre><code>Widget makeWidget()\n{\n    Widget w;\n    ...\n    return std::move(w);\n}\n</code></pre> <p>\u6240\u4ee5\uff0c\u4e00\u822c\u4e0d\u63a8\u8350\u624b\u52a8\u7f16\u5199\u4e0a\u9762\u8fd9\u79cd\u4ee3\u7801\uff0c\u6709\u53ef\u80fd\u4f1a\u5bf9\u7f16\u8bd1\u5668\u7684\u4f18\u5316\u5f62\u6210\u5e72\u6270\uff0c\u505a\u51fa\u8d1f\u4f18\u5316</p>","tags":["c/c++"]},{"location":"foundation/cpp/62.effective-modern-cpp/#26","title":"\u6761\u6b3e26\uff1a\u907f\u514d\u7528\u4e07\u80fd\u5f15\u7528\u91cd\u8f7d\u51fd\u6570","text":"<p>\u4e07\u80fd\u5f15\u7528\u51e0\u4e4e\u80fd\u548c\u6240\u6709\u7c7b\u578b\u4ea7\u751f\u7cbe\u786e\u5339\u914d\uff0c\u5f88\u5bb9\u6613\u9020\u6210\u8bef\u5339\u914d</p> <p>\u91cd\u8f7d\u51fd\u6570\u5339\u914d\u4e00\u65e6\u548c\u6a21\u677f\u5b9e\u4f8b\u5316\u3001\u7ee7\u627f\u7b49\u7ed3\u5408\u8d77\u6765\uff0c\u89c4\u5219\u4f1a\u975e\u5e38\u590d\u6742\uff0c\u5f88\u5bb9\u6613\u51fa\u73b0\u8ba9\u4eba\u610f\u60f3\u4e0d\u5230\u7684\u884c\u4e3a</p>","tags":["c/c++"]},{"location":"foundation/cpp/62.effective-modern-cpp/#2726","title":"\u6761\u6b3e27\uff1a\u6761\u6b3e26\u7684\u66ff\u4ee3\u65b9\u6848","text":"<ol> <li>\u653e\u5f03\u91cd\u8f7d</li> <li>\u4f7f\u7528<code>const T&amp;</code>\u5f62\u53c2\u4ee3\u66ff\u4e07\u80fd\u5f15\u7528</li> <li>\u4f20\u503c\uff0c\u800c\u4e0d\u662f\u4f20\u5f15\u7528</li> <li> <p>\u5c06\u771f\u6b63\u9700\u8981\u91cd\u8f7d\u7684\u529f\u80fd\u59d4\u6258\u7ed9\u4e07\u80fd\u5f15\u7528\uff0c\u5224\u65ad\u4f20\u5165\u53c2\u6570\u7c7b\u578b\uff0c\u4f8b\u5982\u4f7f\u7528<code>is_integral&lt;T&gt;()</code>\u5224\u65ad\u53c2\u6570\u7c7b\u578b\u662f\u5426\u4e3a\u6574\u578b <code>cpp     std::is_integral&lt;typename std::remove_reference&lt;T&gt;::type&gt;()</code></p> <p>\u5b8c\u6574\u5199\u6cd5</p> <p>```cpp //1. \u5224\u65ad\u53c2\u6570\u7c7b\u578b template void logAndAdd(T&amp;&amp; name) {     logAndAddImpl(         std::forward(name),         std::is_integral::type&gt;()     ); } <p>//2. \u7f16\u8bd1\u671f\u533a\u5206\u8c03\u7528\u54ea\u4e2a\u51fd\u6570 //std::false_type \u548c std::true_type \u662f\u4e24\u4e2a\u4e0d\u540c\u7684\u7c7b\u578b\uff0c\u5206\u522b\u5bf9\u5e94 true \u548c false //\u5b83\u4eec\u4e3b\u8981\u662f\u4e3a\u4e86\u4f5c\u4e3a\u4e00\u4e2a\u6807\u7b7e\uff0c\u80fd\u8ba9\u7a0b\u5e8f\u5728\u7f16\u8bd1\u5668\u51b3\u5b9a\u8c03\u7528\u54ea\u4e2a\u91cd\u8f7d\u51fd\u6570 template void logAndAddImpl(T&amp;&amp; name, std::false_type) {     auto now = std::chrono::system_clock::now();     log(now, \"logAndAdd\");     names.emplace(std::forward(name)); } <p>std::string nameFromIdx(int idx); void logAndAddImpl(int idx, std::true_type) {     logAndAdd(nameFromIdx(idx));  } <code>`` 5. \u4f7f\u7528</code>enable_if`\u5728\u6761\u4ef6\u6ee1\u8db3\u65f6\u7981\u7528\u6a21\u677f\uff08\u8fc7\u4e8e\u590d\u6742\uff0c\u7565\u8fc7\uff09</p>","tags":["c/c++"]},{"location":"foundation/cpp/62.effective-modern-cpp/#28","title":"\u6761\u6b3e28\uff1a\u7406\u89e3\u5f15\u7528\u6298\u53e0","text":"<p>\u4e07\u80fd\u5f15\u7528\u7684\u5de5\u4f5c\u539f\u7406\u662f\u5f15\u7528\u6298\u53e0\uff0c\u5177\u4f53\u5de5\u4f5c\u8fc7\u7a0b\u5982\u4e0b\uff1a</p> <ol> <li>\u5bf9\u4e8e<code>T &amp;&amp;</code>\u8fd9\u4e2a\u53c2\u6570\uff0c\u5982\u679c\u4f20\u5165\u5de6\u503c\uff0cT\u4f1a\u63a8\u5bfc\u4e3a\u5de6\u503c\u5f15\u7528\uff0c\u5982\u679c\u662f\u53f3\u503c\uff0c\u5219\u63a8\u5bfc\u4e3a\u975e\u5f15\u7528</li> <li>\u5bf9\u4e8e\u5de6\u503c\u53c2\u6570\uff0c\u63a8\u5bfc\u540e\u7684\u7ed3\u679c\u5c31\u53d8\u6210\u4e86<code>type &amp; &amp;&amp;</code></li> <li>\u6b64\u65f6\u89e6\u53d1\u5f15\u7528\u6298\u53e0\u673a\u5236\uff0c\u5c06\u53cc\u91cd\u5f15\u7528\u53d8\u4e3a\u5355\u5f15\u7528\uff0c\u89c4\u5219\u662f\uff1a\u4efb\u610f\u4e00\u4e2a\u5f15\u7528\u4e3a\u5de6\u503c\u5f15\u7528\uff0c\u5219\u6700\u7ec8\u6298\u53e0\u4e3a\u5de6\u503c\u5f15\u7528\uff0c\u5426\u5219\uff0c\u6298\u53e0\u4e3a\u53f3\u503c\u5f15\u7528</li> <li>\u5b8c\u7f8e\u8f6c\u53d1<code>std::forward</code>\u4e5f\u4f9d\u8d56\u5f15\u7528\u6298\u53e0\u5de5\u4f5c\uff08\u539f\u7406\u7565\u8fc7\uff0c\u4e66\u91cc\u5199\u4e86\u4e00\u5927\u5806\uff0c\u61d2\u5f97\u770b\u4e86\uff09</li> </ol>","tags":["c/c++"]},{"location":"foundation/cpp/62.effective-modern-cpp/#29","title":"\u6761\u6b3e29\uff1a\u79fb\u52a8\u8bed\u4e49\u4e0d\u597d\u7528\u7684\u573a\u666f","text":"<ol> <li>\u5bf9\u8c61\u6ca1\u6709\u63d0\u4f9b\u79fb\u52a8\u64cd\u4f5c</li> <li>\u5bf9\u8c61\u7684\u79fb\u52a8\u5b9e\u73b0\u5f88\u6162\uff0c\u6bd4\u5982<code>std::array</code>\uff0c\u56e0\u4e3a<code>std::array</code>\u672c\u8d28\u4e0a\u5c31\u662f\u4e00\u4e2a\u652f\u6301stl\u64cd\u4f5c\u7684\u5185\u5efa\u6570\u7ec4\uff0c\u7528\u7684\u662f\u6808\u5185\u5b58</li> <li>\u8981\u6c42\u79fb\u52a8\u64cd\u4f5c\u4e0d\u53d1\u751f\u5f02\u5e38\u7684\u60c5\u51b5\u4e0b\uff0c\u79fb\u52a8\u64cd\u4f5c\u672a\u67b6\u4e0a<code>noexcept</code></li> </ol>","tags":["c/c++"]},{"location":"foundation/cpp/62.effective-modern-cpp/#30","title":"\u6761\u6b3e30: \u719f\u6089\u5b8c\u7f8e\u8f6c\u53d1\u7684\u5931\u8d25\u60c5\u5f62","text":"<p>\u5b8c\u7f8e\u8f6c\u53d1\u7684\u5931\u8d25\u60c5\u5f62\uff0c\u6e90\u4e8e\u6a21\u677f\u7c7b\u578b\u63a8\u5bfc\u5931\u8d25\uff0c\u6216\u63a8\u5bfc\u7ed3\u679c\u9519\u8bef</p> <p>\u4f1a\u5bfc\u81f4\u5b8c\u7f8e\u8f6c\u53d1\u5931\u8d25\u7684\u5b9e\u53c2\u79cd\u7c7b\u6709\u5927\u62ec\u53f7\u521d\u59cb\u5316\u7269\u3001 \u4ee5\u503c0\u6216NULL\u8868\u8fbe\u7684\u7a7a\u6307\u9488\u3001\u4ec5\u6709\u58f0\u660e\u7684\u6574\u578b static const \u6210\u5458\u53d8\u91cf\u3001\u6a21\u677f\u6216\u91cd\u8f7d\u7684\u51fd\u6570\u540d\u5b57\uff0c\u4ee5\u53ca\u4f4d\u57df</p>","tags":["c/c++"]},{"location":"foundation/cpp/62.effective-modern-cpp/#32lambda","title":"\u6761\u6b3e32\uff1alambda\u8868\u8fbe\u5f0f\u521d\u59cb\u5316\u6355\u83b7","text":"<p>\u53ef\u4ee5\u5728\u6355\u83b7\u5217\u8868\u4e2d\u5199\u521d\u59cb\u5316\u8868\u8fbe\u5f0f\uff0c\u53ef\u4ee5\u5b9e\u73b0\u79fb\u52a8\u6355\u83b7</p> <pre><code>auto func = [pw = std::move(pw)]        //\u4f7f\u7528std::move(pw)\u521d\u59cb\u5316\u95ed\u5305\u6570\u636e\u6210\u5458\n            { return pw-&gt;isValidated()\n                     &amp;&amp; pw-&gt;isArchived(); };\n</code></pre>","tags":["c/c++"]},{"location":"foundation/cpp/62.effective-modern-cpp/#33lambda","title":"\u6761\u6b3e33\uff1alambda\u8868\u8fbe\u5f0f\u4e07\u80fd\u5f15\u7528","text":"<p>lambda\u53ef\u4ee5\u6a21\u677f\u5316\uff0c\u4f8b\u5982 <code>auto f = [](auto x){ return func(normalize(x)); };</code></p> <p>\u4e07\u80fd\u5f15\u7528+\u5b8c\u7f8e\u8f6c\u53d1\u7684\u5199\u6cd5</p> <pre><code>auto f =\n    [](auto&amp;&amp; param)\n    {\n        return\n            func(normalize(std::forward&lt;decltype(param)&gt;(param)));\n    };\n</code></pre> <pre><code>auto f =\n    [](auto&amp;&amp;... params)\n    {\n        return\n            func(normalize(std::forward&lt;decltype(params)&gt;(params)...));\n    };\n</code></pre>","tags":["c/c++"]},{"location":"foundation/cpp/62.effective-modern-cpp/#34lambdastdbind","title":"\u6761\u6b3e34\uff1alambda\u8868\u8fbe\u5f0f\u5168\u9762\u4f18\u4e8estd::bind","text":"<p>lambda \u5f0f\u6bd4\u8d77\u4f7f\u7528 std::bind \u800c\u8a00\uff0c\u53ef\u8bfb\u6027\u66f4\u597d\u3001\u8868\u8fbe\u529b\u66f4\u5f3a\uff0c\u53ef\u80fd\u8fd0\u884c\u6548\u7387\u4e5f\u66f4\u9ad8</p>","tags":["c/c++"]},{"location":"foundation/cpp/62.effective-modern-cpp/#35","title":"\u6761\u6b3e35\uff1a\u57fa\u4e8e\u4efb\u52a1\u7684\u7a0b\u5e8f\u8bbe\u8ba1","text":"<p>\u4ece\u6761\u6b3e35\u5f00\u59cb\u4ecb\u7ecd\u73b0\u4ee3c++\u7684\u5e76\u53d1api</p> <pre><code>int doAsyncWork();\n\n//\u57fa\u4e8e\u7ebf\u7a0b\u7684\u5199\u6cd5\nstd::thread t(doAsyncWork);\n\n//\u57fa\u4e8e\u4efb\u52a1\u7684\u5199\u6cd5\nauto fut = std::async(doAsyncWork);\n</code></pre> <p>std::thread\u7684\u7f3a\u9677\uff1a</p> <ul> <li>\u65e0\u6cd5\u83b7\u53d6\u51fd\u6570\u8fd4\u56de\u503c</li> <li>\u65e0\u6cd5\u5728\u7ebf\u7a0b\u5916\u90e8\u6355\u83b7\u7ebf\u7a0b\u629b\u51fa\u7684\u5f02\u5e38</li> <li>\u65e0\u6cd5\u63a7\u5236\u7ebf\u7a0b\u6570\u91cf</li> <li>\u591a\u7ebf\u7a0b\u65f6\u5b58\u5728\u9891\u7e41\u7684\u7ebf\u7a0b\u4e0a\u4e0b\u6587\u5207\u6362     \u7ebf\u7a0b\u4e0a\u4e0b\u6587\u5207\u6362\u6210\u672c\u9ad8\uff0c\u800c\u4e14\u7ebf\u7a0b\u8c03\u5ea6\u4f1a\u964d\u4f4e\u7ebf\u7a0b\u7684\u7f13\u5b58\u547d\u4e2d\u7387</li> </ul> <p>\u7b80\u5355\u6765\u8bf4\uff0c\u57fa\u4e8e\u4efb\u52a1\u7684api\u63d0\u4f9b\u4e86\u66f4\u9ad8\u7ea7\u7684\u62bd\u8c61\uff0c\u4f7f\u5f00\u53d1\u8005\u4e0d\u5fc5\u5173\u5fc3\u7ebf\u7a0b\u7ba1\u7406\u7684\u95ee\u9898</p>","tags":["c/c++"]},{"location":"foundation/cpp/62.effective-modern-cpp/#36stdasync","title":"\u6761\u6b3e36\uff1astd::async\u7684\u542f\u52a8\u6a21\u5f0f","text":"<p>std::async\u6709\u4e24\u79cd\u542f\u52a8\u6a21\u5f0f</p> <ul> <li><code>std::launch::async</code>\uff1a\u5f02\u6b65\u542f\u52a8</li> <li><code>std::launch::deferred</code>\uff1a\u5ef6\u8fdf\u542f\u52a8\uff0c\u53ea\u4f1a\u5728std::async\u8fd4\u56de\u503c\u4e0a\u8c03\u7528get\u6216wait\u65f6\u542f\u52a8\uff0c\u542f\u52a8\u540e\u540c\u6b65\u6267\u884c\uff0c\u4f1a\u963b\u585e\u8c03\u7528\u7ebf\u7a0b</li> </ul> <p>\u9ed8\u8ba4\u7684\u542f\u52a8\u6a21\u5f0f\u662fasync\u6216deferred\uff0c\u7531\u5e76\u53d1api\u81ea\u5df1\u8c03\u5ea6</p> <p>\u5224\u65adasync\u7684\u542f\u52a8\u7b56\u7565</p> <pre><code>auto fut = std::async(f);               //\u540c\u4e0a\n\nif (fut.wait_for(0s) ==                 //\u5982\u679ctask\u662fdeferred\uff08\u88ab\u5ef6\u8fdf\uff09\u72b6\u6001\n    std::future_status::deferred)\n{\n    \u2026                                   //\u5728fut\u4e0a\u8c03\u7528wait\u6216get\u6765\u5f02\u6b65\u8c03\u7528f\n} else {                                //task\u6ca1\u6709deferred\uff08\u88ab\u5ef6\u8fdf\uff09\n    while (fut.wait_for(100ms) !=       //\u4e0d\u53ef\u80fd\u65e0\u9650\u5faa\u73af\uff08\u5047\u8bbef\u5b8c\u6210\uff09\n           std::future_status::ready) {\n        \u2026                               //task\u6ca1deferred\uff08\u88ab\u5ef6\u8fdf\uff09\uff0c\u4e5f\u6ca1ready\uff08\u5df2\u51c6\u5907\uff09\n                                        //\u505a\u5e76\u884c\u5de5\u4f5c\u76f4\u5230\u5df2\u51c6\u5907\n    }\n    \u2026                                   //fut\u662fready\uff08\u5df2\u51c6\u5907\uff09\u72b6\u6001\n}\n</code></pre> <p>\u624b\u52a8\u6307\u5b9a\u542f\u52a8\u7b56\u7565</p> <pre><code>auto fut = std::async(std::launch::async, f);   //\u5f02\u6b65\u542f\u52a8f\u7684\u6267\u884c\n</code></pre> <p>\u9ed8\u8ba4\u4ee5\u5f02\u6b65\u6a21\u5f0f\u542f\u52a8\u7684\u51fd\u6570\u5c01\u88c5</p> <pre><code>template&lt;typename F, typename... Ts&gt;\ninline\nauto                                        // C++14\nreallyAsync(F&amp;&amp; f, Ts&amp;&amp;... params)\n{\n    return std::async(std::launch::async,\n                      std::forward&lt;F&gt;(f),\n                      std::forward&lt;Ts&gt;(params)...);\n}\n\n</code></pre>","tags":["c/c++"]},{"location":"foundation/cpp/62.effective-modern-cpp/#37thread-joindetach","title":"\u6761\u6b3e37\uff1athread join\u548cdetach","text":"<p>thread\u6790\u6784\u4e4b\u524d\uff0c\u8981\u4e48join\uff0c\u8981\u4e48detach\uff0c\u5426\u5219\u5d29\u6e83</p>","tags":["c/c++"]},{"location":"foundation/cpp/62.effective-modern-cpp/#38stdfuture","title":"\u6761\u6b3e38\uff1astd::future\u7684\u6790\u6784","text":"<p>\u8fd9\u91cc\u6d89\u53ca<code>std::future</code>\uff0c<code>std::promise</code>\uff0c<code>std::shared_future</code>\u7b49\u6982\u5ff5</p>","tags":["c/c++"]},{"location":"foundation/cpp/62.effective-modern-cpp/#future","title":"\u4ec0\u4e48\u662ffuture\uff1f","text":"<p>future\u7528\u6765\u4fdd\u5b58\u4e00\u4e2a\u672a\u6765\u7684\u7ed3\u679c</p> <p>std::async\u8fd4\u56de\u7684\u5c31\u662f\u4e00\u4e2afuture</p> <p>future\u7684get\u548cwait\u64cd\u4f5c\u90fd\u662f\u963b\u585e\u7b49\u5f85\uff0c\u4ed6\u4eec\u7684\u533a\u522b\u5982\u4e0b\uff1a</p> <ul> <li>get\uff1a\u80fd\u83b7\u53d6\u5230future\u4e2d\u7684\u6570\u636e\uff0c\u4f1a\u6d88\u8017\u6389future\u7684\u7ed3\u675f\u72b6\u6001\uff0c\u53ea\u80fd\u8c03\u7528\u4e00\u6b21</li> <li>wait\uff1a\u53ea\u80fd\u7b49\u5f85\uff0c\u4e0d\u80fd\u83b7\u53d6\u5230future\u4e2d\u7684\u6570\u636e\uff0c\u80fd\u8c03\u7528\u591a\u6b21</li> </ul>","tags":["c/c++"]},{"location":"foundation/cpp/62.effective-modern-cpp/#futurepromise","title":"future\u548cpromise\u914d\u5408\u4f7f\u7528","text":"<p>future\u548cpromise\u662f\u7ebf\u7a0b\u95f4\u5f02\u6b65\u901a\u4fe1\u7684\u4e00\u79cd\u624b\u6bb5\uff0c\u4e00\u4e2a\u7ebf\u7a0b\u6301\u6709promise\uff0c\u53e6\u4e00\u4e2a\u7ebf\u7a0b\u6301\u6709future\uff0c\u6301\u6709promise\u7684\u7ebf\u7a0bset\u6570\u636e\uff0c\u6301\u6709future\u7684\u7ebf\u7a0bget\u6570\u636e</p> <p>\u521b\u5efapromise\u7684\u65f6\u5019\uff0c\u4ed6\u4f1a\u540c\u65f6\u521b\u5efa\u4e00\u4e2afuture\u548c\u4ed6\u7ed1\u5b9a\uff0c\u901a\u8fc7<code>promise.get_future()</code>\u80fd\u83b7\u53d6\u5230future\uff0c\u5fc5\u987b\u901a\u8fc7\u8fd9\u4e2afuture\u83b7\u53d6\u5230promise\u7684\u503c</p> <p>future\u548cpromise\u5728\u5e95\u5c42\u5b9e\u73b0\u4e0a\uff0c\u4ed6\u4eec\u4e4b\u95f4\u8fd8\u6709\u4e00\u4e2a\u79f0\u4e3a\u201c\u5171\u4eab\u72b6\u6001\u7684buffer\u201d\uff0c\u7528\u4e8e\u4fdd\u5b58promise set\u7684\u6570\u636e</p> <p>shared_future\u5141\u8bb8\u591a\u4e2a\u7ebf\u7a0b\u540c\u65f6\u8bbf\u95ee\u5171\u4eab\u72b6\u6001\uff0c\u6bcf\u4e2ashared_future\u90fd\u80fd\u8bbf\u95ee\u5230\u76f8\u540c\u7684\u7ed3\u679c</p> <p>future\u662f\u72ec\u5360\u7684\uff0c\u4e0d\u80fd\u62f7\u8d1d\uff0c\u53ea\u80fd\u79fb\u52a8\uff0cshared_future\u53ef\u4ee5\u62f7\u8d1d</p> <p>\u7528\u6cd5\u793a\u4f8b\uff1a</p> <pre><code>int func(std::promise&lt;std::string&gt; promise)\n{\n    std::cout &lt;&lt; \"Hello world.\" &lt;&lt; std::endl;\n    promise.set_value(\"Hi, I'm Alice\");\n    return 0;\n}\n\nint testAsync()\n{\n    std::promise&lt;std::string&gt; promise;\n    std::future&lt;std::string&gt; future = promise.get_future();\n\n    auto fuRet =std::async(std::launch::async, func, std::move(promise));\n\n    std::cout &lt;&lt; future.get() &lt;&lt; std::endl;\n    std::cout &lt;&lt; fuRet.get() &lt;&lt; std::endl;\n\n    return 0;\n}\n\n</code></pre> <p>shared_future\u7528\u6cd5\uff1a</p> <pre><code>//\u7528\u6cd51\uff0c\u901a\u8fc7\u72ec\u5360future\u7684share\u6210\u5458\u51fd\u6570\u83b7\u5f97\nstd::future&lt;std::string&gt; future = promise.get_future();\nstd::shared_future&lt;std::string&gt; future1= future.share();\nstd::shared_future&lt;std::string&gt; future2 = future1;\n\n//\u7528\u6cd52\uff0c\u628apromise\u7ed1\u5b9a\u7684future\u76f4\u63a5\u8f6c\u6362\u6210shared_future\uff0c\u7136\u540e\u62f7\u8d1d\nstd::shared_future&lt;std::string&gt; future = promise.get_future();\nstd::shared_future&lt;std::string&gt; future1 = future;\nstd::shared_future&lt;std::string&gt; future2 = future;\n</code></pre> <p>\u6ce8\u610f\uff0c\u7b2c\u4e00\u79cd\u5199\u6cd5\u4e2d\uff0c\u8c03\u7528<code>future.share()</code>\u4e4b\u540e\uff0c<code>future</code>\u672c\u8eab\u4f1a\u5931\u6548\uff0c\u6240\u4ee5\u521b\u5efa<code>shared_future</code>\u6700\u597d\u91c7\u7528\u7b2c\u4e8c\u79cd\u5199\u6cd5\uff0c\u4e0d\u4f1a\u51fa\u9519</p>","tags":["c/c++"]},{"location":"foundation/cpp/62.effective-modern-cpp/#future_1","title":"future\u7684\u6790\u6784\u89c4\u5219","text":"<ul> <li>future\u7684\u6b63\u5e38\u6790\u6784\u884c\u4e3a\u5c31\u662f\u9500\u6bc1future\u672c\u8eab</li> <li>\u6709\u591a\u4e2a\u5171\u4eabfuture\u65f6\uff0c\u6700\u540e\u4e00\u4e2afuture\u7684\u6790\u6784\u51fd\u6570\u4f1a\u963b\u585e\u4f4f\uff0c\u76f4\u5230\u4efb\u52a1\u5b8c\u6210\uff0c\u76f8\u5f53\u4e8e\u4e00\u4e2a\u9690\u5f0f\u7684join\u64cd\u4f5c\u3002</li> </ul>","tags":["c/c++"]},{"location":"foundation/cpp/62.effective-modern-cpp/#39promisefutureboolflag","title":"\u6761\u6b3e39\uff1a\u7528promise\u548cfuture\u4ee3\u66ff\u6761\u4ef6\u53d8\u91cf\u548cbool\u578bflag","text":"<p>\u6761\u4ef6\u53d8\u91cf\u548cbool\u578bflag\u90fd\u662f\u7ebf\u7a0b\u540c\u6b65\u7684\u5e38\u7528\u624b\u6bb5</p> <p>\u6761\u4ef6\u53d8\u91cf\u5b58\u5728\u865a\u5047\u5524\u9192\u7684\u95ee\u9898\uff0c\u89e3\u51b3\u865a\u5047\u5524\u9192\u901a\u5e38\u9700\u8981\u5728while\u5faa\u73af\u5185wait\uff0c\u6216\u8005\u8f6e\u8be2\u4e00\u4e2abool\u578bflag\uff0c\u5bf9\u5f00\u53d1\u8005\u9020\u6210\u989d\u5916\u7684\u8d1f\u62c5\uff0c\u5e76\u4e14\u8f6e\u8be2\u4ee3\u4ef7\u9ad8\u6602</p> <p>\u53ef\u4ee5\u7ed9\u6761\u4ef6\u53d8\u91cf\u7684wait\u64cd\u4f5c\u8bbe\u7f6e\u4e00\u4e2a\u68c0\u67e5\u6761\u4ef6\u7684\u51fd\u6570\uff0c\u4f46\u662f\u5728\u5b9e\u9645\u5f00\u53d1\u8fc7\u7a0b\u4e2d\uff0c\u6267\u884cwait\u7684\u7ebf\u7a0b\u901a\u5e38\u6ca1\u6cd5\u53bb\u68c0\u67e5\u6761\u4ef6\uff0c\u4e0d\u7136\u8fd8\u7528\u4ec0\u4e48\u6761\u4ef6\u53d8\u91cf</p>","tags":["c/c++"]},{"location":"foundation/cpp/62.effective-modern-cpp/#40volatile","title":"\u6761\u6b3e40\uff1avolatile\u4e0d\u80fd\u4e71\u7528","text":"<p>volatile\u7684\u4f5c\u7528\u662f\uff0c\u963b\u6b62\u7f16\u8bd1\u5668\u5bf9\u5176\u8fdb\u884c\u5185\u5b58\u4f18\u5316\uff0c\u5373\uff0c\u5bf9volatile\u53d8\u91cf\u7684\u8bfb\u5199\u6c38\u8fdc\u662f\u76f4\u63a5\u64cd\u4f5c\u5bf9\u5e94\u7684\u5185\u5b58\uff0c\u7f16\u8bd1\u5668\u4e0d\u4f1a\u5c06\u5176\u52a0\u8f7d\u5230\u5bc4\u5b58\u5668\u4e2d\u3002\u53ea\u6709\u5f53\u7a0b\u5e8f\u63a7\u5236\u4e4b\u5916\u7684\u4e1c\u897f\u53ef\u80fd\u4fee\u6539\u53d8\u91cf\u7684\u503c\u65f6\uff08\u4e00\u822c\u662f\u548c\u786c\u4ef6\u6253\u4ea4\u9053\u65f6\uff09\uff0c\u624d\u4f1a\u8003\u8651\u5c06\u5176\u58f0\u660e\u4e3avolatile\u3002</p> <p>\u8ddf\u5e76\u53d1\u6ca1\u6709\u4e00\u6bdb\u94b1\u5173\u7cfb\u3002</p> <p>\u6709\u4e9b\u7f16\u8bd1\u5668\u5bf9\u8fd9\u4e2a\u5173\u952e\u5b57\u7684\u5b9e\u73b0\u53ef\u80fd\u4e0d\u4e00\u6837\uff0c\u4f46\u8fd8\u662f\u4e0d\u8981\u4e71\u7528\u4e3a\u597d</p>","tags":["c/c++"]},{"location":"foundation/cpp/62.effective-modern-cpp/#41volatile","title":"\u6761\u6b3e41\uff1avolatile\u4e0d\u80fd\u4e71\u7528","text":"","tags":["c/c++"]},{"location":"foundation/cpp/62.effective-modern-cpp/#42","title":"\u6761\u6b3e42\uff1a\u5e76\u4e0d\u662f\u6240\u6709\u573a\u666f\u79fb\u52a8\u90fd\u6bd4\u62f7\u8d1d\u5feb","text":"","tags":["c/c++"]},{"location":"foundation/cpp/62.effective-modern-cpp/#43emplaceinsert","title":"\u6761\u6b3e43\uff1a\u7528emplace\u4ee3\u66ffinsert","text":"","tags":["c/c++"]},{"location":"foundation/cpp/65.cpp-template-tricks/","title":"c++\u6a21\u677f\u4f7f\u7528\u6280\u5de7","text":"","tags":["c/c++"]},{"location":"foundation/cpp/65.cpp-template-tricks/#_1","title":"\u53c2\u8003","text":"<ul> <li>\u300aC++ Primer \u7b2c5\u7248\u300b</li> <li>\u300aEffective Modern C++\u300b</li> </ul>","tags":["c/c++"]},{"location":"foundation/cpp/65.cpp-template-tricks/#0","title":"0. \u6a21\u677f\u7c7b\u578b\u63a8\u5bfc\u89c4\u5219","text":"<p>\u53c2\u8003 62.effective-modern-cpp</p>","tags":["c/c++"]},{"location":"foundation/cpp/65.cpp-template-tricks/#1","title":"1. \u975e\u7c7b\u578b\u53c2\u6570","text":"<p>\u4f8b\u5982\uff0c\u5229\u7528\u6a21\u677f\u63a8\u5bfc\u6570\u7ec4\u957f\u5ea6</p> <pre><code>template&lt;typename T, std::size_t N&gt;\nconstexpr std::size_t ArraySize(T(&amp;)[N]) noexcept\n{\n    return N;\n}\n</code></pre>","tags":["c/c++"]},{"location":"foundation/cpp/65.cpp-template-tricks/#2","title":"2. \u7f16\u8bd1\u9519\u8bef\u5728\u5b9e\u4f8b\u5316\u671f\u95f4\u62a5\u544a","text":"<p>\u7f16\u8bd1\u4e0d\u51fa\u9519\u53ef\u80fd\u662f\u56e0\u4e3a\u6ca1\u6709\u4f7f\u7528\u8fd9\u4e2a\u6a21\u677f</p> <p>\u6a21\u677f\u6210\u5458\u4e5f\u4e00\u6837\uff0c\u7528\u5230\u6210\u5458\u7684\u5730\u65b9\u624d\u4f1a\u5b9e\u4f8b\u5316\u8fd9\u4e2a\u6210\u5458</p>","tags":["c/c++"]},{"location":"foundation/cpp/65.cpp-template-tricks/#3","title":"3. \u6a21\u677f\u7c7b\u578b\u522b\u540d","text":"<p>\u4f7f\u7528using\u53ef\u4ee5\u4e3a\u6a21\u677f\u7c7b\u578b\u5b9a\u4e49\u522b\u540d</p> <pre><code>template&lt;typename T&gt;\nusing twin = std::pair&lt;T,T&gt;\n</code></pre> <p>\u800ctypedef\u53ea\u80fd\u505a\u5230</p> <pre><code>typedef Blob&lt;std::string&gt; StrBlob\n</code></pre> <p>\u53ef\u4ee5\u5c06\u6a21\u677f\u53c2\u6570\u7684\u7c7b\u578b\u901a\u8fc7using\u58f0\u660e\u5728\u6a21\u677f\u7c7b\u5185\u90e8\uff0c\u8fd9\u6837\uff0c\u5982\u679c\u628a\u8fd9\u4e2a\u6a21\u677f\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u7ed9\u53e6\u5916\u4e00\u4e2a\u6a21\u677fA\uff0c\u5c31\u53ef\u4ee5\u5728\u6a21\u677fA\u91cc\u83b7\u53d6\u5230\u4f20\u5165\u6a21\u677f\u7684\u53c2\u6570\u7c7b\u578b\uff0c\u4f8b\u5982\uff0c\u6807\u51c6\u5e93STL\u5bb9\u5668\u4e00\u822c\u4f1a\u5728\u6a21\u677f\u5185\u90e8\u5b9a\u4e49\u4e00\u4e2avalue_type\uff0c\u8868\u793a\u5bb9\u5668\u7684\u503c\u7c7b\u578b\uff0c\u7136\u540e\u6211\u4eec\u53ef\u4ee5\u5728\u5b9a\u4e49\u5176\u4ed6\u6a21\u677f\u65f6\u83b7\u53d6\u5230STL\u7684\u503c\u7c7b\u578b</p> <pre><code>template &lt;typename Container&gt;\nvoid PrintSTLType(const Container&amp; container)\n{\n    printf(\"value_type: %s\\n\", typeid(Container::value_type).name());\n    Container::value_type a;\n}\n</code></pre>","tags":["c/c++"]},{"location":"foundation/cpp/65.cpp-template-tricks/#4-static","title":"4. \u6a21\u677fstatic\u6210\u5458","text":"<p>static\u6210\u5458\u662f\u5b9e\u4f8b\u7ea7\u522b\u7684\uff0c\u5373\u6bcf\u4e2a\u6a21\u677f\u7684\u5b9e\u4f8b\u90fd\u6709\u4e00\u4e2a\u72ec\u6709\u7684static\u6210\u5458</p>","tags":["c/c++"]},{"location":"foundation/cpp/65.cpp-template-tricks/#5","title":"5. \u63a7\u5236\u5b9e\u4f8b\u5316","text":"<p>\u5982\u679c\u5728\u591a\u4e2a\u6587\u4ef6\u5b9e\u4f8b\u5316\u4e86\u76f8\u540c\u7684\u6a21\u677f\uff0c\u7f16\u8bd1\u5668\u8981\u5728\u6bcf\u4e2a\u6587\u4ef6\u4e2d\u90fd\u5bf9\u6a21\u677f\u5b9e\u4f8b\u5316\u4e00\u6b21\uff0c\u7f16\u8bd1\u5f00\u9500\u5f88\u5927</p> <p>\u53ef\u4ee5\u901a\u8fc7\u663e\u793a\u5b9e\u4f8b\u5316\u907f\u514d\u8fd9\u79cd\u5f00\u9500</p> <pre><code>extern template declaration //\u5b9e\u4f8b\u5316\u58f0\u660e\ntemplate declaration    //\u5b9e\u4f8b\u5316\u5b9a\u4e49\n</code></pre> <p>\u5b9e\u4f8b\u5316\u5b9a\u4e49\u548c\u666e\u901a\u7684\u6a21\u677f\u5b9e\u4f8b\u5316\u6709\u6240\u4e0d\u540c\uff0c\u5b9e\u4f8b\u5316\u5b9a\u4e49\u4f1a\u628a\u6a21\u677f\u6240\u6709\u6210\u5458\u90fd\u5b9e\u4f8b\u5316\u51fa\u6765</p>","tags":["c/c++"]},{"location":"foundation/cpp/65.cpp-template-tricks/#6","title":"6. \u8fd4\u56de\u7c7b\u578b\u63a8\u5bfc","text":"<p>\u5199\u6cd51\u548c2\u7b49\u4ef7\uff0c\u90fd\u662f\u6309decltype\u7684\u63a8\u5bfc\u89c4\u5219\u63a8\u5bfc\uff0c\u5199\u6cd53\u662f\u6309\u6a21\u677f\u7c7b\u578b\u63a8\u5bfc\u89c4\u5219\u53bb\u63a8\u5bfc</p> <p>\u5199\u6cd51\uff1a</p> <pre><code>template&lt;typename Container, typename Index&gt; \nauto authAndAccess(Container&amp; c, Index i ) -&gt; decltype(c[i])\n{\n    authenticateUser(); \n    return c[i]; \n} \n</code></pre> <p>\u5199\u6cd52\uff1a\u4f7f\u7528<code>decltype(auto)</code>\u8ba9auto\u7684\u63a8\u5bfc\u91c7\u7528decltype\u7684\u89c4\u5219</p> <pre><code> template&lt;typename Container, typename Index&gt; \ndecltype(auto) \nauthAndAccess(Container&amp; c, Index i)\n{\n    authenticateUser(); \n    return c[i]; \n}\n</code></pre> <p>\u5199\u6cd53\uff1a</p> <pre><code> template&lt;typename Container, typename Index&gt; \nauto\nauthAndAccess(Container&amp; c, Index i)\n{\n    authenticateUser(); \n    return c[i]; \n}\n</code></pre>","tags":["c/c++"]},{"location":"foundation/cpp/65.cpp-template-tricks/#7","title":"7. \u7c7b\u578b\u8f6c\u6362\u6a21\u677f","text":"<p>\u5b9a\u4e49\u5728\u5934\u6587\u4ef6<code>type_traits</code>\u4e2d\uff0c\u5c5e\u4e8e\u6a21\u677f\u5143\u7f16\u7a0b\u7684\u8303\u7574</p> <ul> <li><code>remove_reference</code></li> <li><code>add_const</code></li> <li><code>add_lvalue_reference</code></li> <li><code>add_rvalue_reference</code></li> <li><code>remove_pointer</code></li> <li><code>add_pointer</code></li> <li><code>make_signed</code></li> <li><code>make_unsigned</code></li> <li><code>remove_extent</code>: x[n] -&gt; x</li> <li><code>remove_all_extents</code>: x[n1][n2] -&gt; x</li> </ul>","tags":["c/c++"]},{"location":"foundation/cpp/65.cpp-template-tricks/#8","title":"8. \u5b8c\u7f8e\u8f6c\u53d1","text":"<p>\u4f8b\u5b50</p> <pre><code>template&lt;typename T&gt;\nvoid f(F f, T &amp;&amp; arg)\n{\n    f(std::forward&lt;T&gt;(arg));    //\u5c06\u53c2\u6570arg\u5b8c\u7f8e\u8f6c\u53d1\u7ed9\u51fd\u6570f\n}\n</code></pre> <p>\u4e3a\u5565\u9700\u8981\u5b8c\u7f8e\u8f6c\u53d1\uff1f</p> <p>\u6211\u4eec\u77e5\u9053\uff0c\u6839\u636e\u6a21\u677f\u7c7b\u578b\u63a8\u5bfc\u8fc7\u7a0b\uff0c\u5f53\u53c2\u6570\u7c7b\u578b\u4e3a<code>T&amp;&amp; arg</code>\u8fd9\u6837\u7684\u53f3\u503c\u5f15\u7528\u65f6\uff0c\u5982\u679c\u4f20\u5165\u53c2\u6570\u662f\u4e2a\u5de6\u503c\uff0cT\u4f1a\u63a8\u5bfc\u4e3a<code>Type &amp;</code>, \u51fd\u6570\u53c2\u6570\u4f1a\u63a8\u5bfc\u4e3a<code>Type &amp; arg</code>\uff0c\u5982\u679c\u4f20\u5165\u53c2\u6570\u662f\u4e2a\u53f3\u503c\uff0cT\u4f1a\u63a8\u5bfc\u4e3a<code>Type</code>, \u51fd\u6570\u53c2\u6570\u4f1a\u63a8\u5bfc\u4e3a<code>Type &amp;&amp; arg</code>\uff0c\u8fd9\u6837\u770b\u8d77\u6765\u4f3c\u4e4e\u662f\u591f\u7528\u7684\uff0c\u4f20\u5165\u53c2\u6570\u662f\u5de6\u503c\uff0c\u53c2\u6570\u7c7b\u578b\u5c31\u63a8\u5bfc\u4e3a\u5de6\u503c\uff0c\u4f20\u5165\u53c2\u6570\u662f\u53f3\u503c\uff0c\u53c2\u6570\u7c7b\u578b\u5c31\u63a8\u5bfc\u4e3a\u53f3\u503c\uff0c\u4f46\u662f\uff0c\u5982\u679c\u6211\u4eec\u9700\u8981\u5728\u51fd\u6570\u5185\u8c03\u7528\u4e00\u4e2a\u5176\u4ed6\u51fd\u6570\uff0c\u5c06\u53c2\u6570\u900f\u4f20\u7ed9\u5b83\uff0c\u5c31\u4f1a\u6709\u95ee\u9898\uff0c\u56e0\u4e3a\u5373\u4f7f\u51fd\u6570\u53c2\u6570\u7c7b\u578b\u662f\u4e2a\u53f3\u503c\u5f15\u7528\uff0c\u5b9e\u9645\u4f20\u5165\u7684\u53c2\u6570\u5728\u51fd\u6570\u5185\u90e8\u4f7f\u7528\u65f6\uff0c\u4ecd\u7136\u4f1a\u89c6\u4e3a\u5de6\u503c\u8868\u8fbe\u5f0f\uff0c\u5982\u679c\u88ab\u8c03\u7528\u51fd\u6570\u7684\u53c2\u6570\u662f\u4e2a\u53f3\u503c\u5f15\u7528\uff0c\u5c31\u4f1a\u7f16\u8bd1\u5931\u8d25\u3002</p> <p>\u56e0\u6b64\uff0cc++\u5f15\u5165\u4e86<code>std::forward&lt;T&gt;</code>\u914d\u5408<code>T &amp;&amp; arg</code>\u4f7f\u7528\uff0c\u6765\u4fdd\u6301\u4f20\u5165\u53c2\u6570\u7684\u7c7b\u578b\uff0c\u5c06\u53c2\u6570\u900f\u4f20\u7ed9\u5176\u4ed6\u51fd\u6570</p>","tags":["c/c++"]},{"location":"foundation/cpp/65.cpp-template-tricks/#9","title":"9. \u53ef\u53d8\u53c2\u6570\u6a21\u677f","text":"<pre><code>template&lt;typename T, typename... Args&gt;\nvoid foo(const T&amp; t, const Args&amp;... rest)\n</code></pre> <p>\u4f7f\u7528<code>sizeof</code>\u83b7\u53d6\u53ef\u53d8\u53c2\u6570\u7684\u6570\u91cf</p> <pre><code>template&lt;typename... T&gt;\nvoid afunc(const T&amp;... args)\n{\n    std::cout &lt;&lt; sizeof...(args) &lt;&lt; std::endl;\n}\n</code></pre> <p>\u53ef\u53d8\u53c2\u6570\u6a21\u677f\u7528\u6765\u7f16\u5199\u9012\u5f52\u51fd\u6570\u5f88\u65b9\u4fbf</p> <pre><code>template&lt;typename T&gt;\nstd::ostream&amp; Print(std::ostream&amp; os, const T&amp; t)\n{\n    return os &lt;&lt; t;\n}\n\ntemplate&lt;typename T, typename... Args&gt;\nstd::ostream&amp; Print(std::ostream&amp; os, const T&amp; t, const Args&amp;... args)\n{\n    os &lt;&lt; t &lt;&lt; \", \";\n    return Print(os, args...);\n}\n</code></pre> <p>\u5bf9\u5305\u6269\u5c55\u7684\u6bcf\u4e2a\u53c2\u6570\u8c03\u7528\u51fd\u6570</p> <pre><code>template&lt;typename T, typename... Args&gt;\nstd::ostream&amp; Print(std::ostream&amp; os, const T&amp; t, const Args&amp;... args)\n{\n    os &lt;&lt; t &lt;&lt; \", \";\n    return Print(os, debug_rep(args)...);   //\u5bf9\u53c2\u6570\u5305args\u4e2d\u7684\u6bcf\u4e2a\u53c2\u6570\u8c03\u7528\u51fd\u6570debug_rep\n}\n</code></pre> <p>\u5305\u6269\u5c55\u5b8c\u7f8e\u8f6c\u53d1</p> <pre><code>template&lt;typename... Args&gt;\nvoid func(Args&amp;&amp;... args)\n{\n    f(std::forward&lt;Args&gt;(args)...);\n}\n</code></pre>","tags":["c/c++"]},{"location":"foundation/cpp/65.cpp-template-tricks/#10","title":"10. \u6a21\u677f\u7279\u5316","text":"<p>\u51fd\u6570\u6a21\u677f\u7279\u5316</p> <pre><code>template&lt;&gt;\nvoid func(const char* s)\n{\n    ...\n}\n</code></pre> <p>\u7c7b\u6a21\u677f\u7279\u5316</p> <pre><code>template&lt;&gt;\nclass hash&lt;Data&gt;{\n    ...\n}\n</code></pre> <p>\u7c7b\u6a21\u677f\u90e8\u5206\u7279\u5316</p> <p>\u6a21\u677f\u53c2\u6570\u90e8\u5206\u7279\u5316\uff1a</p> <pre><code>template&lt;typename T&gt;\nclass Foo&lt;T&amp;&gt;{  //\u53ea\u63a5\u53d7\u5de6\u503c\u5f15\u7528\u53c2\u6570\n    ...\n}\n</code></pre> <p>\u6210\u5458\u51fd\u6570\u90e8\u5206\u7279\u5316\uff1a</p> <pre><code>template&lt;&gt;\nvoid Foo&lt;int&gt;::Bar(){\n    ...\n}\n</code></pre>","tags":["c/c++"]},{"location":"foundation/cpp/66.cpp-stl-tricks/","title":"c++ STL\u4f7f\u7528\u6280\u5de7","text":"","tags":["c/c++"]},{"location":"foundation/cpp/66.cpp-stl-tricks/#_1","title":"\u53c2\u8003","text":"<ul> <li>\u300aC++ Primer \u7b2c5\u7248\u300b</li> </ul>","tags":["c/c++"]},{"location":"foundation/cpp/66.cpp-stl-tricks/#1","title":"1. \u5bb9\u5668\u7c7b\u578b","text":"<ul> <li>\u987a\u5e8f\u5bb9\u5668<ul> <li>\u8fde\u7eed\u5185\u5b58<ul> <li>vector</li> <li>deque\uff1a\u53cc\u7aef\u961f\u5217</li> <li>array\uff1a\u56fa\u5b9a\u5927\u5c0f</li> <li>string</li> </ul> </li> <li>\u94fe\u8868<ul> <li>list\uff1a\u53cc\u5411\u94fe\u8868</li> <li>forward_list\uff1a\u5355\u5411\u94fe\u8868</li> </ul> </li> <li>\u987a\u5e8f\u5bb9\u5668\u9002\u914d\u5668<ul> <li>stack</li> <li>queue</li> <li>priority_queue\uff1a\u5806\uff0c\u9ed8\u8ba4\u4f7f\u7528<code>&lt;</code>\u8fd0\u7b97\u7b26\u786e\u5b9a\u4f18\u5148\u7ea7\uff0c\u9ed8\u8ba4\u662f\u4e2a\u6700\u5927\u5806</li> </ul> </li> </ul> </li> </ul>","tags":["c/c++"]},{"location":"foundation/cpp/66.cpp-stl-tricks/#2","title":"2. \u548c\u5bb9\u5668\u5927\u5c0f\u6709\u5173\u7684\u64cd\u4f5c","text":"<ul> <li>\u5927\u5c0f<ul> <li><code>empty</code></li> <li><code>size</code></li> <li><code>max_size</code>\uff1a\u8fd4\u56de\u8be5\u7c7b\u578b\u5bb9\u5668\u80fd\u5bb9\u7eb3\u7684\u6700\u5927\u5143\u7d20\u6570\u91cf</li> <li><code>resize</code>\uff1a\u6539\u53d8\u5bb9\u5668\u5927\u5c0f</li> </ul> </li> <li>\u5bb9\u91cf<ul> <li><code>capacity</code>\uff1a\u8fd4\u56de\u5bb9\u5668\u7684\u5bb9\u91cf\uff0c\u5373\u4e0d\u91cd\u65b0\u5206\u914d\u5185\u5b58\u7684\u60c5\u51b5\u4e0b\uff0c\u5bb9\u5668\u6700\u591a\u80fd\u4fdd\u5b58\u7684\u5143\u7d20</li> <li><code>reserve</code>\uff1a\u4e0d\u6539\u53d8\u5bb9\u5668\u5927\u5c0f\uff0c\u6539\u53d8\u5bb9\u5668\u7684\u5bb9\u91cf\uff08\u53ea\u80fd\u6269\u5927\uff0c\u4e0d\u80fd\u7f29\u5c0f\uff09</li> <li><code>shrink_to_fit</code>\uff1a\u5c06\u5bb9\u91cf\u7f29\u5c0f\u5230\u548c\u5927\u5c0f\u4e00\u81f4</li> </ul> </li> </ul>","tags":["c/c++"]},{"location":"foundation/cpp/66.cpp-stl-tricks/#3","title":"3. \u5185\u5b58\u64cd\u4f5c","text":"<ul> <li>assign\uff1a\u5bb9\u5668\u8d4b\u503c\uff0c\u53ef\u4ee5\u5728\u5bb9\u5668\u5bf9\u8c61\u6784\u9020\u51fa\u6765\u4ee5\u540e\u4ecd\u80fd\u4f7f\u7528\u6784\u9020\u8bed\u6cd5\u7ed9\u5bf9\u8c61\u8d4b\u503c\uff0c\u7c7b\u4f3c\u4e8e\u91cd\u65b0\u6784\u9020</li> <li>swap\uff1a\u5185\u5b58\u4ea4\u6362</li> </ul> <p>\u6ca1\u6709\u4e13\u95e8\u7684copy\u65b9\u6cd5\uff0c\u53ef\u4ee5\u4f7f\u7528\u62f7\u8d1d\u6784\u9020\uff0c\u62f7\u8d1d\u8d4b\u503c\u8fd0\u7b97\u7b26\uff0c\u548cstd::copy</p>","tags":["c/c++"]},{"location":"foundation/cpp/66.cpp-stl-tricks/#4","title":"4. \u6dfb\u52a0\u548c\u5220\u9664\u5143\u7d20\u4f1a\u5bfc\u81f4\u5bb9\u5668\u8fed\u4ee3\u5668\u5931\u6548","text":"<p>\u5e38\u89c1\u4ee3\u7801\u6392\u9519\u9898</p> <p>\u5982\u679c\u5728\u904d\u5386\u5bb9\u5668\u7684\u8fc7\u7a0b\u4e2dinsert\u548cerase\uff0c\u9700\u8981\u5728\u64cd\u4f5c\u5b8c\u540e\u66f4\u65b0\u8fed\u4ee3\u5668\uff0c\u4fdd\u8bc1\u8fed\u4ee3\u5668\u7684\u6709\u6548\u6027</p>","tags":["c/c++"]},{"location":"foundation/cpp/66.cpp-stl-tricks/#5-vector","title":"5. vector\u5bf9\u8c61\u662f\u5982\u4f55\u589e\u957f\u7684","text":"<p>vector\u9884\u5148\u5206\u914d\u7684\u5bb9\u91cf\uff08capacity\uff09\u4f1a\u6bd4size\u5927\u4e00\u4e9b\uff0c\u5f53capacity\u4e0d\u8db3\u65f6\uff0c\u4f1a\u53d1\u751f\u6269\u5bb9\uff0c\u6269\u5bb9\u7684\u5927\u5c0f\u6839\u636e\u6807\u51c6\u5e93\u5b9e\u73b0\u800c\u5b9a\u3002</p> <p>\u6269\u5bb9\u662f\u5206\u914d\u4e00\u6bb5\u65b0\u7684\u5185\u5b58\uff0c\u79fb\u52a8\u6216\u62f7\u8d1d\u539f\u6709\u5143\u7d20\u5230\u65b0\u5185\u5b58\u4e2d\uff0c\u7136\u540e\u91ca\u653e\u539f\u6709\u5185\u5b58\u3002</p>","tags":["c/c++"]},{"location":"foundation/cpp/66.cpp-stl-tricks/#6-bind","title":"6. \u51fd\u6570\u9002\u914d\u5668bind","text":"<p>\u5728\u4e0b\u9762\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0cg\u662f\u4e00\u4e2a\u53ef\u8c03\u7528\u5bf9\u8c61\uff0cf\u662f\u88ab\u9002\u914d\u7684\u51fd\u6570</p> <pre><code>auto g = bind(f, a, b, _2, c, _1);\n</code></pre> <p>_1\u548c_2\u4ee3\u8868g\u53ea\u6709\u4e24\u4e2a\u53c2\u6570\uff0c_1\u5bf9\u5e94g\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\uff0c_2\u5bf9\u5e94g\u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570</p> <p>a,b,_2,c,_1\u5206\u522b\u5bf9\u5e94\u51fd\u6570f\u7684\u7b2c\u4e00\u3001\u4e8c\u3001\u4e09\u3001\u56db\u3001\u4e94\u4e2a\u53c2\u6570</p> <p>\u5373\uff0c\u8c03\u7528 <code>g(_1,_2)</code> \u4f1a\u8f6c\u6362\u4e3a <code>f(a, b, _2, c, _1)</code></p> <p>\u540d\u5b57 <code>_n</code> \u5b9a\u4e49\u5728 <code>std::placeholders</code> \u4e2d\uff0c\u4f8b\u5982 <code>std::placeholders::_1</code></p>","tags":["c/c++"]},{"location":"foundation/cpp/66.cpp-stl-tricks/#7","title":"7. \u83b7\u53d6\u6570\u7ec4\u7684\u8fed\u4ee3\u5668","text":"<p>\u53ef\u4ee5\u901a\u8fc7<code>std::begin()</code>, <code>std::end()</code>,<code>std::rbegin()</code>, <code>std::rend()</code>\u7b49\u64cd\u4f5c\u83b7\u53d6\u6570\u7ec4\u7684\u8fed\u4ee3\u5668\uff0c\u83b7\u53d6\u5230\u7684\u5b9e\u9645\u4e0a\u5c31\u662f\u6307\u5411\u6570\u7ec4\u5143\u7d20\u7684\u6307\u9488</p> <p>\u5bb9\u5668\u7684\u8fed\u4ee3\u5668\u4e5f\u80fd\u7528\u8fd9\u51e0\u4e2a\u51fd\u6570\u83b7\u53d6</p>","tags":["c/c++"]},{"location":"foundation/cpp/66.cpp-stl-tricks/#8","title":"8. \u51e0\u79cd\u7279\u6b8a\u8fed\u4ee3\u5668","text":"","tags":["c/c++"]},{"location":"foundation/cpp/66.cpp-stl-tricks/#_2","title":"\u63d2\u5165\u8fed\u4ee3\u5668","text":"<p>\u4e00\u79cd\u8fed\u4ee3\u5668\u9002\u914d\u5668\uff0c\u7ed1\u5b9a\u5230\u5bb9\u5668\uff0c\u7528\u6765\u5411\u5bb9\u5668\u63d2\u5165\u5143\u7d20 - <code>back_inserter</code>\uff1a\u4f7f\u7528<code>push_back</code> - <code>front_inserter</code>\uff1a\u4f7f\u7528<code>push_front</code> - <code>inserter</code>\uff1a\u4f7f\u7528<code>insert</code></p> <p>\u5bf9\u4e8e\u63d2\u5165\u8fed\u4ee3\u5668\uff0c<code>*it</code>,<code>it++</code>,<code>++it</code>\u8fd9\u4e9b\u64cd\u4f5c\u867d\u7136\u5b58\u5728\uff0c\u4f46\u662f\u4ec0\u4e48\u90fd\u4e0d\u4f1a\u505a\uff0c\u76f4\u63a5\u8fd4\u56de<code>it</code></p> <p>\u4f8b\u5b50\uff1a</p> <pre><code>std::vector&lt;int&gt; va = {5,6,7};\nauto it = std::inserter(va,va.begin()+1);\n*it = 2;\n*it = 3;\n//\u7ed3\u679c\uff1a5\uff0c2\uff0c3\uff0c6\uff0c7\n\nstd::vector&lt;int&gt; va;\nauto it = std::back_inserter(va);\n*it = 2;\n*it = 3;\n//\u7ed3\u679c\uff1a2\uff0c3\n\nstd::vector&lt;int&gt; va = {5,6,7};\nstd::vector&lt;int&gt; vb;\nauto itb = std::back_inserter(vb);\nstd::copy(va.cbegin(), va.cend(), itb);\n//\u7ed3\u679c\uff1avb = 5,6,7\n</code></pre>","tags":["c/c++"]},{"location":"foundation/cpp/66.cpp-stl-tricks/#_3","title":"\u6d41\u8fed\u4ee3\u5668","text":"<p>\u7ed1\u5b9a\u5230\u8f93\u5165\u8f93\u51fa\u6d41\u4e0a\uff0c\u7528\u6765\u904d\u5386io\u6d41</p> <ul> <li><code>istream_iterator&lt;T&gt;</code>\uff1a\u4f7f\u7528<code>T</code>\u7684<code>&gt;&gt;</code>\u64cd\u4f5c\u7b26\u8bfb\u53d6\u6d41</li> <li><code>ostream_iterator&lt;T&gt;</code>\uff1a\u4f7f\u7528<code>T</code>\u7684<code>&lt;&lt;</code>\u64cd\u4f5c\u7b26\u8bfb\u53d6\u6d41     \u548c\u63d2\u5165\u8fed\u4ee3\u5668\u7c7b\u4f3c\uff0c<code>*it</code>,<code>it++</code>,<code>++it</code>\u8fd9\u4e9b\u64cd\u4f5c\u867d\u7136\u5b58\u5728\uff0c\u4f46\u662f\u4ec0\u4e48\u90fd\u4e0d\u4f1a\u505a\uff0c\u76f4\u63a5\u8fd4\u56de<code>it</code></li> </ul> <p><code>istream_iterators</code>\u4f7f\u7528\u4f8b\u5b50</p> <pre><code>//\u4f8b\u4e00\nstd::istream_iterator&lt;int&gt; in_iter(std::cin);\nstd::istream_iterator&lt;int&gt; eof;\nwhile (in_iter != eof)\n{\n    std::cout &lt;&lt; *in_iter &lt;&lt; std::endl;\n    in_iter++;\n}\n\n//\u4f8b\u4e8c\nstd::istream_iterator&lt;int&gt; in_iter(std::cin);\nstd::istream_iterator&lt;int&gt; eof;\nstd::vector&lt;int&gt; va(in_iter, eof);\n</code></pre> <p>\u4e24\u79cd\u5b57\u7b26\u4e32split\u5199\u6cd5</p> <pre><code>template&lt;typename T&gt;\nint StringSplitBySpace2(const char* str, std::vector&lt;T&gt;&amp; parts)\n{\n    parts.resize(0);\n    std::stringstream ss(str);\n    std::istream_iterator&lt;T&gt; in_iter(ss);\n    std::istream_iterator&lt;T&gt; eof;\n    while (in_iter != eof)\n    {\n        parts.push_back(*in_iter++);\n    }\n    return parts.size();\n}\n\ntemplate&lt;typename T&gt;\nstd::vector&lt;T&gt; StringSplitBySpace2(const char* str)\n{\n    std::stringstream ss(str);\n    std::istream_iterator&lt;T&gt; in_iter(ss);\n    std::istream_iterator&lt;T&gt; eof;\n    return std::move(std::vector&lt;T&gt;(in_iter, eof));\n}\n</code></pre> <p><code>ostream_iterators</code>\u4f7f\u7528\u4f8b\u5b50</p> <pre><code>//\u4f8b\u4e00\n//\u53c2\u6570\"\\n\"\u4ee3\u8868\u4e3a\u6bcf\u4e2a\u8f93\u51fa\u7684\u503c\u540e\u9762\u62fc\u63a5\u4e00\u4e2a\u6362\u884c\u7b26\nstd::ostream_iterator&lt;int&gt; osIt(std::cout, \"\\n\");\n*osIt = 1;\n*osIt = 2;\n\n//\u4f8b\u4e8c\nstd::ostream_iterator&lt;int&gt; osIt(std::cout, \"\\n\");\nstd::vector&lt;int&gt; va{ 1,2,3 };\nstd::copy(va.begin(), va.end(), osIt);\n</code></pre>","tags":["c/c++"]},{"location":"foundation/cpp/66.cpp-stl-tricks/#_4","title":"\u53cd\u5411\u8fed\u4ee3\u5668","text":"<p>\u7528\u6765\u5012\u5e8f\u904d\u5386</p> <pre><code>std::vector&lt;int&gt;::reverse_iterator it = va.rbegin();\n</code></pre>","tags":["c/c++"]},{"location":"foundation/cpp/66.cpp-stl-tricks/#_5","title":"\u79fb\u52a8\u8fed\u4ee3\u5668","text":"<p>\u79fb\u52a8\uff0c\u800c\u4e0d\u662f\u62f7\u8d1d\u5143\u7d20</p> <p>\u4f7f\u7528<code>make_move_iterator</code>\u8bb2\u4e00\u4e2a\u666e\u901a\u8fed\u4ee3\u5668\u8f6c\u6362\u4e3a\u79fb\u52a8\u8fed\u4ee3\u5668\uff0c\u4f8b\u5982</p> <pre><code>std::vector&lt;int&gt; va{ 1,2,3 };\nstd::make_move_iterator(va.begin());\n</code></pre> <p>\u5bf9\u79fb\u52a8\u8fed\u4ee3\u5668\u89e3\u5f15\u7528\u4f1a\u5f97\u5230\u4ed6\u7684\u53f3\u503c\u5f15\u7528</p> <p><code>std::uninitialized_copy</code>\u53ef\u4ee5\u5c06\u4e00\u7cfb\u5217\u5bf9\u8c61\u62f7\u8d1d\u5230\u672a\u521d\u59cb\u5316\u7684\u5185\u5b58\u4e0a\u53bb\uff0c\u5982\u679c\u628a\u79fb\u52a8\u8fed\u4ee3\u5668\u4f5c\u7528\u4e8e<code>std::uninitialized_copy</code>\uff0c\u5219\u901a\u8fc7\u79fb\u52a8\u64cd\u4f5c\u6784\u9020\u5bf9\u8c61</p>","tags":["c/c++"]},{"location":"foundation/cpp/66.cpp-stl-tricks/#9","title":"9. \u4e94\u7c7b\u8fed\u4ee3\u5668","text":"<p>\u7b97\u6cd5\u8981\u6c42\u7684\u8fed\u4ee3\u5668\u5206\u4e3a5\u7c7b\uff0c\u6bcf\u4e2a\u7b97\u6cd5\u90fd\u4f1a\u8981\u6c42\u5177\u4f53\u7684\u8fed\u4ee3\u5668\u7c7b\u578b\u3002</p> <ul> <li>\u8f93\u5165\u8fed\u4ee3\u5668\uff1a\u53ea\u8bfb\uff0c\u4e0d\u5199\uff1b\u5355\u904d\u626b\u63cf\uff0c\u53ea\u80fd\u9012\u589e\u3002 \u4f8b\u5982\uff0c<code>istream_iterator</code>\u662f\u4e00\u79cd\u8f93\u5165\u8fed\u4ee3\u5668\u3002</li> <li>\u8f93\u51fa\u8fed\u4ee3\u5668\uff1a\u53ea\u5199\uff0c\u4e0d\u8bfb\uff1b\u5355\u904d\u626b\u63cf\uff0c\u53ea\u80fd\u9012\u589e\u3002 \u4f8b\u5982\uff1a<code>ostream_iterator</code>\u548c \u63d2\u5165\u8fed\u4ee3\u5668\u90fd\u662f\u8f93\u51fa\u8fed\u4ee3\u5668\u3002</li> <li>\u524d\u5411\u8fed\u4ee3\u5668\uff1a\u53ef\u8bfb\u5199\uff0c\u591a\u904d\u626b\u63cf\uff0c\u53ea\u80fd\u9012\u589e\u3002 <code>forward_list</code>\u4e0a\u7684\u8fed\u4ee3\u5668\u662f\u524d\u5411\u8fed\u4ee3\u5668\u3002</li> <li>\u53cc\u5411\u8fed\u4ee3\u5668\uff1a\u53ef\u8bfb\u5199\uff0c\u591a\u904d\u626b\u63cf\uff0c\u53ef\u9012\u589e\u9012\u51cf\u3002 \u9664\u4e86<code>forward_list</code>\u5916\uff0c\u5176\u4ed6\u6807\u51c6\u5e93\u5bb9\u5668\u90fd\u63d0\u4f9b\u53cc\u5411\u8fed\u4ee3\u5668\u3002</li> <li>\u968f\u673a\u8bbf\u95ee\u8fed\u4ee3\u5668\uff1a\u53ef\u8bfb\u5199\uff0c\u591a\u904d\u626b\u63cf\uff0c\u652f\u6301\u5168\u90e8\u8fed\u4ee3\u5668\u8fd0\u7b97\u3002 <code>array</code>\u3001<code>deque</code>\u3001<code>string</code>\u3001<code>vector</code>\u7684\u8fed\u4ee3\u5668\u90fd\u662f\u968f\u673a\u8bbf\u95ee\u8fed\u4ee3\u5668\u3002 \u6ce8\u610f\uff1a\u53ea\u6709\u987a\u5e8f\u5bb9\u5668\u624d\u6709\u968f\u673a\u8bbf\u95ee\u8fed\u4ee3\u5668\uff0c\u53ea\u6709\u987a\u5e8f\u5bb9\u5668\u624d\u80fd\u7528\u4e0b\u6807\u8bbf\u95ee\u5143\u7d20\u3002\u987a\u5e8f\u5bb9\u5668\u672c\u8eab\u548c\u987a\u5e8f\u5bb9\u5668\u7684\u8fed\u4ee3\u5668\u90fd\u6709\u4e0b\u6807\u8fd0\u7b97\u7b26<code>\"[]\"</code>\u3002\uff08\u89c1\u4e66\u4e2d\u7b2c310\u9875\u548c\u7b2c367\u9875\uff09</li> </ul>","tags":["c/c++"]},{"location":"foundation/cpp/66.cpp-stl-tricks/#10-mapset","title":"10. map\u548cset","text":"","tags":["c/c++"]},{"location":"foundation/cpp/66.cpp-stl-tricks/#key","title":"key\u7c7b\u578b","text":"<p>map\u9ed8\u8ba4\u4f7f\u7528key\u7684<code>&lt;</code>\u8fd0\u7b97\u7b26\u6bd4\u5927\u5c0f</p>","tags":["c/c++"]},{"location":"foundation/cpp/66.cpp-stl-tricks/#_6","title":"\u4e0b\u6807\u64cd\u4f5c","text":"<p>\u5047\u8bbec\u662f\u4e00\u4e2amap:</p> <ul> <li><code>c[k]</code>\uff1a\u8fd4\u56dekey\u4e3ak\u7684\u5143\u7d20\u7684\u5f15\u7528\uff0c\u5982\u679ck\u4e0d\u5b58\u5728\uff0c\u5219\u6dfb\u52a0\u4e00\u4e2akey\u4e3ak\u7684\u5143\u7d20\uff0c\u5e76\u5bf9\u5176\u503c\u8fdb\u884c\u503c\u521d\u59cb\u5316\uff08Value-initialization\uff09</li> <li><code>c.at(k)</code>\uff1a\u8fd4\u56dekey\u4e3ak\u7684\u5143\u7d20\u7684\u5f15\u7528\uff0c\u5982\u679ck\u4e0d\u5b58\u5728\uff0c\u629b\u51fa\u4e00\u4e2aout_of_range\u5f02\u5e38</li> </ul> <p>\u5173\u4e8e\u503c\u521d\u59cb\u5316\uff0c\u53c2\u8003https://en.cppreference.com/w/cpp/language/value_initialization</p> <p>C++\u4e2d\u6709\u5404\u79cd\u7c7b\u578b\u7684\u521d\u59cb\u5316\uff0c\u503c\u521d\u59cb\u5316\uff0c\u7b80\u800c\u8a00\u4e4b\uff0c\u5bf9\u4e8e\u5185\u7f6e\u7c7b\u578b\uff08int, double\u7b49\uff09\uff0c\u4f1a\u7ed9\u4e00\u4e2a\u521d\u59cb\u503c\uff0c\u800c\u9ed8\u8ba4\u521d\u59cb\u5316\uff08Default-initialization\uff09\u662f\u4e0d\u4f1a\u7ed9\u5185\u7f6e\u7c7b\u578b\u521d\u59cb\u503c\u7684\u3002</p>","tags":["c/c++"]},{"location":"foundation/cpp/66.cpp-stl-tricks/#11","title":"11. \u65e0\u5e8f\u5bb9\u5668","text":"<p><code>unordered_map</code>\u548c<code>unordered_set</code>\u5c5e\u4e8e\u65e0\u5e8f\u5bb9\u5668\uff0c\u4f7f\u7528hash\u8868\u5b58\u50a8\uff0c\u4f7f\u7528\u201c\u6876\u201d\u89e3\u51b3hash\u51b2\u7a81</p>","tags":["c/c++"]},{"location":"foundation/cpp/66.cpp-stl-tricks/#hash","title":"hash\u7b56\u7565","text":"<ul> <li>load_factor\uff0c\u8d1f\u8f7d\u56e0\u5b50\uff0c\u8868\u793a\u6bcf\u4e2a\u6876\u7684\u5e73\u5747\u5143\u7d20\u6570\u91cf\uff0c\u662f\u4e2afloat\u503c\uff0c\u53ef\u4ee5\u7528<code>c.load_factor()</code>\u83b7\u53d6</li> <li>max_load_factor\uff0c\u6700\u5927\u8d1f\u8f7d\u56e0\u5b50\uff0c\u8868\u793a\u6bcf\u4e2a\u6876\u7684\u6700\u5927\u5143\u7d20\u6570\u91cf\uff0c\u4e5f\u662f\u4e2afloat\u503c\uff0c\u53ef\u4ee5\u7528<code>c.max_load_factor()</code>\u83b7\u53d6\uff0cmap\u4f1a\u6839\u636e\u9700\u8981\u589e\u52a0\u6876\u7684\u6570\u91cf\uff0c\u4f7f\u5f97load_factor \u2264 max_load_factor</li> <li><code>rehash(n)</code>\uff0c\u91cd\u7ec4\u5b58\u50a8\uff0c\u4f7f bucket_count \u2265 n\uff0c\u5e76\u4e14\u4fdd\u8bc1 bucket_count \u2265 size/max_load_factor\uff0c\u5373\u4fdd\u8bc1\u8d1f\u8f7d\u56e0\u5b50\u4e0d\u8d85\u8fc7\u6700\u5927\u8d1f\u8f7d\u56e0\u5b50</li> <li><code>reserve(n)</code>, \u91cd\u7ec4\u5b58\u50a8\uff0c\u4f7fmap\u53ef\u4ee5\u4fdd\u5b58n\u4e2a\u5143\u7d20\u4e14\u4e0d\u9700\u8981rehash\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u53ea\u8981\u5143\u7d20\u6570\u4e0d\u8d85\u8fc7n\uff0c\u5c31\u4e0d\u4f1arehash\uff0c\u8fed\u4ee3\u5668\u5c31\u4e0d\u4f1a\u5931\u6548</li> </ul>","tags":["c/c++"]},{"location":"foundation/cpp/66.cpp-stl-tricks/#key_1","title":"key\u7c7b\u578b","text":"<p>\u65e0\u5e8f\u5bb9\u5668\u9ed8\u8ba4\u4f7f\u7528<code>==</code>\u8fd0\u7b97\u7b26\u6bd4\u8f83\u5143\u7d20\uff0c\u5e76\u4e14\u7528<code>hash&lt;T&gt;</code>\u8ba1\u7b97\u5143\u7d20\u7684hash\u503c</p> <p>\u53ef\u4ee5\u901a\u8fc7\u5728std\u547d\u540d\u7a7a\u95f4\u7279\u5316\u4e00\u4e2ahash\u6a21\u677f\u6765\u8ba9\u81ea\u5b9a\u4e49\u7c7b\u578b\u505akey</p>","tags":["c/c++"]},{"location":"foundation/cpp/67.cpp-operator-overloading-tricks/","title":"c++ \u8fd0\u7b97\u7b26\u91cd\u8f7d\u4f7f\u7528\u6280\u5de7","text":"","tags":["c/c++"]},{"location":"foundation/cpp/67.cpp-operator-overloading-tricks/#1","title":"1. \u57fa\u672c\u6982\u5ff5","text":"<p>\u53ea\u6709\u4e00\u5143\u548c\u4e8c\u5143\u8fd0\u7b97\u7b26\u80fd\u88ab\u91cd\u8f7d\uff0c\u4e09\u5143\u8fd0\u7b97\u7b26\u4e0d\u80fd\u91cd\u8f7d</p> <p>\u5bf9\u4e8e\u4e8c\u5143\u8fd0\u7b97\u7b26\uff0c \u91cd\u8f7d\u8fd0\u7b97\u7b26\u51fd\u6570\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u5bf9\u5e94\u5de6\u4fa7\u8fd0\u7b97\u5bf9\u8c61\uff0c\u5982\u679c\u662f\u6210\u5458\u51fd\u6570\u91cd\u8f7d\uff0c\u53ea\u6709\u4e00\u4e2a\u53c2\u6570\uff0c\u5de6\u4fa7\u8fd0\u7b97\u5bf9\u8c61\u5bf9\u5e94<code>*this</code></p> <p></p> <p>\u4e0d\u63a8\u8350\u91cd\u8f7d\u7684\u8fd0\u7b97\u7b26\uff1a - \u903b\u8f91\u6216\u3001\u903b\u8f91\u4e0e\uff1a\u91cd\u8f7d\u540e\u65e0\u6cd5\u4fdd\u8bc1\u6c42\u503c\u987a\u5e8f\uff0c\u65e0\u6cd5\u4fdd\u7559\u77ed\u8def\u6c42\u503c\u5c5e\u6027 - \u9017\u53f7\u548c\u53d6\u5730\u5740\u8fd0\u7b97\u7b26\u4e5f\u4e0d\u5b9c\u91cd\u8f7d</p> <p><code>=</code>\uff0c<code>+=</code>\u7b49\u8fd0\u7b97\u7b26\uff0c\u5e94\u5f53\u8fd4\u56de\u5de6\u4fa7\u8fd0\u7b97\u5bf9\u8c61\u7684\u5f15\u7528</p> <p>\u5177\u6709\u5bf9\u79f0\u6027\u7684\u8fd0\u7b97\u7b26\u5e94\u8be5\u662f\u975e\u6210\u5458\u7684\uff0c\u5305\u62ec\u7b97\u672f\u3001\u5173\u7cfb\u548c\u4f4d\u8fd0\u7b97\u7b26</p>","tags":["c/c++"]},{"location":"foundation/cpp/67.cpp-operator-overloading-tricks/#2","title":"2. \u8f93\u5165\u8f93\u51fa\u8fd0\u7b97\u7b26\u91cd\u8f7d","text":"<pre><code>//\u5fc5\u987b\u662f\u975e\u6210\u5458\u51fd\u6570\nostream &amp; operator&lt;&lt;(ostream &amp; os, const Foo&amp; foo)\n{\n    ...\n    return os;\n}\n</code></pre> <p>\u8f93\u51fa\u8fd0\u7b97\u7b26\u5e94\u5c3d\u91cf\u4e0d\u8981\u505a\u683c\u5f0f\u5316\u64cd\u4f5c\uff0c\u6bd4\u5982\u8f93\u51fa\u6362\u884c\u7b26\uff0c\u8f93\u51fa\u8fd0\u7b97\u7b26\u7684\u4e3b\u8981\u804c\u8d23\u662f\u8f93\u51fa\u800c\u4e0d\u662f\u683c\u5f0f\u63a7\u5236</p>","tags":["c/c++"]},{"location":"foundation/cpp/67.cpp-operator-overloading-tricks/#3","title":"3. \u533a\u5206\u524d\u7f6e\u548c\u540e\u7f6e\u8fd0\u7b97\u7b26","text":"<pre><code>Foo operator++(int)\n{\n    ...\n}\n</code></pre> <p>\u540e\u7f6e\u8fd0\u7b97\u7b26\u63a5\u53d7\u4e00\u4e2a\u989d\u5916\u7684int\u53c2\u6570\uff0c\u8fd9\u4e2a\u53c2\u6570\u6ca1\u7528\uff0c\u53ea\u662f\u4e3a\u4e86\u533a\u5206\u524d\u7f6e\u548c\u540e\u7f6e\u8fd0\u7b97\u7b26</p>","tags":["c/c++"]},{"location":"foundation/cpp/67.cpp-operator-overloading-tricks/#4","title":"4. \u89e3\u5f15\u7528\u8fd0\u7b97\u7b26\u548c\u7bad\u5934\u8fd0\u7b97\u7b26","text":"<p>\u89e3\u5f15\u7528\u8fd0\u7b97\u7b26<code>*</code>\u8981\u8fd4\u56de\u5f15\u7528</p> <p>\u7bad\u5934\u8fd0\u7b97\u7b26<code>-&gt;</code>\u8981\u8fd4\u56de\u6307\u9488</p>","tags":["c/c++"]},{"location":"foundation/cpp/67.cpp-operator-overloading-tricks/#5","title":"5. \u51fd\u6570\u5bf9\u8c61","text":"<p>\u91cd\u8f7d\u4e86\u51fd\u6570\u8c03\u7528\u8fd0\u7b97\u7b26\u540e\uff0c\u8be5\u7c7b\u7684\u5bf9\u8c61\u5c31\u53d8\u6210\u4e86\u51fd\u6570\u5bf9\u8c61</p> <pre><code>void operator()(const char* arg)\n{\n    ...\n}\n</code></pre> <p>lambda\u662f\u51fd\u6570\u5bf9\u8c61</p> <p>\u6807\u51c6\u5e93\u5b9a\u4e49\u7684\u51fd\u6570\u5bf9\u8c61\uff0c\u53ef\u4ee5\u5728\u6cdb\u578b\u7b97\u6cd5\u4e2d\u4f7f\u7528</p> <p></p> <p>\u901a\u7528function\u7c7b\u578b\uff1a<code>std::function&lt;int(int,int)&gt;</code></p>","tags":["c/c++"]},{"location":"foundation/cpp/67.cpp-operator-overloading-tricks/#6","title":"6. \u7c7b\u578b\u8f6c\u6362\u8fd0\u7b97\u7b26","text":"<p>\u7c7b\u7684\u7c7b\u578b\u8f6c\u6362\u7531\u4e24\u79cd\u51fd\u6570\u89e6\u53d1\uff1a\u6784\u9020\u51fd\u6570\u548c\u7c7b\u578b\u8f6c\u6362\u8fd0\u7b97\u7b26</p> <p>\u7c7b\u578b\u8f6c\u6362\u8fd0\u7b97\u7b26\u7684\u4e00\u822c\u5199\u6cd5</p> <pre><code>//\u6ca1\u6709\u8fd4\u56de\u503c\uff0c\u6ca1\u6709\u5f62\u53c2\uff0c\u5fc5\u987b\u662f\u6210\u5458\u51fd\u6570\noperator type() const\n{\n\n}\n</code></pre>","tags":["c/c++"]},{"location":"foundation/cpp/67.cpp-operator-overloading-tricks/#_1","title":"\u663e\u5f0f\u7c7b\u578b\u8f6c\u6362","text":"<pre><code>//\u548c\u663e\u5f0f\u6784\u9020\u51fd\u6570\u7c7b\u4f3c\nexplicit operator type() const\n{\n\n}\n</code></pre> <p>\u4f46\u5982\u679c\u8868\u8fbe\u5f0f\u88ab\u7528\u4f5c\u6761\u4ef6\uff0cexplicit\u4f1a\u5931\u6548</p> <p>\u9664\u4e86explicit\u7684bool\u7c7b\u578b\u8f6c\u6362\uff0c\u5176\u4ed6\u8f6c\u6362\u5c3d\u91cf\u4e0d\u8981\u53bb\u5b9a\u4e49\uff0c\u4e00\u65b9\u9762\u5bb9\u6613\u8ba9\u7528\u6237\u611f\u5230\u610f\u5916\uff0c\u53e6\u4e00\u65b9\u9762\u6709\u53ef\u80fd\u4f1a\u4ea7\u751f\u4e8c\u4e49\u6027</p>","tags":["c/c++"]},{"location":"foundation/cpp/67.cpp-operator-overloading-tricks/#7-","title":"7. \u5173\u4e8e<code>.*</code>\u548c<code>-&gt;*</code>\u8fd0\u7b97\u7b26","text":"<p><code>.*</code>\u548c<code>-&gt;*</code>\u662f\u7c7b\u6210\u5458\u6307\u9488\u64cd\u4f5c\u7b26\uff0c\u53c2\u8003\u300aC++ Primer \u7b2c5\u7248\u300b19.4\u8282</p> <p>\u6570\u636e\u6210\u5458\u6307\u9488\uff1a</p> <pre><code>//\u4e0d\u9488\u5bf9\u67d0\u4e2a\u7279\u5b9a\u5bf9\u8c61\uff0c\u6709\u70b9\u7c7b\u4f3c\u4e00\u4e2a\u7c7b\u578b\u522b\u540d\nconst std::string Screen::* pData = &amp;Screen::contents;\n\nScreen myScreen;\nScreen * pScreen = &amp;myScreen;\n//\u4f7f\u7528\u6210\u5458\u6307\u9488\nauto s = myScreen.*pData;\ns = pScreen-&gt;*pData;\n</code></pre> <p>\u6210\u5458\u51fd\u6570\u6307\u9488\uff1a</p> <pre><code>char (Screen::*pmf2)(Screen::pos, Screen::pos) const;\npmf2 = &amp;Screen::get; \n\nScreen myScreen;\nScreen * pScreen = &amp;myScreen;\n//\u4f7f\u7528\u51fd\u6570\u6307\u9488\nmyScreen.*pmf2(0 ,0);\npScreen-&gt;*pmf2(0 ,0);\n</code></pre> <p>\u53ef\u4ee5\u4f7f\u7528mem_fn\u6216bind\u4e3a\u6210\u5458\u51fd\u6570\u6307\u9488\u751f\u6210\u4e00\u4e2a\u53ef\u8c03\u7528\u5bf9\u8c61</p>","tags":["c/c++"]},{"location":"foundation/cpp/68.cpp-memory-analysis-asan/","title":"c++\u5185\u5b58\u5206\u6790\uff1aASan","text":"<p>AddressSanitizer\uff08ASan\uff09\u662f\u4e00\u6b3e\u5e7f\u6cdb\u4f7f\u7528\u7684c++\u5185\u5b58\u5206\u6790\u5de5\u5177\uff0c\u80fd\u591f\u68c0\u6d4b\u4ee3\u7801\u4e2d\u7684\u5404\u79cd\u5185\u5b58\u95ee\u9898\uff08\u5185\u5b58\u8d8a\u754c\u3001\u8bbf\u95ee\u91ce\u6307\u9488\u3001\u975e\u6cd5\u8bbf\u95ee\u6808\u5185\u5b58\u7b49\u7b49\u5f88\u591a\uff09</p> <p>\u552f\u72ec\u4e0d\u80fd\u5206\u6790\u5185\u5b58\u6cc4\u6f0f\u95ee\u9898\uff0c\u5185\u5b58\u6cc4\u6f0f\u95ee\u9898\u53ef\u4ee5\u7528\u53e6\u5916\u4e00\u6b3e\u540d\u4e3aLeakSanitizer\uff08LSan\uff09\u7684\u5de5\u5177\u68c0\u6d4b</p> <p>vs 2022 \u5185\u7f6e\u4e86\u5bf9ASan\u7684\u652f\u6301\uff0c\u53c2\u8003https://learn.microsoft.com/zh-cn/cpp/sanitizers/asan?view=msvc-170</p>","tags":["c/c++","\u6027\u80fd\u5206\u6790"]},{"location":"foundation/cpp/68.cpp-memory-analysis-asan/#vsasan","title":"\u5982\u4f55\u5728vs\u4e2d\u914d\u7f6eASan","text":"","tags":["c/c++","\u6027\u80fd\u5206\u6790"]},{"location":"foundation/cpp/68.cpp-memory-analysis-asan/#0","title":"0. \u5b89\u88c5","text":"<p>\u4f7f\u7528vs installer\u5b89\u88c5ASan\u652f\u6301</p>","tags":["c/c++","\u6027\u80fd\u5206\u6790"]},{"location":"foundation/cpp/68.cpp-memory-analysis-asan/#1-enable-addresssanitizerasan","title":"1. Enable AddressSanitizer(ASan)","text":"<p>Configuration Properties &gt; C/C++ &gt; General, then modify the Enable AddressSanitizer property. Choose OK to save your changes.</p>","tags":["c/c++","\u6027\u80fd\u5206\u6790"]},{"location":"foundation/cpp/68.cpp-memory-analysis-asan/#2-dump","title":"2. \u89e6\u53d1\u5185\u5b58\u95ee\u9898\u540e\u751f\u6210dump","text":"<p>\u6dfb\u52a0\u73af\u5883\u53d8\u91cf\uff1a<code>set ASAN_SAVE_DUMPS=MyFileName.dmp</code></p> <p>\u53c2\u8003https://learn.microsoft.com/zh-cn/cpp/sanitizers/asan-debugger-integration?view=msvc-170</p>","tags":["c/c++","\u6027\u80fd\u5206\u6790"]},{"location":"foundation/cpp/68.cpp-memory-analysis-asan/#3-continue-on-error","title":"3. Continue on error","text":"<p>\u53c2\u8003https://learn.microsoft.com/zh-cn/cpp/sanitizers/asan-continue-on-error?view=msvc-170</p> <p>\u9ed8\u8ba4\u662f\u89e6\u53d1\u4e86\u5185\u5b58\u95ee\u9898\u540e\u76f4\u63a5\u629b\u5f02\u5e38\u7136\u540ecrash\uff0c\u5f00\u542f\u8fd9\u4e2a\u9009\u9879\u4ee5\u540e\u53ef\u4ee5\u8ba9\u7a0b\u5e8f\u7ee7\u7eed\u6267\u884c\uff0c\u7b49\u7a0b\u5e8f\u7ed3\u675f\u540e\u7edf\u4e00\u8f93\u51fa\u9519\u8bef\u62a5\u544a</p> <p>\u6dfb\u52a0\u73af\u5883\u53d8\u91cf\uff1a<code>set ASAN_OPTIONS=continue_on_error=1</code></p> <p>\u4f7f\u7528 ASAN_OPTIONS \u73af\u5883\u53d8\u91cf\u786e\u5b9a\u5c06 ASAN \u8f93\u51fa\u53d1\u9001\u5230\u4f55\u5904\uff0c\u5982\u4e0b\u6240\u793a\uff1a - \u8f93\u51fa\u5230 stdout\uff1a<code>set ASAN_OPTIONS = continue_on_error = 1</code> - \u8f93\u51fa\u5230 stderr\uff1a<code>set ASAN_OPTIONS = continue_on_error = 2</code> - \u8f93\u51fa\u5230\u6240\u9009\u65e5\u5fd7\u6587\u4ef6\uff1a<code>set COE_LOG_FILE = yourfile.log</code></p>","tags":["c/c++","\u6027\u80fd\u5206\u6790"]},{"location":"foundation/cpp/68.cpp-memory-analysis-asan/#4","title":"4. \u542f\u7528\u5206\u914d\u548c\u91ca\u653e\u4e0d\u5339\u914d\u68c0\u6d4b","text":"<p>\u8fd9\u4e2a\u5e76\u4e0d\u662f\u68c0\u6d4b\u5185\u5b58\u6cc4\u6f0f\uff0c\u4e3b\u8981\u662f\u68c0\u6d4b new/free\uff0cmalloc/delete \u8fd9\u6837\u7684\u4e0d\u5339\u914d\u95ee\u9898</p> <p>\u9ed8\u8ba4\u4e0d\u5f00\u542f</p> <p>\u6dfb\u52a0\u73af\u5883\u53d8\u91cf\uff1a<code>set ASAN_OPTIONS = alloc_dealloc_mismatch = 1</code></p>","tags":["c/c++","\u6027\u80fd\u5206\u6790"]},{"location":"foundation/cpp/68.cpp-memory-analysis-asan/#5-asan_options","title":"5. ASAN_OPTIONS\u7684\u591a\u4e2a\u9009\u9879\u4e4b\u95f4\u7528\u5192\u53f7\u5206\u9694","text":"<p>\u4f8b\u5982\uff1a<code>set ASAN_OPTIONS=continue_on_error=1:alloc_dealloc_mismatch=1</code></p>","tags":["c/c++","\u6027\u80fd\u5206\u6790"]},{"location":"foundation/cpp/68.cpp-memory-analysis-asan/#debugod","title":"Debug\u6a21\u5f0f\u6216<code>/Od</code>\u4f18\u5316\u6a21\u5f0f\u4e0b\u9700\u8981\u7684\u989d\u5916\u914d\u7f6e","text":"","tags":["c/c++","\u6027\u80fd\u5206\u6790"]},{"location":"foundation/cpp/68.cpp-memory-analysis-asan/#turn-off-edit-and-continue","title":"Turn off edit and continue","text":"<p>Open Tools &gt; Options &gt; Debugging &gt; .NET / C++ Hot Reload.</p> <p>Turn off both of the following options to enable Edit and Continue. - Enable Hot Reload and Edit and Continue when debugging. - Enable Hot Reload when starting without debugging</p>","tags":["c/c++","\u6027\u80fd\u5206\u6790"]},{"location":"foundation/cpp/68.cpp-memory-analysis-asan/#turn-off-rtc1","title":"Turn off /RTC1","text":"<p>Configuration Properties &gt; C / C++ &gt; Code Generation property page.</p> <p>Turn off one or both of the following properties : Basic Runtime Checks or Smaller Type Check.</p>","tags":["c/c++","\u6027\u80fd\u5206\u6790"]},{"location":"foundation/cpp/68.cpp-memory-analysis-asan/#turn-off-incremental-link","title":"Turn off  Incremental Link","text":"<p>Select the Configuration Properties &gt; Linker &gt; General property page.</p> <p>Modify the Enable Incremental Linking property.</p>","tags":["c/c++","\u6027\u80fd\u5206\u6790"]},{"location":"foundation/cpp/68.cpp-memory-analysis-asan/#trouble-shooting","title":"Trouble shooting","text":"","tags":["c/c++","\u6027\u80fd\u5206\u6790"]},{"location":"foundation/cpp/68.cpp-memory-analysis-asan/#1-the-code-execution-cannot-proceed-because-clang_rtasan_dynamic-x86_64dll-was-not-found","title":"1. The code execution cannot proceed because clang_rt.asan_dynamic-x86_64.dll was not found.","text":"<p>\u53c2\u8003https://devblogs.microsoft.com/cppblog/msvc-address-sanitizer-one-dll-for-all-runtime-configurations/</p> <p>Please update the PATH to include clang_rt.asan_dynamic - x86_64.dll(x64) or clang_rt.asan_dynamic - i386.dll(x86).</p>","tags":["c/c++","\u6027\u80fd\u5206\u6790"]},{"location":"foundation/cpp/68.cpp-memory-analysis-asan/#2-addresssanitizer-crash","title":"2. AddressSanitizer crash","text":"<p>\u66f4\u65b0vs\u5230\u6700\u65b0\u7248\u672c</p> <p>\u53c2\u8003https://github.com/actions/runner-images/issues/8891</p>","tags":["c/c++","\u6027\u80fd\u5206\u6790"]},{"location":"foundation/cpp/69.cpp-memory-analysis-vld/","title":"c++\u5185\u5b58\u5206\u6790\uff1aVLD","text":"","tags":["c/c++","\u6027\u80fd\u5206\u6790"]},{"location":"foundation/cpp/69.cpp-memory-analysis-vld/#_1","title":"\u53c2\u8003","text":"<p>https://www.cnblogs.com/yapingxin/p/18258139/use_vld_in_vs2022</p>","tags":["c/c++","\u6027\u80fd\u5206\u6790"]},{"location":"foundation/cpp/69.cpp-memory-analysis-vld/#_2","title":"\u4ecb\u7ecd","text":"<p>Visual Leak Detector\uff08VLD\uff09\u662fwindows\u5e73\u53f0\u4e0a\u7684\u4e00\u6b3e\u5e7f\u6cdb\u4f7f\u7528\u7684c++\u5185\u5b58\u6cc4\u6f0f\u5206\u6790\u5de5\u5177</p> <p>VLD\u5b98\u65b9\u7684\u7248\u672c\u76ee\u524d\u505c\u7559\u57282.5.1\uff0c\u53d1\u5e03\u65e5\u671f\u662f2017\u5e7410\u670817\u65e5\uff0c\u652f\u6301Windows 10\uff0c\u5176VS\u63d2\u4ef6\u652f\u6301\u5230Visual C++ 2015\uff0c\u7f51\u5740\u662f\uff1ahttps://kinddragon.github.io/vld/</p> <p>\u5728 github \u4e0a\uff0c\u6709\u53e6\u5916\u4e00\u4e2aVLD\u5206\u652f\uff0c\u76ee\u524d\u6700\u9ad8\u7a33\u5b9a\u7248\u672c\u662f 2.7.0\uff0c\u53d1\u5e03\u4e8e2021\u5e749\u670813\u65e5\u3002\u5176\u63d2\u4ef6\u652f\u6301 Visual C++ 2019 16.7.5\uff0c\u5730\u5740\uff1ahttps://github.com/oneiric/vld</p>","tags":["c/c++","\u6027\u80fd\u5206\u6790"]},{"location":"foundation/cpp/69.cpp-memory-analysis-vld/#_3","title":"\u4f7f\u7528\u65b9\u6cd5","text":"<ol> <li>\u5b89\u88c5vld\uff0c\u5b89\u88c5\u65f6\u9009\u62e9\u6dfb\u52a0\u73af\u5883\u53d8\u91cf</li> <li>vld\u5b89\u88c5\u76ee\u5f55\u4e0b\u6709\u4e00\u5957\u5b8c\u6574\u7684\u52a8\u6001\u94fe\u63a5\u5e93\uff0c\u76ee\u5f55\u7ed3\u6784\u6309include\u3001lib\u3001bin\u8fd9\u79cd\u6807\u51c6\u7ed3\u6784\u7ec4\u7ec7</li> <li>\u6bcf\u4e2a\u4e8c\u8fdb\u5236\u6587\u4ef6\uff08exe\u548cdll\uff09\u90fd\u5fc5\u987b\u94fe\u63a5vld\u7684\u52a8\u6001\u5e93</li> <li>\u8c03\u7528vld\u7684api \u5c06\u5206\u6790\u62a5\u544a\u8f93\u51fa\u5230\u6587\u4ef6\u4e2d\uff0c\u5728\u7a0b\u5e8f\u5165\u53e3\u5904\u8c03\u7528\u4e00\u6b21\u5373\u53ef\uff0c\u4e0d\u9700\u8981\u6bcf\u4e2a\u4e8c\u8fdb\u5236\u6587\u4ef6\u5185\u90e8\u90fd\u8c03\u7528</li> </ol>","tags":["c/c++","\u6027\u80fd\u5206\u6790"]},{"location":"foundation/database/11.z1.mysql-crash-course/","title":"mysql\u5165\u95e8\u7b14\u8bb0","text":"<p>\u53c2\u8003\u300amysql\u5fc5\u77e5\u5fc5\u4f1a\u300b</p>","tags":["\u6570\u636e\u5e93","\u540e\u7aef"]},{"location":"foundation/database/11.z1.mysql-crash-course/#_1","title":"\u4e00\u3001\u57fa\u672c\u6982\u5ff5","text":"<p>\u6a21\u5f0f\uff08schema\uff09\uff1a\u8fd9\u4e2a\u6982\u5ff5\u6bd4\u8f83\u6a21\u7cca\uff0c\u4e00\u4e2a\u6bd4\u8f83\u5e38\u89c1\u7684\u5b9a\u4e49\u662f\uff0cschema\u662f\u6307\u6570\u636e\u5e93\u5bf9\u8c61\u7684\u96c6\u5408\uff0c\u5176\u4e2d\u5305\u62ec\u8868\u3001\u89c6\u56fe\u3001\u5b58\u50a8\u8fc7\u7a0b\u3001\u7d22\u5f15\u7b49\u3002schema\u901a\u5e38\u662f\u6307\u6570\u636e\u5e93\u6216\u8868\u7684\u5e03\u5c40\u548c\u7ed3\u6784\u7b49\u4fe1\u606f\u3002</p> <p>\u4e3b\u952e\uff08primary key\uff09\uff1a\u4e3b\u952e\u5b9a\u4e49\u5728\u8868\u7684\u4e00\u5217\u4e0a\uff0c\u7528\u6765\u552f\u4e00\u5730\u6807\u8bc6\u6bcf\u4e00\u884c\uff0c\u56e0\u6b64\u4e3b\u952e\u7684\u503c\u4e0d\u80fd\u91cd\u590d\uff0c\u6bcf\u4e00\u884c\u5bf9\u5e94\u7684\u4e3b\u952e\u503c\u90fd\u662f\u552f\u4e00\u7684\u3002</p> <p>\u4e3b\u952e\u6709\u51e0\u4e2a\u4f7f\u7528\u4e60\u60ef\uff0c\uff081\uff09\u4e0d\u66f4\u65b0\u4e3b\u952e\uff0c\uff082\uff09\u4e00\u822c\u628a\u4e3b\u952e\u5b9a\u4e49\u5728\u81ea\u589eid\u5217\u4e0a</p> <p>\u5916\u952e\uff08foreign key\uff09\uff1a\u5916\u952e\u662f\u8868\u4e2d\u7684\u4e00\u4e2a\u5b57\u6bb5\uff0c\u5bf9\u5e94\u53e6\u4e00\u4e2a\u8868\u7684\u4e3b\u952e\u3002</p> <p>\u53ef\u4f38\u7f29\u6027\uff08scale\uff09\uff0c\u4e00\u4e2a\u8bbe\u8ba1\u826f\u597d\u7684\u6570\u636e\u5e93\u80fd\u591f\u826f\u597d\u5e94\u5bf9\u6570\u636e\u91cf\u7684\u589e\u52a0\uff0c\u6211\u4eec\u628a\u8fd9\u79cd\u60c5\u51b5\u79f0\u4e3a\u6570\u636e\u5e93\u7684\u53ef\u4f38\u7f29\u6027\u597d\uff0c\u53ef\u4f38\u7f29\u6027\u79bb\u4e0d\u5f00\u5916\u952e\u7684\u4f7f\u7528\u3002</p> <p>\u68c0\u7d22\u6027\u80fd\u53ef\u80fd\u4f1a\u53d7\u591a\u79cd\u56e0\u7d20\u5f71\u54cd\uff1a\u68c0\u7d22\u64cd\u4f5c\uff08\u5b50\u67e5\u8be2\u3001\u8054\u8868\u67e5\u8be2...\uff09\uff0c\u6570\u636e\u91cf\uff0c\u662f\u5426\u6709\u7d22\u5f15\u6216\u952e</p> <p>\u5b50\u53e5\uff08clause\uff09\uff1aSQL\u7531\u5b50\u53e5\u6784\u6210\uff0c\u4f8b\u5982<code>from</code>\u3001<code>order by</code>\u7b49\u3002</p> <p>\u5b8c\u5168\u9650\u5b9a\u5217\u540d\uff1a<code>\u8868\u540d.\u5217\u540d</code>\uff0c<code>video.md5</code></p>","tags":["\u6570\u636e\u5e93","\u540e\u7aef"]},{"location":"foundation/database/11.z1.mysql-crash-course/#mysql","title":"\u4e8c\u3001mysql\u5de5\u5177","text":"<p>mysql\u5b89\u88c5\u5305\u4e2d\u81ea\u5e26\u4e00\u4e2a\u547d\u4ee4\u884c\u5de5\u5177<code>mysql</code>\uff0c\u8fd9\u662f\u4e00\u4e2a\u8fd0\u884c\u5728\u547d\u4ee4\u884c\u7684mysql\u5ba2\u6237\u7aef\u3002</p> <ul> <li>\u547d\u4ee4\u7528<code>;</code>\u6216<code>\\g</code>\u7ed3\u675f\uff0c<code>\\G</code>\u53ef\u4ee5\u4f7f\u6a2a\u5411\u8868\u683c\u7eb5\u5411\u8f93\u51fa</li> <li>\u8f93\u5165<code>help</code>\u6216<code>\\h</code>\u67e5\u770b\u5e2e\u52a9</li> <li>\u8f93\u5165quit\u6216exit\u9000\u51fa</li> </ul> <p>mysql\u9ed8\u8ba4\u7aef\u53e3\u662f3306</p>","tags":["\u6570\u636e\u5e93","\u540e\u7aef"]},{"location":"foundation/database/11.z1.mysql-crash-course/#mysql_1","title":"\u4e09\u3001\u4f7f\u7528mysql","text":"<p>\u4e00\u4e9b\u5173\u4e8e\u6570\u636e\u5e93\u548c\u8868\u7684\u547d\u4ee4\uff1a</p> <ul> <li>\u9009\u62e9\u6570\u636e\u5e93\uff1a<code>use xxx;</code></li> <li>\u67e5\u770b\uff08<code>show</code>\uff09<ul> <li>\u6240\u6709\u6570\u636e\u5e93\uff1a<code>show databases;</code></li> <li>\u6240\u6709\u8868\uff1a<code>show tables;</code></li> <li>\u8868\u7684\u5217\uff1a<code>show columns from xxx;</code><ul> <li>\u548c<code>desc xxx;</code>\u4f5c\u7528\u76f8\u540c</li> </ul> </li> <li>\u670d\u52a1\u5668\u72b6\u6001\uff1a<code>show status;</code></li> <li>\u6743\u9650\uff1a<code>show grants;</code></li> <li>\u6570\u636e\u5e93\u548c\u8868\u7684\u521b\u5efa\u8bed\u53e5\uff1a<code>show create database/table xxx;</code></li> <li>\u670d\u52a1\u5668\u9519\u8bef\u548c\u544a\u8b66\uff1a<code>show errors/warnings;</code></li> <li><code>help show</code></li> </ul> </li> </ul>","tags":["\u6570\u636e\u5e93","\u540e\u7aef"]},{"location":"foundation/database/11.z1.mysql-crash-course/#select","title":"\u56db\u3001\u68c0\u7d22\uff08select\uff09","text":"","tags":["\u6570\u636e\u5e93","\u540e\u7aef"]},{"location":"foundation/database/11.z1.mysql-crash-course/#select_1","title":"\u7b80\u5355select","text":"<pre><code>select field1 from table_hello; \nselect field1,field2,field3 from table_hello; \nselect * from table_hello; \n</code></pre> <p>\u5b57\u6bb5\u524d\u9762\u53ef\u4ee5\u52a0\u4e0a\u8868\u540d\uff0c\u4f8b\u5982</p> <pre><code>select table_hello.field1 from table_hello;\n</code></pre>","tags":["\u6570\u636e\u5e93","\u540e\u7aef"]},{"location":"foundation/database/11.z1.mysql-crash-course/#distinct","title":"distinct","text":"<pre><code>select distinct field from table_hello;\nselect distinct field1,field2 from table_hello;\n</code></pre> <p>\u529f\u80fd\uff1a</p> <ul> <li>\u53ea\u68c0\u7d22\u5355\u4e2a\u5b57\u6bb5\u65f6\uff0c\u5217\u51fa\u5b57\u6bb5\u6240\u6709\u53ef\u80fd\u7684\u53d6\u503c</li> <li>\u68c0\u7d22\u591a\u4e2a\u5b57\u6bb5\u65f6\uff0c\u5217\u51fa\u4e24\u4e2a\u5b57\u6bb5\u53d6\u503c\u7684\u7b1b\u5361\u5c14\u79ef</li> </ul>","tags":["\u6570\u636e\u5e93","\u540e\u7aef"]},{"location":"foundation/database/11.z1.mysql-crash-course/#limit","title":"limit","text":"<p>\u8fd4\u56de\u524dn\u884c</p> <pre><code>select field from table_hello limit n;\n</code></pre> <p>\u8fd4\u56dem\u884c\uff0c\u4ece\u7b2cn\u884c\u5f00\u59cb\uff08\u884c\u53f7\u4ece0\u5f00\u59cb\uff09</p> <pre><code>select field from table_hello limit n,m;\n-- \u6216\nselect field from table_hello limit m offset n;\n</code></pre>","tags":["\u6570\u636e\u5e93","\u540e\u7aef"]},{"location":"foundation/database/11.z1.mysql-crash-course/#order-by","title":"\u6392\u5e8f\uff08order by\u5b50\u53e5\uff09","text":"<p>\u6309\u5355\u4e2a\u5217\u6216\u591a\u4e2a\u5217\u6392\u5e8f</p> <pre><code>select field1 from table_hello order by field2;\nselect field1 from table_hello order by field2 limit 5;\nselect field1 from table_hello order by field1,field2;\n</code></pre> <ul> <li><code>limit</code>\u8981\u653e\u5728<code>order by</code>\u540e\u9762\uff08\u5148\u6392\u5e8f\u3001\u518d\u9009\u884c\uff09</li> <li>\u6309\u591a\u4e2a\u5217\u6392\u5e8f\u65f6\uff0c\u5148\u6309\u524d\u9762\u7684\u5217\u6392\uff0c\u503c\u76f8\u540c\u65f6\uff0c\u518d\u6309\u540e\u9762\u7684\u5217\u6392</li> <li>\u540c\u65f6\u4f7f\u7528<code>order by</code>\u548c<code>limit</code>\u65f6\uff0c<code>order by</code>\u5728\u524d\uff0c<code>limit</code>\u5728\u540e</li> </ul> <p>\u6392\u5e8f\u65b9\u5411\uff08\u5347\u5e8f/\u964d\u5e8f\uff09</p> <ul> <li>\u5347\u5e8f\uff08<code>asc</code>\uff09\uff1a\u9ed8\u8ba4\u662f\u5347\u5e8f</li> <li>\u964d\u5e8f\uff08<code>desc</code>\uff09\uff1a<code>order by field2 desc</code></li> </ul> <p><code>desc</code>\u53ea\u5bf9\u4e00\u4e2a\u5217\u6709\u6548\uff0c\u5bf9\u591a\u4e2a\u5217\u6392\u5e8f\u65f6\uff0c\u5fc5\u987b\u5728\u60f3\u964d\u5e8f\u6392\u7684\u5217\u540e\u9762\u90fd\u52a0\u4e0a<code>desc</code>\uff0c\u4f8b\u5982\uff1a</p> <pre><code>select field1 from table_hello order by field1 desc,field2;\n</code></pre>","tags":["\u6570\u636e\u5e93","\u540e\u7aef"]},{"location":"foundation/database/11.z1.mysql-crash-course/#where","title":"\u4e94\u3001\u8fc7\u6ee4\u6761\u4ef6\uff08where\uff09","text":"<p>\u64cd\u4f5c\u7b26\uff1a</p> <ul> <li><code>=</code>\u3001<code>!=</code>(\u4e5f\u53ef\u4ee5\u7528<code>&lt;&gt;</code>\u8868\u793a\u4e0d\u7b49\u4e8e)</li> <li>&lt;\u3001&lt;=\u3001&gt;\u3001&gt;=</li> <li>between\uff0c\u68c0\u7d22\u5b57\u6bb5\u503c\u4f4d\u4e8e\u4e00\u4e2a\u8303\u56f4\u5185\u7684\u6570\u636e</li> <li>is [not] null\uff0c\u68c0\u7d22\u5b57\u6bb5\u503c\u4e3anull\u6216\u4e0d\u4e3anull\u7684\u6570\u636e</li> <li>and\u3001or\uff0cand\u4f18\u5148\u7ea7\u9ad8\u4e8eor\uff0c\u53ef\u4ee5\u7528\u62ec\u53f7\u8c03\u6574\u4f18\u5148\u7ea7</li> <li>in\uff0c\u540e\u9762\u8ddf\u7740\u4e00\u4e2a\u503c\u5217\u8868\uff0c\u4f8b\u5982(1,3,5)</li> <li>not\uff0c\u5bf9\u540e\u9762\u7684\u6240\u6709\u6761\u4ef6\u53d6\u53cd</li> <li>like\uff0c\u5229\u7528\u901a\u914d\u7b26\u5339\u914d</li> <li>regexp\uff0c\u5229\u7528\u6b63\u5219\u8868\u8fbe\u5f0f\uff0c\u5339\u914d</li> </ul> <p>between\u4f8b\u5b50\uff1a</p> <pre><code>-- \u67e5\u627e\u503c\u4e3a2~4\u7684\u6570\u636e\nselect * from table_video where maudit_status between 2 and 4;\n-- \u6216\nselect * from table_video where maudit_time between \"2022-01-02 00:00:00\" and \"2022-01-03 00:00:00\";\n</code></pre> <p>not\u4f8b\u5b50\uff1a</p> <pre><code>select * from table_video where maudit_status not in (2,3);\n-- \u6216\nselect * from table_video where maudit_time between \"2022-01-02 00:00:00\" and \"2022-01-03 00:00:00\";\n</code></pre>","tags":["\u6570\u636e\u5e93","\u540e\u7aef"]},{"location":"foundation/database/11.z1.mysql-crash-course/#_2","title":"\u901a\u914d\u7b26","text":"<p>\u901a\u8fc7<code>like</code>\u5173\u952e\u5b57\u4f7f\u7528\u901a\u914d\u7b26\u5339\u914d</p> <p><code>%</code>\uff0c\u5339\u914d\u4efb\u610f\u5b57\u7b26\u51fa\u73b0\u4efb\u610f\u6b21\u6570\uff08\u5305\u62ec0\u6b21\uff09</p> <p><code>_</code>\uff0c\u4e0b\u5212\u7ebf\uff0c\u5339\u914d\u4e00\u4e2a\u4efb\u610f\u5b57\u7b26\uff08\u51fa\u73b0\u4e00\u6b21\uff0c\u4e0d\u591a\u4e0d\u5c11\uff09</p>","tags":["\u6570\u636e\u5e93","\u540e\u7aef"]},{"location":"foundation/database/11.z1.mysql-crash-course/#_3","title":"\u6b63\u5219\u8868\u8fbe\u5f0f","text":"<p>mysql\u4ec5\u652f\u6301\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u4e00\u4e2a\u5f88\u5c0f\u7684\u5b50\u96c6</p> <p>\u6b63\u5219\u8868\u8fbe\u5f0f\u662f\u672c\u8eab\u662f\u5b57\u7b26\u4e32\uff0c\u56e0\u6b64\u4f7f\u7528\u8f6c\u4e49\u5b57\u7b26\u65f6\u8981\u5148\u8f6c\u4e49\u4e00\u6b21<code>\\</code>\uff0c\u6240\u4ee5\u6700\u7ec8\u4f7f\u7528\u8f6c\u4e49\u5b57\u7b26\u7684\u65f6\u5019\uff0c\u603b\u662f\u8981\u5199<code>\\\\</code></p> <p>mysql\u4f7f\u7528<code>[[:&lt;:]]</code>\u548c<code>[[:&gt;:]]</code>\u5339\u914d\u5355\u8bcd\u7684\u5f00\u5934\u548c\u7ed3\u5c3e\uff0c\u7c7b\u4f3c<code>\\b</code></p>","tags":["\u6570\u636e\u5e93","\u540e\u7aef"]},{"location":"foundation/database/11.z1.mysql-crash-course/#_4","title":"\u516d\u3001\u8ba1\u7b97\u5b57\u6bb5\uff08\u4e34\u65f6\u751f\u6210\u7684\u5b57\u6bb5\uff09","text":"<p>\u8ba1\u7b97\u5b57\u6bb5\u5728select\u8bed\u53e5\u4e2d\u521b\u5efa\uff08\u8ba1\u7b97\u5b57\u6bb5\u662f\u6307\u7ecf\u8fc7\u8ba1\u7b97\u540e\u5f97\u5230\u7684\u4e34\u65f6\u5b57\u6bb5\uff09</p>","tags":["\u6570\u636e\u5e93","\u540e\u7aef"]},{"location":"foundation/database/11.z1.mysql-crash-course/#1-concat","title":"1. \u62fc\u63a5\u5b57\u6bb5 concat()","text":"<p>\u5f88\u591adbms\u4f7f\u7528+\u6216||\u62fc\u63a5\u5b57\u6bb5\uff0cmysql\u5fc5\u987b\u4f7f\u7528concat()\u51fd\u6570</p> <p>\u4f8b\u5982\uff0c<code>select concat(name, '(', status, ')') from table_user order by name limit 3;</code> \u5c06\u5b57\u6bb5name\u548cstatus\u62fc\u63a5\u6210name(status)\u7684\u5f62\u5f0f\uff0c\u4f1a\u4ea7\u751f\u4ee5\u4e0b\u8f93\u51fa\uff1a</p> <pre><code>+--------------------------------+\n| concat(name, '(', status, ')') |\n+--------------------------------+\n| 000007e(2)    |\n| 00000b0(4)    |\n| 0000253(2)    |\n+--------------------------------+\n</code></pre> <p>\u53ef\u4ee5\u4f7f\u7528<code>ltrim()</code>\u3001<code>rtrim()</code>\u3001<code>trim()</code>\u5220\u9664\u6570\u636e\u5de6\u4fa7\u3001\u53f3\u4fa7\u548c\u4e24\u4fa7\u7684\u7a7a\u767d\u7b26</p> <p>\u53ef\u4ee5\u4f7f\u7528<code>as</code>\u5173\u952e\u5b57\u4e3a\u65b0\u5b57\u6bb5\u8d4b\u4e88\u522b\u540d\uff0c\u4f8b\u5982<code>select concat(name, '(', status, ')') as new_name ...</code></p>","tags":["\u6570\u636e\u5e93","\u540e\u7aef"]},{"location":"foundation/database/11.z1.mysql-crash-course/#2","title":"2. \u7b97\u672f\u8ba1\u7b97","text":"<p>\u5305\u62ec\u52a0\u51cf\u4e58\u9664\u548c\u5706\u62ec\u53f7</p> <p><code>select field1*field2 as new_name from ...</code></p>","tags":["\u6570\u636e\u5e93","\u540e\u7aef"]},{"location":"foundation/database/11.z1.mysql-crash-course/#_5","title":"\u4e03\u3001\u6570\u636e\u5904\u7406","text":"<p>\u4f7f\u7528\u51fd\u6570\u8fdb\u884c\u6570\u636e\u5904\u7406</p> <ul> <li>\u6587\u672c\u5904\u7406\u51fd\u6570\uff1a<ul> <li>\u53bb\u9664\u7a7a\u767d\u7b26\uff1atrim\u3001ltrim\u3001rtrim</li> <li>\u5927\u5c0f\u5199\u8f6c\u6362\uff1aupper\u3001lower</li> <li>\u5b57\u7b26\u4e32\u957f\u5ea6\uff1alength</li> <li>\u5b9a\u4f4d\u5b50\u4e32\u8d77\u59cb\u4e0b\u6807\uff1alocate</li> <li>\u67e5\u627e\u5b50\u4e32\uff1asubstring</li> <li>\u4ece\u5de6\u8fb9\u6216\u53f3\u8fb9\u8d77\u83b7\u53d6\u5b50\u5b57\u7b26\u4e32\uff1aleft\u3001right</li> <li>\u83b7\u53d6\u5b57\u7b26\u4e32\u7684\u53d1\u97f3\uff1asoundex</li> </ul> </li> <li>\u65e5\u671f\u548c\u65f6\u95f4\u5904\u7406\u51fd\u6570\uff1a<ul> <li>\u65f6\u95f4\u548c\u65e5\u671f\u8ba1\u7b97\uff08\u52a0\u51cf\u5929\u6570\uff0c\u6216\u52a0\u51cf\u65f6\u5206\u79d2\uff09\uff1a<ul> <li>adddate, date_add, subdate, date_sub</li> <li>addtime, subtime</li> <li>datediff</li> </ul> </li> <li>\u683c\u5f0f\u5316\uff1adate_format(date,format)\uff0c\u53c2\u6570date\u662f\u5408\u6cd5\u7684\u65e5\u671f\u65f6\u95f4\uff0cformat\u662f\u65e5\u671f/\u65f6\u95f4\u7684\u8f93\u51fa\u683c\u5f0f, \u4f8b\u5982\uff1a     <code>sql     mysql&gt; SELECT DATE_FORMAT('1997-10-04 22:23:00', '%H %k %I %r %T %S %w');     '22 22 10 10:23:00 PM 22:23:00 00 6'</code></li> <li>\u83b7\u5f97\u5f53\u524d\u65e5\u671f/\u65f6\u95f4\uff1anow, curdate, curtime</li> <li>\u8fd4\u56de\u4e00\u4e2a\u65e5\u671f\u65f6\u95f4\u7684\u7279\u5b9a\u90e8\u5206\uff1adate, day, dayofweek, hour, minute, month, second, time, year</li> </ul> </li> <li>\u6570\u503c\u5904\u7406<ul> <li>cos, sin, tan, pi</li> <li>abs, exp, sqrt,</li> <li>mod, rand</li> </ul> </li> </ul>","tags":["\u6570\u636e\u5e93","\u540e\u7aef"]},{"location":"foundation/database/11.z1.mysql-crash-course/#aggregate","title":"\u516b\u3001\u6c47\u603b\u6570\u636e\uff08\u6570\u636e\u805a\u5408\uff0caggregate\uff09","text":"<p>\u4e0a\u9762\u7684\u4ecb\u7ecd\u7684\u6570\u636e\u5904\u7406\u51fd\u6570\u662f\u5bf9\u5355\u6761\u6570\u636e\u7684\u5904\u7406\u3002\u6570\u636e\u805a\u5408\u662f\u8981\u5bf9\u8868\u4e2d\u591a\u6761\u6570\u636e\u8fdb\u884c\u6c47\u603b\uff0c\u6bd4\u5982\u8ba1\u7b97\u884c\u6570\uff0c\u6c42\u5747\u503c\u7b49\u3002</p> <p>\u805a\u96c6\u51fd\u6570\u8fd0\u884c\u5728\u6574\u4e2a\u8868\u4e0a\uff0c\u8fd4\u56de\u5355\u4e2a\u503c\uff0c\u5e38\u7528\u805a\u96c6\u51fd\u6570\u6709\uff1a</p> <ul> <li>avg: \u8ba1\u7b97\u5747\u503c\u3002<code>select avg(price) as avg_price where id=1003</code></li> <li>count: \u8ba1\u6570\u3002<code>count(*)</code>\u8ba1\u7b97\u884c\u6570\uff0c\u65e0\u8bba\u884c\u4e2d\u662f\u5426\u6709null\u503c\u3002<code>count(column)</code>\u5bf9\u7279\u5b9a\u5217\u6709\u503c\u7684\u884c\u8ba1\u6570\uff0c\u7565\u8fc7null\u503c\u3002</li> <li>max\u3001min: \u8fd4\u56de\u6307\u5b9a\u5217\u4e2d\u7684\u6700\u5927\u503c\u548c\u6700\u5c0f\u503c </li> <li>sum: \u8fd4\u56de\u6307\u5b9a\u5217\u7684\u548c\u3002\u4e5f\u53ef\u4ee5\u5bf9\u8ba1\u7b97\u5b57\u6bb5\u6c42\u548c\uff0c\u4f8b\u5982<code>select sum(price*quantity) as total_price</code></li> </ul> <p>\u5b57\u6bb5\u524d\u9762\u53ef\u4ee5\u5e26\u53c2\u6570\uff0c<code>select avg(PARAM field) as tmp</code>\uff0c\u53c2\u6570\u8981\u653e\u5728PARAM\u7684\u4f4d\u7f6e\uff0c\u9ed8\u8ba4\u53c2\u6570\u662f<code>all</code>\uff0c\u53e6\u5916\u4e00\u79cd\u53c2\u6570\u662f<code>distinct</code>\uff0c\u5b83\u4eec\u7684\u533a\u522b\u662f\uff0c<code>all</code>\u5bf9\u5168\u90e8\u884c\u8fdb\u884c\u805a\u96c6\uff0c<code>distinct</code>\u5bf9\u8be5\u5217\u7684\u6bcf\u4e2a\u53d6\u503c\u53ea\u7edf\u8ba1\u4e00\u6b21\u3002</p> <p>\u53ef\u4ee5\u5728\u5355\u6761\u8bed\u53e5\u4e2d\u6267\u884c\u591a\u4e2a\u805a\u96c6\u8ba1\u7b97\uff0c<code>select avg(f1) as tmp1, min(f2) as tmp2...</code></p>","tags":["\u6570\u636e\u5e93","\u540e\u7aef"]},{"location":"foundation/database/11.z1.mysql-crash-course/#1group-by","title":"1.\u5bf9\u6570\u636e\u5206\u7ec4\uff08group by\uff09","text":"<p>\u5047\u8bbe\u6709\u8868staff</p> <pre><code>id  name    dept    salary  edlevel hiredate\n1   \u5f20\u4e09     rd      2000    3       2009-10-11\n2   \u674e\u56db     rd      2500    3       2009-10-01\n3   \u738b\u4e94     qa      2600    5       2010-10-02\n4   \u738b\u516d     qa      2300    4       2010-10-03\n5   \u9a6c\u4e03     qa      2100    4       2010-10-06\n6   \u8d75\u516b     pm      3000    5       2010-10-05\n7   \u94b1\u4e5d     pm      3100    7       2010-10-07\n8   \u5b59\u5341     pm      3500    7       2010-10-06\n</code></pre> <p>\u6267\u884c\u4ee5\u4e0bsql</p> <pre><code>SELECT dept, edlevel, MAX( salary ) AS maxsal\nFROM staff\nWHERE hiredate &gt; '2010-01-01'\nORDER BY dept, edlevel;\n</code></pre> <p>\u7ed3\u679c</p> <pre><code>dept edlevel maxsal\nqa 4 2300\nqa 5 2600\npm 5 3000\npm 7 3500\n</code></pre> <p><code>group by</code>\u7528\u4e8e\u5bf9\u6570\u636e\u8fdb\u884c\u5206\u7ec4\uff0c\u5982\u679c\u68c0\u7d22\u5b57\u6bb5\u4e2d\u6709\u805a\u96c6\u51fd\u6570\u7684\u8bdd\uff0c<code>group by</code>\u6309\u5206\u7ec4\u805a\u96c6\uff0c\u800c\u4e0d\u662f\u6309\u6574\u4e2a\u7ed3\u679c\u96c6\u805a\u96c6\u3002\u89c4\u5219\u5982\u4e0b\uff1a</p> <ul> <li><code>group by</code>\u5fc5\u987b\u4f4d\u4e8e<code>where</code>\u548c<code>order by</code>\u4e4b\u95f4</li> <li><code>group by</code>\u540e\u9762\u53ef\u4ee5\u8ddf\u591a\u4e2a\u5217\u6216\u8868\u8fbe\u5f0f\uff08\u4f46\u4e0d\u80fd\u662f\u805a\u96c6\u51fd\u6570\uff09\uff0c\u5982\u679c\u662f\u8868\u8fbe\u5f0f\uff0c<code>select</code>\u540e\u9762\u5fc5\u987b\u4e5f\u6709\u8fd9\u4e2a\u8868\u8fbe\u5f0f</li> <li>\u9664\u4e86\u805a\u96c6\u51fd\u6570\u4ee5\u5916\uff0c<code>select</code>\u540e\u9762\u8ddf\u7740\u7684\u6bcf\u4e00\u5217\u90fd\u5f97\u5199\u5230<code>group by</code>\u540e\u9762</li> <li><code>group by</code>\u540e\u9762\u8ddf\u7684\u6bcf\u4e2a\u5217\u5fc5\u987b\u90fd\u5199\u5230<code>select</code>\u540e\u9762</li> <li>\u5982\u679c<code>select</code>\u8bed\u53e5\u4e2d\u540c\u65f6\u6709\u5b57\u6bb5\u548c\u805a\u96c6\u51fd\u6570\uff0c\u5219sql\u4e2d\u5fc5\u987b\u4f7f\u7528<code>group by</code></li> </ul> <p><code>group by</code>\u6309\u5206\u7ec4\u5217\u7684\u7b1b\u5361\u5c14\u79ef\u5c55\u793a\u7ed3\u679c\uff0c\u4e5f\u610f\u5473\u7740\u80fd\u591f\u5229\u7528<code>group by</code>\u5bf9\u5206\u7ec4\u5217\u53bb\u91cd\uff0c\u8fd9\u4e5f\u662f\u4e3a\u4ec0\u4e48<code>select</code>\u4e2d\u7684\u5217<code>group by</code>\u90fd\u8981\u6709\uff0c\u56e0\u4e3a\u5982\u679c<code>select</code>\u4e2d\u6709\u4e00\u5217<code>group by</code>\u4e2d\u6ca1\u6709\uff0c\u6bd4\u5982<code>select a,b from xxx group by a;</code>\uff0c\u5f53a\u7684\u540c\u4e00\u4e2a\u53d6\u503c\u5bf9\u5e94\u591a\u4e2ab\u7684\u53d6\u503c\u65f6\uff0c<code>group by</code>\u5c31\u6ca1\u529e\u6cd5\u6309\u7b1b\u5361\u5c14\u79ef\u5c55\u793a\u5206\u7ec4\u7ed3\u679c\u4e86\uff08\u4e0d\u53ef\u80fd\u5728\u540c\u4e00\u884c\u540c\u65f6\u5c55\u793ab\u7684\u591a\u4e2a\u53d6\u503c\uff09</p>","tags":["\u6570\u636e\u5e93","\u540e\u7aef"]},{"location":"foundation/database/11.z1.mysql-crash-course/#2having","title":"2.\u8fc7\u6ee4\u5206\u7ec4\uff08having\uff09","text":"<p>having\u7c7b\u4f3cwhere\uff0cwhere\u5bf9\u884c\u8fdb\u884c\u8fc7\u6ee4\uff0chaving\u5bf9\u5206\u7ec4\u8fdb\u884c\u8fc7\u6ee4\uff0c\u4f8b\u5982\uff1a</p> <pre><code>select cust_id, count(*) as orders\nfrom products\ngroup by cust_id\nhaving count(*) &gt;= 2;\n</code></pre> <p>having\u548cwhere\u7684\u533a\u522b\u662f\uff0cwhere\u5728\u5206\u7ec4\u524d\u8fc7\u6ee4\uff0chaving\u5728\u5206\u7ec4\u540e\u8fc7\u6ee4</p>","tags":["\u6570\u636e\u5e93","\u540e\u7aef"]},{"location":"foundation/database/11.z1.mysql-crash-course/#select_2","title":"\u4e5d\u3001select\u5b50\u53e5\u987a\u5e8f","text":"<p>select - from - where - group by - having - order by - limit</p>","tags":["\u6570\u636e\u5e93","\u540e\u7aef"]},{"location":"foundation/database/11.z1.mysql-crash-course/#select_3","title":"\u5341\u3001\u5b50\u67e5\u8be2\uff08select\u5d4c\u5957\uff09","text":"<p>\u6d89\u53ca\u5230\u591a\u4e2a\u8868\u65f6\u53ef\u80fd\u4f1a\u7528\u5230\u5b50\u67e5\u8be2\u3002\u5b50\u67e5\u8be2\u5d4c\u5957\u592a\u591a\u4f1a\u5bfc\u81f4\u6027\u80fd\u95ee\u9898\u3002</p> <p>\u4f8b\u4e00\uff1a\u5229\u7528\u5b50\u67e5\u8be2\u8fdb\u884c\u8fc7\u6ee4</p> <pre><code>select cust_id from orders \nwhere order_num in (\n    select order_num from orderitems where prod_id = \"TNT2\"\n);\n</code></pre> <p>\u5e94\u8be5\u4fdd\u8bc1where\u4e2d\u7684\u5217\u548c\u5b50\u67e5\u8be2\u4e2dselect\u7684\u5217\u4fdd\u6301\u4e00\u81f4</p> <p>\u4f8b\u4e8c\uff1a\u5c06\u5b50\u67e5\u8be2\u4f5c\u4e3a\u5b57\u6bb5</p> <pre><code>select cust_name ,\n    (select count(*) from orders where orders.cust_id = customers.cust_id) as orders\nfrom customers;\n</code></pre> <p>\u8be5\u5b50\u67e5\u8be2\u5bf9\u4ececustomers\u8868\u4e2d\u68c0\u7d22\u51fa\u7684\u6bcf\u884c\u4e00\u6b21\uff08\u5373\uff0c\u5148\u68c0\u7d22customers\u8868\uff0c\u5bf9\u68c0\u7d22\u51fa\u7684\u6bcf\u4e00\u884c\uff0c\u6267\u884c\u5b50\u67e5\u8be2\uff09\u3002\u8fd9\u79cd\u5b50\u67e5\u8be2\u88ab\u79f0\u4e3a\u76f8\u5173\u5b50\u67e5\u8be2\uff08correlated subquery\uff09</p>","tags":["\u6570\u636e\u5e93","\u540e\u7aef"]},{"location":"foundation/database/11.z1.mysql-crash-course/#join","title":"\u5341\u4e00\u3001\u8054\u7ed3\u8868\uff08\u8054\u8868\uff0cjoin\uff09","text":"<p>\u6570\u636e\u5e93\u8bbe\u8ba1\u4e2d\u7ecf\u5e38\u9700\u8981\u914d\u5408\u4f7f\u7528\u591a\u5f20\u4e92\u76f8\u5173\u8054\u7684\u4e1a\u52a1\u8868\uff0c\u76ee\u7684\u662f\u964d\u4f4e\u5197\u4f59\u548c\u89e3\u8026</p> <p>\u8054\u7ed3\u662fsql\u6267\u884c\u8fc7\u7a0b\u4e2d\u5efa\u7acb\u7684\uff0c\u8868\u5b9a\u4e49\u4e2d\u5e76\u4e0d\u5b58\u5728\u8054\u7ed3</p> <p>\u4f8b\u4e00\uff0c\u4f7f\u7528where\u5b50\u53e5\u5efa\u7acb\u8054\u7ed3\uff0c\u5982\u679c\u6ca1\u6709\u8054\u7ed3\u6761\u4ef6\uff0c\u4f1a\u8fd4\u56de\u7b1b\u5361\u5c14\u79ef</p> <pre><code>select vend_name, prod_name, prod_price\nfrom vendors, products\nwhere vendors.vend_id = products.vend_id\norder by vend_name, prod_name;\n</code></pre> <p>\u4f8b\u4e00\u8fd9\u79cd\u8054\u7ed3\u4e5f\u88ab\u79f0\u4e3a\u5185\u90e8\u8054\u7ed3\uff0c\u4e5f\u53ef\u4ee5\u5199\u4e3a</p> <pre><code>select vend_name, prod_name, prod_price\nfrom vendors INNER JOIN products\nON vendors.vend_id = products.vend_id;\n</code></pre> <p>\u4f8b\u4e8c\uff0c\u8054\u7ed3\u591a\u4e2a\u8868</p> <pre><code>select vend_name, prod_name, prod_price, quantity\nfrom orderitems, vendors, products\nwhere vendors.vend_id = products.vend_id\n    and orderitems.prod_id = products.prod_id\n    and order_num = 20005;\n</code></pre>","tags":["\u6570\u636e\u5e93","\u540e\u7aef"]},{"location":"foundation/database/11.z1.mysql-crash-course/#1","title":"1.\u5185\u90e8\u8054\u7ed3\uff08\u7b49\u503c\u8054\u7ed3\uff09","text":"<p>\u89c1\u4e0a\u4f8b</p>","tags":["\u6570\u636e\u5e93","\u540e\u7aef"]},{"location":"foundation/database/11.z1.mysql-crash-course/#2_1","title":"2.\u81ea\u8054\u7ed3","text":"<p>\u8868\u522b\u540d\uff1a<code>as</code>\u5173\u952e\u5b57\u540c\u6837\u53ef\u4ee5\u7ed9\u8868\u6307\u5b9a\u522b\u540d</p> <p>\u4f8b\u5b50\uff1a\u6839\u636e\u67d0\u4ea7\u54c1id\u627e\u51fa\u751f\u4ea7\u8be5\u4ea7\u54c1\u7684\u5382\u5bb6\u751f\u4ea7\u7684\u5176\u4ed6\u4ea7\u54c1</p> <pre><code>select p1.prod_id, p1.prod_name\nfrom products as p1, products as p2\nwhere p1.vend_id = p2.vend_id\n    and p2.prod_id = 'DTNTR';\n</code></pre>","tags":["\u6570\u636e\u5e93","\u540e\u7aef"]},{"location":"foundation/database/11.z1.mysql-crash-course/#3","title":"3.\u81ea\u7136\u8054\u7ed3","text":"<p>\u81ea\u7136\u8054\u7ed3\u662f\u6307\u68c0\u7d22\u7ed3\u679c\u4e2d\u6ca1\u6709\u91cd\u590d\u7684\u5217(\u4e0d\u662f\u884c)\uff0c\u53ef\u4ee5\u4f7f\u7528\u901a\u914d\u7b26\u8ba9\u7cfb\u7edf\u81ea\u52a8\u53bb\u6389\u91cd\u590d\u7684\u5217\uff0c\u4e00\u822c\u662f\u5bf9\u67d0\u4e2a\u8868\u4f7f\u7528\u901a\u914d\u7b26\uff0c\u7136\u540e\u624b\u52a8\u6307\u5b9a\u5176\u4ed6\u8868\u4e2d\u7684\u5217\uff0c\u4f8b\u5982\uff1a</p> <pre><code>select c.*, o.order_num, o.order_date\n    oi.prod_id, oi.quantity, oi.item_price\nfrom customers as c, orders as o, orderitems as oi\nwhere c.cust_id = o.cust_id\n    and oi.order_num = o.order_num\n    and prod_id = 'FB';\n</code></pre>","tags":["\u6570\u636e\u5e93","\u540e\u7aef"]},{"location":"foundation/database/11.z1.mysql-crash-course/#4","title":"4.\u5916\u90e8\u8054\u7ed3","text":"<p>\u4e0e\u5185\u90e8\u8054\u7ed3\u4e0d\u540c\uff0c\u5916\u90e8\u8054\u7ed3\u7684\u6267\u884c\u7ed3\u679c\u4e2d\u5305\u542b\u6ca1\u6709\u4ea7\u751f\u5173\u8054\u7684\u884c\u3002\u4f8b\u5982\uff0c\u4e0b\u9762\u8fd9\u4e2asql\u60f3\u6309\u5ba2\u6237id\uff08cust_id\uff09\u5efa\u7acb\u5173\u8054\uff0c\u68c0\u7d22\u51fa\u5ba2\u6237\u548c\u8ba2\u5355\u7684\u5173\u7cfb\uff0c\u5e76\u8981\u6c42\u7ed3\u679c\u4e2d\u5305\u542b\u6ca1\u6709\u8ba2\u5355\u7684\u5ba2\u6237\u3002</p> <pre><code>select customers.cust_id, orders.order_num\nfrom customers LEFT OUTER JOIN orders\nON customers.cust_id = orders.cust_id\n</code></pre> <p>\u5173\u952e\u5b57\uff1a - <code>left outer join</code>\uff1a<code>left</code>\u8981\u6c42\u7ed3\u679c\u4e2d\u5305\u542b<code>outer join</code>\u5de6\u8fb9\u8868\u4e2d\u7684\u65e0\u5173\u8054\u884c - <code>right outer join</code>\uff1a\u7ed3\u679c\u4e2d\u5305\u542b\u53f3\u8fb9\u8868\u4e2d\u7684\u65e0\u5173\u8054\u884c</p>","tags":["\u6570\u636e\u5e93","\u540e\u7aef"]},{"location":"foundation/database/11.z1.mysql-crash-course/#5","title":"5.\u8054\u7ed3\u4e2d\u5e26\u805a\u96c6\u51fd\u6570","text":"<pre><code>select customers.cust_name, customers.cust_id,\n    count(orders.order_num) as num_ord\nfrom customers left outer join orders\non customers.cust_id = orders.cust_id\ngroup by customers.cust_id;\n</code></pre> <p>\u4ee5\u4e0asql\u7684\u4f5c\u7528\u662f\uff1a\u83b7\u5f97\u6240\u6709\u5ba2\u6237\u7684\u8ba2\u5355\u6570\uff0c\u5305\u62ec\u54ea\u4e9b\u6ca1\u6709\u8ba2\u5355\u7684\u5ba2\u6237</p>","tags":["\u6570\u636e\u5e93","\u540e\u7aef"]},{"location":"foundation/database/11.z1.mysql-crash-course/#union","title":"\u5341\u4e8c\u3001\u7ec4\u5408\u67e5\u8be2\uff08union\uff09","text":"<p>\u540c\u65f6\u6267\u884c\u591a\u4e2aselect\uff0c\u5e76\u5c06\u7ed3\u679c\u4f5c\u4e3a\u5355\u4e2a\u67e5\u8be2\u7ed3\u679c\u96c6\u8fd4\u56de\u3002\u4f8b\u5982</p> <pre><code>select vend_id, prod_id, prod_price\nfrom products\nwhere prod_id &lt;=5\nunion\nselect vend_id, prod_id, prod_price\nfrom products\nwhere vend_id in (1001,1002);\n</code></pre> <p>union\u7684\u89c4\u5219\uff1a</p> <ul> <li>union\u4e2d\u7684\u6bcf\u4e2a\u67e5\u8be2\u5fc5\u987b\u5305\u542b\u76f8\u540c\u7684\u5217\u3001\u8868\u8fbe\u5f0f\u6216\u805a\u96c6\u51fd\u6570</li> <li>union\u4f1a\u81ea\u52a8\u5bf9\u8fd4\u56de\u7684\u884c\u53bb\u91cd\uff0c\u5982\u679c\u4e0d\u60f3\u53bb\u91cd\uff0c\u8981\u4f7f\u7528<code>union all</code></li> <li>\u53ea\u80fd\u6709\u4e00\u4e2aorder by\uff0c\u5fc5\u987b\u653e\u5728\u6700\u540e\u4e00\u4e2aselect\u4e4b\u540e\u3002</li> </ul>","tags":["\u6570\u636e\u5e93","\u540e\u7aef"]},{"location":"foundation/database/11.z1.mysql-crash-course/#_6","title":"\u5341\u4e09\u3001\u5168\u6587\u672c\u641c\u7d22","text":"<p>mysql\u901a\u8fc7\u5efa\u7acb\u5168\u6587\u7d22\u5f15\uff08\u5012\u6392\u7d22\u5f15\uff09\u6765\u652f\u6301\u5168\u6587\u641c\u7d22\u3002</p> <p>\u5efa\u8868\u65f6\u6307\u5b9a\u5168\u6587\u68c0\u7d22\uff1a</p> <pre><code>create table demo\n{\n    ...\n    some_words text null,\n    ...\n    fulltext(some_words)\n}   engine=MyISAM;\n</code></pre> <p>\u4f7f\u7528\u51fd\u6570 match \u548c against \u8fdb\u884c\u5168\u6587\u641c\u7d22\uff0cmatch \u6307\u5b9a\u8981\u5339\u914d\u7684\u5217\uff0cagainst \u6307\u5b9a\u8981\u4f7f\u7528\u7684\u641c\u7d22\u8868\u8fbe\u5f0f\u3002\u4f8b\u5982</p> <pre><code>select node_text\nfrom productnodes\nwhere match(node_text) against('rabbit');\n</code></pre> <p>\u641c\u7d22\u4e0d\u533a\u5206\u5927\u5c0f\u5199\u3002\u641c\u7d22\u7ed3\u679c\u9ed8\u8ba4\u4ee5\u5339\u914d\u63a5\u8fd1\u7a0b\u5ea6\u8fdb\u884c\u6392\u5e8f\u3002</p> <p>match\u548cagainst\u7684\u8ba1\u7b97\u7ed3\u679c\u5b9e\u9645\u4e0a\u662f\u4e00\u4e2a\u5339\u914d\u7b49\u7ea7\u503c\uff0c\u8868\u793a\u5339\u914d\u7684\u63a5\u8fd1\u7a0b\u5ea6\uff0c\u4f8b\u5982</p> <pre><code>select node_text, match(node_text) against('rabbit') as matchrank\nfrom productnodes;\n</code></pre> <p>\u67e5\u8be2\u6269\u5c55\uff1a\u653e\u5bbd\u641c\u7d22\u8303\u56f4\uff0c\u641c\u7d22\u7ed3\u679c\u4e2d\u53ef\u80fd\u4e0d\u5305\u542b\u6307\u5b9a\u7684\u68c0\u7d22\u8bcd\uff0c\u4f8b\u5982<code>select node_text, match(node_text) against('rabbit' with query expansion) as matchrank from productnodes;</code></p> <p>\u5e03\u5c14\u6587\u672c\u641c\u7d22\uff1a<code>against('xxx' in boolean mode)</code>\uff0c\u6027\u80fd\u8f83\u5dee\uff0c\u53ef\u4ee5\u4e0d\u9700\u8981fulltext\u7d22\u5f15\u3002\u53ef\u4ee5\u6307\u5b9a\u8981\u5339\u914d\u7684\u8bcd\uff0c\u8981\u6392\u65a5\u7684\u8bcd\uff0c\u5339\u914d\u4f18\u5148\u7ea7\u7b49\u3002</p>","tags":["\u6570\u636e\u5e93","\u540e\u7aef"]},{"location":"foundation/database/11.z1.mysql-crash-course/#_7","title":"\u5341\u56db\u3001\u6570\u636e\u7684\u63d2\u5165\u3001\u5220\u9664\u548c\u66f4\u65b0\uff08\u589e\u5220\u6539\uff09","text":"","tags":["\u6570\u636e\u5e93","\u540e\u7aef"]},{"location":"foundation/database/11.z1.mysql-crash-course/#1_1","title":"1.\u63d2\u5165","text":"<p>\u7b80\u5355\u5199\u6cd5\uff1a<code>insert into customers values(null,'xxx','xxx',null);</code>\uff0c\u5404\u4e2a\u5217\u5fc5\u987b\u4ee5\u5b83\u4eec\u5728\u8868\u5b9a\u4e49\u4e2d\u7684\u987a\u5e8f\u586b\u5145</p> <p>\u590d\u6742\u5199\u6cd5\uff1a\u6307\u5b9a\u8981\u63d2\u5165\u7684\u5217</p> <pre><code>insert into customers(name, address, city) values('123','asd', null);\n</code></pre> <p>\u53ef\u4ee5\u7ed9\u591a\u7ec4value\uff0c\u4f8b\u5982\uff0c<code>values('xxx','xxx'),('222',NULL);</code></p> <p>\u63d2\u5165\u68c0\u7d22\u51fa\u7684\u6570\u636e\uff0c\u4f8b\u5982\uff0c<code>insert into table1(xx,xx,xx) select xx,xx,xx from table2 where...;</code></p>","tags":["\u6570\u636e\u5e93","\u540e\u7aef"]},{"location":"foundation/database/11.z1.mysql-crash-course/#2_2","title":"2.\u66f4\u65b0","text":"<p>\u66f4\u65b0\u64cd\u4f5c\u4e00\u5b9a\u8981\u5e26\u4e0a\u6761\u4ef6\uff0c\u5426\u5219\u5c31\u4f1a\u66f4\u65b0\u5168\u8868</p> <pre><code>update tablename \nset cust_email='xxxx',\n    cust_name = 'sss'\nwhere cust_id = 2345;\n</code></pre> <p>\u53ef\u4ee5\u5728update\u8bed\u53e5\u4e2d\u4f7f\u7528\u5b50\u67e5\u8be2</p> <p><code>ignore</code>\u5173\u952e\u5b57\uff1aupdate\u9ed8\u8ba4\u7684\u903b\u8f91\u662f\u53ea\u8981\u6709\u4e00\u884c\u6570\u636e\u66f4\u65b0\u5931\u8d25\u5c31\u5931\u8d25\uff0c<code>ignore</code>\u53ef\u4ee5\u8df3\u8fc7\u66f4\u65b0\u5931\u8d25\u7684\u884c\uff0c\u7ee7\u7eed\u66f4\u65b0\u5176\u4ed6\u884c</p>","tags":["\u6570\u636e\u5e93","\u540e\u7aef"]},{"location":"foundation/database/11.z1.mysql-crash-course/#3_1","title":"3.\u5220\u9664","text":"<p>\u5220\u9664\u64cd\u4f5c\u4e00\u5b9a\u8981\u5e26\u4e0a\u6761\u4ef6\uff0c\u5426\u5219\u5c31\u4f1a\u5220\u9664\u8868\u4e2d\u7684\u6240\u6709\u6570\u636e</p> <p><code>delete from customers where cust_id = 1234;</code></p> <p>\u5220\u9664\u5168\u8868\uff1a<code>truncate table tablename</code>\uff0c\u5b9e\u9645\u4e0a\u662f\u76f4\u63a5\u628a\u8868\u5220\u9664\u540e\u518d\u65b0\u5efa\u4e00\u4e2a\u8868</p>","tags":["\u6570\u636e\u5e93","\u540e\u7aef"]},{"location":"foundation/database/11.z1.mysql-crash-course/#_8","title":"\u5341\u4e94\u3001\u521b\u5efa\u548c\u64cd\u4f5c\u8868","text":"","tags":["\u6570\u636e\u5e93","\u540e\u7aef"]},{"location":"foundation/database/11.z1.mysql-crash-course/#1_2","title":"1.\u521b\u5efa\u8868","text":"<p>\u67e5\u770b\u6570\u636e\u5e93\u548c\u8868\u7684\u521b\u5efa\u8bed\u53e5\uff1a<code>show create database/table xxx;</code></p> <p>create\u8bed\u53e5\uff1a</p> <pre><code>CREATE TABLE if not exists `video` (\n  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT COMMENT '\u81ea\u589eid',\n  `file` varchar(64) NOT NULL DEFAULT '' COMMENT '\u6587\u4ef6\u540d',\n  `maudit_status` tinyint(4) unsigned NOT NULL DEFAULT '0' COMMENT 'status of machine audit',\n  `source_url` varchar(510) NOT NULL DEFAULT '' COMMENT '\u539f\u59cburl',\n  `create_time` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00' COMMENT '\u521b\u5efa\u65f6\u95f4',\n  `maudit_result` varchar(4096) NOT NULL DEFAULT '' COMMENT 'result of machine audit',\n  PRIMARY KEY (`id`),\n  UNIQUE KEY `object_name` (`file`),\n  KEY `idx_src_create_time` (`src_create_time`),\n) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8 COMMENT='\u89c6\u9891\u8868';\n</code></pre> <p>\u89c4\u5219\uff1a</p> <ol> <li>\u4e3b\u952e\u53ef\u4ee5\u662f\u591a\u4e2a\u5217\uff0c\u4f8b\u5982\uff0c<code>PRIMARY KEY (</code>id1<code>,</code>id2<code>)</code></li> <li>\u6bcf\u4e2a\u8868\u53ea\u5141\u8bb8\u4e00\u5217<code>auto_increment</code>\uff0c\u5e76\u4e14\u8be5\u5217\u5fc5\u987b\u80fd\u88ab\u7d22\u5f15\uff08\u4e00\u822c\u662f\u628a\u8fd9\u5217\u8bbe\u7f6e\u4e3a\u4e3b\u952e\uff09</li> <li>\u4e0d\u5141\u8bb8\u4f7f\u7528\u51fd\u6570\u4f5c\u4e3a\u9ed8\u8ba4\u503c\uff0c\u53ea\u80fd\u7528\u5e38\u91cf</li> <li>\u5916\u952e\u4e0d\u5141\u8bb8\u8de8\u5f15\u64ce </li> </ol>","tags":["\u6570\u636e\u5e93","\u540e\u7aef"]},{"location":"foundation/database/11.z1.mysql-crash-course/#2_3","title":"2.\u4fee\u6539\u8868","text":"<pre><code>alter table xxx\nadd phone_num char(20); --\u589e\u52a0\u5217\n\nalter table xxx\ndrop column phone_num; --\u5220\u9664\u5217\n\nalter table xxx\nadd constraint xxx_fk foreign key (vend_id) references vendors (id); --\u6dfb\u52a0\u4e00\u4e2a\u5916\u952e\u7ea6\u675f\uff08\u5728vend_id\u8fd9\u4e00\u5217\u4e0a\uff0c\u6dfb\u52a0\u4e00\u4e2a\u540d\u4e3axxx_fk\u7684\u5916\u952e\u7ea6\u675f\uff09\n\nALTER TABLE students\nDROP FOREIGN KEY fk_class_id; -- \u5220\u9664\u5916\u952e\u7ea6\u675f\n\ndrop table xxx; --\u5220\u9664\u8868\n\nrename table xxx to xxx2; --\u91cd\u547d\u540d\u8868\n</code></pre>","tags":["\u6570\u636e\u5e93","\u540e\u7aef"]},{"location":"foundation/database/11.z1.mysql-crash-course/#_9","title":"\u5341\u516d\u3001\u89c6\u56fe","text":"<p>\u89c6\u56fe\u662f\u865a\u62df\u7684\u8868\uff0c\u5b83\u53ea\u662f\u628a\u67e5\u8be2\u5c01\u88c5\u4e86\u4e00\u4e0b\uff0c\u91cc\u9762\u5e76\u4e0d\u5305\u542b\u6570\u636e\uff0c\u56e0\u6b64\u4f7f\u7528\u89c6\u56fe\u65f6\u8981\u6ce8\u610f\u6027\u80fd\u95ee\u9898\u3002\u53ef\u4ee5\u5229\u7528\u89c6\u56fe\u7b80\u5316\u590d\u6742\u7684\u8054\u7ed3\u67e5\u8be2</p> <p>\u89c6\u56fe\u64cd\u4f5c\uff1a</p> <ul> <li>create view &lt;\u89c6\u56fe\u540d&gt; AS \uff0c\u4f8b\u5982<code>create view a as select * form students;</code> <li>drop view, create or replace view</li> <li>show create view xxx, \u67e5\u770b\u521b\u5efa\u89c6\u56fe\u7684\u8bed\u53e5</li> <li>\u5728\u89c6\u56fe\u4e2d\u67e5\u8be2\u6570\u636e\u548c\u5728\u8868\u4e2d\u67e5\u8be2\u6570\u636e\u4e00\u6837\u90fd\u7528select\u8bed\u53e5\uff0c\u53ea\u662f\u628a\u8868\u540d\u6362\u6210\u4e86\u89c6\u56fe\u540d</li>","tags":["\u6570\u636e\u5e93","\u540e\u7aef"]},{"location":"foundation/database/11.z1.mysql-crash-course/#_10","title":"\u5341\u4e03\u3001\u5b58\u50a8\u8fc7\u7a0b","text":"<p>\u5b58\u50a8\u8fc7\u7a0b\u628a\u4e00\u7cfb\u5217\u64cd\u4f5c\u5c01\u88c5\u5728\u4e00\u8d77\u3002\u53ef\u4ee5\u5728\u5b58\u50a8\u8fc7\u7a0b\u4e2d\u52a0\u5165\u4e8b\u52a1\u3002</p> <pre><code>create procedure xxx()\nbegin\n    select xxx from xxx;\nend;\n</code></pre> <p>\u5982\u679c\u662f\u5728mysql\u547d\u4ee4\u884c\u5ba2\u6237\u7aef\u4f7f\u7528\u8be5\u8bed\u53e5\uff0c\u8981\u5bf9\u547d\u4ee4\u7ed3\u675f\u7b26\u505a\u4e34\u65f6\u4fee\u6539\uff0c\u4f8b\u5982:</p> <pre><code>delimiter //\ncreate procedure xxx()\nbegin\n    select xxx from xxx;\nend//\ndelimiter ;\n</code></pre> <p>\u6267\u884c\u5b58\u50a8\u8fc7\u7a0b\uff1a<code>call xxx();</code></p> <p>\u5220\u9664\u5b58\u50a8\u8fc7\u7a0b\uff1a<code>drop procedure (if exists) xxx;</code></p> <p>\u67e5\u770b\u5b58\u50a8\u8fc7\u7a0b\u521b\u5efa\u8bed\u53e5\uff1a<code>show create procedure xxx;</code></p> <p>\u67e5\u770b\u5b58\u50a8\u8fc7\u7a0b\u4fe1\u606f\uff1a<code>show procedure status (like 'procedure_name');</code></p>","tags":["\u6570\u636e\u5e93","\u540e\u7aef"]},{"location":"foundation/database/11.z1.mysql-crash-course/#1_3","title":"1.\u53c2\u6570\u548c\u53d8\u91cf","text":"<p>\u6240\u6709mysql\u53d8\u91cf\u90fd\u5fc5\u987b\u4ee5<code>@</code>\u5f00\u5934</p> <p>\u5b9a\u4e49\u4e00\u4e2a\u7528\u6237\u53d8\u91cf\uff1a<code>set @num=1;</code>\u6216<code>set @num:=1;</code></p> <p>\u5b9a\u4e49\u5b58\u50a8\u8fc7\u7a0b\u65f6\u5e26\u53c2\u6570\uff1a</p> <pre><code>-- in/out/inout\u5206\u522b\u5bf9\u5e94\u8f93\u5165\u53d8\u91cf\u3001\u8f93\u51fa\u53d8\u91cf\u548c\u8f93\u5165\u8f93\u51fa\u53d8\u91cf\ncreate procedure xxx(\n    in value1 int,\n    out value2 decimal(8,2),\n    inout value3 boolean\n) comment 'This is a comment'\nbegin\n    select xxx into value2 from ... ;\nend;\n</code></pre> <p>\u6267\u884c\u5b58\u50a8\u8fc7\u7a0b\uff1a</p> <pre><code>call xxx(20, @v2, @v3);\n</code></pre> <p>\u83b7\u53d6\u5b58\u50a8\u8fc7\u7a0b\u7684\u8f93\u51fa\uff1a</p> <pre><code>select @v2, @v3;\n</code></pre> <p>\u53ef\u4ee5\u5728\u5b58\u50a8\u8fc7\u7a0b\u4e2d\u5199\u903b\u8f91\uff1a</p> <pre><code>declare xxx int default 6;\ndeclare xxx2 boolean default false;\n\nif xxx2 then\n    ...\nend if;\n</code></pre>","tags":["\u6570\u636e\u5e93","\u540e\u7aef"]},{"location":"foundation/database/11.z1.mysql-crash-course/#2_4","title":"2.\u6e38\u6807","text":"<p>mysql\u6e38\u6807\u53ea\u80fd\u7528\u4e8e\u5b58\u50a8\u8fc7\u7a0b\u548c\u51fd\u6570\u3002\u6e38\u6807\u53ef\u4ee5\u7528\u6765\u4eceselect\u8fd4\u56de\u7684\u7ed3\u679c\u96c6\u4e2d\u4e00\u884c\u4e00\u884c\u5730\u53d6\u6570\u636e\u3002</p>","tags":["\u6570\u636e\u5e93","\u540e\u7aef"]},{"location":"foundation/database/11.z1.mysql-crash-course/#3_2","title":"3.\u89e6\u53d1\u5668","text":"<p>\u89e6\u53d1\u5668\u53ef\u4ee5\u8ba9mysql\u5728\u67d0\u4e2a\u8868\u53d1\u751f\u66f4\u6539\u65f6\u81ea\u52a8\u6267\u884c\u67d0\u4e2a\u52a8\u4f5c\u3002\u89e6\u53d1\u5668\u53ef\u4ee5\u54cd\u5e94delete\u3001insert\u6216update\u8bed\u53e5\u3002</p>","tags":["\u6570\u636e\u5e93","\u540e\u7aef"]},{"location":"foundation/database/11.z1.mysql-crash-course/#_11","title":"\u5341\u516b\u3001\u4e8b\u52a1","text":"<p>\u4e00\u4e9b\u6982\u5ff5\uff1a - \u4e8b\u52a1\uff08transaction\uff09\uff1a\u662f\u6307\u4e00\u7ec4sql\u8bed\u53e5 - \u56de\u6eda\uff08rollback\uff09\uff1a\u53ea\u80fd\u5728\u4e8b\u52a1\u5185\u90e8\u4f7f\u7528 - \u63d0\u4ea4\uff08commit\uff09\uff1a\u505a\u6700\u7ec8\u7684\u5199\u5165\u64cd\u4f5c - \u4fdd\u7559\u70b9\uff08savepoint\uff09\uff1a\u4e8b\u52a1\u5904\u7406\u4e2d\u8bbe\u7f6e\u7684\u4e34\u65f6\u5360\u4f4d\u7b26\uff0c\u53ef\u4ee5\u56de\u6eda\u5230\u4fdd\u7559\u70b9\uff0c\u800c\u4e0d\u662f\u6574\u4e2a\u4e8b\u52a1</p> <pre><code>start transaction;\n...\nrollback;\n...\nsavepoint xx;\n...\nrollback to xx;\n...\ncommit;\n</code></pre>","tags":["\u6570\u636e\u5e93","\u540e\u7aef"]},{"location":"foundation/database/11.z1.mysql-crash-course/#_12","title":"\u5341\u4e5d\u3001\u7528\u6237\u53ca\u6743\u9650\u7ba1\u7406","text":"<p>\u6570\u636e\u5e93mysql.user\u8868\u4e2d\u6709\u6240\u6709\u7684\u7528\u6237\u4fe1\u606f</p> <pre><code>create user xxx identified by 'password';\nrename user xxx to xxx2;\ndrop user xxx;\nshow grants for xxx; --\u663e\u793a\u7528\u6237\u6743\u9650\ngrant select on db.* to xxx; --grant\u6388\u4e88\u6743\u9650\nrevoke select on db.* to xxx; --revoke\u64a4\u9500\u6743\u9650 \nset password for xxx = Password('123456'); --\u6539\u5bc6\u7801\n</code></pre>","tags":["\u6570\u636e\u5e93","\u540e\u7aef"]},{"location":"foundation/database/11.z1.mysql-crash-course/#_13","title":"\u4e8c\u5341\u3001\u6570\u636e\u5e93\u7ef4\u62a4","text":"<ol> <li>\u6570\u636e\u5907\u4efd<ul> <li>\u547d\u4ee4\u884c\u5de5\u5177\uff1amysqldump\u3001mysqlhotcopy</li> <li>\u547d\u4ee4\uff1a<code>backup table</code>\u3001<code>select into outfile</code>\u3001<code>restore table</code>\u3001<code>flush tables</code></li> </ul> </li> <li>\u68c0\u67e5\u72b6\u6001<ul> <li><code>analyse table</code>\u3001<code>check table</code></li> </ul> </li> <li>\u65e5\u5fd7<ul> <li>\u9519\u8bef\u65e5\u5fd7\uff1adata/hostname.err\uff0c\u547d\u4ee4\u884c\u53c2\u6570</li> <li>\u67e5\u8be2\u65e5\u5fd7\uff1adata/hostname.log\uff0c\u8bb0\u5f55\u6240\u6709mysql\u6d3b\u52a8</li> <li>\u4e8c\u8fdb\u5236\u65e5\u5fd7\uff1adata/hostname-bin\uff0c\u8bb0\u5f55\u6570\u636e\u66f4\u65b0\u8bed\u53e5</li> <li>\u6162\u67e5\u8be2\u65e5\u5fd7\uff1adata/hostname-slow.log\uff0c\u8bb0\u5f55\u6267\u884c\u7f13\u6162\u7684\u67e5\u8be2</li> </ul> </li> </ol>","tags":["\u6570\u636e\u5e93","\u540e\u7aef"]},{"location":"foundation/database/11.z1.mysql-crash-course/#_14","title":"\u4e8c\u5341\u4e00\u3001\u6539\u5584\u6027\u80fd","text":"<ul> <li>\u4f7f\u7528explain\u8bed\u53e5\u8ba9mysql\u89e3\u91ca\u5b83\u5982\u4f55\u6267\u884c\u67d0\u4e2aselect\u8bed\u53e5</li> <li>join\u3001union\u548c\u5b50\u67e5\u8be2\u7684\u6027\u80fd\u4e0d\u4e00\u5b9a\u8c01\u9ad8\u8c01\u4f4e\uff0c\u9700\u8981\u5177\u4f53\u95ee\u9898\u5177\u4f53\u5206\u6790</li> <li>\u4e0d\u8981\u7528<code>select *</code></li> <li>\u4f7f\u7528\u591a\u6761select\u8bed\u53e5\u548cunion\u6765\u4ee3\u66ffor\u6761\u4ef6</li> <li>\u7d22\u5f15\u63d0\u5347\u67e5\u8be2\u6027\u80fd\uff0c\u4f46\u662f\u4f1a\u964d\u4f4e\u63d2\u5165\u3001\u5220\u9664\u548c\u66f4\u65b0\u7684\u6027\u80fd</li> <li>like\u5f88\u6162</li> <li>...</li> </ul>","tags":["\u6570\u636e\u5e93","\u540e\u7aef"]},{"location":"foundation/database/13.mysql-complex-sql/","title":"mysql\u4e2d\u7684\u590d\u6742\u67e5\u8be2","text":"","tags":["\u6570\u636e\u5e93","\u540e\u7aef"]},{"location":"foundation/database/13.mysql-complex-sql/#group-byhaving-where","title":"group by...having \u548c where \u7684\u533a\u522b","text":"<p>mysql \u5148\u5bf9\u6570\u636e\u6309\u7167 where \u5b50\u53e5\u8fc7\u6ee4\uff0c\u7136\u540e\u5728\u5bf9\u8fd4\u56de\u7684\u7ed3\u679c\u5206\u7ec4\uff0c\u6700\u540e\u5bf9\u5206\u7ec4\u540e\u7684\u6570\u636e\u6309\u7167 having \u5b50\u53e5\u8fc7\u6ee4\u3002</p> <p>where \u662f\u5bf9\u884c\u8fc7\u6ee4\uff0c\u800c having \u662f\u5bf9\u5206\u7ec4\u8fc7\u6ee4\uff0c\u6240\u4ee5\u53ef\u4ee5\u5728 having \u5b50\u53e5\u540e\u9762\u4f7f\u7528\u805a\u96c6\u51fd\u6570\uff0c\u800c\u5728 where \u5b50\u53e5\u540e\u9762\u4f7f\u7528\u805a\u96c6\u51fd\u6570\u662f\u6ca1\u6709\u610f\u4e49\u7684\u3002</p>","tags":["\u6570\u636e\u5e93","\u540e\u7aef"]},{"location":"foundation/database/13.mysql-complex-sql/#joinon-where","title":"join...on \u548c where \u7684\u533a\u522b","text":"<p>\u5728\u8054\u7ed3\u67e5\u8be2\u4e2d\uff0cjoin...on...\u5b50\u53e5\u548c where \u5b50\u53e5\u662f\u53ef\u4ee5\u4e00\u8d77\u51fa\u73b0\u7684\uff0c\u8981\u60f3\u5f04\u6e05\u695a\u5b83\u4eec\u7684\u533a\u522b\uff0c\u9996\u5148\u8981\u6e05\u695a\u8054\u7ed3\u67e5\u8be2\u7684\u8fc7\u7a0b\u3002\u8054\u7ed3\u67e5\u8be2\u65f6\u8981\u5148\u6839\u636e\u8054\u7ed3\u6761\u4ef6\u5bf9\u4e24\u5f20\u8868\u505a\u7b1b\u5361\u5c14\u79ef\uff0c\u751f\u6210\u4e00\u4e2a\u5927\u8868\uff0c\u7136\u540e\u518d\u5bf9\u8fd9\u4e2a\u5927\u8868\u505a\u8fc7\u6ee4\uff0c\u6700\u7ec8\u5f97\u5230\u67e5\u8be2\u7ed3\u679c\u3002</p> <p>join...on \u548c where \u7684\u533a\u522b\u5728\u4e8e\uff0cjoin...on...\u5b50\u53e5\u662f\u5728\u8054\u7ed3\u65f6\u751f\u6548\uff0c\u800c where \u5b50\u53e5\u662f\u5728\u8054\u7ed3\u540e\u751f\u6548\u3002</p> <p>\u56e0\u6b64\uff0c\u5f53\u8054\u7ed3\u662f\u5916\u90e8\u8054\u7ed3\uff08\u8054\u7ed3\u5b50\u53e5\u662f left join \u6216 right join\uff09\u65f6\uff0c\u7531\u4e8e\u5916\u90e8\u8054\u7ed3\u4f1a\u5c06\u5de6\u8868\u6216\u53f3\u8868\u4e2d\u6ca1\u6709\u5efa\u7acb\u8054\u7ed3\u7684\u884c\u90fd\u8fd4\u56de\uff0c\u6240\u4ee5 on \u540e\u9762\u7684\u6761\u4ef6\u4e0d\u4f1a\u53bb\u6389\u90a3\u4e9b\u4e0d\u7b26\u5408\u6761\u4ef6\u7684\u884c\uff0c\u800c where \u5b50\u53e5\u662f\u4e25\u683c\u7684\uff0c\u4f1a\u5c06\u4e0d\u7b49\u503c\u7684\u884c\u90fd\u53bb\u6389\u3002</p> <p>\u800c\u5f53\u8054\u7ed3\u662f\u5185\u90e8\u8054\u7ed3\uff08\u7b49\u503c\u8054\u7ed3\uff09\u7684\u65f6\u5019\uff0c\u8054\u7ed3\u5b50\u53e5\uff08join...on...\uff09\u53ea\u4f1a\u8fd4\u56de\u7b49\u503c\u7684\u884c\uff0c\u8fd9\u65f6\u5199\u5728 on \u540e\u9762\u7684\u6761\u4ef6\u548c where \u5b50\u53e5\u4e2d\u7684\u6761\u4ef6\u662f\u7b49\u4ef7\u7684\uff0c\u56e0\u6b64\uff0c\u4f7f\u7528\u5185\u90e8\u8054\u7ed3\u7684\u65f6\u5019\uff0c\u5b8c\u5168\u53ef\u4ee5\u7528 where \u5b50\u53e5\u4ee3\u66ff join...on...</p>","tags":["\u6570\u636e\u5e93","\u540e\u7aef"]},{"location":"foundation/database/13.mysql-complex-sql/#_1","title":"\u7a97\u53e3\u51fd\u6570","text":"<p>\u53c2\u8003mysql-8.0-documentation-window-functions</p>","tags":["\u6570\u636e\u5e93","\u540e\u7aef"]},{"location":"foundation/database/13.mysql-complex-sql/#_2","title":"\u4ecb\u7ecd","text":"<p>\u7a97\u53e3\u51fd\u6570\u662f mysql 8.0 \u52a0\u5165\u7684\u529f\u80fd\uff0c\u76ee\u7684\u662f\u4e3a\u4e86\u6ee1\u8db3\u5206\u7ec4\u7edf\u8ba1\u573a\u666f\u7684\u67e5\u8be2\u9700\u6c42\u3002</p> <p>\u6211\u4eec\u4f7f\u7528 SQL \u8bed\u53e5\u67e5\u6570\u636e\u65f6\u901a\u5e38\u4f1a\u6709\u4e00\u4e9b\u7edf\u8ba1\u5206\u6790\u7684\u9700\u6c42\uff08\u4f8b\u5982\u805a\u5408\u548c\u6392\u5e8f\uff09\uff0c\u4e00\u822c\u6709\u4ee5\u4e0b\u4e09\u7c7b\u7edf\u8ba1\u573a\u666f\uff1a</p> <ol> <li>\u7b80\u5355\u7edf\u8ba1    \u6309\u6761\u4ef6\u67e5\u51fa\u6570\u636e\u540e\uff0c\u5bf9\u8fd4\u56de\u6570\u636e\u6574\u4f53\u505a\u7edf\u8ba1\u64cd\u4f5c\uff0c\u8fd9\u79cd\u7edf\u8ba1\u4f7f\u7528<code>select...from...where...order by</code>\u914d\u5408\u805a\u5408\u51fd\u6570\u5373\u53ef\u5b8c\u6210\u3002</li> <li>\u5206\u7ec4\u805a\u5408    \u6309\u6761\u4ef6\u67e5\u51fa\u6570\u636e\u540e\uff0c\u5bf9\u6570\u636e\u5206\u7ec4\uff0c\u7136\u540e\u5bf9\u6bcf\u4e2a\u5206\u7ec4\u505a\u805a\u5408\u64cd\u4f5c\uff0c\u6bcf\u4e2a\u5206\u7ec4\u8fd4\u56de\u4e00\u6761\u6570\u636e\u5373\u53ef\uff0c\u8fd9\u79cd\u7edf\u8ba1\u4f7f\u7528<code>group by</code>\u5373\u53ef\u5b8c\u6210\u3002</li> <li>\u5206\u7ec4\u7edf\u8ba1    \u5f88\u591a\u65f6\u5019\u6211\u4eec\u65e2\u60f3\u5206\u7ec4\uff0c\u53c8\u60f3\u5bf9\u5206\u7ec4\u805a\u5408\uff0c\u53c8\u60f3\u628a\u5206\u7ec4\u5185\u90e8\u7684\u6570\u636e\u5168\u90e8\u8fd4\u56de\uff0c\u800c\u4e0d\u662f\u6bcf\u4e2a\u5206\u7ec4\u53ea\u8fd4\u56de\u4e00\u4e2a\u6570\u636e\uff0c\u8fd9\u65f6\u5149\u7528<code>group by</code>\u662f\u4e0d\u80fd\u5b8c\u6210\u4efb\u52a1\u7684\uff0c\u4e3a\u4e86\u89e3\u51b3\u95ee\u9898\uff0c\u6211\u4eec\u7ecf\u5e38\u8981\u5199\u4e00\u5806\u590d\u6742\u7684\u81ea\u8054\u7ed3\uff0c\u4e0d\u4ec5 SQL \u96be\u4ee5\u8bfb\u61c2\uff0c\u800c\u4e14\u67e5\u8be2\u6548\u7387\u4e5f\u5f88\u4f4e\u4e0b\u3002</li> </ol> <p>\u7a97\u53e3\u51fd\u6570\u7684\u5f15\u5165\u5c31\u662f\u4e3a\u4e86\u65b9\u4fbf\u89e3\u51b3\u4e0a\u8ff0\u7b2c\u4e09\u79cd\u67e5\u8be2\u573a\u666f\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u7a97\u53e3\u51fd\u6570\u5bf9\u5206\u7ec4\u5185\u90e8\u7684\u6570\u636e\u505a\u7edf\u8ba1\uff0c\u7136\u540e\u628a\u7edf\u8ba1\u540e\u7684\u6570\u636e\u5168\u90e8\u8fd4\u56de\uff0c\u5e76\u4e14\u53ef\u4ee5\u6309\u6392\u5e8f\u4e3a\u6bcf\u884c\u8ba1\u7b97\u51fa\u4e00\u4e2a\u5e8f\u53f7\uff0c\u65b9\u4fbf\u6211\u4eec\u4f7f\u7528\u5e8f\u53f7\u5bf9\u6570\u636e\u505a\u4e8c\u6b21\u8fc7\u6ee4</p> <p>\u5bf9\u4e8e\u7a97\u53e3\u51fd\u6570\u6765\u8bf4\uff0c\u201c\u7a97\u53e3\u201d\u7684\u6982\u5ff5\u975e\u5e38\u91cd\u8981\u3002\u7a97\u53e3\u51fd\u6570\u4f1a\u5bf9\u7ec4\u5185\u7684\u6bcf\u6761\u8bb0\u5f55\u6267\u884c\u7edf\u8ba1\uff0c\u8fd9\u9700\u8981\u7ed9\u7a97\u53e3\u51fd\u6570\u89c4\u5b9a\u4e00\u4e2a\u7edf\u8ba1\u8303\u56f4\uff08\u7edf\u8ba1\u8303\u56f4\u4e0d\u4e00\u5b9a\u662f\u6574\u4e2a\u5206\u7ec4\uff0c\u4e5f\u53ef\u80fd\u53ea\u5bf9\u5206\u7ec4\u7684\u4e00\u90e8\u5206\u505a\u7edf\u8ba1\uff09\uff0c\u6211\u4eec\u628a\u8fd9\u4e2a\u7edf\u8ba1\u8303\u56f4\u79f0\u4e3a\u7a97\u53e3\uff0c\u6709\u7684\u7a97\u53e3\u51fd\u6570\u7684\u7a97\u53e3\u662f\u56fa\u5b9a\u7684\uff0c\u6709\u7684\u662f\u6ed1\u52a8\u7684\uff0c\u9700\u8981\u7528\u6237\u6307\u5b9a</p>","tags":["\u6570\u636e\u5e93","\u540e\u7aef"]},{"location":"foundation/database/13.mysql-complex-sql/#_3","title":"\u7528\u6cd5","text":"<p>\u4ee5\u4e0b\u662f\u7a97\u53e3\u51fd\u6570\u7684\u7528\u6cd5</p> <pre><code>-- \u7b80\u5355\u5199\u6cd5\uff08\u628a\u7a97\u53e3\u51fd\u6570\u8fd4\u56de\u7684\u884c\u5e8f\u53f7\u4f5c\u4e3a\u65b0\u7684\u4e00\u5217new_col\uff09\nselect\nwindow_function() over(partition by xxx order by xxx) as new_col from xxx\n\n-- \u4e0a\u9762\u4e5f\u53ef\u4ee5\u628a\u5206\u7ec4\u6761\u4ef6\u62c6\u6210\u5355\u72ec\u7684window\u8bed\u53e5\n\nselect\nwindow_function() over w as new_col\nfrom xxx\nwindow w as (partition by xxx order by xxx)\n</code></pre> <p>\u7a97\u53e3\u51fd\u6570\u7684\u5b8c\u6574\u8bed\u6cd5\u5982\u4e0b</p> <pre><code>window_function_name(expression)\n    OVER (\n        [partition_defintion]\n        [order_definition]\n        [frame_definition]\n    )\n</code></pre> <p><code>window_function_name(expression)</code>\u662f\u7a97\u53e3\u51fd\u6570\uff0c<code>over()</code>\u4e3a\u7a97\u53e3\u51fd\u6570\u6307\u5b9a\u4e86\u5206\u7ec4\u89c4\u5219\uff0c\u5982\u679c\u91cc\u9762\u4ec0\u4e48\u90fd\u4e0d\u5199\u5c31\u662f\u5728\u6574\u4e2a\u8868\u4e0a\u8fd0\u884c\u7a97\u53e3\u51fd\u6570</p> <p><code>partition</code>\u5b50\u53e5\u5b9a\u4e49\u4e86\u6309\u54ea\u4e9b\u5217\u5206\u7ec4\uff0c<code>order by</code>\u5b50\u53e5\u5b9a\u4e49\u4e86\u6309\u54ea\u4e9b\u5217\u6392\u5e8f\uff0c<code>frame</code>\u5b50\u53e5\u5b9a\u4e49\u4e86\u4e00\u4e2a\u6ed1\u52a8\u7a97\u53e3\uff0c\u5206\u4e3a\u6309\u884c\u5b9a\u4e49\u548c\u6309\u8303\u56f4\u5b9a\u4e49</p> <p>\u7a97\u53e3\u51fd\u6570\u53ea\u80fd\u7528\u5728 select \u5217\u8868\u548c order by \u5b50\u53e5\u91cc\u3002mysql \u662f\u5bf9 where\u3001group by\u3001having \u5b50\u53e5\u8fd4\u56de\u7684\u7ed3\u679c\u4e0a\u8fdb\u884c\u7a97\u53e3\u51fd\u6570\u7684\u5904\u7406\uff0c\u5904\u7406\u987a\u5e8f\u5728 order by\u3001limit\u3001select distinct \u4e4b\u524d</p> <p>frame\u8bed\u6cd5</p> <pre><code>-- frame_units\u662f\u7a97\u53e3\u7c7b\u578b\uff0cframe_extent\u662f\u7a97\u53e3\u8303\u56f4\nframe_units frame_extent\n\n-- frame_units\u6709\u4e24\u79cd\uff0cROWS\u548cRANGE\uff0c\u5206\u522b\u662f\u6309\u884c\u7684\u4f4d\u7f6e\u6307\u5b9a\u8303\u56f4\uff08\u884c\u7684\u4f4d\u7f6e\u5c31\u662f\u6307\u201c\u7b2c\u51e0\u884c\u201d\uff09\u548c\u6309\u884c\u7684\u503c\u6307\u5b9a\u8303\u56f4\uff08\u5bf9RANGE\u6a21\u5f0f\u4e0d\u592a\u7406\u89e3\uff0c\u5927\u6982\u662f\u503c\u76f8\u540c\u7684\u884c\u5728\u7edf\u8ba1\u4e0a\u7b97\u4f5c\u540c\u4e00\u884c\uff09\nframe_units:\n    {ROWS | RANGE}\n-- frame_extent\u4e5f\u6709\u4e24\u79cd\uff0c\u53ea\u6307\u5b9a\u5f00\u59cb\u884c\uff08\u7ed3\u5c3e\u884c\u9ed8\u8ba4\u662f\u5f53\u524d\u884c\uff09\uff0c\u548c\u540c\u65f6\u6307\u5b9a\u5f00\u59cb\u548c\u7ed3\u675f\u884c\nframe_extent:\n    {frame_start | frame_between}\n\nframe_between:\n    BETWEEN frame_start AND frame_end\n\nframe_start, frame_end: {\n    CURRENT ROW  -- \u5f53\u524d\u884c\n  | UNBOUNDED PRECEDING -- \u5206\u7ec4\u7b2c\u4e00\u884c\n  | UNBOUNDED FOLLOWING -- \u5206\u7ec4\u6700\u540e\u4e00\u884c\n  | expr PRECEDING -- \u5f53\u524d\u884c\u4e4b\u524d\u7684expr\u884c\uff0c\u4f8b\u598210 PRECEDING\u7684\u610f\u601d\u662f\u5f53\u524d\u884c\u4e4b\u524d\u768410\u884c\n  | expr FOLLOWING -- \u5f53\u524d\u884c\u4e4b\u540e\u7684expr\u884c\n}\n\n</code></pre>","tags":["\u6570\u636e\u5e93","\u540e\u7aef"]},{"location":"foundation/database/13.mysql-complex-sql/#_4","title":"\u5e38\u7528\u7a97\u53e3\u51fd\u6570","text":"<p>\u53ef\u4ee5\u5f53\u4f5c\u7a97\u53e3\u51fd\u6570\u7684\u805a\u5408\u51fd\u6570\uff1asum\u3001min\u3001max\u3001avg\u3001count</p> <p>\u4ee5\u4e0b\u662f\u4e13\u7528\u7a97\u53e3\u51fd\u6570</p> \u51fd\u6570 \u529f\u80fd row_number() \u8fd4\u56de\u5206\u7ec4\u5185\u6392\u5e8f\u540e\u7684\u884c\u53f7 rank() \u8fd4\u56de\u5206\u7ec4\u5185\u6392\u5e8f\u540e\u7684\u5e8f\u53f7\uff0c\u5982\u679c\u6709\u5e76\u5217\u7684\u884c\uff0c\u5b83\u4eec\u884c\u53f7\u76f8\u540c\uff0c\u884c\u53f7\u662f\u5e76\u5217\u7ec4\u524d\u9762\u7684\u603b\u8bb0\u5f55\u6570+1 dense_rank() \u8fd4\u56de\u5206\u7ec4\u5185\u6392\u5e8f\u540e\u7684\u5e8f\u53f7\uff0c\u5982\u679c\u6709\u5e76\u5217\u7684\u884c\uff0c\u5b83\u4eec\u884c\u53f7\u76f8\u540c\uff0c\u884c\u53f7\u662f\u4e0a\u4e00\u4e2a\u5e76\u5217\u7ec4\u7684\u5e8f\u53f7+1 first_value(expr)/last_value(expr) \u8fd4\u56de\u7a97\u53e3\u4e2d\u7684\u7b2c\u4e00\u4e2a\u884c\u6216\u6700\u540e\u4e00\u4e2a\u884c\uff0c\u5e76\u5bf9\u5176\u505a\u8868\u8fbe\u5f0f\u8ba1\u7b97 lag(expr,N,default) \u8fd4\u56de\u5206\u7ec4\u5185\u4f4d\u4e8e\u5f53\u524d\u884c\u4e4b\u524dN\u884c\uff08\u8fd9\u91cc\u662f\u6307\u4e0a\u65b9\uff09\u7684\u884c\uff0cdefault\u662f\u6307\u5982\u679c\u6ca1\u6709\u4e4b\u524dN\u884c\u8fd4\u56de\u7684\u503c\uff0cN\u548cdefault\u7684\u9ed8\u8ba4\u503c\u5206\u522b\u4e3a1\u548cnull lead(expr,N,default) \u8fd4\u56de\u5206\u7ec4\u5185\u4f4d\u4e8e\u5f53\u524d\u884c\u4e4b\u540eN\u884c\uff08\u4e0b\u65b9\uff09\u7684\u884c\u3002\uff08\u8fd9\u91cc\u7684\u4e4b\u524d\u4e4b\u540e\u662f\u6307\u904d\u5386\u987a\u5e8f\uff09 nth_value(expr,N) \u8fd4\u56de\u7a97\u53e3\u5185\u7684\u7b2cn\u884c ntile(n) \u5c06\u5206\u7ec4\u5185\u884c\u5e73\u5747\u5206\u6210n\u4e2a\u6876\uff0c\u8fd4\u56de\u6bcf\u4e2a\u884c\u6240\u5c5e\u7684\u6876\u53f7 <p>\u4ee5\u4e0b\u662frow_number\u3001rank\u548cdense_rank\u7684\u533a\u522b</p> <pre><code>+------+------------+------+------------+\n| val  | row_number | rank | dense_rank |\n+------+------------+------+------------+\n|    1 |          1 |    1 |          1 |\n|    1 |          2 |    1 |          1 |\n|    2 |          3 |    3 |          2 |\n|    3 |          4 |    4 |          3 |\n|    3 |          5 |    4 |          3 |\n|    3 |          6 |    4 |          3 |\n|    4 |          7 |    7 |          4 |\n|    4 |          8 |    7 |          4 |\n|    5 |          9 |    9 |          5 |\n+------+------------+------+------------+\n</code></pre>","tags":["\u6570\u636e\u5e93","\u540e\u7aef"]},{"location":"foundation/database/13.mysql-complex-sql/#_5","title":"\u5176\u4ed6","text":"","tags":["\u6570\u636e\u5e93","\u540e\u7aef"]},{"location":"foundation/database/13.mysql-complex-sql/#if","title":"if\u51fd\u6570","text":"<p>if\u51fd\u6570\u53ef\u4ee5\u7528\u5728select\u5b50\u53e5\u4e2d</p> <p>\u7528\u6cd5\uff1a<code>if(expr1,v1,v2)</code>\uff0c\u5f53expr1\u7684\u503c\u4e3a\u771f\u65f6\uff0c\u8fd4\u56dev1\uff0c\u5426\u5219\u8fd4\u56dev2</p>","tags":["\u6570\u636e\u5e93","\u540e\u7aef"]},{"location":"foundation/database/13.mysql-complex-sql/#case","title":"case \u51fd\u6570","text":"<p>case \u51fd\u6570\u53ef\u4ee5\u7528\u5728 select \u5b50\u53e5\u91cc\uff0c\u5e76\u5c06\u5176\u7ed3\u679c\u547d\u540d\u4e3a\u4e00\u4e2a\u5b57\u6bb5\uff0c\u8fd8\u53ef\u4ee5\u6309\u8fd9\u4e2a\u5b57\u6bb5\u5206\u7ec4\uff0c\u6bd4\u5982\u4ee5\u4e0b sql</p> <pre><code>select case\nwhen age&gt;=25 then \"25\u5c81\u53ca\u4ee5\u4e0a\"\nelse \"25\u5c81\u4ee5\u4e0b\"\nend as age_cut,count(id) as number\nfrom user_profile\ngroup by age_cut;\n</code></pre> <p>\u8fd9\u4e2a sql \u8fd4\u56de\u7684\u7ed3\u679c\u5982\u4e0b\u6240\u793a</p> <pre><code>age_cut,number\n25\u5c81\u4ee5\u4e0b,4\n25\u5c81\u53ca\u4ee5\u4e0a,3\n</code></pre> <p>case \u51fd\u6570\u6709\u4e24\u79cd\u5199\u6cd5\uff0c\u7b2c\u4e00\u79cd\uff0c</p> <pre><code>CASE  &lt;\u8868\u8fbe\u5f0f&gt;\n   WHEN &lt;\u503c1&gt; THEN &lt;\u64cd\u4f5c&gt;\n   WHEN &lt;\u503c2&gt; THEN &lt;\u64cd\u4f5c&gt;\n   ...\n   ELSE &lt;\u64cd\u4f5c&gt;\nEND CASE;\n</code></pre> <p>\u7b2c\u4e8c\u79cd\uff08\u6709\u70b9\u7c7b\u4f3c\u4e8e golang \u7684 switch \u8bed\u53e5\uff09\uff0c</p> <pre><code>CASE\n    WHEN &lt;\u6761\u4ef61&gt; THEN &lt;\u64cd\u4f5c&gt;\n    WHEN &lt;\u6761\u4ef62&gt; THEN &lt;\u64cd\u4f5c&gt;\n    ...\n    ELSE &lt;\u64cd\u4f5c&gt;\nEND CASE;\n</code></pre>","tags":["\u6570\u636e\u5e93","\u540e\u7aef"]},{"location":"foundation/network/12.z1.ip-address/","title":"\u5173\u4e8eIP\u5730\u5740\u7684\u53d1\u5c55","text":"","tags":["\u7f51\u7edc"]},{"location":"foundation/network/12.z1.ip-address/#ip","title":"IP\u5730\u5740\u7684\u53d1\u5c55","text":"<p>\u6700\u5f00\u59cb\u5c06IP\u5730\u5740\u5206\u4e3aABCDE\u4e94\u7c7b\u5730\u5740\uff0c\u540e\u6765\u4e3a\u4e86\u4e0d\u6d6a\u8d39IP\u5730\u5740\u8d44\u6e90\u63d0\u51fa\u4e86\u5212\u5206\u5b50\u7f51\uff0c\u53d1\u660e\u4e86\u5b50\u7f51\u63a9\u7801\uff0c\u518d\u540e\u6765\u53c8\uff08\u5728\u53ef\u53d8\u957f\u5b50\u7f51\u63a9\u7801VLSM\u7684\u57fa\u7840\u4e0a\uff09\u63d0\u51fa\u4e86\u65e0\u5206\u7c7b\u57df\u95f4\u8def\u7531CIDR\uff08Classless Inter-Domain Routing\uff09\uff0c\u63d0\u51fa\u4e86\u53d8\u957f\u7f51\u7edc\u524d\u7f00\uff0c\u8fdb\u4e00\u6b65\u63d0\u9ad8\u4e86IP\u5730\u5740\u5229\u7528\u7387</p> <p>\u5728\u6700\u521d\u7684\u4e94\u7c7bIP\u7f16\u5740\u65b9\u6cd5\u4e2d\uff0cIP\u5730\u5740\u662f\u4e24\u7ea7\u7f16\u5740\uff0c\u7531\u7f51\u7edc\u53f7+\u4e3b\u673a\u53f7\u6784\u6210\u3002\u5212\u5206\u5b50\u7f51\u88ab\u63d0\u51fa\u540e\uff0cIP\u5730\u5740\u53d8\u4e3a\u4e86\u4e09\u7ea7\u7f16\u5740\uff0c\u5373\u7f51\u7edc\u53f7+\u5b50\u7f51\u53f7+\u4e3b\u673a\u53f7\u3002\u5230\u4e86CIDR\u51fa\u73b0\u4ee5\u540e\uff0c\u5c31\u4e0d\u518d\u4f7f\u7528\u4e4b\u524d\u7684IP\u5730\u5740\u5206\u7c7b\u548c\u5212\u5206\u5b50\u7f51\u7684\u6982\u5ff5\u4e86\uff0c\u800c\u662f\u4f7f\u7528\u957f\u5ea6\u53ef\u53d8\u7684\u7f51\u7edc\u524d\u7f00\u4ee3\u66ff\u4e86\u7f51\u7edc\u53f7\u548c\u5b50\u7f51\u53f7\uff0c\u5199\u7684\u65f6\u5019\u4f7f\u7528\u201c\u659c\u7ebf\u8bb0\u6cd5\u201d\uff0c\u5373\u5728IP\u5730\u5740\u540e\u9762\u52a0\u4e00\u4e2a\u659c\u7ebf\u201c/\u201d\uff0c\u7136\u540e\u5199\u4e0a\u7f51\u7edc\u524d\u7f00\u6240\u5360\u7684\u4f4d\u6570\u3002</p> <p>CIDR\u5b9e\u9645\u4e0a\u5df2\u7ecf\u6ca1\u6709\u5b50\u7f51\u7684\u6982\u5ff5\uff0c\u4f46\u4ecd\u7136\u4f7f\u7528\u63a9\u7801\u8fd9\u4e00\u79f0\u547c\uff0cIP\u5730\u5740\u4ece\u4e09\u7ea7\uff08\u7f51\u7edc\u53f7+\u5b50\u7f51\u53f7+\u4e3b\u673a\u53f7\uff09\u53c8\u53d8\u56de\u4e86\u4e24\u7ea7\uff08\u7f51\u7edc\u53f7+\u4e3b\u673a\u53f7\uff09</p>","tags":["\u7f51\u7edc"]},{"location":"foundation/network/12.z1.ip-address/#ip_1","title":"\u6700\u521d\u7684\u4e94\u7c7bIP\u5730\u5740","text":"<p>\u4e00\u4e2aIPv4\u5730\u5740\u5171\u56db\u4e2a\u5b57\u8282\uff0c\u7531\u7f51\u7edc\u53f7\u548c\u4e3b\u673a\u53f7\u7ec4\u6210\u3002IPv4\u5730\u5740\u5206\u4e3aA\u3001B\u3001C\u3001D\u3001E\u4e94\u7c7b</p> <p>\u7f51\u7edc\u53f7\u51680\u4ee3\u8868\u672c\u7f51\u7edc\uff0c\u56e0\u6b64\uff0cA\u3001B\u3001C\u7c7b\u5730\u5740\u5206\u522b\u6709\u4e00\u4e2a\u7f51\u7edc\u53f7\u4e0d\u80fd\u4f7f\u7528\uff080.0.0.0/8\uff0c128.0.0.0/16\uff0c192.0.0.0/24\uff09\u3002\u4f46\u662f\u968f\u7740\u540e\u6765\u5b50\u7f51\u548cCIDR\u7684\u51fa\u73b0\uff0cIP\u5730\u5740\u5206\u7c7b\u5df2\u7ecf\u6ca1\u6709\u610f\u4e49\uff0c128.0.0.0/16\u5df2\u7ecf\u88ab\u5206\u914d\u51fa\u53bb\u4e86\uff0c192.0.0.0/24\u6682\u65f6\u8fd8\u4fdd\u7559\u5728IANA\u624b\u4e2d\uff0c\u4ee5\u540e\u6216\u8bb8\u4f1a\u5206\u914d\u51fa\u53bb\uff0c\u53ea\u67090.0.0.0/8\u8fd9\u4e2a\u7f51\u7edc\u53f7\u88ab0.0.0.0\u5360\u7528\uff0c\u4ee3\u8868\u672a\u6307\u5b9a\u5730\u5740</p> <p>\u6b64\u5904\u53c2\u8003</p> <ul> <li>\u77e5\u4e4etckidd\u7684\u56de\u7b54</li> <li>RFC790-Assigned numbers\uff0cRFC790\u4e2d\u7ed9\u51fa\u4e86\u5177\u4f53\u7684IP\u5730\u5740\u5212\u5206</li> <li>RFC791-Internet Protocol\uff0cRFC791\u4e2d\u89c4\u5b9a\u4e86\u51680\u8868\u793a\u672c\u7f51\u7edc</li> <li>RFC3330-Special-Use IPv4 Addresses\uff0cRFC3330\u58f0\u660e\u4e86128.0.0.0/16\u548c192.0.0.0/24\u4e0d\u518d\u4fdd\u7559</li> </ul> <p>\u4e3b\u673a\u53f7\u51681\u8868\u793a\u672c\u7f51\u7edc\u4e2d\u7684\u6240\u6709\u4e3b\u673a\uff0c\u56e0\u6b64\u4e3b\u673a\u53f7\u51681\u7684IP\u5730\u5740\u662f\u4e00\u4e2a\u5e7f\u64ad\u5730\u5740\u3002\u4e3b\u673a\u53f7\u51680\u65f6\u8fd9\u4e2aIP\u5730\u5740\u5c31\u662f\u7f51\u7edc\u53f7\u3002</p> <p>\u7279\u6b8a\u5730\u5740\uff1a</p> <ul> <li>\u73af\u56de\u5730\u5740\uff08loopback\uff09\uff0c127.0.0.1\uff0c\u7b49\u4ef7\u4e8elocalhost\u548c\u672c\u673aip\u3002\uff08\u5b9e\u9645\u4e0a\u6574\u4e2a127.0.0.0/8\u7f51\u6bb5\u90fd\u662f\u73af\u56de\u5730\u5740\uff09</li> <li>\u5730\u57400.0.0.0\u4ee3\u8868\u672a\u6307\u5b9a\u5730\u5740\uff0c\u4e00\u822c\u7528\u4e8e\u9ed8\u8ba4\u5730\u5740\uff0c\u76f8\u5f53\u4e8e\u5360\u4f4d\u7b26</li> <li>0.0.0.0/8\u4e2d\u96640.0.0.0\u4ee5\u5916\u7684\u5176\u4ed6\u5730\u5740\u7528\u4e8e\u8868\u793a\u672c\u7f51\u7edc\u4e2d\u7684\u7279\u5b9a\u4e3b\u673a</li> <li>\u4e3b\u673a\u53f7\u51680</li> <li> <p>\u4e3b\u673a\u53f7\u51681</p> </li> <li> <p>A\u7c7b\u7f51\u7edc\u53f7\u5360\u4e00\u4e2a\u5b57\u8282\uff0c\u75310\u5f00\u5934\u3002\u5176\u4e2d\uff0c\u51680\u7684\u7f51\u7edc\u53f7\u88ab0.0.0.0/8\u5360\u7528\uff0c\u51681\u7684\u7f51\u7edc\u53f7\u88ab\u73af\u56de\u5730\u5740\u5360\u7528\uff0c\u56e0\u6b64A\u7c7b\u7f51\u7edc\u53f7\u8303\u56f4\u662f1~126\u3002</p> </li> <li>B\u7c7b\u7f51\u7edc\u53f7\u5360\u4e24\u4e2a\u5b57\u8282\uff0c\u753110\u5f00\u5934\uff08\u8303\u56f4\u662f128.0.0.0/16~191.255.0.0/16\uff09</li> <li>C\u7c7b\u7f51\u7edc\u53f7\u5360\u4e09\u4e2a\u5b57\u8282\uff0c\u7531110\u5f00\u5934</li> <li>D\u7c7bIP\u5730\u5740\u662f\u591a\u64ad\u5730\u5740\uff0c\u75311110\u5f00\u5934</li> <li>E\u7c7bIP\u5730\u5740\u4fdd\u7559\uff0c\u753111110\u5f00\u5934</li> </ul> <p>A\u3001B\u3001C\u4e09\u7c7b\u5730\u5740\u90fd\u5404\u81ea\u5212\u5206\u51fa\u4e00\u5757\u533a\u57df\u4f5c\u4e3a\u79c1\u6709\u5730\u5740</p> <ul> <li>A\u7c7b\u79c1\u6709\u5730\u5740\uff0c10.0.0.0~10.255.255.255</li> <li>B\u7c7b\u79c1\u6709\u5730\u5740\uff0c172.16.0.0~172.31.255.255</li> <li>C\u7c7b\u79c1\u6709\u5730\u5740\uff0c192.168.0.0~192.168.255.255</li> </ul>","tags":["\u7f51\u7edc"]},{"location":"foundation/os/14.threadexit/","title":"\u7ebf\u7a0b\u4ec0\u4e48\u65f6\u5019\u7ec8\u6b62","text":"<p>\u4e4b\u524d\u4e00\u76f4\u6709\u51e0\u4e2a\u7591\u60d1\uff0c\u6bd4\u5982\uff0c</p> <ul> <li>\u4e00\u4e2a\u7ebf\u7a0b\u7ec8\u6b62\u540e\uff0c\u5b83\u521b\u5efa\u7684\u5176\u4ed6\u7ebf\u7a0b\u5982\u679c\u6ca1\u6267\u884c\u5b8c\uff0c\u4f1a\u8ddf\u7740\u7ec8\u6b62\u8fd8\u662f\u7ee7\u7eed\u6267\u884c\uff1f</li> <li>main\u51fd\u6570\u8fd4\u56de\u540e\uff0c\u5176\u4ed6\u6ca1\u6267\u884c\u5b8c\u7684\u7ebf\u7a0b\u4f1a\u7ec8\u6b62\u5417\uff1f</li> <li>\u4e3b\u7ebf\u7a0b\u7ec8\u6b62\u540e\uff0c\u5b50\u7ebf\u7a0b\u5982\u679c\u6ca1\u6267\u884c\u5b8c\u4f1a\u8ddf\u7740\u7ec8\u6b62\u5417\uff1f</li> </ul>","tags":["\u64cd\u4f5c\u7cfb\u7edf","\u5e76\u53d1\u7f16\u7a0b"]},{"location":"foundation/os/14.threadexit/#_1","title":"\u7ed3\u8bba\uff1a\u8fdb\u7a0b\u9000\u51fa\u624d\u4f1a\u5bfc\u81f4\u7ebf\u7a0b\u7acb\u5373\u7ec8\u6b62","text":"<p>\u901a\u5e38\u6765\u8bf4\uff0c\u7ebf\u7a0b\u6ca1\u6709\u201c\u4e3b\u7ebf\u7a0b\u201d\u548c\u201c\u5b50\u7ebf\u7a0b\u201d\u7684\u6982\u5ff5\uff0c\u8fdb\u7a0b\u5185\u7684\u6240\u6709\u7ebf\u7a0b\u5730\u4f4d\u662f\u5e73\u7b49\u7684\uff0c\u6ca1\u6709\u7236\u5b50\u3001\u4e3b\u4ece\u7b49\u4f9d\u8d56\u5173\u7cfb\u3002</p> <p>\u5982\u679c\u4e00\u4e2a\u7ebf\u7a0b\u521b\u5efa\u4e86\u5176\u4ed6\u7ebf\u7a0b\uff0c\u8fd9\u4e2a\u7ebf\u7a0b\u7ec8\u6b62\u540e\uff0c\u88ab\u5176\u521b\u5efa\u7684\u7ebf\u7a0b\u53ef\u4ee5\u7ee7\u7eed\u6267\u884c\uff0cmain\u7ebf\u7a0b\u4e5f\u4e00\u6837\uff0c\u5b83\u7684\u7ec8\u6b62\u4e5f\u4e0d\u4f1a\u5f71\u54cd\u5230\u5176\u4ed6\u7ebf\u7a0b\u7684\u6267\u884c\u3002</p> <p>\u4f46\u662f\u5f53\u8fdb\u7a0b\u9000\u51fa\u7684\u65f6\u5019\uff0c\u8fdb\u7a0b\u5185\u7684\u6240\u6709\u7ebf\u7a0b\u90fd\u4f1a\u88ab\u7acb\u5373\u7ec8\u6b62\u3002</p> <p>\u4e4b\u6240\u4ee5\u4f1a\u4ea7\u751f\u4e0a\u9762\u7684\u7591\u60d1\uff0c\u662f\u56e0\u4e3a\u6df7\u6dc6\u4e86\u7ebf\u7a0b\u9000\u51fa\u548c\u8fdb\u7a0b\u9000\u51fa\uff0c\u5728\u6709\u4e9b\u8bed\u8a00\u91ccmain\u51fd\u6570\u8fd4\u56de\u4f1a\u5bfc\u81f4\u8fdb\u7a0b\u9000\u51fa\uff0c\u8fd9\u4f1a\u8ba9\u4eba\u8bef\u4ee5\u4e3a\u5176\u4ed6\u7ebf\u7a0b\u7684\u7ec8\u6b62\u662f\u7531main\u7ebf\u7a0b\u7ec8\u6b62\u5bfc\u81f4\u7684\uff0c\u5b9e\u9645\u4e0a\u662f\u7531\u8fdb\u7a0b\u9000\u51fa\u5bfc\u81f4\u7684\u3002</p> <p>\u81f3\u4e8e\u8fdb\u7a0b\u4ec0\u4e48\u65f6\u5019\u9000\u51fa\uff0c\u4e0d\u540c\u8bed\u8a00\u5904\u7406\u4e0d\u592a\u4e00\u6837\u3002</p>","tags":["\u64cd\u4f5c\u7cfb\u7edf","\u5e76\u53d1\u7f16\u7a0b"]},{"location":"foundation/os/14.threadexit/#cpthread","title":"c\uff08pthread\uff09","text":"<p>\u5728c\u8bed\u8a00\u4e2d\uff0cmain\u51fd\u6570\u901a\u8fc7return\u8bed\u53e5\u8fd4\u56de\u540e\u4f1a\u5bfc\u81f4\u8fdb\u7a0b\u9000\u51fa\uff0c\u8fdb\u7a0b\u4e2d\u7684\u6240\u6709\u7ebf\u7a0b\u4f1a\u88ab\u7acb\u5373\u7ec8\u6b62\u3002</p> <p>\u5982\u679c\u5728main\u51fd\u6570\u4e2d\u8c03\u7528<code>pthread_exit()</code>\uff0c\u53ea\u4f1a\u5bfc\u81f4main\u7ebf\u7a0b\u88ab\u7ec8\u6b62\uff0c\u5176\u4ed6\u7ebf\u7a0b\u5219\u4e0d\u53d7\u5f71\u54cd\uff0c\u56e0\u4e3a\u8fdb\u7a0b\u5e76\u6ca1\u6709\u9000\u51fa\u3002\uff08\u5728\u5176\u4ed6\u7ebf\u7a0b\u4e2d\u8c03\u7528<code>pthread_cancel()</code>\u7ec8\u6b62main\u7ebf\u7a0b\u4e5f\u4e00\u6837\uff09</p>","tags":["\u64cd\u4f5c\u7cfb\u7edf","\u5e76\u53d1\u7f16\u7a0b"]},{"location":"foundation/os/14.threadexit/#java","title":"java","text":"<p>java\u4e2d\u7684\u7ebf\u7a0b\u5206\u4e3a\u4e24\u7c7b\uff0c\u666e\u901a\u7ebf\u7a0b\u548c\u5b88\u62a4\u7ebf\u7a0b\uff08daemon\uff09\uff0c\u6240\u6709\u7ebf\u7a0b\u8fd0\u884c\u5728\u4e00\u4e2ajvm\u8fdb\u7a0b\u4e2d\uff0c\u53ea\u6709\u5f53jvm\u8fdb\u7a0b\u4e2d\u6ca1\u6709\u666e\u901a\u8fdb\u7a0b\u65f6\uff0cjvm\u8fdb\u7a0b\u624d\u4f1a\u9000\u51fa\uff0c\u4e0d\u7ba1\u662f\u4e0d\u662f\u5b58\u5728\u5b88\u62a4\u7ebf\u7a0b\u3002</p> <p>main\u7ebf\u7a0b\u662f\u4e00\u4e2a\u666e\u901a\u7ebf\u7a0b\uff0c\u5f53jvm\u8fdb\u7a0b\u4e2d\u6ca1\u6709\u5176\u4ed6\u666e\u901a\u7ebf\u7a0b\u65f6\uff0cjvm\u8fdb\u7a0b\u4f1a\u5728main\u51fd\u6570\u6267\u884c\u5b8c\u6bd5\u540e\u9000\u51fa\uff0c\u4f46\u662f\u5982\u679cjvm\u8fdb\u7a0b\u4e2d\u8fd8\u6709\u5176\u4ed6\u666e\u901a\u7ebf\u7a0b\u6ca1\u6267\u884c\u5b8c\uff0c\u5373\u4f7fmain\u51fd\u6570\u5148\u8fd4\u56de\uff0cjvm\u8fdb\u7a0b\u4e5f\u4e0d\u4f1a\u9000\u51fa\uff0c\u4f1a\u7b49\u6240\u6709\u666e\u901a\u7ebf\u7a0b\u90fd\u6267\u884c\u5b8c\u624d\u4f1a\u9000\u51fa\u3002</p>","tags":["\u64cd\u4f5c\u7cfb\u7edf","\u5e76\u53d1\u7f16\u7a0b"]},{"location":"foundation/os/14.threadexit/#golang","title":"golang","text":"<p>go\u7684\u534f\u7a0b\u8c03\u5ea6\u548c\u7ebf\u7a0b\u7c7b\u4f3c\uff0c\u534f\u7a0b\u4e4b\u95f4\u6ca1\u6709\u4e3b\u4ece\u7684\u6982\u5ff5\uff0c\u521b\u5efa\u534f\u7a0b\u7ec8\u6b62\u4e0d\u4f1a\u5f71\u54cd\u88ab\u521b\u5efa\u534f\u7a0b\u7684\u6267\u884c\u3002</p> <p>main\u51fd\u6570\u8fd4\u56de\u540e\u8fdb\u7a0b\u9000\u51fa\uff0c\u6240\u6709\u534f\u7a0b\u88ab\u7ec8\u6b62</p>","tags":["\u64cd\u4f5c\u7cfb\u7edf","\u5e76\u53d1\u7f16\u7a0b"]},{"location":"foundation/os/74.csapp/","title":"\u300a\u6df1\u5165\u7406\u89e3\u8ba1\u7b97\u673a\u7cfb\u7edf\u7b2c3\u7248\u300b\u9605\u8bfb\u7b14\u8bb0","text":"<p>\u6df1\u5165\u7406\u89e3\u8ba1\u7b97\u673a\u7cfb\u7edf\u7684\u82f1\u6587\u5168\u79f0\u662f Computer Systems: A Programmer's Perspective\uff0c\u4f5c\u8005\u662f Randal E. Bryant \u548c David R. O'Hallaron\u3002\u8be5\u4e66\u88ab\u5e7f\u6cdb\u8ba4\u4e3a\u662f\u8ba1\u7b97\u673a\u7cfb\u7edf\u9886\u57df\u7684\u7ecf\u5178\u6559\u6750\u4e4b\u4e00\uff0c\u65e8\u5728\u5e2e\u52a9\u8bfb\u8005\u6df1\u5165\u7406\u89e3\u8ba1\u7b97\u673a\u7cfb\u7edf\u7684\u5de5\u4f5c\u539f\u7406\u3002</p> <p>\u8fd9\u672c\u4e66\u7b80\u79f0 CSAPP\uff0c\u662f Computer Systems: A Programmer's Perspective \u7684\u9996\u5b57\u6bcd\u7f29\u5199\u3002</p>","tags":["\u64cd\u4f5c\u7cfb\u7edf"]},{"location":"foundation/os/74.csapp/#1","title":"\u7b2c1\u7ae0 \u8ba1\u7b97\u673a\u7cfb\u7edf\u6f2b\u6e38","text":"<p>\u4ecb\u7ecd\u8ba1\u7b97\u673a\u7cfb\u7edf\u7684\u57fa\u672c\u6982\u5ff5\uff0c\u5305\u62ec \"Hello, World!\" \u7a0b\u5e8f\u7684\u6765\u5386\u3001\u7a0b\u5e8f\u4ece\u7f16\u5199\u5230\u8fd0\u884c\u7684\u6574\u4e2a\u8fc7\u7a0b\u3001\u4ec0\u4e48\u662fASCII\u7801\u3001C\u8bed\u8a00\u7684\u8d77\u6e90\u3001GNU\u9879\u76ee\u7684\u8d77\u6e90\u7b49\u7b49\u3002</p> <p>1.2\u8282\u4ecb\u7ecd\u4e86\u7f16\u8bd1\u7684\u56db\u4e2a\u8fc7\u7a0b\uff1a\u9884\u5904\u7406\uff0c\u7f16\u8bd1\uff0c\u6c47\u7f16\uff0c\u94fe\u63a5\u3002</p> <p>\u63a5\u7740\u4ecb\u7ecd\u4e86\u8ba1\u7b97\u673a\u7684\u786c\u4ef6\u7ec4\u6210\uff0c\u5176\u4e2dCPU\u662f\u5173\u952e\uff0cCPU\u7684\u7a0b\u5e8f\u8ba1\u6570\u5668PC\uff08Program Counter\uff09\u7528\u4e8e\u6307\u793a\u5f53\u524d\u6b63\u5728\u6267\u884c\u7684\u6307\u4ee4\u5730\u5740\u3002\uff08\u5176\u5b9ePC\u548c\u6307\u4ee4\u5bc4\u5b58\u5668IP\u662f\u540c\u4e00\u4e2a\u4e1c\u897f\uff0c\u662f\u4e0d\u540c\u8bed\u5883\u4e0b\u7684\u4e0d\u540c\u53eb\u6cd5\uff09</p> <p>\u5bc4\u5b58\u5668\u4e2d\u7684\u6570\u636e\u4f1a\u52a0\u8f7d\u5230\u7b97\u672f/\u903b\u8f91\u5355\u5143ALU\uff08Arithmetic Logic Unit\uff09\u4e2d\u8fdb\u884c\u8ba1\u7b97\u3002</p> <p>1.5\u8282\u4ecb\u7ecd\u4e86\u591a\u7ea7\u9ad8\u901f\u7f13\u5b58L1\u3001L2\u3001L3\u7684\u6982\u5ff5\u3002</p> <p>1.6\u8282\u4ecb\u7ecd\u4e86\u5b58\u50a8\u5668\u7684\u5c42\u6b21\u7ed3\u6784\u7684\u6982\u5ff5\uff0c\u4e3b\u8981\u601d\u60f3\u662f\u4e0a\u4e00\u5c42\u7684\u5b58\u50a8\u5668\u4f5c\u4e3a\u4e0b\u4e00\u7ea7\u5b58\u50a8\u5668\u7684\u9ad8\u901f\u7f13\u5b58\u3002\u5373\uff0c\u4e3b\u5b58\u662f\u78c1\u76d8\u7684\u9ad8\u901f\u7f13\u5b58\uff0c\u78c1\u76d8\u53c8\u662f\u8fdc\u7a0b\u5b58\u50a8\u7684\u9ad8\u901f\u7f13\u5b58\u3002</p> <p>1.7\u8282\u4ecb\u7ecd\u4e86\u64cd\u4f5c\u7cfb\u7edf\u7ba1\u7406\u786c\u4ef6\u7684\u4e24\u4e2a\u4f5c\u7528\uff1a\uff081\uff09\u9632\u6b62\u786c\u4ef6\u88ab\u5e94\u7528\u7a0b\u5e8f\u6ee5\u7528\uff0c\uff082\uff09\u5bf9\u5e94\u7528\u7a0b\u5e8f\u63d0\u4f9b\u7edf\u4e00\u7684\u62bd\u8c61\uff0c\u5c4f\u853d\u5e95\u5c42\u786c\u4ef6\u7ec6\u8282\u3002</p> <p>\u7136\u540e\u4ecb\u7ecd\u4e86\u4e09\u79cd\u64cd\u4f5c\u7cfb\u7edf\u63a5\u53e3\u89c4\u8303\uff0cUnix\u3001Posix \u548c\u6807\u51c6Unix\u89c4\u8303\u3002</p> <p>\u53c8\u4ecb\u7ecd\u4e86\u8fdb\u7a0b\u3001\u7ebf\u7a0b\u548c\u865a\u62df\u5185\u5b58\u7684\u6982\u5ff5\uff0c\u4ee5\u53ca\u7a0b\u5e8f\u7684\u865a\u62df\u5185\u5b58\u5e03\u5c40\uff08\u5185\u6838\u865a\u62df\u5185\u5b58\u3001\u6808\u3001\u5806\u3001\u6570\u636e\u3001\u4ee3\u7801\uff09\u3002</p> <p>\u201c\u6587\u4ef6\u201d\u662f\u5bf9\u7cfb\u7edf\u5404\u79cdI/O\u8bbe\u5907\u7684\u7edf\u4e00\u62bd\u8c61\u3002</p>","tags":["\u64cd\u4f5c\u7cfb\u7edf"]},{"location":"front-end/10.js-mdn-tutorial/","title":"js\u5165\u95e8\u7b14\u8bb0","text":"<p>\u53c2\u8003MDN js\u6559\u7a0b</p>","tags":["\u524d\u7aef"]},{"location":"front-end/10.js-mdn-tutorial/#_1","title":"\u57fa\u7840\u77e5\u8bc6","text":"","tags":["\u524d\u7aef"]},{"location":"front-end/10.js-mdn-tutorial/#1-js-api","title":"1. JS API\u5206\u4e3a\u4e24\u7c7b","text":"<ul> <li>\u6d4f\u89c8\u5668API</li> <li>DOM API\uff1aDOM\uff08Document Object Model\uff0c\u6587\u6863\u5bf9\u8c61\u6a21\u578b\uff09\uff0cDOM API\u80fd\u901a\u8fc7\u521b\u5efa\u3001\u79fb\u9664\u548c\u4fee\u6539HTML\uff0c\u4e3a\u9875\u9762\u52a8\u6001\u5e94\u7528\u65b0\u6837\u5f0f\u7b49\u624b\u6bb5\u6765\u64cd\u4f5cHTML\u548cCSS</li> <li>\u4ece\u670d\u52a1\u5668\u83b7\u53d6\u6570\u636e\u7684API\uff1a\u53c8\u79f0Ajax\u6280\u672f\uff0c\u4f8b\u5982XMLHttpRequest\u548cFetch API</li> <li>\u7ed8\u56feAPI\uff1aCanvas\u548cWebGL API</li> <li>\u97f3\u89c6\u9891API\uff1a\u4f8b\u5982HTMLMediaElement\uff0cWeb Audio API\u548cWebRTC</li> <li>\u8bbe\u5907API\uff1a\u4f8b\u5982\u83b7\u53d6\u5b9a\u4f4d\u3001\u7cfb\u7edf\u901a\u77e5\u3001\u8bbe\u5907\u9707\u52a8\u7b49</li> <li>\u5ba2\u6237\u7aef\u5b58\u50a8API\uff1a\u4f8b\u5982Web Storage API\u7b80\u5355\u7684\u952e-\u503c\u5b58\u50a8\u4ee5\u53ca\u4f7f\u7528IndexedDB API\u7684\u8868\u6570\u636e\u5b58\u50a8\u3002</li> <li>\u7b2c\u4e09\u65b9API</li> <li>Twitter API\u3001\u65b0\u6d6a\u5fae\u535aAPI\u3001\u8c37\u6b4c\u5730\u56feAPI\u3001\u9ad8\u5fb7\u5730\u56feAPI</li> </ul>","tags":["\u524d\u7aef"]},{"location":"front-end/10.js-mdn-tutorial/#2-js","title":"2. \u600e\u6837\u5411\u9875\u9762\u6dfb\u52a0js","text":"<ul> <li>\u5185\u90e8js   \u5728 <code>&lt;head&gt;</code> \u6807\u7b7e\u7ed3\u675f\u524d\u63d2\u5165<code>&lt;script&gt;</code>\u6807\u7b7e</li> <li>\u5916\u90e8js <code>&lt;script src=\"script.js\" async&gt;&lt;/script&gt;</code></li> <li>\u5185\u8054js\uff08\u4e0d\u597d\u7684\u505a\u6cd5\uff09 <code>&lt;button onclick=\"createParagraph()\"&gt;\u70b9\u6211\u5440&lt;/button&gt;</code></li> </ul> <p>\u6ce8\u610f\uff0chtml\u5143\u7d20\u662f\u6309\u987a\u5e8f\u52a0\u8f7d\u7684\uff0c\u4e3a\u4e86\u9632\u6b62js\u64cd\u4f5c\u8fd8\u672a\u52a0\u8f7d\u7684\u5143\u7d20\uff0cjs\u8981\u6dfb\u52a0\u5728\u9875\u9762\u6700\u540e\u3002</p> <ul> <li><code>async</code>\u53ef\u4ee5\u4f7fjs\u548chtml\u5f02\u6b65\u52a0\u8f7d\uff0c\u4e92\u4e0d\u5f71\u54cd <code>&lt;script async src=\"js/vendor/jquery.js\"&gt;&lt;/script&gt;</code></li> <li><code>defer</code>\u53ef\u4ee5\u5f3a\u884c\u8ba9js\u63a8\u8fdf\u5230html\u52a0\u8f7d\u5b8c\u6bd5\u540e\u518d\u6267\u884c <code>&lt;script defer src=\"js/vendor/jquery.js\"&gt;&lt;/script&gt;</code></li> </ul>","tags":["\u524d\u7aef"]},{"location":"front-end/10.js-mdn-tutorial/#3","title":"3. \u6ce8\u91ca","text":"<p><code>//</code>\u548c<code>/* */</code>\u5747\u53ef</p>","tags":["\u524d\u7aef"]},{"location":"front-end/10.js-mdn-tutorial/#4","title":"4. \u53d8\u91cf","text":"<p>\u5982\u4f55\u5b9a\u4e49\u53d8\u91cf\uff1a</p> <ul> <li><code>var</code>\u3001<code>let</code>\u548c<code>const</code></li> <li>\u4e0d\u5efa\u8bae\u4f7f\u7528<code>var</code>\uff0c<code>var</code>\u53ef\u4ee5\u591a\u6b21\u58f0\u660e\u540c\u4e00\u4e2a\u53d8\u91cf\uff0c\u8fd8\u53ef\u4ee5\u628a\u53d8\u91cf\u7684\u58f0\u660e\u653e\u5728\u521d\u59cb\u5316\u540e\u9762\uff0c\u8fd9\u4f1a\u4f7f\u7a0b\u5e8f\u5f88\u6df7\u4e71</li> <li>\u53d8\u91cf\u63d0\u5347\uff08hoisting\uff09\uff0c\u662f\u6307\u6240\u6709\u7684\u53d8\u91cf\u58f0\u660e\u90fd\u4f1a\u88ab\u79fb\u52a8\u5230\u4f5c\u7528\u57df\u7684\u5f00\u5934\u4f4d\u7f6e</li> <li><code>const</code>\u662f\u5e38\u91cf</li> </ul> <p>\u53d8\u91cf\u7c7b\u578b\uff1a</p> <ul> <li>Number</li> <li>String\uff0c\u4f7f\u7528\u5355\u5f15\u53f7\u6216\u53cc\u5f15\u53f7\u5b9a\u4e49\uff0c\u4f7f\u7528+\u8fde\u63a5\u5b57\u7b26\u4e32</li> <li>Boolean</li> <li>Array\uff0c<code>let myNameArray = ['Chris', 'Bob', 'Jim'];</code></li> <li>Object\uff0c<code>let dog = { name : 'Spot', breed : 'Dalmatian' };</code></li> <li>\u4f7f\u7528<code>typeof</code>\u67e5\u770b\u53d8\u91cf\u7c7b\u578b\uff0c<code>typeof var</code>\u6216<code>typeof(var)</code></li> </ul> <p>\u9690\u5f0f\u7c7b\u578b\u8f6c\u6362\uff08js\u662f\u52a8\u6001\u7c7b\u578b\u8bed\u8a00\uff09\uff1a</p> <ul> <li><code>'front'+242</code>\uff0c<code>242</code>\u4f1a\u88ab\u8f6c\u6362\u4e3a<code>'242'</code></li> </ul> <p>\u663e\u793a\u7c7b\u578b\u8f6c\u6362</p> <ul> <li><code>let myString = '123'; let myNum = Number(myString);</code></li> <li><code>let myNum = 123; let myString = myNum.toString();</code></li> </ul>","tags":["\u524d\u7aef"]},{"location":"front-end/10.js-mdn-tutorial/#5","title":"5.\u8fd0\u7b97\u7b26","text":"<p>\u7b97\u6570\u8fd0\u7b97\u7b26\uff1a</p> <ul> <li>\u52a0\u3001\u51cf\u3001\u4e58\u3001\u9664\u3001\u53d6\u4f59\uff1a+\u3001-\u3001*\u3001/\u3001%</li> <li>\u5e42\uff1a**\uff0c\u4f8b\u5982<code>2**5</code>\u8868\u793a2\u76845\u6b21\u5e42\uff0c\u7b49\u540c\u4e8e<code>Math.pow(2, 5)</code></li> <li>\u81ea\u589e\u548c\u81ea\u51cf\u8fd0\u7b97\u7b26\uff1a++\u3001--\uff0c\u81ea\u589e\u81ea\u51cf\u8fd0\u7b97\u7b26\u548cC/C++\u4e00\u6837\uff0c\u4e5f\u5206\u524d\u540e</li> <li>\u8d4b\u503c\u8fd0\u7b97\u7b26\uff1a=\u3001+=\u3001-=\u3001*=\u3001/=</li> <li>\u6bd4\u8f83\u8fd0\u7b97\u7b26\uff1a===\u3001!==\u3001==\u3001!=\u3001&lt;\u3001&gt;\u3001&lt;=\u3001&gt;=\uff0c==\u548c!=\u53ea\u6bd4\u8f83\u503c\uff0c===\u548c!==\u4e0d\u4ec5\u6bd4\u8f83\u503c\uff0c\u8fd8\u6bd4\u8f83\u6570\u636e\u7c7b\u578b</li> </ul>","tags":["\u524d\u7aef"]},{"location":"front-end/10.js-mdn-tutorial/#6","title":"6. \u5b57\u7b26\u4e32","text":"<pre><code>let browserType = 'mozilla';\n\nbrowserType.length;\nbrowserType[0];\nbrowserType.indexOf('zilla'); //\u7ed3\u679c\u662f2\uff0c\u627e\u4e0d\u5230\u8fd4\u56de-1\n\n//\u63d0\u53d6\u5b57\u7b26\u4e32\nbrowserType.slice(0,3);\nbrowserType.slice(2); //\u7b49\u4e8e browserType.slice(2,browserType.length);\n\n//\u5927\u5c0f\u5199\u8f6c\u6362\nlet radData = 'My NaMe Is MuD';\nradData.toLowerCase();\nradData.toUpperCase();\n\n//\u66ff\u6362\nbrowserType = browserType.replace('moz','van');\n</code></pre>","tags":["\u524d\u7aef"]},{"location":"front-end/10.js-mdn-tutorial/#7","title":"7. \u6570\u7ec4","text":"<pre><code>let myData = 'Manchester,London,Liverpool,Birmingham,Leeds,Carlisle';\nlet myArray = myData.split(',');      //\u5c06\u5b57\u7b26\u4e32\u62c6\u6210\u6570\u7ec4\nlet myNewString = myArray.join(',');  //\u76f8\u53cd\u7684\u64cd\u4f5c\n\nlet dogNames = [\"Rocket\",\"Flash\",\"Bella\",\"Slugger\"];\ndogNames.toString();  //\u76f8\u5f53\u4e8e\u4e0d\u5e26\u53c2\u6570\u7684join\n\n//\u5728\u7ed3\u5c3e\u6dfb\u52a0\u5220\u9664\nmyArray.push(xxx);\nmyArray.pop();\n//\u5728\u5f00\u5934\u6dfb\u52a0\u5220\u9664\nmyArray.unshift(xxx);\nmyArray.shift();\n</code></pre>","tags":["\u524d\u7aef"]},{"location":"front-end/10.js-mdn-tutorial/#8","title":"8. \u6761\u4ef6\u548c\u5faa\u73af","text":"<pre><code>//\u6761\u4ef6\nif(cond) {} else{}\nswitch(var){case val: break; default: break;}\n(condition)?run this code : run this code instead\n//\u5faa\u73af\nfor(let i = 0;i&lt;5;++i){}\nwhile(cond) {}\ndo{}while(cond)\n</code></pre>","tags":["\u524d\u7aef"]},{"location":"front-end/10.js-mdn-tutorial/#9","title":"9. \u51fd\u6570","text":"<pre><code>//\u666e\u901a\u51fd\u6570\nfunction myFunction(msgText, msgType) { return xxx;}\n//\u533f\u540d\u51fd\u6570\nfunction {}\nmyButton.onclick = function() {alert('hello');}\n</code></pre>","tags":["\u524d\u7aef"]},{"location":"front-end/10.js-mdn-tutorial/#10","title":"10. \u4e8b\u4ef6","text":"<pre><code>//\u8bbe\u7f6e\u76d1\u542c\u5668\uff0cbtn\u662f\u4e2a\u6309\u94ae\uff0ccheck\u662f\u4e2a\u51fd\u6570\nbtn.addEventListener('click', check);\nbtn.removeEventListener('click', bgChange);\n//\u8bbe\u7f6eclick\u4e8b\u4ef6\u7684\u5904\u7406\u51fd\u6570\nbutton.onclick = function() {xxx}\n</code></pre> <p>\u8bbe\u7f6e\u76d1\u542c\u5668\u8fd9\u79cd\u65b9\u6cd5\u6bd4\u4f7f\u7528<code>onclick</code>\u8981\u597d\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528<code>addEventListener</code>\u4e3a\u540c\u4e00\u4e2a\u4e8b\u4ef6\u8bbe\u7f6e\u4e0d\u540c\u7684\u5904\u7406\u51fd\u6570\uff0c\u4e8b\u4ef6\u53d1\u751f\u65f6\u8fd9\u4e9b\u51fd\u6570\u90fd\u4f1a\u6267\u884c\uff0c\u4f46\u4f7f\u7528<code>onclick</code>\u505a\u4e0d\u5230\u8fd9\u4e00\u70b9</p> <pre><code>&lt;!-- \u8bf7\u52ff\u5728html\u5143\u7d20\u5c5e\u6027\u4e2d\u8bbe\u7f6e\u4e8b\u4ef6\u5904\u7406\u51fd\u6570 --&gt;\n&lt;button onclick=\"bgChange()\"&gt;Press me&lt;/button&gt;\n</code></pre> <p>\u4e8b\u4ef6\u5bf9\u8c61\uff0c\u4e8b\u4ef6\u5bf9\u8c61e\u4f1a\u88ab\u81ea\u52a8\u4f20\u9012\u7ed9\u4e8b\u4ef6\u5904\u7406\u51fd\u6570</p> <pre><code>function bgChange(e) {\n  const rndCol = 'rgb(' + random(255) + ',' + random(255) + ',' + random(255) + ')';\n  e.target.style.backgroundColor = rndCol;\n  console.log(e);\n}\n\nbtn.addEventListener('click', bgChange);\n</code></pre> <p>\u4f7f\u7528\u4e8b\u4ef6\u5bf9\u8c61\u963b\u6b62\u4e8b\u4ef6\u9ed8\u8ba4\u884c\u4e3a\uff0c\u4f8b\u5982\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528<code>preventDefault</code>\u963b\u6b62\u8868\u5355\u7684\u63d0\u4ea4\uff0c\u5373\u4f7f\u7528\u6237\u6309\u4e0b\u6309\u94ae\uff0c\u6570\u636e\u4e5f\u4e0d\u4f1a\u88ab\u63d0\u4ea4</p> <pre><code>form.onsubmit = function(e) {\n  if (fname.value === '' || lname.value === '') {\n    e.preventDefault();\n    para.textContent = 'You need to fill in both names!';\n  }\n}\n</code></pre> <p>\u4e8b\u4ef6\u5192\u6ce1\u548c\u6355\u83b7\uff0c\u7236\u5143\u7d20\u548c\u5b50\u5143\u7d20\u90fd\u6709\u53ef\u80fd\u6ce8\u518c\u4e86\u4e8b\u4ef6\uff0c\u73b0\u4ee3\u6d4f\u89c8\u5668\u5728\u5904\u7406\u4e8b\u4ef6\u65f6\uff0c\u8fd0\u884c\u4e24\u4e2a\u4e0d\u540c\u7684\u9636\u6bb5 - \u6355\u83b7\u9636\u6bb5\u548c\u5192\u6ce1\u9636\u6bb5\u3002</p> <ul> <li>\u5728\u6355\u83b7\u9636\u6bb5\uff1a</li> <li>\u6d4f\u89c8\u5668\u68c0\u67e5\u5143\u7d20\u7684\u6700\u5916\u5c42\u7956\u5148<code>&lt;html&gt;</code>\uff0c\u662f\u5426\u5728\u6355\u83b7\u9636\u6bb5\u4e2d\u6ce8\u518c\u4e86\u4e00\u4e2a<code>onclick</code>\u4e8b\u4ef6\u5904\u7406\u7a0b\u5e8f\uff0c\u5982\u679c\u662f\uff0c\u5219\u8fd0\u884c\u5b83\u3002</li> <li>\u7136\u540e\uff0c\u5b83\u79fb\u52a8\u5230<code>&lt;html&gt;</code>\u4e2d\u5355\u51fb\u5143\u7d20\u7684\u4e0b\u4e00\u4e2a\u7956\u5148\u5143\u7d20\uff0c\u5e76\u6267\u884c\u76f8\u540c\u7684\u64cd\u4f5c\uff0c\u7136\u540e\u662f\u5355\u51fb\u5143\u7d20\u518d\u4e0b\u4e00\u4e2a\u7956\u5148\u5143\u7d20\uff0c\u4f9d\u6b64\u7c7b\u63a8\uff0c\u76f4\u5230\u5230\u8fbe\u5b9e\u9645\u70b9\u51fb\u7684\u5143\u7d20\u3002</li> <li>\u5728\u5192\u6ce1\u9636\u6bb5\uff0c\u6070\u6070\u76f8\u53cd:</li> <li>\u6d4f\u89c8\u5668\u68c0\u67e5\u5b9e\u9645\u70b9\u51fb\u7684\u5143\u7d20\u662f\u5426\u5728\u5192\u6ce1\u9636\u6bb5\u4e2d\u6ce8\u518c\u4e86\u4e00\u4e2a<code>onclick</code>\u4e8b\u4ef6\u5904\u7406\u7a0b\u5e8f\uff0c\u5982\u679c\u662f\uff0c\u5219\u8fd0\u884c\u5b83</li> <li>\u7136\u540e\u5b83\u79fb\u52a8\u5230\u4e0b\u4e00\u4e2a\u76f4\u63a5\u7684\u7956\u5148\u5143\u7d20\uff0c\u5e76\u505a\u540c\u6837\u7684\u4e8b\u60c5\uff0c\u7136\u540e\u662f\u4e0b\u4e00\u4e2a\uff0c\u7b49\u7b49\uff0c\u76f4\u5230\u5b83\u5230\u8fbe<code>&lt;html&gt;</code>\u5143\u7d20\u3002</li> </ul> <p>\u5728\u73b0\u4ee3\u6d4f\u89c8\u5668\u4e2d\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6240\u6709\u4e8b\u4ef6\u5904\u7406\u7a0b\u5e8f\u90fd\u5728\u5192\u6ce1\u9636\u6bb5\u8fdb\u884c\u6ce8\u518c\u3002</p> <p>\u53ef\u4ee5\u4f7f\u7528<code>stopPropagation</code>\u7981\u6b62\u5411\u4e0a\u5192\u6ce1\uff0c\u53ea\u5904\u7406\u5f53\u524d\u4e8b\u4ef6</p> <pre><code>video.onclick = function(e) {\n  e.stopPropagation();\n  video.play();\n};\n</code></pre> <p>\u8fd8\u53ef\u4ee5\u5229\u7528\u4e8b\u4ef6\u5192\u6ce1\u5c06\u6240\u6709\u5b50\u5143\u7d20\u7684\u4e8b\u4ef6\u90fd\u96c6\u4e2d\u5230\u7236\u5143\u7d20\u4e0a\u8fdb\u884c\u5904\u7406\u3002</p>","tags":["\u524d\u7aef"]},{"location":"front-end/10.js-mdn-tutorial/#_2","title":"\u8c03\u8bd5","text":"<p>\u6309F12\u6253\u5f00\u5f00\u53d1\u8005\u5de5\u5177\uff0c\u53ef\u4ee5\u5728\u63a7\u5236\u53f0\u8c03\u8bd5js\u3002</p> <p>\u4e00\u4e9b\u8c03\u8bd5\u624b\u6bb5</p> <ul> <li>\u4f7f\u7528<code>typeof</code>\u83b7\u53d6\u53d8\u91cf\u7c7b\u578b</li> <li>\u8fd4\u56de\u503c</li> <li>true/false</li> <li>undefined\uff1a\u8868\u793a\u53d8\u91cf\u4e0d\u5b58\u5728\uff08\u6ca1\u6709\u5b9a\u4e49\uff09</li> <li>null</li> <li>0</li> <li>NaN</li> </ul>","tags":["\u524d\u7aef"]},{"location":"front-end/10.js-mdn-tutorial/#api","title":"API","text":"","tags":["\u524d\u7aef"]},{"location":"front-end/10.js-mdn-tutorial/#dom-api","title":"DOM API","text":"<p>web\u9875\u9762\u7684\u4e3b\u8981\u90e8\u5206\uff08\u4e0d\u662fhtml\u6807\u7b7e\uff09\uff1a</p> <ul> <li>window\uff1a\u4ee3\u8868\u6d4f\u89c8\u5668\u4e0a\u7684\u6807\u7b7e\u9875\u3002\u53ef\u4ee5\u7528\u4e8e\u83b7\u53d6\u7a97\u53e3\u5927\u5c0f\u3001\u7ed1\u5b9aevent handler\u7b49\u3002</li> <li>navigator\uff1a\u4ee3\u8868\u6d4f\u89c8\u5668\u5728web\u4e0a\u7684\u72b6\u6001\u548c\u6807\u8bc6\uff08\u5373user agent\uff09\uff0c\u53ef\u4ee5\u7528\u6765\u83b7\u53d6\u4e00\u4e9b\u4fe1\u606f\u3002</li> <li>document\uff1a\u5b9e\u9645\u7684\u9875\u9762</li> </ul> <p>DOM\u672f\u8bed\uff1a</p> <ul> <li>\u5143\u7d20\u8282\u70b9</li> <li>\u6839\u8282\u70b9\u3001\u5b50\u8282\u70b9\u3001\u540e\u4ee3\u8282\u70b9\u3001\u7236\u8282\u70b9\u3001\u7956\u5148\u8282\u70b9\u3001\u5144\u5f1f\u8282\u70b9</li> <li>\u6587\u672c\u8282\u70b9</li> </ul> <p>\u53ef\u4ee5\u7528DOM API\u64cd\u4f5c\u5143\u7d20\uff0c\u4f46\u662f\u6700\u597d\u4e0d\u8981\u7528js\u64cd\u4f5c\u5143\u7d20\uff0c\u9759\u6001\u5185\u5bb9\u5e94\u8be5\u7f16\u5199\u5230html\u4e2d\uff0c\u5e76\u4e14\u7528js\u751f\u6210\u7684\u5185\u5bb9\u4e0d\u5bb9\u6613\u88ab\u722c\u866b\u6293\u53d6\u3002</p> <p>\u4ee5\u4e0b\u662f\u5e38\u89c1\u7684\u5143\u7d20\u64cd\u4f5c\uff1a</p> <pre><code>//=====\n//\u9009\u62e9\u5143\u7d20\n//=====\n//\u4f7f\u7528CSS\u9009\u62e9\u5668\u9009\u62e9\u5143\u7d20\uff08\u9009\u62e9\u7b2c\u4e00\u4e2a\u5339\u914d\u5230\u7684\u5143\u7d20\uff09\nDocument.querySelector()\n//\u9009\u62e9\u6bcf\u4e2a\u5339\u914d\u7684\u5143\u7d20\uff0c\u4fdd\u5b58\u5728\u4e00\u4e2aarray\u4e2d\nDocument.querySelectorAll()\n\n//\u65e7\u65b9\u6cd5\uff1a\n//\u6839\u636eID\u9009\u62e9\u5143\u7d20\nDocument.getElementById()\n//\u8fd4\u56de\u4e00\u4e2a\u6570\u7ec4\uff0c\u5305\u542b\u9875\u9762\u4e2d\u6240\u6709\u67d0\u7c7b\u578b\u8282\u70b9\u3002\u5982&lt;p&gt;, &lt;a&gt;\u3002\u5143\u7d20\u7c7b\u578b\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u7ed9\u51fd\u6570\nvar elementRefArray = document.getElementsByTagName('p')\n\n//=====\n//\u8282\u70b9\u64cd\u4f5c\n//=====\nvar para = document.createElement('p'); //\u521b\u5efa\nsect.appendChild(para);  //\u653e\u7f6e\n\nvar text = document.createTextNode('xxx'); //\u521b\u5efa\u4e00\u4e2a\u6587\u672c\u8282\u70b9\nvar linkPara = document.querySelector('p');//\u628a\u6587\u672c\u8282\u70b9\u653e\u5230&lt;p&gt;\u91cc\u9762\nlinkPara.appendChild(text); \n\nsect.appendChild(linkPara); //\u76f4\u63a5\u79fb\u52a8\u4e00\u4e2a\u6bb5\u843d\nNode.cloneNode(); //\u83b7\u5f97\u4e00\u4e2a\u8282\u70b9\u7684\u526f\u672c\nNode.removeChild(xxx); //\u5220\u9664\u4e00\u4e2a\u8282\u70b9\nlinkPara.parentNode.removeChild(linkPara);//\u5220\u9664\u81ea\u5df1\n</code></pre> <p>\u4fee\u6539css\u6837\u5f0f\u7684\u4e09\u79cd\u65b9\u6cd5</p> <pre><code>//\u65b9\u6cd51\uff08\u4e0d\u63a8\u8350\uff09\n//\u4f7f\u7528 Document.stylesheets\u8fd4\u56deCSSStyleSheet\u6570\u7ec4\uff0c\u8be5\u6570\u7ec4\u4fdd\u5b58\u4e86\u6587\u6863\u7684\u6240\u6709\u6837\u5f0f\u8868\u3002\nlet css = Document.stylesheets()\n\n//\u65b9\u6cd52\n//\u5728\u5143\u7d20\u5185\u90e8\u6dfb\u52a0\u5185\u8054\u6837\u5f0f\uff0c\u4fee\u6539\u5143\u7d20\u7684style\u5c5e\u6027\npara.style.color = 'white';\npara.style.backgroundColor = 'black';\n\n//\u65b9\u6cd53\n//\u7ed9\u5143\u7d20\u6307\u5b9acss\u7c7b\npara.setAttribute('class', 'highlight');\n</code></pre> <p>window api</p> <pre><code>//\u83b7\u53d6\u7a97\u53e3\u5927\u5c0f\uff08\u8fd9\u91cc\u83b7\u5f97\u7684\u7a97\u53e3\u5927\u5c0f\u53ea\u662f\u5f53\u524d\u5927\u5c0f\uff0c\u6d4f\u89c8\u5668\u7a97\u53e3\u7f29\u653e\u540e\u7a97\u53e3\u5927\u5c0f\u4f1a\u53d1\u751f\u53d8\u5316\uff09\nvar WIDTH = window.innerWidth;\nvar HEIGHT = window.innerHeight;\n//\u7a97\u53e3\u8c03\u6574\u5927\u5c0f\u4e8b\u4ef6\nwindow.onresize = function() {}\n</code></pre>","tags":["\u524d\u7aef"]},{"location":"front-end/10.js-mdn-tutorial/#_3","title":"\u4ece\u670d\u52a1\u5668\u83b7\u53d6\u6570\u636e","text":"<p>\u8fd9\u79cd\u6280\u672f\u53c8\u88ab\u79f0\u4e3aAjax\uff08Asynchronous JavaScript and XML\uff09\uff0c</p> <p>XHR API</p> <pre><code>let request = new XMLHttpRequest();\nrequest.open('GET', url);\nrequest.responseType = 'text';  //\u4e0d\u5fc5\u8981\uff0cXHR\u9ed8\u8ba4\u8fd4\u56de\u6587\u672c\nrequest.onload = function() { //\u8bf7\u6c42\u8fd4\u56de\u6570\u636e\u65f6\u7684\u64cd\u4f5c\n  poemDisplay.textContent = request.response;\n};\nrequest.send();\n</code></pre> <p>fecth API</p> <pre><code>//response.text()\u51fd\u6570\u4f1a\u8fd4\u56de\u4e00\u4e2apromise\uff0c\u89e3\u6790\u7ed3\u679c\u6587\u672c\u5b57\u7b26\u4e32\nfetch(url).then(function(response) {\n  response.text().then(function(text) {\n    poemDisplay.textContent = text;\n  });\n});\n//\u53e6\u5916\u4e00\u79cd\u66f4\u6e05\u6670\u6613\u61c2\u7684\u5199\u6cd5\nfetch(url).then(function(response) {\n  return response.text()\n}).then(function(text) {\n  poemDisplay.textContent = text;\n});\n</code></pre>","tags":["\u524d\u7aef"]},{"location":"front-end/10.js-mdn-tutorial/#api_1","title":"\u7b2c\u4e09\u65b9API","text":"<p>\u7b2c\u4e00\u79cd\u8c03\u7528\u7b2c\u4e09\u65b9API\u7684\u65b9\u6cd5</p> <pre><code>&lt;!-- \u5148\u5f15\u5165\u7b2c\u4e09\u65b9js\u5e93 --&gt;\n&lt;script type=\"text/javascript\" src=\"https://maps.google.com/maps/api/js?key=AIzaSyDDuGt0E5IEGkcE6ZfrKfUtE9Ko_de66pA\"&gt;&lt;/script&gt;\n\n&lt;script&gt;\n  // \u5728js\u4ee3\u7801\u4e2d\u76f4\u63a5\u4f7f\u7528\u7b2c\u4e09\u65b9\u5e93\u4e2d\u7684js API\n&lt;/script&gt;\n</code></pre> <p>\u7b2c\u4e09\u65b9API\u901a\u5e38\u4f1a\u68c0\u67e5\u8c03\u7528\u8005\u7684\u6743\u9650\uff0c\u4e0d\u540c\u7684API\u7684\u6743\u9650\u7cfb\u7edf\u4e0d\u540c\uff0c\u4f8b\u5982\u4e0a\u9762\u8fd9\u4e2agoogle\u5730\u56fe\u7684API\uff0c\u7528\u6237\u8981\u5b9e\u73b0\u5728google\u5730\u56fe\u7684\u5e73\u53f0\u4e0a\u7533\u8bf7\u4e00\u4e2a\u5bc6\u94a5\uff0c\u4f5c\u4e3a\u5f15\u5165js\u5e93\u7684url\u53c2\u6570\u3002</p> <p>\u7b2c\u4e8c\u79cd\uff1arestful API</p> <p>\u901a\u8fc7\u53d1HTTP\u8bf7\u6c42\u8c03\u7528\uff08XHR\u6216fetch api\uff09\u3002</p>","tags":["\u524d\u7aef"]},{"location":"front-end/10.js-mdn-tutorial/#api_2","title":"\u7ed8\u56feAPI","text":"<p>canvas\uff08html\u5143\u7d20\uff09\u3001webGL</p>","tags":["\u524d\u7aef"]},{"location":"front-end/10.js-mdn-tutorial/#api_3","title":"\u97f3\u89c6\u9891API","text":"<p>video\u548caudio\u5143\u7d20\u5141\u8bb8\u6211\u4eec\u628a\u89c6\u9891\u548c\u97f3\u9891\u5d4c\u5165\u5230\u7f51\u9875\u5f53\u4e2d\u3002</p> <p>HTMLMediaElement API\uff08html5\uff09</p>","tags":["\u524d\u7aef"]},{"location":"front-end/10.js-mdn-tutorial/#_4","title":"\u5ba2\u6237\u7aef\u5b58\u50a8","text":"<p>cookies\uff1a\u4f20\u7edf\u65b9\u6cd5\uff0c\u5b83\u4eec\u662f\u7f51\u7edc\u4e0a\u6700\u65e9\u6700\u5e38\u7528\u7684\u5ba2\u6237\u7aef\u5b58\u50a8\u5f62\u5f0f\u3002 \u5b83\u8fc7\u65f6\u3001\u5b58\u5728\u5404\u79cd\u5b89\u5168\u95ee\u9898\uff0c\u800c\u4e14\u65e0\u6cd5\u5b58\u50a8\u590d\u6742\u6570\u636e\uff0c\u6709\u66f4\u597d\u7684\u3001\u66f4\u73b0\u4ee3\u7684\u65b9\u6cd5\u53ef\u4ee5\u5728\u7528\u6237\u7684\u8ba1\u7b97\u673a\u4e0a\u5b58\u50a8\u79cd\u7c7b\u66f4\u5e7f\u6cdb\u7684\u6570\u636e\u3002\u5176\u5b9ecookie\u4e5f\u6ca1\u4ec0\u4e48\u597d\u8bf4\u7684\uff0cdocument.cookie\u4e00\u628a\u68ad\u5c31\u5b8c\u4e8b\u4e86\u3002</p> <p>\u4e24\u79cd\u73b0\u4ee3\u65b9\u6cd5\uff1a</p> <ul> <li>Web Storage API\uff1a\u5b83\u63d0\u4f9b\u4e86\u4e00\u79cd\u975e\u5e38\u7b80\u5355\u7684\u8bed\u6cd5\uff0c\u7528\u4e8e\u5b58\u50a8\u548c\u68c0\u7d22\u8f83\u5c0f\u7684key-value\u6570\u636e\u9879\u3002</li> <li>IndexedDB API\uff1a\u5b83\u4e3a\u6d4f\u89c8\u5668\u63d0\u4f9b\u4e86\u4e00\u4e2a\u5b8c\u6574\u7684\u6570\u636e\u5e93\u7cfb\u7edf\u6765\u5b58\u50a8\u590d\u6742\u7684\u6570\u636e\u3002</li> <li>Cache API + Service Worker API\uff1a\u79bb\u7ebf\u6587\u4ef6\u5b58\u50a8</li> </ul>","tags":["\u524d\u7aef"]},{"location":"front-end/10.js-mdn-tutorial/#js","title":"JS\u7c7b\u548c\u5bf9\u8c61","text":"","tags":["\u524d\u7aef"]},{"location":"front-end/10.js-mdn-tutorial/#1","title":"1. \u76f4\u63a5\u5b9a\u4e49\u4e00\u4e2a\u5bf9\u8c61","text":"<pre><code>//\u5b9a\u4e49\u5bf9\u8c61\nlet person1 = {\n  age : 32,\n  name : {\n    first : 'Bob',\n    last : 'Smith'\n  },\n  greeting: function() {\n    alert('Hi! I\\'m ' + this.name + '.');\n  }\n}\n//\u8bbf\u95ee\u5bf9\u8c61\nperson.age\nperson.interests[1]\nperson.bio()\nperson.name.first\nperson.name.last\n//\u4e5f\u53ef\u4ee5\u8fd9\u6837\u8bbf\u95ee\uff0c\u6240\u4ee5\u5bf9\u8c61\u6709\u65f6\u88ab\u79f0\u4e3a\u5173\u8054\u6570\u7ec4\nperson['age'] = 45\nperson['name']['first']\n</code></pre>","tags":["\u524d\u7aef"]},{"location":"front-end/10.js-mdn-tutorial/#2","title":"2. \u6784\u9020\u51fd\u6570","text":"<p>js\u53ef\u4ee5\u901a\u8fc7\u6784\u9020\u51fd\u6570\u7ed9\u51fa\u7c7b\u5b9a\u4e49</p> <p>\u4e0b\u9762\u7684\u4ee3\u7801\u867d\u7136\u53ea\u5b9a\u4e49\u4e86Person\u7c7b\u7684\u6784\u9020\u51fd\u6570\uff0c\u4f46\u662f\u53ef\u4ee5\u5728\u540e\u9762\u7684\u4ee3\u7801\u4e2d\u76f4\u63a5\u5b9e\u4f8b\u5316\u4e00\u4e2aPerson\u5bf9\u8c61\u3002</p> <pre><code>function Person(name) {\n    this.name = name;\n    this.greeting = function() {\n        alert('Hi! I\\'m ' + this.name + '.');\n    };\n}\n\nvar alice = new Person(\"Alice\");\nalice.greeting();\n</code></pre>","tags":["\u524d\u7aef"]},{"location":"front-end/10.js-mdn-tutorial/#3-object","title":"3. \u4f7f\u7528Object\u521b\u5efa\u5bf9\u8c61","text":"<pre><code>//\u521b\u5efa\u4e00\u4e2a\u7a7a\u5bf9\u8c61\nvar person1 = new Object();\n\nperson1.name = 'Chris';\nperson1['age'] = 38;\nperson1.greeting = function() {\n  alert('Hi! I\\'m ' + this.name + '.');\n}\n\n//\u5c06\u5bf9\u8c61\u4f5c\u4e3a\u53c2\u6570\u4f20\u7ed9object\nvar person1 = new Object({\n  name : 'Chris',\n  age : 38,\n  greeting : function() {\n    alert('Hi! I\\'m ' + this.name + '.');\n  }\n});\n\n//\u4f7f\u7528create\u65b9\u6cd5\u521b\u5efa\u73b0\u6709\u7c7b\u7684\u5bf9\u8c61\nvar person2 = Object.create(person1);\n</code></pre>","tags":["\u524d\u7aef"]},{"location":"front-end/10.js-mdn-tutorial/#4_1","title":"4. \u539f\u578b\u548c\u539f\u578b\u94fe","text":"<p>\u539f\u578b\uff08prototype\uff09\u548c\u539f\u578b\u94fe\uff08prototype chain\uff09\u662f\u4e0e\u7c7b\u548c\u7ee7\u627f\u6709\u5173\u7684\u6982\u5ff5\u3002\u539f\u578b\u8bb0\u5f55\u4e86\u7c7b\u7684\u7ee7\u627f\u5173\u7cfb\u548c\u5bf9\u8c61\u4e0e\u5bf9\u8c61\u7684\u5173\u7cfb\u3002</p> <p>\u524d\u6587\u63d0\u5230\uff0cjs\u901a\u8fc7\u51fd\u6570\u5b9a\u4e49\u4e00\u4e2a\u7c7b\uff0c\u53ef\u4ee5\u901a\u8fc7<code>console.log( \u51fd\u6570\u540d.prototype );</code>\u5728\u63a7\u5236\u53f0\u67e5\u770b\u4e00\u4e2a\u7c7b\u7684\u539f\u578b\u3002</p> <p>\u4e0b\u9762\u67e5\u770b\u51fd\u6570<code>dosomething</code>\u7684\u539f\u578b\uff0c\u53ef\u4ee5\u770b\u5230\u6d4f\u89c8\u5668\u9ed8\u8ba4\u5c06<code>dosomething</code>\u89c6\u4e3a\u7c7b\u7684\u6784\u9020\u51fd\u6570\uff0c\u5e76\u4e14\u8fd9\u4e2a\u7c7b\u7684\u539f\u578b\u662f<code>Object</code>\u7c7b\u3002</p> <pre><code>function doSomething(){}\nconsole.log( doSomething.prototype );\n//\u6216\nvar doSomething = function(){};\nconsole.log( doSomething.prototype );\n\n//\u63a7\u5236\u53f0\u8f93\u51fa\n{\n    constructor: \u0192 doSomething(),\n    __proto__: {\n        constructor: \u0192 Object(),\n        hasOwnProperty: \u0192 hasOwnProperty(),\n        isPrototypeOf: \u0192 isPrototypeOf(),\n        propertyIsEnumerable: \u0192 propertyIsEnumerable(),\n        toLocaleString: \u0192 toLocaleString(),\n        toString: \u0192 toString(),\n        valueOf: \u0192 valueOf()\n    }\n}\n</code></pre> <p>\u7ed9<code>dosomething</code>\u7684\u539f\u578b\u52a0\u5c5e\u6027\uff0c\u53ef\u4ee5\u770b\u5230\u5b83\u7684\u539f\u578b\u591a\u4e86\u4e00\u4e2a\u540d\u4e3a<code>foo</code>\u7684\u5c5e\u6027</p> <pre><code>function doSomething(){}\ndoSomething.prototype.foo = \"bar\";\nconsole.log( doSomething.prototype );\n\n//\u63a7\u5236\u53f0\u8f93\u51fa\n{\n    foo: \"bar\",\n    constructor: \u0192 doSomething(),\n    __proto__: {\n        constructor: \u0192 Object(),\n        hasOwnProperty: \u0192 hasOwnProperty(),\n        isPrototypeOf: \u0192 isPrototypeOf(),\n        propertyIsEnumerable: \u0192 propertyIsEnumerable(),\n        toLocaleString: \u0192 toLocaleString(),\n        toString: \u0192 toString(),\n        valueOf: \u0192 valueOf()\n    }\n}\n</code></pre> <p>\u5b9e\u4f8b\u5316\u4e00\u4e2a<code>dosomething</code>\u7684\u5bf9\u8c61\uff0c\u5e76\u7ed9\u8fd9\u4e2a\u5bf9\u8c61\u589e\u52a0\u4e00\u4e2a\u5c5e\u6027\uff0c\u53ef\u4ee5\u770b\u5230\u8fd9\u4e2a\u5bf9\u8c61\u7684\u539f\u578b\u662f<code>dosomething</code></p> <pre><code>function doSomething(){}\ndoSomething.prototype.foo = \"bar\";\nvar doSomeInstancing = new doSomething();\ndoSomeInstancing.prop = \"some value\"; //\u589e\u52a0\u4e00\u4e2a\u5c5e\u6027\nconsole.log( doSomeInstancing );\n\n//\u63a7\u5236\u53f0\u8f93\u51fa\n{\n    prop: \"some value\",\n    __proto__: {\n        foo: \"bar\",\n        constructor: \u0192 doSomething(),\n        __proto__: {\n            constructor: \u0192 Object(),\n            hasOwnProperty: \u0192 hasOwnProperty(),\n            isPrototypeOf: \u0192 isPrototypeOf(),\n            propertyIsEnumerable: \u0192 propertyIsEnumerable(),\n            toLocaleString: \u0192 toLocaleString(),\n            toString: \u0192 toString(),\n            valueOf: \u0192 valueOf()\n        }\n    }\n}\n</code></pre> <p>\u5982\u4f55\u67e5\u770b\u539f\u578b</p> <pre><code>//\u67e5\u770b\u4e00\u4e2a\u5bf9\u8c61\u7684\u539f\u578b\n//\u8bbf\u95ee\u5bf9\u8c61\u7684__proto__\u5c5e\u6027\u4f1a\u5f97\u5230\u7c7b\u7684prototype\u3002\nobj.__proto__;\nObject.getPrototypeOf(obj); \n//\u67e5\u770b\u4e00\u4e2a\u7c7b\u7684\u539f\u578b\ndoSomething.prototype\n</code></pre> <p>\u5bf9\u8c61\u52a8\u6001\u6dfb\u52a0\u7684\u6210\u5458\u4e0d\u5c5e\u4e8e\u5bf9\u8c61\u7684\u539f\u578b\u7684\u4e00\u90e8\u5206\uff0c\u53ef\u4ee5\u901a\u8fc7\u4e0b\u9762\u7684\u65b9\u6cd5\u52a8\u6001\u4fee\u6539\u7c7b\u7684\u539f\u578b\u3002</p> <pre><code>doSomething.prototype.foo = \"bar\";\n</code></pre> <p>\u539f\u578b\u94fe\u662f\u7531\u539f\u578b\u6784\u6210\u7684\u7ee7\u627f\u5173\u7cfb\u3002\u53ea\u6709\u539f\u578b\u4e2d\u7684\u6210\u5458\u4f1a\u88ab\u7ee7\u627f\uff08\u5373\u53ea\u6709\u5b9a\u4e49\u5728\u7c7b\u7684<code>prototype</code>\u5c5e\u6027\u4e2d\u7684\u6210\u5458\u624d\u80fd\u88ab\u7ee7\u627f\u3002\uff09</p> <p>\u4e00\u822c\u53ea\u5728\u539f\u578b\u4e2d\u5b9a\u4e49\u65b9\u6cd5\uff0c\u4e0d\u4f1a\u5728\u539f\u578b\u4e2d\u5b9a\u4e49\u53d8\u91cf\uff0c\u56e0\u4e3a\u8fd9\u4e48\u505a\u4e0d\u592a\u7075\u6d3b\u3002\uff08\u53ef\u80fd\u53ea\u6709\u5728js\u91cc\u8fd9\u4e48\u505a\u4e0d\u7075\u6d3b- -\u3001\uff09\u3002js\u4e2d\u5e38\u89c1\u7684\u5bf9\u8c61\u5b9a\u4e49\u6a21\u5f0f\u662f\uff0c\u5728\u6784\u9020\u51fd\u6570\u4e2d\u5b9a\u4e49\u5c5e\u6027\uff08\u4f7f\u7528<code>this.xxx = xxx</code>\uff09\u3001\u5728<code>prototype</code>\u5c5e\u6027\u4e0a\u5b9a\u4e49\u65b9\u6cd5\u3002\u5982\u6b64\uff0c\u6784\u9020\u5668\u53ea\u5305\u542b\u5c5e\u6027\u5b9a\u4e49\uff0c\u800c\u65b9\u6cd5\u5219\u5206\u88c5\u5728\u4e0d\u540c\u7684\u4ee3\u7801\u5757\uff0c\u4ee3\u7801\u66f4\u5177\u53ef\u8bfb\u6027\u3002</p>","tags":["\u524d\u7aef"]},{"location":"front-end/10.js-mdn-tutorial/#5_1","title":"5. \u7ee7\u627f","text":"<p>\u4e0b\u9762\u7684\u5b9a\u4e49\u4e86\u4e00\u4e2aTeacher\u7c7b\uff0c\u7ee7\u627f\u81eaPerson\u7c7b\uff08<code>call</code>\u51fd\u6570\u53ef\u4ee5\u8c03\u7528\u4e00\u4e2a\u5176\u4ed6\u51fd\u6570\uff0c\u5e76\u4f7f\u7528\u7b2c\u4e00\u4e2a\u53c2\u6570\u6307\u5b9a\u51fd\u6570\u8fd0\u884c\u5728\u54ea\u4e2a\u5bf9\u8c61\u4e0a\uff09\u3002\u5982\u679c<code>call</code>\u51fd\u6570\u53ea\u6709\u7b2c\u4e00\u4e2a\u53c2\u6570\uff0c\u5219\u7ee7\u627fPerson\u7c7b\u7684\u9ed8\u8ba4\u503c\u3002</p> <pre><code>function Person(first, last, age, gender, interests) {\n  this.name = {\n    first,\n    last\n  };\n  this.age = age;\n  this.gender = gender;\n  this.interests = interests;\n};\n\nPerson.prototype.greeting = function() {\n  alert('Hi! I\\'m ' + this.name.first + '.');\n};\n\nfunction Teacher(first, last, age, gender, interests, subject) {\n  Person.call(this, first, last, age, gender, interests);\n\n  this.subject = subject;\n}\n</code></pre> <p>\u4f46\u662f\u8fd9\u79cd\u65b9\u6cd5\u53ea\u662f\u7b80\u5355\u5730\u5c06Person\u7c7b\u7684\u6210\u5458\u91cd\u65b0\u5b9a\u4e49\u4e86\u4e00\u904d\uff0c\u5e76\u6ca1\u6709\u7ee7\u627f\u5230Person\u7c7b\u7684\u539f\u578b\uff08\u8c03\u7528<code>Object.getOwnPropertyNames(Teacher.prototype)</code>\u53ea\u80fd\u770b\u5230Teacher\u7684\u6784\u9020\u5668\uff0c\u770b\u4e0d\u5230<code>greeting</code>\u65b9\u6cd5\uff09\uff0c\u4e0b\u9762\u7684\u65b9\u6cd5\u53ef\u4ee5\u4f7fTeacher\u7ee7\u627f\u5230Person\u7684\u539f\u578b\u3002</p> <pre><code>Teacher.prototype = Object.create(Person.prototype);\n//\u5149\u6267\u884c\u4e0a\u9762\u90a3\u53e5\u4e0d\u884c\uff0cTeacher\u7684\u6784\u9020\u5668\u4e5f\u662fPerson\u7684\uff0c\u8c03\u7528Object.getOwnPropertyNames(Teacher.prototype)\u4f1a\u53d1\u73b0\u4ec0\u4e48\u90fd\u6ca1\u6709\n//\u8fd8\u5f97\u6267\u884c\u4e0b\u9762\u8fd9\u53e5\uff0c\u628a\u6784\u9020\u5668\u6362\u6210Tercher\u81ea\u5df1\u7684\nTeacher.prototype.constructor = Teacher;\nObject.defineProperty(Teacher.prototype, 'constructor', {\n    value: Teacher,\n    enumerable: false, // so that it does not appear in 'for in' loop\n    writable: true });\n</code></pre>","tags":["\u524d\u7aef"]},{"location":"front-end/10.js-mdn-tutorial/#6-ecmascript-2015ecmascript-6es6","title":"6. ECMAScript 2015\uff08ECMAScript 6\uff0cES6\uff09\u4e2d\u7684\u7c7b","text":"<p>ES6\u63d0\u4f9b\u7c7b\u7c7b\u4f3cC++\u548cJava\u7684\u7c7b\u8bed\u6cd5\uff08\u5373class\uff09</p> <pre><code>class Person {\n  constructor(first, last, age, gender, interests) {\n    this.name = {\n      first,\n      last\n    };\n    this.age = age;\n    this.gender = gender;\n    this.interests = interests;\n  }\n\n  greeting() {\n    console.log(`Hi! I'm ${this.name.first}`);\n  };\n\n  farewell() {\n    console.log(`${this.name.first} has left the building. Bye for now!`);\n  };\n}\n</code></pre> <p>\u65b0\u7684\u7ee7\u627f\u8bed\u6cd5</p> <pre><code>class Teacher extends Person {\n  constructor(first, last, age, gender, interests, subject, grade) {\n    //\u5fc5\u987b\u8981\u5148\u8c03\u7528super\uff08\u5373\u8c03\u7528\u7236\u7c7b\u7684\u6784\u9020\u51fd\u6570\uff09\uff0c\u5426\u5219this\u4e0d\u4f1a\u88ab\u81ea\u52a8\u521d\u59cb\u5316\n    super(first, last, age, gender, interests);\n\n    this.subject = subject;\n    this.grade = grade;\n  }\n  //\u5b9a\u4e49\u901a\u8fc7getter\u548csetter\u4f7f\u5f97\u6210\u5458\u80fd\u88ab\u8bbf\u95ee\u5230\n  //\uff08\u4e0d\u5b9a\u4e49\u4e5f\u53ef\u4ee5\uff09\n  get subject() {\n    return this._subject;\n  }\n\n  set subject(newSubject) {\n    this._subject = newSubject;\n  }\n}\n</code></pre>","tags":["\u524d\u7aef"]},{"location":"front-end/10.js-mdn-tutorial/#7-json","title":"7. JSON","text":"<p>JSON\u662f\u4e00\u79cd\u6570\u636e\u683c\u5f0f\u3002\u5e76\u53ef\u4ee5\u76f4\u63a5\u88ab\u89c6\u4e3a\u4e00\u4e2ajs\u5bf9\u8c61</p> <pre><code>//json\u7ed3\u6784\n{\n  \"squadName\" : \"Super hero squad\",\n  \"homeTown\" : \"Metro City\",\n  \"formed\" : 2016,\n  \"secretBase\" : \"Super tower\",\n  \"active\" : true,\n  \"members\" : [\n    {\n      \"name\" : \"Molecule Man\",\n      \"age\" : 29,\n      \"secretIdentity\" : \"Dan Jukes\",\n      \"powers\" : [\n        \"Radiation resistance\",\n        \"Turning tiny\",\n        \"Radiation blast\"\n      ]\n    },\n    {\n      \"name\" : \"Madame Uppercut\",\n      \"age\" : 39,\n      \"secretIdentity\" : \"Jane Wilson\",\n      \"powers\" : [\n        \"Million tonne punch\",\n        \"Damage resistance\",\n        \"Superhuman reflexes\"\n      ]\n    }\n}\n</code></pre> <p>\u4f7f\u7528\u4ee3\u7801\u5411\u670d\u52a1\u5668\u8bf7\u6c42\u8d44\u6e90</p> <pre><code>var requestURL = 'https://mdn.github.io/learning-area/javascript/oojs/json/superheroes.json';\n//XMLHttpRequest\uff08\u7b80\u79f0XHR\uff09\uff0c\u53ef\u4ee5\u901a\u8fc7\u8be5\u5bf9\u8c61\u5411\u670d\u52a1\u5668\u8bf7\u6c42\u8d44\u6e90\u6587\u4ef6\nvar request = new XMLHttpRequest();\nrequest.open('GET', requestURL);\nrequest.responseType = 'json';  //\u8bbe\u5b9a\u54cd\u5e94\u7c7b\u578b\u4e3ajson\nrequest.send();\nrequest.onload = function() {\n  var superHeroes = request.response; //\u8bbe\u7f6e\u54cd\u5e94\u7c7b\u578b\u4e3ajson\u4ee5\u540e\uff0csuperHeros\u76f4\u63a5\u5c31\u662f\u4e00\u4e2ajson\n  ...\n}\n</code></pre> <p>\u5982\u679c\u53d1\u9001\u8bf7\u6c42\u524d\u8bbe\u7f6e\u4e86\u8fd4\u56de\u7c7b\u578b\u4e3atext\uff08\u5373<code>request.responseType = 'text';</code>\uff09\uff0c\u8981\u4f7f\u7528<code>parse</code>\u5bf9response\u6570\u636e\u53cd\u5e8f\u5217\u5316\u3002\u4f7f\u7528\u4ee5\u4e0b\u65b9\u6cd5\u5e8f\u5217\u5316\u548c\u53cd\u5e8f\u5217\u5316json\u5bf9\u8c61\u3002</p> <pre><code>//\u4ee5\u6587\u672c\u5b57\u7b26\u4e32\u5f62\u5f0f\u63a5\u53d7JSON\u5bf9\u8c61\u4f5c\u4e3a\u53c2\u6570\uff0c\u5e76\u8fd4\u56de\u76f8\u5e94\u7684\u5bf9\u8c61\u3002\nparse()\n//\u63a5\u6536\u4e00\u4e2a\u5bf9\u8c61\u4f5c\u4e3a\u53c2\u6570\uff0c\u8fd4\u56de\u4e00\u4e2a\u5bf9\u5e94\u7684JSON\u5b57\u7b26\u4e32\u3002\nstringify()\n</code></pre>","tags":["\u524d\u7aef"]},{"location":"front-end/10.js-mdn-tutorial/#_5","title":"\u5f02\u6b65\u7f16\u7a0b","text":"<p>\u4e00\u4e9b\u57fa\u672c\u6982\u5ff5\uff1a\u540c\u6b65/\u5f02\u6b65\u3001\u963b\u585e/\u975e\u963b\u585e\u3001\u7ebf\u7a0b\u3001\u8fdb\u7a0b\u3002</p> <p>js\u5728\u6d4f\u89c8\u5668\u4e2d\u8fd0\u884c\u65f6\u662f\u5355\u7ebf\u7a0b\u7684\u3002</p> <p>\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u4f7f\u7528Web Workers API\u628a\u4e00\u4e9b\u4efb\u52a1\u4ea4\u7ed9\u4e00\u4e2a\u540d\u4e3aworker\u7684\u5355\u72ec\u7684\u7ebf\u7a0b\uff0c\u5b83\u662f\u4e00\u4e2a\u72ec\u7acb\u4e8e\u4e3b\u7ebf\u7a0b\u7684\u540e\u53f0\u7ebf\u7a0b\u3002</p> <p>web workers\u7684\u5c40\u9650\u6027\u662f\u4e0d\u80fd\u8bbf\u95eeDOM\uff0c\u5373\u4e0d\u80fd\u66f4\u65b0UI\u3002\u5e76\u4e14web worker\u53ea\u662f\u4e00\u79cd\u975e\u5e38\u7c97\u7cd9\u7684\u673a\u5236\uff0c\u5e76\u4e0d\u80fd\u652f\u6301\u771f\u6b63\u7684\u5f02\u6b65\u7f16\u7a0b\uff0c</p>","tags":["\u524d\u7aef"]},{"location":"front-end/10.js-mdn-tutorial/#1_1","title":"1. \u4f20\u7edf\u5f02\u6b65","text":"<p>\u4f20\u7edf\u7684js\u4f7f\u7528\u56de\u8c03\u51fd\u6570\u5b9e\u73b0\u5f02\u6b65\uff0c\u76d1\u542c\u5668\u5c31\u662f\u4e00\u4e2ajs\u5f02\u6b65\u7684\u4f8b\u5b50\uff0c\u7ed9\u76d1\u542c\u5668\u63d0\u4f9b\u4e8b\u4ef6\u5bf9\u5e94\u7684\u56de\u8c03\u51fd\u6570\uff08callback\uff09\uff0c\u4e8b\u4ef6\u53d1\u751f\u540e\u8fd9\u4e2a\u56de\u8c03\u51fd\u6570\u5c31\u4f1a\u88ab\u8c03\u7528\u3002</p> <pre><code>btn.addEventListener('click', () =&gt; {\n  alert('You clicked me!');\n  let pElem = document.createElement('p');\n  pElem.textContent = 'This is a newly-added paragraph.';\n  document.body.appendChild(pElem);\n});\n</code></pre> <p>\u4f8b\u5982\u4f7f\u7528<code>XMLHttpRequest</code>\u914d\u5408\u56de\u8c03\u51fd\u6570\u52a0\u8f7d\u8d44\u6e90</p> <pre><code>function loadAsset(url, type, callback) {\n  let xhr = new XMLHttpRequest();\n  xhr.open('GET', url);\n  xhr.responseType = type;\n\n  xhr.onload = function() {\n    callback(xhr.response);\n  };\n\n  xhr.send();\n}\n\nfunction displayImage(blob) {\n  let objectURL = URL.createObjectURL(blob);\n\n  let image = document.createElement('img');\n  image.src = objectURL;\n  document.body.appendChild(image);\n}\n\nloadAsset('coffee.jpg', 'blob', displayImage);\n</code></pre>","tags":["\u524d\u7aef"]},{"location":"front-end/10.js-mdn-tutorial/#2-promise","title":"2. promise","text":"<p>promise\u662f\u4e00\u79cd\u65b0\u5f0f\u7684js\u5f02\u6b65\u4ee3\u7801\u3002\u4f8b\u5982\uff0c<code>fetch()</code>API\u662f\u4e00\u4e2a\u73b0\u4ee3\u7684\uff0c\u66f4\u9ad8\u6548\u7684<code>XMLHttpRequest</code>\u3002</p> <pre><code>fetch('products.json').then(function(response) {\n  return response.json();\n}).then(function(json) {\n  products = json;\n  initialize();\n}).catch(function(err) {\n  console.log('Fetch problem: ' + err.message);\n}).finally(() =&gt; {\n  runFinalCode();\n});\n</code></pre> <ul> <li>promise\uff1a<code>fetch()</code>\u4f1a\u8fd4\u56de\u4e00\u4e2apromise\uff0cpromise\u662f\u4e00\u4e2a\u8868\u793a\u5f02\u6b65\u64cd\u4f5c\u6210\u529f\u6216\u5931\u8d25\u7684\u5bf9\u8c61\u3002</li> <li><code>then()</code>\uff1a<code>then()</code>\u9700\u8981\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\uff0c\u5f53\u524d\u4e00\u4e2a\u64cd\u4f5c\u6210\u529f\u65f6\u624d\u4f1a\u6267\u884c\u56de\u8c03\u51fd\u6570\uff0c\u524d\u4e00\u4e2a\u64cd\u4f5c\u7684\u6210\u529f\u7ed3\u679c\u4f1a\u4f5c\u4e3a\u56de\u8c03\u51fd\u6570\u7684\u8f93\u5165\u3002\u6bcf\u4e2a<code>then()</code>\u8fd4\u56de\u4e00\u4e2apromise\u3002</li> <li><code>catch()</code>\uff1a<code>catch()</code>\u7528\u6765\u5904\u7406\u9519\u8bef\uff08\u540c\u6b65\u7684<code>try...catch</code>\u4e0d\u80fd\u4e0epromise\u4e00\u8d77\u5de5\u4f5c\uff09</li> <li><code>finally()</code>\uff1a\u4e0d\u7ba1promise\u6210\u529f\u6216\u5931\u8d25\u6700\u7ec8\u90fd\u4f1a\u6267\u884c\u7684\u4ee3\u7801</li> </ul> <p>promise\u76f8\u6bd4\u4e8e\u4f20\u7edf\u7684callback\u5f02\u6b65\u6709\u5982\u4e0b\u597d\u5904\uff1a</p> <ul> <li>promise\u80fd\u591f\u5f88\u5bb9\u6613\u5c06\u8fde\u7eed\u7684\u51e0\u4e2a\u5f02\u6b65\u64cd\u4f5c\u94fe\u63a5\u8d77\u6765\uff0c\u7b80\u5316\u7a0b\u5e8f\u903b\u8f91\uff0c\u800ccallback\u5f02\u6b65\u4f1a\u9020\u6210\u201c\u56de\u8c03\u5730\u72f1\u201d\u3002</li> <li>promise\u603b\u662f\u6309\u7167\u987a\u5e8f\u8c03\u7528</li> <li>\u9519\u8bef\u80fd\u591f\u96c6\u4e2d\u5904\u7406</li> </ul> <p>\u8fdb\u4e00\u6b65\u7406\u89e3promise\uff1a</p> <pre><code>let promise = fetch('coffee.jpg');\n</code></pre> <p>\u6b64\u65f6\u7684promise\u7684\u5b98\u65b9\u672f\u8bed\u53eb\u4f5cpending\u3002\u5f53fetch\u64cd\u4f5c\u6210\u529f\u5b8c\u6210\u65f6\uff0c\u4f1a\u5c06response\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u7ed9then\u5757\u7684\u56de\u8c03\u51fd\u6570\u3002</p> <pre><code>// Fetch promises \u4e0d\u4f1a\u4ea7\u751f 404 \u6216 500\u9519\u8bef\uff0c\u53ea\u6709\u5728\u4ea7\u751f\u50cf\u7f51\u8def\u6545\u969c\u7684\u60c5\u51b5\u65f6\u624d\u4f1a\u4e0d\u5de5\u4f5c\u3002\u6211\u4eec\u9700\u8981\u5224\u65ad response.ok \uff0c\u5982\u679c\u662f false\uff0c\u629b\u51fa\u9519\u8bef\n\nlet promise2 = promise.then(response =&gt; {\n  if (!response.ok) {\n    //\u6b64\u5904\u4e0d\u592a\u61c2\uff0c\u8fd9\u91cc\u629b\u51fa\u7684\u5f02\u5e38\u80fd\u76f4\u63a5\u5728catch\u91cc\u6355\u83b7\u5417\uff1f\n    throw new Error(`HTTP error! status: ${response.status}`);\n  } else {\n    return response.blob();\n  }\n});\n</code></pre> <p>promise\u603b\u7ed3\uff1a</p> <ul> <li>\u521b\u5efapromise\u65f6\uff0c\u5b83\u65e2\u4e0d\u662f\u6210\u529f\u4e5f\u4e0d\u662f\u5931\u8d25\u72b6\u6001\u3002\u8fd9\u4e2a\u72b6\u6001\u53eb\u4f5cpending\uff08\u5f85\u5b9a\uff09\u3002</li> <li>\u5f53promise\u8fd4\u56de\u65f6\uff0c\u79f0\u4e3a resolved\uff08\u5df2\u89e3\u51b3\uff09.</li> <li>\u4e00\u4e2a\u6210\u529fresolved\u7684promise\u79f0\u4e3afullfilled\uff08\u5b9e\u73b0\uff09\u3002\u5b83\u8fd4\u56de\u4e00\u4e2a\u503c\uff0c\u53ef\u4ee5\u901a\u8fc7\u5c06.then()\u5757\u94fe\u63a5\u5230promise\u94fe\u7684\u672b\u5c3e\u6765\u8bbf\u95ee\u8be5\u503c\u3002then()\u5757\u4e2d\u7684\u6267\u884c\u7a0b\u5e8f\u51fd\u6570\u5c06\u5305\u542bpromise\u7684\u8fd4\u56de\u503c\u3002</li> <li>\u4e00\u4e2a\u4e0d\u6210\u529fresolved\u7684promise\u88ab\u79f0\u4e3arejected\uff08\u62d2\u7edd\uff09\u3002\u5b83\u8fd4\u56de\u4e00\u4e2a\u539f\u56e0\uff08reason\uff09\uff0c\u4e00\u6761\u9519\u8bef\u6d88\u606f\uff0c\u8bf4\u660e\u4e3a\u4ec0\u4e48\u62d2\u7eddpromise\u3002\u53ef\u4ee5\u901a\u8fc7\u5c06.catch()\u5757\u94fe\u63a5\u5230promise\u94fe\u7684\u672b\u5c3e\u6765\u8bbf\u95ee\u6b64\u539f\u56e0\u3002</li> </ul> <p>\u54cd\u5e94\u591a\u4e2apromise\u3002<code>[a,b,c]</code>\u4e00\u4e2a\u662fpromise\u6570\u7ec4\uff0c\u6709\u4e00\u4e2apromise\u88ab\u62d2\u7edd\uff0cthen\u5c31\u4e0d\u80fd\u6267\u884c\u3002\u4f20\u9012\u7ed9\u56de\u8c03\u51fd\u6570\u7684\u53c2\u6570<code>values</code>\u4e5f\u662f\u4e00\u4e2a\u6570\u7ec4\uff0c\u7531\u5404\u4e2apromise\u7684\u8fd4\u56de\u6570\u636e\u7ec4\u6210\u3002</p> <pre><code>let a = fetch(url1);\nlet b = fetch(url2);\nlet c = fetch(url3);\n\nPromise.all([a, b, c]).then(values =&gt; {\n  ...\n});\n</code></pre>","tags":["\u524d\u7aef"]},{"location":"front-end/10.js-mdn-tutorial/#3_1","title":"3. \u8d85\u65f6\u548c\u95f4\u9694","text":"<p>\u4e0b\u9762\u8fd9\u4e9b\u51fd\u6570\u8bbe\u7f6e\u7684\u5f02\u6b65\u4ee3\u7801\u5b9e\u9645\u4e0a\u5728\u4e3b\u7ebf\u7a0b\u4e0a\u8fd0\u884c\uff08\u5728\u5176\u6307\u5b9a\u7684\u8ba1\u65f6\u5668\u8fc7\u53bb\u4e4b\u540e\uff09\u3002</p> <ul> <li><code>let myGreeting = setTimeout(fn, 5, ...)</code>\uff1a\u5728\u6307\u5b9a\u7684\u65f6\u95f4\u540e\u6267\u884c\u4e00\u6bb5\u4ee3\u7801\u3002\u56e0\u4e3a\u662f\u5728\u4e3b\u7ebf\u7a0b\u5185\u6267\u884c\uff0c\u56e0\u6b64\u5b9e\u9645\u6267\u884c\u95f4\u9694\u53ef\u80fd\u6bd4\u6307\u5b9a\u65f6\u95f4\u7a0d\u957f\u4e00\u70b9\uff0c\u76f4\u5230\u4e3b\u7ebf\u7a0b\u8c03\u7528\u6808\u4e3a\u7a7a\u3002</li> <li>\u53c2\u65701\uff1a\u51fd\u6570</li> <li>\u53c2\u65702\uff1a\u65f6\u95f4\u95f4\u9694\uff08ms\uff09</li> <li>\u66f4\u591a\u53c2\u6570\uff1a\u4f20\u9012\u7ed9\u51fd\u6570\u7684\u53c2\u6570</li> <li>\u8fd4\u56de\uff1a\u5b9a\u65f6\u5668\u7684\u6807\u8bc6</li> <li><code>clearTimeout(myGreeting)</code>\uff1a\u6e05\u9664\u5b9a\u65f6</li> <li><code>const myInterval = setInterval(displayTime, 1000, ...)</code>\uff1a\u4ee5\u56fa\u5b9a\u7684\u65f6\u95f4\u95f4\u9694\uff0c\u91cd\u590d\u8fd0\u884c\u4e00\u6bb5\u4ee3\u7801\u3002\u65f6\u95f4\u95f4\u9694\u662f\u4ece\u51fd\u6570\u5f00\u59cb\u6267\u884c\u8ba1\u7b97\u7684\uff0c\u5373\u65f6\u95f4\u95f4\u9694\u4f1a\u5c06\u51fd\u6570\u672c\u8eab\u7684\u6267\u884c\u65f6\u95f4\u4e5f\u7b97\u8fdb\u53bb\u3002\u5982\u679c\u60f3\u6307\u5b9a\u51fd\u6570\u7ed3\u675f\u6267\u884c\u5230\u4e0b\u6b21\u5f00\u59cb\u6267\u884c\u7684\u65f6\u95f4\uff0c\u53ef\u4ee5\u901a\u8fc7\u9012\u5f52\u8c03\u7528<code>setTimeout</code>\u5b9e\u73b0\u3002</li> <li><code>clearInterval(myInterval)</code></li> <li><code>requestAnimationFrame()</code>\uff1a<code>setInterval</code>\u7684\u73b0\u4ee3\u7248\u672c\u3002\u5728\u6d4f\u89c8\u5668\u4e0b\u4e00\u6b21\u91cd\u65b0\u7ed8\u5236\u663e\u793a\u4e4b\u524d\u6267\u884c\u6307\u5b9a\u7684\u4ee3\u7801\u5757\uff0c\u4ece\u800c\u5141\u8bb8\u52a8\u753b\u5728\u9002\u5f53\u7684\u5e27\u7387\u4e0b\u8fd0\u884c\uff0c\u800c\u4e0d\u7ba1\u5b83\u5728\u4ec0\u4e48\u73af\u5883\u4e2d\u8fd0\u884c\u3002\u5b83\u662f\u9488\u5bf9<code>setInterval</code>\u9047\u5230\u7684\u95ee\u9898\u521b\u5efa\u7684\uff0c\u6bd4\u5982<code>setInterval</code>\u5e76\u4e0d\u662f\u9488\u5bf9\u8bbe\u5907\u4f18\u5316\u7684\u5e27\u7387\u8fd0\u884c\uff0c\u6709\u65f6\u4f1a\u4e22\u5e27\u3002\u8fd8\u6709\u5373\u4f7f\u8be5\u9009\u9879\u5361\u4e0d\u662f\u6d3b\u52a8\u7684\u9009\u9879\u5361\u6216\u52a8\u753b\u6eda\u51fa\u9875\u9762\u7b49\u95ee\u9898 \u3002</li> </ul>","tags":["\u524d\u7aef"]},{"location":"front-end/10.js-mdn-tutorial/#4requestanimationframe","title":"4.\u52a8\u753b\uff08requestAnimationFrame\uff09","text":"<p>\u7ed8\u5236\u52a8\u753b\u5e27</p> <pre><code>//\u4f8b1\nfunction draw() {\n   // Drawing code goes here\n   requestAnimationFrame(draw);\n}\n\ndraw();\n\n//\u4f8b2 requestAnimationFrame\u4f1a\u5728\u8c03\u7528\u51fd\u6570\u7684\u65f6\u5019\u5c06\u8c03\u7528\u65f6\u95f4\uff08timestamp\uff09\u4f5c\u4e3a\u53c2\u6570\u4f20\u5165\nlet startTime = null;\n\nfunction draw(timestamp) {\n    if(!startTime) {\n      startTime = timestamp;\n    }\n\n   currentTime = timestamp - startTime;\n\n   // Do something based on current time\n\n   requestAnimationFrame(draw);\n}\n\ndraw(xxx);\n</code></pre> <p>\u64a4\u9500</p> <pre><code>cancelAnimationFrame(xxx);\n</code></pre>","tags":["\u524d\u7aef"]},{"location":"front-end/10.js-mdn-tutorial/#5promise","title":"5.\u81ea\u5b9a\u4e49promise","text":"<p>\u4e0b\u9762\u8fd9\u4e2a\u4f8b\u5b50\u7528promise\u5305\u88c5\u4e86\u4e00\u4e2asetTimeout\uff0cresolve\u548creject\u662f\u4e24\u4e2a\u51fd\u6570\uff0c\u5206\u522b\u7528\u6765\u5904\u7406\u548c\u62d2\u7eddpromise\u3002\uff08resolve\u548creject\u7531promise\u8d1f\u8d23\u5b9e\u73b0\uff0cpromise\u8c03\u7528\u8fd9\u4e2a\u51fd\u6570\u65f6\u5c06resolve\u548creject\u4f5c\u4e3a\u53c2\u6570\u4f20\u5165\u3002\uff09</p> <p>resolve\u51fd\u6570\u7684\u4f5c\u7528\u662f\u5c06\u5176\u53c2\u6570\u4f5c\u4e3apromise\u5b9e\u73b0\uff08fullfilled\uff09\u65f6\u7684\u8f93\u51fa\uff0c\u5e76\u5c06\u8fd9\u4e2a\u8f93\u51fa\u4f5c\u4e3athen\u5757\u7684\u53c2\u6570\uff0creject\u7684\u4f5c\u7528\u662f\u5c06\u5176\u53c2\u6570\u4f5c\u4e3apromise\u62d2\u7edd\uff08rejected\uff09\u65f6\u7684\u8f93\u51fa\uff0c\u5e76\u5c06\u8fd9\u4e2a\u8f93\u51fa\u4f5c\u4e3acatch\u5757\u7684\u53c2\u6570\u3002</p> <pre><code>let timeoutPromise = new Promise((resolve, reject) =&gt; {\n  setTimeout(function(){\n    resolve('Success!');\n  }, 2000);\n});\n\ntimeoutPromise\n.then((message) =&gt; {\n   alert(message);\n})\n//\u6216\ntimeoutPromise.then(alert); //\u7b2c\u4e00\u79cd\u79cd\u5199\u6cd5\u672c\u8eab\u6709\u70b9\u591a\u6b64\u4e00\u4e3e\uff0c\u6559\u7a0b\u91cc\u9762\u4e3a\u4e86\u4f53\u73b0\u51fapromise\u80fd\u591f\u7ed9then\u7684\u56de\u8c03\u51fd\u6570\u4f20\u9012\u4e00\u4e2a\u53c2\u6570\u624d\u5728alert\u5916\u9762\u53c8\u52a0\u4e86\u4e00\u5c42\u51fd\u6570\u5b9a\u4e49\n</code></pre> <p>\u518d\u5c01\u88c5\u4e00\u4e0b\uff0c\u4f7f\u5176\u80fd\u591f\u50cf\u8c03\u7528fetch()\u90a3\u6837\u8c03\u7528</p> <pre><code>function timeoutPromise(message, interval) {\n  return new Promise((resolve, reject) =&gt; {\n    if (message === '' || typeof message !== 'string') {\n      reject('Message is empty or not a string');\n    } else if (interval &lt; 0 || typeof interval !== 'number') {\n      reject('Interval is negative or not a number');\n    } else {\n      setTimeout(function(){\n        resolve(message);\n      }, interval);\n    }\n  });\n};\n</code></pre> <p>\u4e00\u4e2a\u771f\u5b9e\u7684promise\u5f02\u6b65\u4f8b\u5b50\uff08\u4e0d\u662f\u7528setTimeout\u6a21\u62df\u7684\uff09</p> <pre><code>//\u5177\u4f53\u7684\u5904\u7406\u5de5\u4f5c\u5e76\u4e0d\u7531promise\u5b8c\u6210\uff0c\u5f53request\u6210\u529f\u65f6\uff0c\u8c03\u7528request.onsuccess()\u5c31\u80fd\u5b8c\u6210promise\u7684\u5b9e\u73b0\u5de5\u4f5c\u3002\nfunction promisifyRequest(request) {\n  return new Promise(function(resolve, reject) {\n    request.onsuccess = function() {\n      resolve(request.result);\n    };\n\n    request.onerror = function() {\n      reject(request.error);\n    };\n  });\n} \n</code></pre>","tags":["\u524d\u7aef"]},{"location":"front-end/10.js-mdn-tutorial/#6-asyncawait","title":"6. async\u548cawait","text":"<p>\u8fd9\u662f\u4e0a\u9762\u7684promise\u5199\u6cd5</p> <pre><code>fetch('coffee.jpg')\n.then(response =&gt; response.blob())\n.then(myBlob =&gt; {\n  let objectURL = URL.createObjectURL(myBlob);\n  let image = document.createElement('img');\n  image.src = objectURL;\n  document.body.appendChild(image);\n})\n.catch(e =&gt; {\n  console.log('There has been a problem with your fetch operation: ' + e.message);\n});\n</code></pre> <p>\u4f7f\u7528async\u548cawait\u91cd\u65b0\u7f16\u5199\u4e0a\u9762\u7684\u4ee3\u7801\uff0c\u53ef\u4ee5\u53bb\u6389then\uff0c\u4f7f\u4ee3\u7801\u66f4\u5bb9\u6613\u7406\u89e3</p> <pre><code>async function myFetch() {\n  let response = await fetch('coffee.jpg');\n  let myBlob = await response.blob();\n\n  let objectURL = URL.createObjectURL(myBlob);\n  let image = document.createElement('img');\n  image.src = objectURL;\n  document.body.appendChild(image);\n}\n\nmyFetch()\n.catch(e =&gt; {\n  console.log('There has been a problem with your fetch operation: ' + e.message);\n});\n</code></pre> <p>\u6df7\u5408\u4f7f\u7528async/await\u548cpromise</p> <pre><code>async function myFetch() {\n  let response = await fetch('coffee.jpg');\n  return await response.blob(); //\u8fd9\u91cc\u53ef\u80fd\u5199\u9519\u4e86\uff0c\u8fd9\u91cc\u4e0d\u5e94\u8be5\u5e26await\n}\n\nmyFetch().then((blob) =&gt; {\n  let objectURL = URL.createObjectURL(blob);\n  let image = document.createElement('img');\n  image.src = objectURL;\n  document.body.appendChild(image);\n});\n</code></pre> <p>async/await\u53ef\u4ee5\u548c\u540c\u6b65\u7684try...catch\u4e00\u8d77\u4f7f\u7528</p> <pre><code>async function myFetch() {\n  try {\n    let response = await fetch('coffee.jpg');\n    let myBlob = await response.blob();\n\n    let objectURL = URL.createObjectURL(myBlob);\n    let image = document.createElement('img');\n    image.src = objectURL;\n    document.body.appendChild(image);\n  } catch(e) {\n    console.log(e);\n  }\n}\n\nmyFetch();\n</code></pre> <p>async/await\u4e5f\u53ef\u4ee5\u548cpromise.all\u4e00\u8d77\u4f7f\u7528</p> <pre><code>async function displayContent() {\n  let coffee = fetchAndDecode('coffee.jpg', 'blob');\n  let tea = fetchAndDecode('tea.jpg', 'blob');\n  let description = fetchAndDecode('description.txt', 'text');\n\n  let values = await Promise.all([coffee, tea, description]);\n  ...\n}\n</code></pre> <p>\u4e0d\u5e26await\u65f6\u8fd4\u56de\u7684\u662fpending\u72b6\u6001\u7684promise\uff0c\u5e26await\u65f6\u8fd4\u56de\u7684\u662ffullfilled\u72b6\u6001\u7684promise\u3002</p> <p>async/await\u7684\u7f3a\u9677\uff1aawait\u5173\u952e\u5b57\u4f1a\u963b\u585e\u540e\u9762\u7684\u4ee3\u7801\uff0cpromise\u53ea\u80fd\u4e00\u4e2a\u4e00\u4e2a\u5904\u7406\u3002\u89e3\u51b3\u529e\u6cd5\uff0c\u5148\u8fd4\u56de\u51e0\u4e2apending\u72b6\u6001\u7684promise\uff0c\u8ba9\u5b83\u4eec\u5148\u540c\u65f6\u5f00\u59cb\u5904\u7406\uff0c\u7136\u540e\u518d\u96c6\u4e2dawait\uff0c\u4f8b\u5982</p> <pre><code>//\u5c06\u8fd9\u79cd\u5199\u6cd5\nasync function timeTest() {\n  await timeoutPromise(3000);\n  await timeoutPromise(3000);\n  await timeoutPromise(3000);\n}\n\n//\u6539\u4e3a\nasync function timeTest() {\n  const timeoutPromise1 = timeoutPromise(3000);\n  const timeoutPromise2 = timeoutPromise(3000);\n  const timeoutPromise3 = timeoutPromise(3000);\n\n  await timeoutPromise1;\n  await timeoutPromise2;\n  await timeoutPromise3;\n}\n</code></pre> <p>\u5c06\u7c7b\u6210\u5458\u5b9a\u4e49\u4e3aasync\u5f02\u6b65\u51fd\u6570</p> <pre><code>class Person {\n  //\u76f4\u63a5\u8fd4\u56de\u4e00\u4e2afullfilled\u72b6\u6001\u7684promise\n  async greeting() {\n    return await Promise.resolve(`Hi! I'm ${this.name.first}`);\n  };\n  ...\n\n//\u4f7f\u7528\u65b9\u6cd5\nlet han = new Person();\nhan.greeting().then(console.log);\n</code></pre>","tags":["\u524d\u7aef"]},{"location":"front-end/10.js-mdn-tutorial/#_6","title":"\u6a21\u677f\u5b57\u7b26\u4e32","text":"<p>\u53c2\u8003https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Template_literals</p> <p>\u6a21\u677f\u5b57\u7b26\u4e32\uff08Template literals\u3001Template strings\uff09\uff0c\u5b57\u7b26\u4e32\u4e2d\u53ef\u4ee5\u63d2\u5165\u8868\u8fbe\u5f0f\u3002</p> <p>\u8bed\u6cd5\uff1a\u6a21\u677f\u5b57\u7b26\u4e32\u4f7f\u7528\u53cd\u5f15\u53f7`<code>\u5305\u88f9\u5b57\u7b26\u4e32\uff0c\u4f7f\u7528</code>${expression}`\u63d2\u5165\u8868\u8fbe\u5f0f\u3002\u53ef\u4ee5\u5728\u8868\u8fbe\u5f0f\u4e2d\u5d4c\u5957\u6a21\u677f\u5b57\u7b26\u4e32\u3002</p> <p>\u6a21\u677f\u5b57\u7b26\u4e32\u4e2d\u53ef\u4ee5\u76f4\u63a5\u6253\u56de\u8f66\u6362\u884c\uff0c\u800c\u4e0d\u7528<code>\\n</code>\uff0c\u4f8b\u5982\u4e0b\u9762\u7684\u4f8b\u5b50\u6700\u7ec8\u8f93\u51fa\u7684\u5b57\u7b26\u4e32\u4e2d\u662f\u5e26\u6709\u6362\u884c\u7684</p> <pre><code>console.log(`string text line 1\nstring text line 2`);\n</code></pre>","tags":["\u524d\u7aef"]},{"location":"front-end/10.js-mdn-tutorial/#1_2","title":"1. \u5e26\u6807\u7b7e\u7684\u6a21\u677f\u5b57\u7b26\u4e32","text":"<p>\u5e26\u6709<code>mytag</code>\u6807\u7b7e\u7684\u5b57\u7b26\u4e32\uff0c\u5b9e\u9645\u4e0a\u662f\u8c03\u7528\u4e86\u6a21\u677f\u51fd\u6570<code>myTag</code>\uff0c\u5b83\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\u6570\u7ec4\uff0c\u539f\u59cb\u5b57\u7b26\u4e32\u88ab<code>${}</code>\u5206\u5272\u540e\u5269\u4e0b\u7684\u4e00\u4e2a\u4e2a\u5b57\u7b26\u4e32\u6784\u6210\u4e86\u8fd9\u4e2a\u6570\u7ec4</p> <pre><code>var person = 'Mike';\nvar age = 28;\n\nfunction myTag(strings, personExp, ageExp) {\n\n  var str0 = strings[0]; // \"that \"\n  var str1 = strings[1]; // \" is a \"\n\n  // There is technically a string after\n  // the final expression (in our example),\n  // but it is empty (\"\"), so disregard.\n  // var str2 = strings[2];\n\n  var ageStr;\n  if (ageExp &gt; 99){\n    ageStr = 'centenarian';\n  } else {\n    ageStr = 'youngster';\n  }\n\n  return str0 + personExp + str1 + ageStr;\n\n}\n\nvar output = myTag`that ${ person } is a ${ age }`;\n\nconsole.log(output);\n// that Mike is a youngster\n</code></pre>","tags":["\u524d\u7aef"]},{"location":"front-end/10.js-mdn-tutorial/#2_1","title":"2. \u8bbf\u95ee\u4e0d\u7ecf\u8fc7\u8f6c\u4e49\u7684\u5b57\u7b26\u4e32","text":"<pre><code>//\u65b9\u6cd51\uff1a\u4f7f\u7528\u6a21\u677f\u51fd\u6570\u7b2c\u4e00\u4e2a\u53c2\u6570\u7684raw\u5c5e\u6027\nfunction tag(strings) {\n  console.log(strings.raw[0]);\n}\n\ntag`string text line 1 \\n string text line 2`;\n//\u65b9\u6cd52\uff1a\u8c03\u7528String.raw\u65b9\u6cd5\nvar str = String.raw`Hi\\n${2+3}!`;\n// \"Hi\\n5!\"\n</code></pre>","tags":["\u524d\u7aef"]},{"location":"front-end/11.css-mdn-tutorial/","title":"css\u5165\u95e8\u7b14\u8bb0","text":"<p>\u53c2\u8003MDN css\u5165\u95e8\u6559\u7a0b</p>","tags":["\u524d\u7aef"]},{"location":"front-end/11.css-mdn-tutorial/#css","title":"\u5bfc\u5165 css","text":"<p>1\u3001\u5bfc\u5165\u5916\u90e8\u6837\u5f0f\uff1a</p> <pre><code>&lt;link rel=\"stylesheet\" href=\"styles.css\" /&gt;\n</code></pre> <p>2\u3001\u5185\u90e8\u6837\u5f0f</p> <p>\u4f7f\u7528 style \u5143\u7d20</p> <pre><code>&lt;html&gt;\n  &lt;head&gt;\n    &lt;meta charset=\"utf-8\" /&gt;\n    &lt;title&gt;My CSS experiment&lt;/title&gt;\n    &lt;style&gt;\n      h1 {\n        color: blue;\n        background-color: yellow;\n        border: 1px solid black;\n      }\n\n      p {\n        color: red;\n      }\n    &lt;/style&gt;\n  &lt;/head&gt;\n  ...\n&lt;/html&gt;\n</code></pre> <p>3\u3001\u5185\u8054\u6837\u5f0f</p> <p>\u4f7f\u7528 style \u5c5e\u6027</p> <pre><code>&lt;h1 style=\"color: blue;background-color: yellow;border: 1px solid black;\"&gt;\n  Hello World!\n&lt;/h1&gt;\n</code></pre>","tags":["\u524d\u7aef"]},{"location":"front-end/11.css-mdn-tutorial/#_1","title":"\u8bed\u6cd5","text":"<p>1\u3001\u9009\u62e9\u5668+\u5927\u62ec\u53f7\uff0c\u5c5e\u6027:\u503c;</p> <pre><code>h1 {\n  color: red;\n  font-size: 5em;\n}\n</code></pre> <p>2\u3001\u51fd\u6570</p> <p><code>width: calc(90% - 30px);</code></p> <p>3\u3001@\u89c4\u5219</p> <p>@import\uff1a\u5bfc\u5165\u6837\u5f0f\u8868 @media\uff1a\u5a92\u4f53\u67e5\u8be2\uff08\u5f53\u6761\u4ef6\u6210\u7acb\u65f6\u624d\u5e94\u7528\u6837\u5f0f\uff09</p> <p>4\u3001\u901f\u8bb0\u5c5e\u6027</p> <p>\u5141\u8bb8\u5728\u4e00\u884c\u4e2d\u8bbe\u7f6e\u591a\u4e2a\u5c5e\u6027\u503c\uff0c\u5982 padding\u3001border \u7b49\uff0c\u4f8b\u5982\uff1a</p> <pre><code>padding: 10px 15px 15px 5px;\n/* \u7b49\u4ef7\u4e8e */\npadding-top: 10px;\npadding-right: 15px;\npadding-bottom: 15px;\npadding-left: 5px;\n\nbackground: red url(bg-graphic.png)\n/* \u7b49\u4ef7\u4e8e */\nbackground-color: red;\nbackground-image: url(bg-graphic.png);\n</code></pre>","tags":["\u524d\u7aef"]},{"location":"front-end/11.css-mdn-tutorial/#_2","title":"\u9009\u62e9\u5668\u548c\u9009\u62e9\u7b26","text":"\u9009\u62e9\u5668 \u4f8b\u5b50 \u5143\u7d20 h1 id #onething \u7c7b .manythings\u3001a.manythings\u3001.classA.classB \u4f2a\u7c7b a:link\u3001*:link\u3001:link \u5c5e\u6027 <code>a[title]</code>\u3001<code>a[href=\"https://example.com\"]</code>\u3001<code>a[attr~=v]</code>\u3001<code>a[attr\\|=v]</code>\u3001<code>a[attr]</code>\u3001<code>[attr^=value]</code>\u3001<code>[attr$=value]</code>\u3001<code>[attr*=value]</code>\u3001<code>[attr=value i]</code>\uff08\u7ed3\u5c3e\u52a0\u4e2a i \u4ee3\u8868\u6309\u5927\u5c0f\u5199\u4e0d\u654f\u611f\u5339\u914d\uff09 \u4f2a\u5143\u7d20 p::first-line \u901a\u7528\u9009\u62e9\u5668 * <p>\u6ce8\uff1a</p> <ul> <li>\u591a\u4e2a\u9009\u62e9\u5668\u8fde\u5728\u4e00\u8d77\u5199\u4ee3\u8868\u201c\u4e0e\u201d\u7684\u5173\u7cfb\u3002</li> <li>\u4f2a\u7c7b\u4ee3\u8868\u5143\u7d20\u7684\u72b6\u6001\uff0c\u4f2a\u5143\u7d20\u662f\u4e00\u79cd\u865a\u62df\u7684\u5143\u7d20\u3002\u53c2\u8003\uff1a\u5e38\u89c1\u4f2a\u7c7b\u548c\u4f2a\u5143\u7d20</li> </ul> \u8fd0\u7b97\u7b26 \u4f8b\u5b50 \u7a7a\u683c\uff1a\u540e\u4ee3\u9009\u62e9\u5668 article p &gt;\uff1a\u5b50\u4ee3\u9009\u62e9\u5668 article &gt; p +\uff1a\u76f8\u90bb\u5144\u5f1f\u9009\u62e9\u5668 h1 + p ~\uff1a\u901a\u7528\u5144\u5f1f\u9009\u62e9\u5668 h1 ~ p","tags":["\u524d\u7aef"]},{"location":"front-end/11.css-mdn-tutorial/#_3","title":"\u7ee7\u627f","text":"<p>\u7ee7\u627f\uff1a\u6709\u4e9b\u7236\u5143\u7d20\u4e0a\u7684 css \u5c5e\u6027\u53ef\u4ee5\u88ab\u5b50\u5143\u7d20\u7ee7\u627f\uff0c\u6709\u4e9b\u4e0d\u80fd\u3002</p> <p>\u4f7f\u7528 inherit\u3001initial\u3001unset\u3001revert \u8fd9\u56db\u4e2a\u5c5e\u6027\u503c\u63a7\u5236\u7ee7\u627f\uff0c\u4f8b\u5982</p> <pre><code>.my-class-1 a {\n  color: inherit;\n}\n</code></pre> <p>\u5c5e\u6027 all \u53ef\u4ee5\u7528\u6765\u4ee3\u8868\u6240\u6709\u5c5e\u6027</p>","tags":["\u524d\u7aef"]},{"location":"front-end/11.css-mdn-tutorial/#_4","title":"\u5c42\u53e0","text":"<ol> <li>\u591a\u4e2a\u76f8\u540c\u6743\u91cd\u7684\u89c4\u5219\u5e94\u7528\u5230\u540c\u4e00\u4e2a\u5143\u7d20\u65f6\uff0c\u540e\u9762\u7684\u8986\u76d6\u524d\u9762\u7684</li> <li>\u9009\u62e9\u5668\u5177\u6709\u4f18\u5148\u7ea7\uff0c\u4f18\u5148\u7ea7\u8ba1\u7b97\u516c\u5f0f</li> <li>\u5343\u4f4d\uff1astyle \u5c5e\u6027\uff08\u5185\u8054\u5c5e\u6027\uff09\u5f97\u4e00\u5206</li> <li>\u767e\u4f4d\uff1aid \u9009\u62e9\u5668\u5f97\u4e00\u5206</li> <li>\u5341\u4f4d\uff1a\u7c7b\u9009\u62e9\u5668\u3001\u5c5e\u6027\u9009\u62e9\u5668\u3001\u4f2a\u7c7b\u9009\u62e9\u5668\u5f97\u4e00\u5206</li> <li>\u4e2a\u4f4d\uff1a\u5143\u7d20\u9009\u62e9\u5668\u3001\u4f2a\u5143\u7d20\u9009\u62e9\u5668\u5f97\u4e00\u4efd</li> <li>\u901a\u7528\u9009\u62e9\u5668 (*)\uff0c\u7ec4\u5408\u7b26 (+, &gt;, ~, ' ')\uff0c\u548c\u5426\u5b9a\u4f2a\u7c7b (:not) \u4e0d\u4f1a\u5f71\u54cd\u4f18\u5148\u7ea7\u3002</li> <li>\u8ba1\u7b97\u65f6\u4e0d\u5141\u8bb8\u8fdb\u4f4d\uff0c\u65e0\u8bba\u591a\u5c11\u4e2a\u4f4e\u4f4d\u9009\u62e9\u5668\u7684\u6743\u91cd\u53e0\u52a0\uff0c\u90fd\u4e0d\u4f1a\u8d85\u8fc7\u4e00\u4e2a\u9ad8\u4f4d\u9009\u62e9\u5668\u3002</li> <li>!important\uff1a\u4f18\u5148\u7ea7\u9ad8\u4e8e\u5176\u4ed6\u6240\u6709</li> <li>\u5f53\u6d4f\u89c8\u5668\u9047\u5230\u65e0\u6cd5\u89e3\u6790\u7684 css \u65f6\uff08\u6bd4\u5982 css \u62fc\u5199\u9519\u8bef\uff09\u8fd9\u4e2a css \u4f1a\u88ab\u5ffd\u7565\u3002</li> </ol>","tags":["\u524d\u7aef"]},{"location":"front-end/11.css-mdn-tutorial/#_5","title":"\u76d2\u5b50","text":"<p>\u5757\u7ea7\u76d2\u5b50\uff08Block Box\uff09\uff1a</p> <ul> <li>\u76d2\u5b50\u4f1a\u5728\u5185\u8054\u7684\u65b9\u5411\u4e0a\u6269\u5c55\u5e76\u5360\u636e\u7236\u5bb9\u5668\u5728\u8be5\u65b9\u5411\u4e0a\u7684\u6240\u6709\u53ef\u7528\u7a7a\u95f4</li> <li>\u4f1a\u6362\u884c</li> <li>\u53ef\u4ee5\u8bbe\u7f6e\u5bbd\u9ad8\uff08width \u548c height\uff09</li> <li>padding\u3001margin \u548c border \u4f1a\u628a\u5468\u56f4\u7684\u5143\u7d20\u63a8\u5f00</li> </ul> <p>\u5185\u8054\u76d2\u5b50\uff08Inline Box\uff09\uff1a</p> <ul> <li>\u4e0d\u4f1a\u6362\u884c</li> <li>\u5bbd\u9ad8\u4e0d\u8d77\u4f5c\u7528\uff08width \u548c height\uff09</li> <li>\u5782\u76f4\u65b9\u5411\u7684 padding\u3001margin \u548c border \u4e0d\u4f1a\u628a\u5176\u4ed6 inline \u76d2\u5b50\u63a8\u5f00</li> <li>\u6c34\u5e73\u65b9\u5411\u7684 padding\u3001margin \u548c border \u4f1a\u628a\u5176\u4ed6 inline \u76d2\u5b50\u63a8\u5f00</li> </ul> <p>\u76d2\u5b50\u7684\u663e\u793a\u7c7b\u578b\uff1a</p> <ul> <li>\u5916\u90e8\u663e\u793a\u7c7b\u578b\uff1a\u51b3\u5b9a\u76d2\u5b50\u5728\u5b83\u7684\u7236\u5143\u7d20\u5185\u662f\u5982\u4f55\u5e03\u5c40\u7684\uff0cdisplay \u503c\u4e3a inline \u6216 block</li> <li>\u5185\u90e8\u663e\u793a\u7c7b\u578b\uff1a\u51b3\u5b9a\u76d2\u5b50\u5185\u90e8\u5143\u7d20\u5982\u4f55\u5e03\u5c40\uff0cdisplay \u503c\u4e3a flex\u3001grid \u7b49\u3002\u9ed8\u8ba4\u4e3a\u6b63\u5e38\u6587\u6863\u6d41\uff08inline \u662f inline\uff0cblock \u662f block\uff09</li> <li>\u5176\u4ed6\u7c7b\u578b\uff1a</li> <li>inline-flex\uff1a\u5916\u90e8\u663e\u793a\u7c7b\u578b\u4e3a inline\uff0c\u5185\u90e8\u663e\u793a\u7c7b\u578b\u4e3a flex</li> <li>inline-block\uff1a\u4e0d\u6362\u884c\u7684 block\uff0c\u80fd\u8bbe\u7f6e\u9ad8\u5bbd\u3001margin \u548c padding\uff0c\u80fd\u628a\u5468\u56f4\u63a8\u5f00</li> </ul>","tags":["\u524d\u7aef"]},{"location":"front-end/11.css-mdn-tutorial/#_6","title":"\u76d2\u6a21\u578b","text":"<p>\u5b8c\u6574\u7684 CSS \u76d2\u6a21\u578b\u5e94\u7528\u4e8e\u5757\u7ea7\u76d2\u5b50\uff0c\u5185\u8054\u76d2\u5b50\u53ea\u4f7f\u7528\u76d2\u6a21\u578b\u4e2d\u5b9a\u4e49\u7684\u90e8\u5206\u5185\u5bb9\u3002</p> <p>\u76d2\u6a21\u578b\u7ec4\u6210\uff1acontent\u3001padding\u3001border\u3001margin</p> <ul> <li>\u6807\u51c6\u76d2\u6a21\u578b\uff1awidth \u548c height \u8bbe\u7f6e\u7684\u662f content\u3002box-sizing: content-box;</li> <li>\u66ff\u4ee3\uff08IE\uff09\u76d2\u6a21\u578b\uff1awidth \u548c height \u8bbe\u7f6e\u7684\u662f\u603b\u957f\u5bbd\u3002box-sizing: border-box;</li> </ul> <p>\u5916\u8fb9\u8ddd\u6298\u53e0\uff1a\u5982\u679c\u4e24\u4e2a\u5143\u7d20\u76f8\u90bb\uff0c\u5b83\u4eec\u4e4b\u95f4\u7684\u8ddd\u79bb\u4e0d\u662f\u4e24\u4e2a\u5143\u7d20\u7684 margin \u4e4b\u548c\uff0c\u800c\u662f\u53d6\u4e24\u4e2a\u5143\u7d20 margin \u7684\u8f83\u5927\u503c</p> <p>margin \u53ef\u4ee5\u4e3a\u8d1f\u503c\u3002padding \u4e0d\u53ef\u4ee5\u4e3a\u8d1f</p> <p>\u5c5e\u6027\u5199\u6cd5\uff08\u53bb\u6389\u540e\u7f00\u5c31\u662f\u7b80\u5199\uff09\uff1a{margin/border/padding}-{top/right/bottom/left}-{width/style/color}</p>","tags":["\u524d\u7aef"]},{"location":"front-end/11.css-mdn-tutorial/#_7","title":"\u80cc\u666f\u548c\u8fb9\u6846","text":"<p>\u80cc\u666f\uff08background\uff09:</p> <ul> <li>background-image \u5c5e\u6027\u53ef\u4ee5\u6709\u591a\u4e2a\u56fe\u7247\uff0c\u56fe\u7247\u4f1a\u53e0\u5728\u4e00\u8d77\u663e\u793a</li> <li>{background}-{color/image/repeat/size/position/attachment}</li> <li>\u53ef\u4ee5\u8bbe\u7f6e\u6e10\u53d8\uff08gradient\uff09\u80cc\u666f</li> </ul> <p>\u8fb9\u6846\uff08border\uff09:</p> <ul> <li>{border}-{width/style/color/radius}</li> </ul>","tags":["\u524d\u7aef"]},{"location":"front-end/11.css-mdn-tutorial/#_8","title":"\u6587\u672c\u65b9\u5411\u4e0e\u903b\u8f91\u5c5e\u6027","text":"<p>writing-mode: horizontal-tb\u3001vertical-rl\u3001vertical-lr</p> <p>\u903b\u8f91\u5c5e\u6027\u662f\u4e3a\u4e86\u89e3\u51b3\u6587\u672c\u65b9\u5411\u53d8\u5316\u65f6\u76d2\u5b50\u7684\u9ad8\u5bbd\u7b49\u5c5e\u6027\u4e0d\u80fd\u6b63\u786e\u53d8\u5316\u7684\u95ee\u9898\uff0c\u4f8b\u5982</p> <ul> <li>inline-size \u5bf9\u5e94 width</li> <li>block-size \u5bf9\u5e94 height</li> <li>\u5185\u5916\u8fb9\u8ddd\u3001\u8fb9\u6846\u4e5f\u6709\u5bf9\u5e94\u7684\u903b\u8f91\u5c5e\u6027</li> <li>\u5c5e\u6027\u503c\u4e5f\u6709\u5bf9\u5e94\u7684\u903b\u8f91\u5c5e\u6027\u503c</li> </ul>","tags":["\u524d\u7aef"]},{"location":"front-end/11.css-mdn-tutorial/#_9","title":"\u5904\u7406\u5185\u5bb9\u6ea2\u51fa","text":"<p>\u5185\u5bb9\u6ea2\u51fa</p> <ul> <li>overflow:visible/hidden/scroll/auto</li> <li>overflow-x</li> <li>overflow-y</li> </ul> <p>\u6587\u672c\u6362\u884c</p> <ul> <li>word-break</li> <li>overflow-wraps</li> <li>hyphens</li> </ul>","tags":["\u524d\u7aef"]},{"location":"front-end/11.css-mdn-tutorial/#_10","title":"\u503c\u548c\u5355\u4f4d","text":"<p>\u53c2\u8003\uff1aCSS \u7684\u503c\u4e0e\u5355\u4f4d</p> <p>css \u503c\u53ef\u4ee5\u4f7f\u7528\u5173\u952e\u5b57\u548c\u503c\u3002\u5173\u952e\u5b57\u662f\u6307 red\u3001top \u7b49\u3002</p> <ul> <li>\u6570\u503c\u7c7b\u578b\uff1a<code>integer</code>\u3001<code>number</code>\u3001<code>dimension</code>\u3001<code>&lt;percentage&gt;</code>\u3001<code>&lt;length&gt;</code></li> <li>\u957f\u5ea6\uff08length\uff09<ul> <li>\u7edd\u5bf9\u5355\u4f4d\uff1apx</li> <li>\u76f8\u5bf9\u5355\u4f4d\uff1arem</li> </ul> </li> <li>\u767e\u5206\u6bd4\uff08percentage\uff09<ul> <li>\u767e\u5206\u6bd4\u901a\u5e38\u662f\u76f8\u5bf9\u4e8e\u7236\u5143\u7d20</li> </ul> </li> <li>\u989c\u8272\uff08<code>&lt;color&gt;</code>\uff09</li> <li>RGB \u548c RGBA\uff1aRGBA \u989c\u8272\u5728 RGB \u7684\u57fa\u7840\u4e0a\u589e\u52a0\u4e86\u4e00\u4e2a\u900f\u660e\u5ea6\u503c\uff0c\u4e0e opacity \u5c5e\u6027\u4e0d\u540c\uff0copacity \u4f7f\u5f97\u5143\u7d20\u548c\u5b83\u91cc\u9762\u7684\u6240\u6709\u4e1c\u897f\u90fd\u4e0d\u900f\u660e\uff0c\u800c RGBA \u989c\u8272\u53ea\u8ba9\u6307\u5b9a\u7684\u989c\u8272\u4e0d\u900f\u660e\u3002\uff08\u53ef\u4ee5\u7528 RBGA \u989c\u8272\u6765\u589e\u52a0\u4e00\u5c42\u6ee4\u955c\uff09</li> <li>HSL \u548c HSLA\uff1aRGB \u662f\u7ea2\u7eff\u84dd\uff0cHSL \u662f\u8272\u8c03\u3001\u9971\u548c\u5ea6\u548c\u4eae\u5ea6</li> <li>\u56fe\u7247\uff08<code>&lt;image&gt;</code>\uff09\u548c\u6e10\u53d8\uff08<code>&lt;gradient&gt;</code>\uff09</li> <li>\u4f4d\u7f6e\uff08<code>&lt;position&gt;</code>\uff09</li> <li>\u6807\u8bc6\u7b26\uff0c\u6807\u8bc6\u7b26\u5c31\u662f\u6307\u4e0a\u9762\u63d0\u5230\u7684 css \u5173\u952e\u5b57</li> <li>\u5b57\u7b26\u4e32\uff0c\u4f8b\u5982<code>content: \"This is a string\"</code></li> <li>\u51fd\u6570\uff0c\u4f8b\u5982 rgb()\u3001url()\u3001calc()\u7b49</li> </ul>","tags":["\u524d\u7aef"]},{"location":"front-end/11.css-mdn-tutorial/#_11","title":"\u5c3a\u5bf8","text":"<p>\u539f\u59cb\u5c3a\u5bf8/\u56fa\u6709\u5c3a\u5bf8\uff1a</p> <ul> <li>\u4f8b\u5982\u56fe\u50cf\u672c\u8eab\u7684\u5c3a\u5bf8</li> <li>\u7a7a div \u6ca1\u6709\u5c3a\u5bf8\uff0c\u9ad8\u5ea6\u4e3a 0\uff0c\u5bbd\u5ea6\u7531\u4e8e\u5176\u662f\u5757\u7ea7\u5143\u7d20\u4f1a\u6269\u5c55\u5230\u548c\u7236\u5143\u7d20\u4e00\u6837\u5bbd\u3002</li> </ul> <p>\u7528\u767e\u5206\u6570\u8bbe\u7f6e\u5c3a\u5bf8\u65f6\uff1a</p> <ul> <li>\u5bf9\u4e8e width \u548c height\uff0c\u662f\u76f8\u5bf9\u4e8e\u7236\u5143\u7d20\u5bbd\u5ea6\u7684\u767e\u5206\u6bd4</li> <li>\u5bf9\u4e8e\u5185\u5916\u8fb9\u8ddd\uff0c\u4e0d\u8bba\u662f\u5de6\u53f3\u8fb9\u8ddd\u8fd8\u662f\u4e0a\u4e0b\u8fb9\u8ddd\uff0c\u90fd\u662f\u76f8\u5bf9\u4e8e inline-size\uff08\u5373\u5bbd\u5ea6\uff09\u7684\u767e\u5206\u6bd4</li> </ul> <p>min-\u548c max-\u5c3a\u5bf8\uff1a</p> <ul> <li>\u5982\u679c\u76d2\u5b50\u5185\u5bb9\u4f1a\u53d8\u5316\uff0c\u7528 min-\u548c max-\u8bbe\u7f6e\u6700\u5c0f\u6216\u6700\u5927\u5c3a\u5bf8\uff0c\u76d2\u5b50\u5c3a\u5bf8\u5c31\u4f1a\u968f\u5185\u5bb9\u81ea\u52a8\u53d8\u5316</li> <li>\u8fd9\u4e2a\u6280\u672f\u5c31\u662f\u7528\u6765\u4f7f\u56fe\u7247\uff08<code>&lt;image&gt;</code>\uff09\u53ef\u54cd\u5e94\u7684\uff0c\u53ef\u54cd\u5e94\u662f\u6307\u56fe\u7247\u968f\u8bbe\u5907\u5c3a\u5bf8\u81ea\u52a8\u7f29\u653e\u3002</li> </ul> <p>\u89c6\u53e3\u5c3a\u5bf8\uff1a</p> <ul> <li>vw \u548c vh</li> </ul>","tags":["\u524d\u7aef"]},{"location":"front-end/11.css-mdn-tutorial/#_12","title":"\u66ff\u6362\u5143\u7d20\u548c\u8868\u5355","text":"<p>\u66ff\u6362\u5143\u7d20\uff1a\u6307\u56fe\u50cf\u548c\u89c6\u9891\u5143\u7d20\uff0ccss \u4e0d\u80fd\u5f71\u54cd\u5176\u5185\u90e8\u5e03\u5c40</p> <ul> <li>\u8c03\u6574\u5927\u5c0f\uff0cobject-fit: cover/contain/fill;</li> <li>\u5728 flex \u548c grid \u5e03\u5c40\u4e2d\uff0c\u5143\u7d20\u4f1a\u88ab\u62c9\u4f38\uff0c\u800c\u56fe\u50cf\u4e0d\u4f1a</li> </ul> <p>\u8868\u5355\u7684\u6837\u5f0f\u5728\u4e0d\u540c\u6d4f\u89c8\u5668\u4e0a\u4e0d\u592a\u7edf\u4e00\uff0c\u9700\u8981\u989d\u5916\u8bbe\u7f6e css \u6837\u5f0f\u4fdd\u8bc1\u5176\u521d\u59cb\u6837\u5f0f\u4e00\u81f4\uff0c\u5df2\u7ecf\u6709\u4e00\u4e9b\u5de5\u5177\u5e2e\u5f00\u53d1\u4eba\u5458\u5b8c\u6210\u4e86\u8fd9\u4e2a\u5de5\u4f5c\uff0c\u4f8b\u5982 Normalize.css\u3002</p>","tags":["\u524d\u7aef"]},{"location":"front-end/11.css-mdn-tutorial/#_13","title":"\u5b57\u4f53","text":"<p>web \u5b89\u5168\u5b57\u4f53\uff1a\u53ef\u4ee5\u5728\u4efb\u4f55\u4e00\u79cd\u64cd\u4f5c\u7cfb\u7edf\u4e0a\u627e\u5230\u7684\u5b57\u4f53\u3002\u53c2\u8003\uff1acssfontstack</p> <p>\u4e94\u79cd\u5b57\u4f53\u7684\u5927\u7c7b\u578b\uff1a</p> <ul> <li>serif\uff0c\u6709\u886c\u7ebf\u5b57\u4f53\uff0c\u886c\u7ebf\u662f\u6307\u5b57\u4f53\u7b14\u753b\u5c3e\u7aef\u7684\u5c0f\u88c5\u9970\uff0c\u5e38\u89c1\u4e8e\u5370\u5237\u4f53\u5b57\u4f53</li> <li>sans-serif\uff0c\u65e0\u886c\u7ebf\u5b57\u4f53</li> <li>monospace\uff0c\u7b49\u5bbd\u5b57\u4f53\uff0c\u901a\u5e38\u7528\u4e8e\u4ee3\u7801</li> <li>cursive\uff0c\u624b\u5199\u4f53</li> <li>fantasy\uff0c\u7528\u6765\u88c5\u9970\u7684\u5b57\u4f53</li> </ul> <p>\u4f7f\u7528\u4e0a\u9762\u8fd9\u4e94\u79cd\u5b57\u4f53\u65f6\uff0c\u7531\u6d4f\u89c8\u5668\u51b3\u5b9a\u5177\u4f53\u4f7f\u7528\u4ec0\u4e48\u5b57\u4f53</p> <p>\u5e38\u89c1\u5c5e\u6027\u5c5e\u6027\u540d\uff1a</p> <ul> <li>font-family/size/style/weight/transform/decoration</li> <li>color</li> <li>text-shadow</li> <li>text-align</li> <li>line-height</li> <li>letter-spacing</li> <li>word-spacing</li> </ul> <p>web \u5b57\u4f53\uff1a\u8bbf\u95ee\u65f6\u548c\u9875\u9762\u4e00\u8d77\u4e0b\u8f7d\uff0c\u672c\u4e0d\u9700\u8981\u672c\u5730\u4e8b\u5148\u6709\u8fd9\u79cd\u5b57\u4f53</p> <pre><code>@font-face {\n  font-family: \"myFont\";\n  src: url(\"myFont.ttf\");\n}\n</code></pre> <p>\u6ce8\u610f\uff1a</p> <ol> <li>\u6709\u4e9b\u5b57\u4f53\u6709\u7248\u6743\uff0c\u4e0d\u80fd\u968f\u4fbf\u7528</li> <li>\u4e0d\u540c\u6d4f\u89c8\u5668\u652f\u6301\u7684\u5b57\u4f53\u683c\u5f0f\u53ef\u80fd\u4e0d\u540c\uff0c\u5e38\u89c1\u7684\u683c\u5f0f\u6709.ttf, .woff, .woff2 \u7b49</li> <li>\u5728\u7ebf\u5b57\u4f53\u670d\u52a1\uff0c\u4f8b\u5982 google fonts\uff0c\u53ef\u4ee5\u4ece\u7b2c\u4e09\u65b9\u7ad9\u70b9\u5bfc\u5165\u5b57\u4f53\uff0c\u4f8b\u5982\u7528<code>&lt;link&gt;</code>\u6216<code>@import</code>\u5bfc\u5165\u5b57\u4f53\uff0c\u4e0d\u9700\u8981\u5f00\u53d1\u4eba\u5458\u81ea\u5df1\u63d0\u4f9b\u5b57\u4f53</li> </ol>","tags":["\u524d\u7aef"]},{"location":"front-end/11.css-mdn-tutorial/#_14","title":"\u5e03\u5c40","text":"","tags":["\u524d\u7aef"]},{"location":"front-end/11.css-mdn-tutorial/#_15","title":"\u6b63\u5e38\u5e03\u5c40\u6d41","text":"<p>\u6b63\u5e38\u5e03\u5c40\u6d41\u662f\u6307\u9ed8\u8ba4\u7684\u5e03\u5c40\u3002</p> <ul> <li>\u5757\u5143\u7d20\u7684\u5e03\u5c40\u65b9\u5411\u5782\u76f4\u4e8e\u4e66\u5199\u65b9\u5411</li> <li>\u5185\u8054\u5143\u7d20\u7684\u5e03\u5c40\u65b9\u5411\u548c\u4e66\u5199\u65b9\u5411\u4e00\u81f4</li> <li>\u9ed8\u8ba4\u7684\uff0c\u5757\u5143\u7d20\u7684\u5bbd\u5ea6\u662f\u5176\u7236\u5143\u7d20\u7684 100%\uff0c\u9ad8\u5ea6\u4e0e\u5176\u5185\u5bb9\u9ad8\u5ea6\u4e00\u81f4\u3002\u5185\u8054\u5143\u7d20\u7684 height \u548c width \u4e0e\u5185\u5bb9\u4e00\u81f4\u3002</li> <li>\u5916\u8fb9\u8ddd\u53e0\u52a0</li> </ul>","tags":["\u524d\u7aef"]},{"location":"front-end/11.css-mdn-tutorial/#flexbox","title":"flexbox\uff08\u5f39\u6027\u76d2\u5b50\uff09","text":"<p>display:flex</p> <p>flexbox \u7528\u4e8e\u521b\u5efa\u6a2a\u5411\u6216\u7eb5\u5411\u7684\u4e00\u7ef4\u5e03\u5c40\uff0c\u91cc\u9762\u7684\u5b50\u5143\u7d20\u88ab\u79f0\u4e3a flex \u9879\uff0cflex \u6709\u4ee5\u4e0b\u7279\u70b9\uff1a</p> <ul> <li>\u9ed8\u8ba4\u65b9\u5411\u662f\u6a2a\u5411\uff08\u7236\u5143\u7d20 flex-direction:row\uff09</li> <li>\u5143\u7d20\u4f1a\u88ab\u62c9\u4f38\u5230\u548c\u6700\u9ad8\u7684\u5143\u7d20\u76f8\u540c\uff08\u7236\u5143\u7d20 align-items:stretch\uff09</li> <li>\u6240\u6709 flex \u9879\u90fd\u9ed8\u8ba4\u4ece\u5bb9\u5668\u7684\u5f00\u59cb\u4f4d\u7f6e\u8fdb\u884c\u6392\u5217\uff0c\u6392\u5217\u6210\u4e00\u884c\u540e\uff0c\u5728\u5c3e\u90e8\u7559\u4e0b\u4e00\u7247\u7a7a\u767d\u3002</li> </ul> <p>\u6982\u5ff5\uff1a</p> <ul> <li>\u4e3b\u8f74\u662f\u6307\u6cbf\u7740 flex \u9879\u653e\u7f6e\u65b9\u5411\u7684\u8f74\uff0c\u4ea4\u53c9\u8f74\u662f\u6307\u5782\u76f4\u65b9\u5411\u7684\u8f74</li> <li>\u8bbe\u7f6e\u4e86 display:flex \u7684\u7236\u5143\u7d20\u88ab\u79f0\u4e3a flex \u5bb9\u5668\uff0c\u91cc\u9762\u7684\u5b50\u5143\u7d20\u88ab\u79f0\u4e3a flex \u9879</li> </ul> <p>\u65b9\u5411\uff1a</p> <ul> <li>flex-direction:row/column/row-reverse/column-reverse\uff0c\u8bbe\u7f6e\u4e3b\u8f74\u65b9\u5411\uff0c-reverse \u4ee3\u8868\u53cd\u5411\u6392\u5217\u5143\u7d20</li> <li>flex-wrap: wrap\uff0c\u5141\u8bb8\u6362\u884c</li> <li>flex-flow\uff1a\u4ee5\u4e0a\u4e24\u9879\u7684\u7f29\u5199</li> </ul> <p>\u52a8\u6001\u5c3a\u5bf8\uff1a</p> <ul> <li>flex:1\uff0c\u65e0\u5355\u4f4d\u7684\u6570\u5b57\u4ee3\u8868\u4e00\u4e2a\u6bd4\u4f8b\uff0c\u5176\u6240\u5360\u5bbd\u5ea6=(1/\u6240\u6709 flex \u9879\u6240\u5360\u6bd4\u4f8b\u4e4b\u548c)*\u5c4f\u5e55\u5bbd\u5ea6</li> <li>flex:1 200px\uff0c\u8be5 flex \u9879\u81f3\u5c11\u5360 200px\uff0c\u5269\u4f59\u7a7a\u95f4\u6309\u6bd4\u4f8b\u5206\u914d</li> <li>flex-grow\u3001flex-basis\uff0c\u5206\u522b\u662f\u4ee5\u4e0a\u4e24\u4e2a\u7684\u5168\u5199</li> <li>flex-shrink\uff1a\u6307\u5b9a\u4e86\u4ece\u6bcf\u4e2a flex \u9879\u4e2d\u53d6\u51fa\u591a\u5c11\u6ea2\u51fa\u91cf\uff0c\u4ee5\u963b\u6b62\u5b83\u4eec\u6ea2\u51fa\u5b83\u4eec\u7684\u5bb9\u5668\u3002</li> </ul> <p>\u5bf9\u9f50\uff1a</p> <ul> <li>align-items \u63a7\u5236 flex \u9879\u5728\u4ea4\u53c9\u8f74\u4e0a\u7684\u4f4d\u7f6e</li> <li>justify-content \u63a7\u5236 flex \u9879\u5728\u4e3b\u8f74\u4e0a\u7684\u4f4d\u7f6e\uff0c\u5176\u503c\u5305\u62ec flex-start\u3001flex-end\u3001flex-around\u3001flex-between</li> </ul> <p>\u6392\u5e8f\uff1a\u4f7f\u7528 order \u5c5e\u6027\uff0c\u9ed8\u8ba4\u503c\u662f 0\uff0c\u503c\u8d8a\u5927\uff0c\u8d8a\u5f80\u540e\u6392</p>","tags":["\u524d\u7aef"]},{"location":"front-end/11.css-mdn-tutorial/#grid","title":"grid\uff08\u7f51\u683c\uff09","text":"<p>display:grid</p> <p>\u9ed8\u8ba4\u53ea\u6709\u4e00\u5217\uff0c\u521b\u5efa\u591a\u4e2a\u5217\uff1a</p> <ul> <li>grid-template-columns: 200px 200px 200px;</li> <li>\u7528<code>fr</code>\u5355\u4f4d\u521b\u5efa\u591a\u4e2a\u5217\uff0cgrid-template-columns: 2fr 1fr 1fr\uff0c<code>fr</code>\u5b9a\u4e49\u4e86\u4e00\u4e2a\u6bd4\u4f8b\uff0c\u6709\u70b9\u7c7b\u4f3c\u4e8eflexbox\u4e0d\u5e26\u5355\u4f4d\u7684\u5c3a\u5bf8</li> <li>grid-template-columns: 300px 2fr 1fr\uff0c\u5269\u4e0b\u7684\u4e24\u5217\u4f1a\u6839\u636e\u9664\u53bb300px\u540e\u7684\u53ef\u7528\u7a7a\u95f4\u6309\u6bd4\u4f8b\u5206\u914d</li> <li>\u4f7f\u7528repeat\u51fd\u6570\u91cd\u590d\u751f\u6210\u5217</li> </ul> <p>\u5728\u7f51\u683c\u7cfb\u7edf\u4e2d\uff0c\u884c\u548c\u5217\u4e4b\u95f4\u7684\u95f4\u9699\u88ab\u79f0\u4e3a gutter\uff08\u6c9f\u69fd\uff09\uff0c\u5982\u4f55\u4fee\u6539gutter\uff1a</p> <ul> <li>grid-column/row-gap</li> </ul> <p>\u663e\u5f0f\u7f51\u683c\u548c\u9690\u5f0f\u7f51\u683c\uff0c\u9690\u5f0f\u7f51\u683c\u662f\u6307\u6d4f\u89c8\u5668\u4f1a\u81ea\u52a8\u5c06\u591a\u51fa\u6765\u7684\u5185\u5bb9\u653e\u5230\u65b0\u7684\u884c/\u5217\u91cc\u9762\u53bb\uff1a</p> <ul> <li>\u53c2\u6570\u9ed8\u8ba4\u662fauto\uff0c\u5927\u5c0f\u4f1a\u6839\u636e\u653e\u5165\u7684\u5185\u5bb9\u81ea\u52a8\u8c03\u6574</li> <li>grid-auto-rows/columns\uff0c\u6307\u5b9a\u663e\u5f0f\u7f51\u683c\u7684\u5927\u5c0f</li> </ul> <p>\u52a8\u6001\u884c\u5217\u5c3a\u5bf8\uff1a</p> <ul> <li>\u4f7f\u7528minmax\u51fd\u6570\u8bbe\u7f6e\u884c\u5217\u5c3a\u5bf8\uff0cminmax\u51fd\u6570\u53ef\u4ee5\u8bbe\u7f6e\u4e00\u4e2a\u53d6\u503c\u8303\u56f4\uff0c\u4f8b\u5982minmax(100px, auto)\uff0c\u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50</li> </ul> <p><code>css   .container {     display: grid;     grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));     grid-auto-rows: minmax(100px, auto);     grid-gap: 20px;   }</code></p> <p>\u5229\u7528\u5206\u9694\u7ebf\u653e\u7f6e\u5185\u5bb9</p> <ul> <li>\u6211\u4eec\u7684\u7f51\u683c\u6709\u8bb8\u591a\u5206\u9694\u7ebf\uff0c\u7b2c\u4e00\u6761\u7ebf\u7684\u8d77\u59cb\u70b9\u4e0e\u6587\u6863\u4e66\u5199\u6a21\u5f0f\u76f8\u5173\u3002\u5728\u82f1\u6587\u4e2d\uff0c\u7b2c\u4e00\u6761\u5217\u5206\u9694\u7ebf\uff08\u5373\u7f51\u683c\u8fb9\u7f18\u7ebf\uff09\u5728\u7f51\u683c\u7684\u6700\u5de6\u8fb9\u800c\u7b2c\u4e00\u6761\u884c\u5206\u9694\u7ebf\u5728\u7f51\u683c\u7684\u6700\u4e0a\u9762\u3002</li> <li>grid-column/row-start/end</li> <li>gird-column/row\uff1a\u540c\u65f6\u6307\u5b9a\u5f00\u59cb\u7ebf\u548c\u7ed3\u675f\u7ebf\uff0c\u8981\u4f7f\u7528/\u7b26\u53f7\u5206\u5f00\uff0c\u4f8b\u5982\uff1agrid-column: 1 / 3;</li> </ul> <p>\u5229\u7528grid-template-areas\u548cgrid-area\u653e\u7f6e\u5185\u5bb9</p> <ul> <li>\u5bf9\u4e8e\u67d0\u4e2a\u6a2a\u8de8\u591a\u4e2a\u683c\u5b50\u7684\u5143\u7d20\uff0c\u91cd\u590d\u5199\u4e0a\u90a3\u4e2a\u5143\u7d20grid-area\u5c5e\u6027\u5b9a\u4e49\u7684\u533a\u57df\u540d\u5b57</li> <li>\u6240\u6709\u540d\u5b57\u53ea\u80fd\u51fa\u73b0\u5728\u4e00\u4e2a\u8fde\u7eed\u7684\u533a\u57df\uff0c\u4e0d\u80fd\u5728\u4e0d\u540c\u7684\u4f4d\u7f6e\u51fa\u73b0</li> <li>\u4e00\u4e2a\u8fde\u7eed\u7684\u533a\u57df\u5fc5\u987b\u662f\u4e00\u4e2a\u77e9\u5f62</li> <li>\u4f7f\u7528.\u7b26\u53f7\u8ba9\u4e00\u4e2a\u683c\u5b50\u7559\u7a7a</li> </ul> <pre><code>.container {\n  display: grid;\n  grid-template-areas:\n      \"header header\"\n      \"sidebar content\"\n      \"footer footer\";\n  grid-template-columns: 1fr 3fr;\n  grid-gap: 20px;\n}\n\nheader {\n  grid-area: header;\n}\n\narticle {\n  grid-area: content;\n}\n\naside {\n  grid-area: sidebar;\n}\n\nfooter {\n  grid-area: footer;\n}\n</code></pre>","tags":["\u524d\u7aef"]},{"location":"front-end/11.css-mdn-tutorial/#float","title":"\u6d6e\u52a8\uff08float\uff09","text":"<p>\u7565</p>","tags":["\u524d\u7aef"]},{"location":"front-end/11.css-mdn-tutorial/#position","title":"\u5b9a\u4f4d\uff08position\uff09","text":"<ul> <li>\u9759\u6001\u5b9a\u4f4d\uff1a<code>position: static;</code>\uff0c\u9ed8\u8ba4\u503c\uff0c\u5c06\u5143\u7d20\u653e\u5165\u6587\u6863\u5e03\u5c40\u6d41\u4e2d\u7684\u6b63\u5e38\u4f4d\u7f6e</li> <li>\u76f8\u5bf9\u5b9a\u4f4d\uff1a<code>position: relative;</code>\uff0c\u4f7f\u7528top, bottom, left, \u548c right\u5b9a\u4f4d</li> <li>\u7edd\u5bf9\u5b9a\u4f4d\uff1a<code>position: absolute;</code>\uff0c\u7edd\u5bf9\u5b9a\u4f4d\u7684\u5143\u7d20\u4e0d\u518d\u5b58\u5728\u4e8e\u6b63\u5e38\u6587\u6863\u5e03\u5c40\u6d41\u4e2d\uff0c\u5b83\u5728\u81ea\u5df1\u7684\u5c42\u72ec\u7acb\u4e8e\u4e00\u5207\u3002\u7edd\u5bf9\u5b9a\u4f4d\u5143\u7d20\u76f8\u5bf9\u4e8e\u5176\u201c\u5305\u542b\u5143\u7d20\u5b9a\u4f4d\u201d\u3002\u54ea\u4e2a\u5143\u7d20\u662f\u7edd\u5bf9\u5b9a\u4f4d\u5143\u7d20\u7684\u201c\u5305\u542b\u5143\u7d20\u201d\u53d6\u51b3\u4e8e\u7edd\u5bf9\u5b9a\u4f4d\u5143\u7d20\u7684\u7236\u5143\u7d20\u7684position\u5c5e\u6027</li> <li>\u5982\u679c\u7236\u5143\u7d20\u90fd\u662fstatic\uff0c\u7edd\u5bf9\u5b9a\u4f4d\u5143\u7d20\u4f1a\u88ab\u5305\u542b\u5728\u521d\u59cb\u5feb\u5bb9\u5668\u4e2d\uff08<code>&lt;html&gt;</code>\u5143\u7d20\u5916\u9762\uff0c\u6839\u636e\u6d4f\u89c8\u5668\u89c6\u53e3\u5b9a\u4f4d\uff09</li> <li>\u5982\u4f55\u4fee\u6539\u7edd\u5bf9\u5b9a\u4f4d\u5143\u7d20\u7684\u76f8\u5bf9\u5143\u7d20\uff1f\u628a\u5b83\u7684\u4e00\u4e2a\u7236\u5143\u7d20\u8bbe\u7f6e\u4e3a\u76f8\u5bf9\u5b9a\u4f4d\uff08<code>position: relative</code>\uff09\u5c31\u597d\u4e86\u3002</li> <li>z-index\uff1a\u5982\u679c\u6709\u591a\u4e2a\u7edd\u5bf9\u5b9a\u4f4d\u5143\u7d20\uff0c\u7528z-index\u6307\u5b9a\u5b83\u4eec\u7684\u5806\u53e0\u987a\u5e8f\uff08z\u662f\u6307z\u8f74\uff0c\u5047\u8bbe\u7f51\u9875\u6709\u9ad8\u5ea6\uff09\u3002z-index\u9ed8\u8ba4\u503c\u662f0\uff0c\u6570\u5b57\u5927\u7684\u5728\u4e0a\u9762\uff0c\u5c0f\u7684\u5728\u4e0b\u9762\u3002</li> <li> <p>\u56fa\u5b9a\u5b9a\u4f4d\uff1a<code>position: fixed;</code>\uff0c\u56fa\u5b9a\u5b9a\u4f4d\u56fa\u5b9a\u5143\u7d20\u76f8\u5bf9\u4e8e\u6d4f\u89c8\u5668\u89c6\u53e3\u672c\u8eab\u3002</p> <p>```css /\u8ba9\u4e00\u4e2a\u56fa\u5b9a\u5b9a\u4f4d\u5143\u7d20\u9876\u90e8\u5c45\u4e2d/ h1 {   position: fixed;   top: 0;   margin: 0 auto; /\u4f7f\u7528auto\u5c45\u4e2d/</p> <p>width: 500px;   background: white;   padding: 10px; } ```</p> </li> <li> <p><code>position: sticky;</code>\uff1a\u76f8\u5bf9\u5b9a\u4f4d\u548c\u56fa\u5b9a\u5b9a\u4f4d\u7684\u6df7\u5408\u4f53\uff0c\u88ab\u5b9a\u4f4d\u7684\u5143\u7d20\u4e00\u5f00\u59cb\u8868\u73b0\u5f97\u50cf\u76f8\u5bf9\u5b9a\u4f4d\u4e00\u6837\uff0c\u76f4\u5230\u5b83\u6eda\u52a8\u5230\u67d0\u4e2a\u9608\u503c\u70b9\uff08\u4f8b\u5982\uff0c\u8ddd\u89c6\u53e3\u9876\u90e81\u200b\u200b0px\uff09\u540e\u5b83\u5c31\u53d8\u5f97\u56fa\u5b9a\u4e86\u3002</p> </li> </ul>","tags":["\u524d\u7aef"]},{"location":"front-end/11.css-mdn-tutorial/#_16","title":"\u591a\u5217\u5e03\u5c40","text":"<p>\u901a\u8fc7\u8fd9\u4e24\u4e2a\u5c5e\u6027\u5f00\u542f\u591a\u5217\u5e03\u5c40\uff0ccolumn-count \u6216\u8005 column-width</p> <ul> <li>column-count\u5c5e\u6027\u521b\u5efa\u6307\u5b9a\u5217\u6570\uff0c\u7531\u6d4f\u89c8\u5668\u8ba1\u7b97\u6bcf\u4e00\u5217\u5206\u914d\u591a\u5c11\u7a7a\u95f4\u3002</li> <li>column-width\u5c5e\u6027\u6307\u5b9a\u5217\u5bbd\uff0c\u7531\u6d4f\u89c8\u5668\u8ba1\u7b97\u521b\u5efa\u51e0\u5217\u3002</li> <li>\u7528 column-gap \u6539\u53d8\u5217\u95f4\u95f4\u9699\u3002</li> <li>\u7528 column-rule \u5728\u5217\u95f4\u52a0\u5165\u4e00\u6761\u5206\u5272\u7ebf\u3002column-rule \u662f column-rule-color \u548c column-rule-style\u7684\u7f29\u5199\uff0c\u63a5\u53d7\u548c border \u4e00\u6837\u7684\u5355\u4f4d\u3002</li> <li>\u7981\u6b62\u5185\u5bb9\u6298\u65ad\uff1abreak-inside: avoid \u6216 page-break-inside: avoid</li> </ul>","tags":["\u524d\u7aef"]},{"location":"front-end/11.css-mdn-tutorial/#_17","title":"\u54cd\u5e94\u5f0f\u5e03\u5c40","text":"<p>\u5a92\u4f53\u67e5\u8be2\uff1a\u5f53\u6ee1\u8db3\u6307\u5b9a\u6761\u4ef6\u65f6css\u624d\u4f1a\u88ab\u5e94\u7528\uff0c\u4f8b\u5982</p> <pre><code>@media screen and (min-width: 800px) {\n  .container {\n    margin: 1em 2em;\n  }\n} \n</code></pre> <p>\u65ad\u70b9\uff1a\u5a92\u4f53\u67e5\u8be2\uff0c\u4ee5\u53ca\u6837\u5f0f\u6539\u53d8\u65f6\u7684\u70b9\uff0c\u88ab\u53eb\u505a\u65ad\u70b9\uff08breakpoints\uff09\uff0c\u901a\u5e38\u662f\u4e00\u4e2a\u9608\u503c\u3002</p> <p>\u73b0\u4ee3\u5e03\u5c40\u65b9\u5f0f\uff0c\u591a\u680f\u5e03\u5c40\uff0c\u5f39\u6027\u76d2\u5b50\u548c\u7f51\u683c\u9ed8\u8ba4\u662f\u54cd\u5e94\u5f0f\u7684\u3002</p> <p>\u89c6\u53e3\u5143\u6807\u7b7e\uff1a</p> <ul> <li><code>&lt;meta name=\"viewport\" content=\"width=device-width,initial-scale=1\"&gt;</code>\uff0c\u5b83\u544a\u8bc9\u79fb\u52a8\u7aef\u6d4f\u89c8\u5668\uff0c\u5e94\u8be5\u5c06\u89c6\u53e3\u5bbd\u5ea6\u8bbe\u5b9a\u4e3a\u8bbe\u5907\u7684\u5bbd\u5ea6\uff0c\u5c06\u6587\u6863\u653e\u5927\u5230\u5176\u9884\u671f\u5927\u5c0f\u7684100%\u3002\u5982\u679c\u4e0d\u52a0\u8fd9\u4e2a\uff0c\u7528\u65ad\u70b9\u548c\u5a92\u4f53\u67e5\u8be2\u5b9e\u73b0\u7684\u54cd\u5e94\u5f0f\u8bbe\u8ba1\u4e0d\u4f1a\u751f\u6548\uff0c\u56e0\u4e3a\u89c6\u53e3\u5927\u5c0f\u8fd8\u662fPC\u7aef\u7684\u5927\u5c0f</li> <li>initial-scale\uff1a\u8bbe\u5b9a\u4e86\u9875\u9762\u7684\u521d\u59cb\u7f29\u653e\uff0c\u6211\u4eec\u8bbe\u5b9a\u4e3a1\u3002</li> <li>height\uff1a\u7279\u522b\u4e3a\u89c6\u53e3\u8bbe\u5b9a\u4e00\u4e2a\u9ad8\u5ea6\u3002</li> <li>\u963b\u6b62\u7528\u6237\u7f29\u653e<ul> <li>minimum-scale\uff1a\u8bbe\u5b9a\u6700\u5c0f\u7f29\u653e\u7ea7\u522b\u3002</li> <li>maximum-scale\uff1a\u8bbe\u5b9a\u6700\u5927\u7f29\u653e\u7ea7\u522b\u3002</li> <li>user-scalable\uff1a\u5982\u679c\u8bbe\u4e3ano\u7684\u8bdd\u963b\u6b62\u7f29\u653e\u3002</li> </ul> </li> </ul>","tags":["\u524d\u7aef"]},{"location":"front-end/11.css-mdn-tutorial/#_18","title":"\u5a92\u4f53\u67e5\u8be2","text":"<pre><code>@media media-type and (media-feature-rule) {\n  /* CSS rules go here */\n}\n</code></pre> <p>\u5b83\u7531\u4ee5\u4e0b\u90e8\u5206\u7ec4\u6210\uff1a</p> <ul> <li>\u4e00\u4e2a\u5a92\u4f53\u7c7b\u578b\uff0c\u544a\u8bc9\u6d4f\u89c8\u5668\u8fd9\u6bb5\u4ee3\u7801\u662f\u7528\u5728\u4ec0\u4e48\u7c7b\u578b\u7684\u5a92\u4f53\u4e0a\u7684\uff08\u4f8b\u5982\u5370\u5237\u54c1\u6216\u8005\u5c4f\u5e55\uff09\uff1b</li> <li>\u5b83\u7684\u503c\u53ef\u4ee5\u662f\uff1aall\u3001print\u3001screen\u3001speech</li> <li>\u4e00\u4e2a\u5a92\u4f53\u8868\u8fbe\u5f0f\uff0c\u662f\u4e00\u4e2a\u88ab\u5305\u542b\u7684CSS\u751f\u6548\u6240\u9700\u7684\u89c4\u5219\u6216\u8005\u6d4b\u8bd5\uff1b</li> <li>min-width\u3001max-width\u3001width\u7b49</li> <li>\u4e00\u7ec4CSS\u89c4\u5219\uff0c\u4f1a\u5728\u6d4b\u8bd5\u901a\u8fc7\u4e14\u5a92\u4f53\u7c7b\u578b\u6b63\u786e\u7684\u65f6\u5019\u5e94\u7528\u3002</li> </ul>","tags":["\u524d\u7aef"]},{"location":"front-end/17.html-mdn-tutorial/","title":"html\u5165\u95e8\u7b14\u8bb0","text":"<p>\u53c2\u8003\uff1a</p> <ul> <li>MDN html\u6559\u7a0b</li> <li>MDN web\u8868\u5355\u6559\u7a0b</li> </ul>","tags":["\u524d\u7aef"]},{"location":"front-end/17.html-mdn-tutorial/#1","title":"1\u3001\u57fa\u672c\u6982\u5ff5","text":"<ul> <li>\u5143\u7d20\uff1a\u5f00\u59cb\u6807\u7b7e\u3001\u5185\u5bb9\u3001\u7ed3\u675f\u6807\u7b7e\u3002\u4f8b\u5982\uff1a<code>&lt;p&gt;\u4f60\u597d&lt;/p&gt;</code></li> <li>\u5c5e\u6027\uff1a\u4f8b\u5982\uff1a<code>&lt;p class=\"c1\"&gt;\u4f60\u597d&lt;/p&gt;</code>\u3002\u5c5e\u6027\u503c\u6700\u597d\u52a0\u4e0a\u5f15\u53f7\u3002\u5c5e\u6027\u503c\u53ef\u4ee5\u6709\u591a\u4e2a\uff0c\u7528\u7a7a\u683c\u5206\u9694\uff0c\u4f8b\u5982<code>class=\"c1 c2 c3\"</code></li> <li>\u5e03\u5c14\u5c5e\u6027\uff1a\u5c5e\u6027\u503c\u548c\u5c5e\u6027\u540d\u4e00\u81f4\uff08\u901a\u5e38\u4f1a\u7701\u7565\u5c5e\u6027\u503c\uff09\uff0c\u4f8b\u5982\uff1a<code>&lt;input type=\"text\" disabled=\"disabled\"&gt;</code></li> <li>\u5757\u7ea7\u5143\u7d20\uff1a\u81ea\u5df1\u5360\u4e00\u884c</li> <li>\u5185\u8054\u5143\u7d20\uff1a\u5185\u8054\u5143\u7d20\u4e0d\u4f1a\u5bfc\u81f4\u6362\u884c</li> <li>\u7a7a\u5143\u7d20\uff1a\u53ea\u6709\u5f00\u59cb\u6807\u7b7e\uff0c\u4f8b\u5982\uff1a<code>&lt;img src=\"xxx\"&gt;</code></li> </ul> <p>html\u6587\u6863\u793a\u4f8b</p> <pre><code>&lt;!-- \u5f00\u5934\u8fd9\u4e48\u5199\u5c31\u884c\uff0c\u522b\u7684\u5199\u6cd5\u5df2\u7ecf\u8fc7\u65f6\u4e86 --&gt;\n&lt;!DOCTYPE html&gt;\n\n&lt;html&gt; \n  &lt;head&gt;\n    &lt;meta charset=\"utf-8\"&gt;\n    &lt;title&gt;\u6211\u7684\u6d4b\u8bd5\u7ad9\u70b9&lt;/title&gt;\n    &lt;link rel=\"shortcut icon\" href=\"favicon.ico\" type=\"image/x-icon\"&gt;\n  &lt;/head&gt;\n\n  &lt;body&gt;\n    &lt;p&gt;\u8fd9\u662f\u6211\u7684\u9875\u9762&lt;/p&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>\u5982\u4f55\u6253\u5370html\u4e2d\u7684\u7279\u6b8a\u5b57\u7b26</p> \u5b57\u7b26 \u8f6c\u4e49 &lt; <code>&amp;lt;</code> &gt; <code>&amp;gt;</code> \" <code>&amp;quot;</code> ' <code>&amp;apos;</code> &amp; <code>&amp;amp;</code>","tags":["\u524d\u7aef"]},{"location":"front-end/17.html-mdn-tutorial/#2head","title":"2\u3001<code>&lt;head&gt;</code>\u6807\u7b7e","text":"<p><code>&lt;title&gt;</code>\u5143\u7d20\uff1a\u6587\u6863\u6807\u9898</p> <p>title\u5143\u7d20\u4f1a\u88ab\u663e\u793a\u5728\u6d4f\u89c8\u5668\u6807\u7b7e\u9875\u4e0a\u3001\u4f5c\u4e3a\u9ed8\u8ba4\u7684\u4e66\u7b7e\u540d\u3001\u663e\u793a\u5728\u641c\u7d22\u5f15\u64ce\u7684\u641c\u7d22\u7ed3\u679c\u4e2d\u7b49\u3002</p> <p><code>&lt;meta&gt;</code>\u5143\u7d20\uff08\u5143\u6570\u636e\uff09\uff1a</p> <ul> <li>\u8bb8\u591a<code>&lt;meta&gt;</code>\u5143\u7d20\u5305\u542b\u4e86name\u548ccontent\u5c5e\u6027\uff0c\u4f8b\u5982<code>&lt;meta name=\"description\" content=\"xxx\"&gt;</code></li> <li>\u5982\u679c\u9875\u9762\u4f7f\u7528\u4e86Facebook\u63d0\u4f9b\u7684\u5143\u6570\u636e\u534f\u8baeOpen Graph Data\uff0c\u5f53\u5728Facebook\u4e0a\u94fe\u63a5\u4e86\u6b64\u9875\u9762\u65f6\uff0c\u8fd9\u4e2a\u94fe\u63a5\u5c31\u4f1a\u663e\u793a\u6210\u4e00\u4e2a\u56fe\u50cf\u3001\u6807\u9898\u548c\u63cf\u8ff0\u7684\u7ec4\u5408\uff0c\u4f8b\u5982\uff1a</li> </ul> <p><code>html   &lt;meta property=\"og:image\" content=\"https://developer.mozilla.org/static/img/opengraph-logo.png\"&gt;   &lt;meta property=\"og:description\" content=\"xxxxx\"&gt;   &lt;meta property=\"og:title\" content=\"Mozilla Developer Network\"&gt;</code></p> <p>\u7f51\u9875\u7684\u81ea\u5b9a\u4e49\u56fe\u6807</p> <pre><code>&lt;html&gt; \n  &lt;head&gt;\n    ...\n    &lt;link rel=\"shortcut icon\" href=\"favicon.ico\" type=\"image/x-icon\"&gt;\n  &lt;/head&gt;\n&lt;/html&gt;\n\n&lt;!-- \u4e00\u4e9b\u5176\u4ed6\u7c7b\u578b\u7684\u56fe\u6807 --&gt;\n&lt;!-- third-generation iPad with high-resolution Retina display: --&gt;\n&lt;link rel=\"apple-touch-icon-precomposed\" sizes=\"144x144\" href=\"xxx\"&gt;\n&lt;!-- iPhone with high-resolution Retina display: --&gt;\n&lt;link rel=\"apple-touch-icon-precomposed\" sizes=\"114x114\" href=\"xxx\"&gt;\n&lt;!-- first- and second-generation iPad: --&gt;\n&lt;link rel=\"apple-touch-icon-precomposed\" sizes=\"72x72\" href=\"xxx\"&gt;\n&lt;!-- non-Retina iPhone, iPod Touch, and Android 2.1+ devices: --&gt;\n&lt;link rel=\"apple-touch-icon-precomposed\" href=\"xxx\"&gt;\n&lt;!-- basic favicon --&gt;\n&lt;link rel=\"shortcut icon\" href=\"xxx\"&gt;\n</code></pre> <p>\u4e3a\u6587\u6863\u8bbe\u7f6e\u4e3b\u8bed\u8a00</p> <pre><code>&lt;!-- \u53ef\u4ee5\u7ed9\u6587\u6863\u8bbe\u7f6e\u4e3b\u8bed\u8a00 --&gt;\n&lt;html lang=\"zh-CN\"&gt;\n\n&lt;!-- \u5f53\u7136\u4e5f\u53ef\u4ee5\u4e3a\u6587\u6863\u5176\u4ed6\u90e8\u5206\u5355\u72ec\u8bbe\u7f6e\u8bed\u8a00 --&gt;\n&lt;p&gt;\u65e5\u8bed\u5b9e\u4f8b: &lt;span lang=\"jp\"&gt;\u3054\u98ef\u304c\u71b1\u3044\u3002&lt;/span&gt;.&lt;/p&gt;\n</code></pre>","tags":["\u524d\u7aef"]},{"location":"front-end/17.html-mdn-tutorial/#3","title":"3\u3001\u6587\u6863\u7ed3\u6784","text":"","tags":["\u524d\u7aef"]},{"location":"front-end/17.html-mdn-tutorial/#_1","title":"\u6587\u672c\u7ed3\u6784","text":"<ol> <li>\u6807\u9898\u548c\u6bb5\u843d</li> <li>\u6807\u9898\uff1a<code>&lt;h1&gt;</code>\u3001<code>&lt;h2&gt;</code>\u3001<code>&lt;h3&gt;</code>\u3001<code>&lt;h4&gt;</code>\u3001<code>&lt;h5&gt;</code>\u3001<code>&lt;h6&gt;</code></li> <li>\u6bb5\u843d\uff1a<code>&lt;p&gt;</code></li> <li>\u5217\u8868</li> <li>\u65e0\u5e8f\u5217\u8868\u548c\u6709\u5e8f\u5217\u8868\uff1a<code>&lt;ul&gt;</code>\u3001<code>&lt;ol&gt;</code></li> <li>\u5217\u8868\u9879\uff1a<code>&lt;li&gt;</code></li> <li>\u5f3a\u8c03</li> <li><code>&lt;em&gt;</code>\uff1a\u9ed8\u8ba4\u662f\u659c\u4f53\u98ce\u683c</li> <li><code>&lt;strong&gt;</code>\uff1a\u9ed8\u8ba4\u662f\u7c97\u4f53\u98ce\u683c</li> <li>\u8868\u8c61\u5143\u7d20\uff08presentational elements\uff09\uff1a\u4e0d\u5177\u5907\u8bed\u4e49\uff0c\u4ec5\u7528\u4e8e\u6539\u53d8\u6587\u672c\u6837\u5f0f\u3002\u659c\u4f53<code>&lt;i&gt;</code>\u3001\u7c97\u4f53<code>&lt;b&gt;</code>\u3001\u4e0b\u5212\u7ebf<code>&lt;u&gt;</code>\u3002\u4e0d\u63a8\u8350\u4f7f\u7528\u8fd9\u4e9b\u5143\u7d20\uff0c\u5e94\u8be5\u4f7f\u7528css\u4ee3\u66ff\u3002</li> </ol>","tags":["\u524d\u7aef"]},{"location":"front-end/17.html-mdn-tutorial/#_2","title":"\u8d85\u94fe\u63a5","text":"<ul> <li>\u8d85\u94fe\u63a5</li> </ul> <p><code>html   &lt;a href=\"https://www.mozilla.org/zh-CN/\" &gt;Mozilla \u4e3b\u9875&lt;/a&gt;</code></p> <ul> <li>\u5c06\u56fe\u7247\u4f5c\u4e3a\u94fe\u63a5</li> </ul> <p><code>html   &lt;a href=\"https://www.mozilla.org/zh-CN/\"&gt;     &lt;img src=\"mozilla-image.png\" alt=\"\u94fe\u63a5\u81f3 Mozilla \u4e3b\u9875\u7684 Mozilla \u6807\u5fd7\"&gt;   &lt;/a&gt;</code></p> <ul> <li>\u8df3\u8f6c\u5230\u9875\u5185\u7684\u67d0\u4e2a\u4f4d\u7f6e</li> </ul> <p>```html   </p>","tags":["\u524d\u7aef"]},{"location":"front-end/17.html-mdn-tutorial/#Mailing_address","title":"\u5730\u5740","text":"<p>\u8df3\u8f6c\u5230\u67d0\u9875\u7684\u6307\u5b9a\u4f4d\u7f6e</p> <p>\u9875\u5185\u8df3\u8f6c   ```</p> <ul> <li>\u5176\u4ed6\u5c5e\u6027</li> <li>title\uff1a\u9f20\u6807\u60ac\u505c\u5728\u94fe\u63a5\u4e0a\u65f6\uff0ctitle\u4f1a\u4f5c\u4e3a\u63d0\u793a\u4fe1\u606f\u51fa\u73b0</li> <li>download\uff1a\u5f53\u94fe\u63a5\u5230\u4e00\u4e2a\u53ef\u4e0b\u8f7d\u7684\u8d44\u6e90\u65f6\uff0cdownload\u5c5e\u6027\u63d0\u4f9b\u4e00\u4e2a\u6587\u4ef6\u540d\u3002</li> </ul>","tags":["\u524d\u7aef"]},{"location":"front-end/17.html-mdn-tutorial/#_3","title":"\u6587\u5b57\u6392\u7248","text":"<ul> <li>\u63cf\u8ff0\u5217\u8868</li> </ul> <p>```html  \u5185\u5fc3\u72ec\u767d \u620f\u5267\u4e2d\uff0c\u67d0\u4e2a\u89d2\u8272\u5bf9\u81ea\u5df1\u7684\u5185\u5fc3\u6d3b\u52a8\u6216\u611f\u53d7\u8fdb\u884c\u5ff5\u767d\u8868\u6f14\uff0c\u8fd9\u4e9b\u53f0\u8bcd\u53ea\u9762\u5411\u89c2\u4f17\uff0c\u800c\u5176\u4ed6\u89d2\u8272\u4e0d\u4f1a\u542c\u5230\u3002 ... ...     ...   </p> <p>```</p> <ul> <li>\u5f15\u7528</li> <li>\u5757\u5f15\u7528\uff1a<code>&lt;blockquote cite=\"urlxxx\"&gt;...&lt;/blockquote&gt;</code></li> <li>\u884c\u5185\u5f15\u7528\uff1a<code>&lt;q cite=\"urlxxx\"&gt;...&lt;/q&gt;</code>\u3002\u6d4f\u89c8\u5668\u9ed8\u8ba4\u4f1a\u5c06\u884c\u5185\u5f15\u7528\u7684\u6587\u672c\u653e\u5165\u5f15\u53f7\u4e2d\u3002</li> <li>\u5f15\u6587\uff1a<code>&lt;cite&gt;...&lt;/cite&gt;</code>\u3002\u6d4f\u89c8\u5668\u9ed8\u8ba4\u4e0d\u663e\u793acite\u5143\u7d20\u4e2d\u7684\u5185\u5bb9\uff0c\u5982\u679c\u4e3a\u5176\u9644\u4e0a\u94fe\u63a5\uff08\u5373\u5c06\u5176\u653e\u5728<code>&lt;a&gt;&lt;/a&gt;</code>\u5185\u90e8\uff09\uff0c\u5c31\u4f1a\u88ab\u663e\u793a\u51fa\u6765\uff0c\u9ed8\u8ba4\u659c\u4f53\u3002</li> <li>\u7f29\u7565\u8bed\uff1a<code>&lt;abbr title=\"xxx\"&gt;HTML&lt;/abbr&gt;</code></li> <li>\u8054\u7cfb\u65b9\u5f0f\uff1a<code>&lt;address&gt;...&lt;/address&gt;</code>\uff0c\u4ec5\u4ec5\u4e3a\u4e86\u6807\u8bb0\u8054\u7cfb\u65b9\u5f0f</li> <li>\u4e0a\u4e0b\u6807\uff1a\u4e0b\u6807<code>&lt;sub&gt;&lt;/sub&gt;</code>\u3001\u4e0a\u6807<code>&lt;sup&gt;&lt;/sup&gt;</code></li> <li>\u4ee3\u7801</li> <li><code>&lt;code&gt;</code>\uff1a\u7528\u4e8e\u6807\u8bb0\u4ee3\u7801</li> <li><code>&lt;pre&gt;</code>\uff1a\u7528\u4e8e\u4fdd\u7559\u7a7a\u767d\u7b26</li> <li><code>&lt;var&gt;</code>\uff1a\u7528\u4e8e\u6807\u8bb0\u53d8\u91cf</li> <li><code>&lt;kbd&gt;</code>\uff1a\u7528\u4e8e\u6807\u8bb0\u952e\u76d8\u8f93\u5165</li> <li><code>&lt;samp&gt;</code>\uff1a\u7528\u4e8e\u6807\u8bb0\u8f93\u51fa</li> <li>\u65f6\u95f4\u548c\u65e5\u671f\uff1a<code>&lt;time datetime=\"2016-01-20\"&gt;2016\u5e741\u670820\u65e5&lt;/time&gt;</code>\u3002datetime\u652f\u6301\u5404\u79cd\u5404\u6837\u7684\u65e5\u671f\u683c\u5f0f</li> </ul>","tags":["\u524d\u7aef"]},{"location":"front-end/17.html-mdn-tutorial/#_4","title":"\u6587\u6863\u5e03\u5c40\u5143\u7d20","text":"<ul> <li><code>&lt;header&gt;</code>\uff1a\u9875\u7709\u3002</li> <li><code>&lt;nav&gt;</code>\uff1a\u5bfc\u822a\u680f\u3002</li> <li><code>&lt;main&gt;</code>\uff1a\u4e3b\u5185\u5bb9\uff0c\u53ea\u80fd\u6709\u4e00\u4e2a\u3002</li> <li><code>&lt;aside&gt;</code>\uff1a\u4fa7\u8fb9\u680f\u3002</li> <li><code>&lt;footer&gt;</code>\uff1a\u9875\u811a\u3002</li> <li><code>&lt;article&gt;</code>\u3001<code>section</code>\uff1a\u6587\u7ae0\u548c\u8282</li> <li><code>div</code>\u548c<code>span</code>\uff1a\u65e0\u8bed\u4e49\u5143\u7d20\uff0cdiv\u662f\u5757\u7ea7\u7684\uff0cspan\u662f\u5185\u8054\u7684</li> <li><code>br</code>\u3001<code>hr</code>\uff1a\u6362\u884c\u548c\u6c34\u5e73\u5206\u5272\u7ebf</li> </ul>","tags":["\u524d\u7aef"]},{"location":"front-end/17.html-mdn-tutorial/#4","title":"4\u3001\u591a\u5a92\u4f53","text":"","tags":["\u524d\u7aef"]},{"location":"front-end/17.html-mdn-tutorial/#_5","title":"\u56fe\u7247","text":"<p>\uff08\u56fe\u7247\u548ccss\u5c5e\u6027background-image\u4e0d\u540c\uff0cbackground-image\u53ea\u662f\u88c5\u9970\u6027\u7684\u56fe\u7247\uff09</p> <p><code>&lt;img src=\"xxx.jpg\"&gt;</code></p> <p>\u5c5e\u6027\uff1a</p> <ul> <li>alt\u5c5e\u6027\uff1a\u5bf9\u56fe\u7247\u7684\u63cf\u8ff0\uff0c\u5f53\u56fe\u7247\u6ca1\u6709\u88ab\u52a0\u8f7d\u51fa\u6765\u65f6\uff0c\u663e\u793a\u8fd9\u4e9b\u6587\u5b57</li> <li>width\u548cheight\uff1a\u5b9a\u4e49\u56fe\u7247\u7684\u5bbd\u9ad8</li> <li>title\uff1a\u9f20\u6807\u60ac\u505c\u5728\u56fe\u7247\u4e0a\u65f6\u663e\u793atitle</li> </ul> <p>\u4e24\u79cd\u56fe\u7247\u642d\u914d\u6587\u5b57\u7684\u65b9\u5f0f\uff1a</p> <pre><code>&lt;div class=\"figure\"&gt;\n  &lt;img src=\"/images/dinosaur_small.jpg\"\n     alt=\"\u4e00\u53ea\u6050\u9f99\u5934\u90e8\u548c\u8eaf\u5e72\u7684\u9aa8\u67b6\uff0c\u5b83\u6709\u4e00\u4e2a\u5de8\u5927\u7684\u5934\uff0c\u957f\u7740\u950b\u5229\u7684\u7259\u9f7f\u3002\"\n     width=\"400\"\n     height=\"341\"&gt;\n  &lt;p&gt;\u66fc\u5f7b\u65af\u7279\u5927\u5b66\u535a\u7269\u9986\u5c55\u51fa\u7684\u4e00\u53ea\u9738\u738b\u9f99\u7684\u5316\u77f3&lt;/p&gt;\n&lt;/div&gt;\n\n&lt;!-- html5\uff0cfigure\u4e2d\u53ef\u4ee5\u662f\u51e0\u5f20\u56fe\u7247\u3001\u4e00\u6bb5\u4ee3\u7801\u3001\u97f3\u89c6\u9891\u3001\u65b9\u7a0b\u3001\u8868\u683c\u6216\u522b\u7684 --&gt;\n&lt;figure&gt;\n  &lt;img src=\"https://raw.githubusercontent.com/mdn/learning-area/master/html/multimedia-and-embedding/images-in-html/dinosaur_small.jpg\"\n     alt=\"\u4e00\u53ea\u6050\u9f99\u5934\u90e8\u548c\u8eaf\u5e72\u7684\u9aa8\u67b6\uff0c\u5b83\u6709\u4e00\u4e2a\u5de8\u5927\u7684\u5934\uff0c\u957f\u7740\u950b\u5229\u7684\u7259\u9f7f\u3002\"\n     width=\"400\"\n     height=\"341\"&gt;\n  &lt;figcaption&gt;\u66fc\u5f7b\u65af\u7279\u5927\u5b66\u535a\u7269\u9986\u5c55\u51fa\u7684\u4e00\u53ea\u9738\u738b\u9f99\u7684\u5316\u77f3&lt;/figcaption&gt;\n&lt;/figure&gt;\n</code></pre>","tags":["\u524d\u7aef"]},{"location":"front-end/17.html-mdn-tutorial/#_6","title":"\u97f3\u89c6\u9891","text":"<p><code>&lt;video&gt;</code>\u548c<code>&lt;audio&gt;</code>\u53c2\u8003https://developer.mozilla.org/zh-CN/docs/Learn/HTML/Multimedia_and_embedding/Video_and_audio_content</p>","tags":["\u524d\u7aef"]},{"location":"front-end/17.html-mdn-tutorial/#_7","title":"\u5176\u4ed6\u5d4c\u5165\u7c7b\u578b","text":"<ul> <li><code>&lt;iframe&gt;</code>\uff1a\u7528\u4e8e\u5d4c\u5165\u5176\u4ed6\u7f51\u9875\uff0c\u53c2\u8003https://developer.mozilla.org/zh-CN/docs/Learn/HTML/Multimedia_and_embedding/Other_embedding_technologies</li> <li><code>&lt;embed&gt;</code>\u548c<code>&lt;object&gt;</code>\uff1a\u7528\u4e8e\u5d4c\u5165java applet\u3001flash\u3001pdf\u7b49\u5947\u602a\u7684\u5185\u5bb9\uff0c\u4e00\u822c\u4e0d\u4f1a\u7528\u5230</li> </ul>","tags":["\u524d\u7aef"]},{"location":"front-end/17.html-mdn-tutorial/#svg","title":"SVG\u56fe","text":"<p>\u7565</p>","tags":["\u524d\u7aef"]},{"location":"front-end/17.html-mdn-tutorial/#_8","title":"\u54cd\u5e94\u5f0f\u56fe\u7247\uff08\u81ea\u9002\u5e94\u56fe\u7247\uff09","text":"<p>\u7565</p>","tags":["\u524d\u7aef"]},{"location":"front-end/17.html-mdn-tutorial/#5","title":"5\u3001\u8868\u683c","text":"","tags":["\u524d\u7aef"]},{"location":"front-end/17.html-mdn-tutorial/#_9","title":"\u57fa\u672c","text":"<ul> <li><code>tr</code>\uff1a\u884c</li> <li><code>th</code>\uff1a\u8868\u5934\u5355\u5143\u683c</li> <li><code>td</code>\uff1a\u666e\u901a\u5355\u5143\u683c</li> </ul> <pre><code>&lt;table&gt;\n  &lt;tr&gt;\n    &lt;th&gt;Ella&lt;/th&gt;\n    &lt;th&gt;Juan&lt;/th&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n    &lt;td&gt;Breed&lt;/td&gt;\n    &lt;td&gt;Jack Russell&lt;/td&gt;\n  &lt;/tr&gt;\n&lt;/table&gt;\n</code></pre> <p>\u4f7f\u7528colspan\u548crowspan\u5c5e\u6027\u5408\u5e76\u5355\u5143\u683c\u3002colspan\u8868\u793a\u5355\u5143\u683c\u5360\u51e0\u5217\uff0crowspan\u8868\u793a\u5355\u5143\u683c\u5360\u51e0\u884c</p> <pre><code>&lt;table&gt;\n  &lt;tr&gt;\n    &lt;th colspan=\"2\"&gt;Animals&lt;/th&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n    &lt;th colspan=\"2\"&gt;Hippopotamus&lt;/th&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n    &lt;th rowspan=\"2\"&gt;Horse&lt;/th&gt;\n    &lt;td&gt;Mare&lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n    &lt;td&gt;Stallion&lt;/td&gt;\n  &lt;/tr&gt;\n&lt;/table&gt;\n</code></pre> <p>\u4f7f\u7528<code>&lt;colgroup&gt;</code>\u548c<code>&lt;col&gt;</code>\u6307\u5b9a\u67d0\u5217\u7684\u6837\u5f0f\uff0c\u6bcf\u4e2acol\u6309\u987a\u5e8f\u5bf9\u5e94\u8868\u683c\u7684\u4e00\u5217</p> <pre><code>&lt;table&gt;\n  &lt;colgroup&gt;\n    &lt;col&gt;\n    &lt;col style=\"background-color: yellow\"&gt;\n  &lt;/colgroup&gt;\n  &lt;tr&gt;\n    ...\n&lt;/table&gt;\n</code></pre>","tags":["\u524d\u7aef"]},{"location":"front-end/17.html-mdn-tutorial/#_10","title":"\u5176\u4ed6","text":"<ul> <li>\u8868\u683c\u6807\u9898\uff1a<code>&lt;table&gt; &lt;caption&gt; xxx &lt;/caption&gt; &lt;/table&gt;</code></li> <li>\u8868\u683c\u7ed3\u6784\uff1a<code>&lt;thead&gt;</code>\u3001<code>&lt;tfoot&gt;</code>\u3001<code>&lt;tbody&gt;</code>\uff0c\u5206\u522b\u5bf9\u5e94\u8868\u683c\u7684\u7b2c\u4e00\u884c\uff0c\u6700\u540e\u4e00\u884c\u548c\u4e2d\u95f4\u7684\u90e8\u5206\u3002\uff08\u7528\u6765\u4ee3\u66ff<code>&lt;tr&gt;</code>\uff09</li> <li>\u5d4c\u5957\u8868\u683c\uff1a\u53ef\u4ee5\u5728<code>&lt;td&gt;</code>\u4e2d\u5d4c\u5957\u53e6\u5916\u4e00\u4e2a\u8868\u683c</li> <li>scope\u5c5e\u6027\uff1a\u533a\u5206\u4e0d\u540c\u7c7b\u578b\u7684\u8868\u5934\u5355\u5143\u683c</li> <li>scope\u7684\u66ff\u4ee3\u65b9\u6cd5\uff1a\u4f7f\u7528id\u548cheaders\u5efa\u7acb\u8868\u5934\u548c\u5355\u5143\u683c\u7684\u8054\u7cfb</li> </ul>","tags":["\u524d\u7aef"]},{"location":"front-end/17.html-mdn-tutorial/#6form","title":"6\u3001\u8868\u5355\uff08form\uff09","text":"","tags":["\u524d\u7aef"]},{"location":"front-end/17.html-mdn-tutorial/#_11","title":"\u57fa\u7840","text":"<p><code>&lt;form&gt;&lt;/form&gt;</code>\uff1a\u6240\u6709html\u8868\u5355\u90fd\u5b9a\u4e49\u5728form\u6807\u7b7e\u5185\u90e8</p> <pre><code>&lt;!-- action\u5b9a\u4e49\u4e86\u53d1\u9001\u6570\u636e\u7684uri --&gt;\n&lt;form action=\"/my-handling-form-page\" method=\"post\"&gt;\n    ...\n&lt;/form&gt;\n</code></pre> <ul> <li><code>&lt;label&gt;</code>\uff1a\u6587\u672c\u6807\u7b7e</li> <li><code>&lt;input&gt;</code>\uff1a\u5355\u884c\u6587\u672c\u8f93\u5165\u6846</li> <li><code>&lt;textarea&gt;</code>\uff1a\u591a\u884c\u6587\u672c\u8f93\u5165\u6846</li> <li><code>&lt;button&gt;</code></li> </ul> <pre><code>&lt;!-- label\u3001input\u3001textarea\u3001button --&gt;\n\n  &lt;div&gt;\n    &lt;!-- for\u5c5e\u6027\uff1a\u5c06\u6807\u7b7e\u94fe\u63a5\u5230\u8868\u5355\u5c0f\u90e8\u4ef6\uff0cfor\u7684\u503c\u5bf9\u5e94\u5c0f\u90e8\u4ef6\u7684id --&gt;\n    &lt;label for=\"name\"&gt;Name:&lt;/label&gt;\n    &lt;!--  type\u5c5e\u6027\uff1a\u5b9a\u4e49\u8f93\u5165\u7c7b\u578b --&gt;\n    &lt;!-- name\u5c5e\u6027\uff1a\u5b9a\u4e49\u5b57\u6bb5\u540d\uff0c\u7528\u4e8e\u5411\u670d\u52a1\u5668\u53d1\u9001\u6570\u636e --&gt;\n    &lt;input type=\"text\" id=\"name\" name=\"user_name\"&gt;\n  &lt;/div&gt;\n  &lt;div&gt;\n    &lt;label for=\"mail\"&gt;E-mail:&lt;/label&gt;\n    &lt;input type=\"email\" id=\"mail\" name=\"user_email\"&gt;\n  &lt;/div&gt;\n  &lt;div&gt;\n    &lt;label for=\"msg\"&gt;Message:&lt;/label&gt;\n    &lt;textarea id=\"msg\" name=\"user_message\"&gt;&lt;/textarea&gt;\n  &lt;/div&gt;\n  &lt;div class=\"button\"&gt;\n    &lt;!-- type\u5c5e\u6027\uff1asubmit\u3001reset\u3001button --&gt;\n    &lt;button type=\"submit\"&gt;Send your message&lt;/button&gt;\n  &lt;/div&gt;\n\n&lt;!-- input\u548ctextarea\u7684\u9ed8\u8ba4\u503c --&gt;\n&lt;input type=\"text\" value=\"by default this element is filled with this text\" /&gt;\n&lt;textarea&gt;by default this element is filled with this text&lt;/textarea&gt;\n</code></pre> <ul> <li><code>&lt;fieldset&gt;</code>\uff1a\u53ef\u4ee5\u5728\u91cc\u9762\u653e\u4e00\u7ec4\u5143\u7d20</li> <li><code>&lt;legend&gt;</code>\uff1a\u7ed9fieldset\u6253\u6807\u7b7e</li> <li><code>&lt;radio&gt;</code>\uff1a\u5355\u9009\u6309\u94ae</li> </ul> <pre><code>&lt;form&gt;\n  &lt;fieldset&gt;\n    &lt;legend&gt;Fruit juice size&lt;/legend&gt;\n    &lt;p&gt;\n      &lt;input type=\"radio\" name=\"size\" id=\"size_1\" value=\"small\"&gt;\n      &lt;label for=\"size_1\"&gt;Small&lt;/label&gt;\n    &lt;/p&gt;\n    &lt;p&gt;\n      &lt;input type=\"radio\" name=\"size\" id=\"size_2\" value=\"medium\"&gt;\n      &lt;label for=\"size_2\"&gt;Medium&lt;/label&gt;\n    &lt;/p&gt;\n    &lt;p&gt;\n      &lt;input type=\"radio\" name=\"size\" id=\"size_3\" value=\"large\"&gt;\n      &lt;label for=\"size_3\"&gt;Large&lt;/label&gt;\n    &lt;/p&gt;\n  &lt;/fieldset&gt;\n&lt;/form&gt;\n</code></pre>","tags":["\u524d\u7aef"]},{"location":"front-end/17.html-mdn-tutorial/#_12","title":"\u8868\u5355\u90e8\u4ef6","text":"<p>\u901a\u7528\u5c5e\u6027\uff1a</p> <ul> <li>autofocus\uff1a\u9ed8\u8ba4\u503c\uff08false\uff09\uff0c\u5143\u7d20\u81ea\u52a8\u5177\u6709\u8f93\u5165\u7126\u70b9\uff0c\u6587\u6863\u4e2d\u53ea\u80fd\u6709\u4e00\u4e2a\u8868\u5355\u5143\u7d20\u53ef\u4ee5\u6307\u5b9a\u8fd9\u4e2a\u5c5e\u6027\u3002</li> <li>disabled\uff1a\u9ed8\u8ba4\u503c\uff08false\uff09</li> <li>form</li> <li>name\uff1a\u63d0\u4ea4\u6570\u636e\u65f6\u7684\u5b57\u6bb5\u540d</li> <li>value\uff1a\u521d\u59cb\u503c</li> </ul> <p>\u5355\u884c\u6587\u672c\u8f93\u5165\u6846<code>&lt;input&gt;</code>\uff1a</p> <ul> <li><code>&lt;input&gt;</code>\u662f\u4e2a\u7a7a\u5143\u7d20</li> <li>\u7ea6\u675f\uff1a\u5982\u679c\u8f93\u5165\u591a\u884c\u6587\u672c\uff0c\u53d1\u9001\u6570\u636e\u524d\u6d4f\u89c8\u5668\u4f1a\u5220\u6389\u6362\u884c\u7b26</li> <li>\u53ef\u4ee5\u88ab\u6807\u8bb0\u4e3areadonly\u3001disabled</li> <li>\u53ef\u4ee5\u6709placeholder</li> <li>size\u6307\u5b9a\u6846\u7684\u5c3a\u5bf8\uff0cmaxlength\u6307\u5b9a\u53ef\u8f93\u5165\u7684\u6700\u5927\u5b57\u7b26\u6570</li> <li>type\u5c5e\u6027\u9ed8\u8ba4\u503c\u4e3atext\uff0c\u53ef\u4ee5\u6307\u5b9a\u4e3a\u5176\u4ed6type\uff0c\u6d4f\u89c8\u5668\u4f1a\u5e2e\u52a9\u505a\u8f93\u5165\u6821\u9a8c</li> <li>email\uff08\u53ef\u914d\u5408mutiple\u5c5e\u6027\uff09\u3001password\u3001search\u3001tel\u3001url</li> </ul> <p>\u591a\u884c\u6587\u672c\u8f93\u5165\u6846<code>&lt;textarea&gt;</code>\uff1a</p> <ul> <li><code>&lt;textarea cols=\"30\" rows=\"10\"&gt;&lt;/textarea&gt;</code></li> <li>\u5c5e\u6027</li> <li>cols\u548crows\uff1a\u884c\u6570\u548c\u5217\u6570</li> <li>resize\uff1a\u5141\u8bb8\u901a\u8fc7\u62d6\u653e\u8c03\u6574\u6587\u672c\u6846\u5927\u5c0f\uff0c\u503c\u4e3anone\u65f6\u5173\u95ed\u8be5\u529f\u80fd\u3002</li> <li>wrap\uff1asoft/hard\uff0c\u662f\u5426\u81ea\u52a8\u6362\u884c\u663e\u793a</li> </ul> <p>\u9009\u62e9\u6846<code>&lt;select&gt;</code></p> <ul> <li>\u4e00\u4e2a<code>&lt;option&gt;</code>\u5b50\u5143\u7d20\u5b9a\u4e49\u4e00\u4e2a\u9009\u9879\u3002</li> <li>selected\u5c5e\u6027\uff0c\u6307\u5b9a\u9009\u62e9\u6846\u9ed8\u8ba4\u503c</li> <li>value\u5c5e\u6027\uff0c\u6307\u5b9a\u8be5option\u5bf9\u5e94\u7684\u6570\u636e\uff0c\u5982\u679c\u6ca1\u6709value\u5c5e\u6027\uff0c\u5c06option\u7684\u5185\u5bb9\u4f5c\u4e3a\u6570\u636e</li> <li><code>&lt;optgroup&gt;</code>\u5b50\u5143\u7d20\u5b9a\u4e49\u4e00\u4e2a\u9009\u9879\u7ec4\uff0c<code>&lt;option&gt;</code>\u5143\u7d20\u4f5c\u4e3a\u5176\u5b50\u5143\u7d20</li> <li>label\u5c5e\u6027\uff1a\u9009\u9879\u7ec4\u7684\u540d\u79f0</li> <li><code>&lt;select&gt;</code></li> <li>mutiple\u5c5e\u6027\uff0c\u5141\u8bb8\u7528\u6237\u5229\u7528\u64cd\u4f5c\u7cfb\u7edf\u63d0\u4f9b\u7684\u9ed8\u8ba4\u673a\u5236\u9009\u62e9\u591a\u4e2a\u503c\uff0c\u4f8b\u5982\u6309\u4e0bctrl/cmd\u540e\u70b9\u51fb\u591a\u4e2a\u503c</li> </ul> <p>\u81ea\u52a8\u8865\u5168\u8f93\u5165\u6846\uff0c\u9700\u8981<code>&lt;input&gt;</code>\u548c<code>&lt;datalist&gt;</code>\u914d\u5408\u5b9e\u73b0</p> <pre><code>&lt;input type=\"text\" list=\"mySuggestion\"&gt;\n&lt;datalist id=\"mySuggestion\"&gt;\n  &lt;option&gt;Apple&lt;/option&gt;\n  &lt;option&gt;Banana&lt;/option&gt;\n&lt;/datalist&gt;\n</code></pre> <p>\u53ef\u9009\u62e9\u9879\uff08\u524d\u9762\u6216\u540e\u9762\u6709\u4e2a\u80fd\u70b9\u7684\u5c0f\u6846\u6846\uff09</p> <ul> <li>\u590d\u9009\u6846</li> <li>type\u5c5e\u6027\u503c\u4e3acheckbox\u7684<code>&lt;input&gt;</code>\u5143\u7d20</li> <li>\u5355\u9009\u6846</li> <li>type\u5c5e\u6027\u503c\u4e3aradio\u7684<code>&lt;input&gt;</code>\u5143\u7d20</li> <li>checked\u5c5e\u6027\uff1a\u6307\u793a\u8be5\u90e8\u4ef6\u7684\u9ed8\u8ba4\u72b6\u6001\uff0c\"\u9009\u4e2d\"\u6216\"\u672a\u9009\u4e2d\"</li> <li>value\u5c5e\u6027\uff1a\u9ed8\u8ba4\u4e3a\"on\"\u503c</li> </ul> <p>\u6309\u94ae</p> <ul> <li>\u6709\u4e09\u79cd\u7c7b\u578b\u7684\u6309\u94ae</li> <li>submit\uff1a\u4e0d\u5e26type\u5c5e\u6027\u7684button\u9ed8\u8ba4\u4e3asubmit\u7c7b\u578b</li> <li>reset\uff1a\u5c06\u6240\u6709\u8868\u5355\u90e8\u4ef6\u91cd\u7f6e\u4e3a\u9ed8\u8ba4\u503c\uff0ctype\u503c\u4e3areset</li> <li>Anonymous\uff1a\u6ca1\u6709\u4efb\u4f55\u529f\u80fd\uff0ctype\u5c5e\u6027\u4e3abutton</li> <li>\u4f7f\u7528<code>&lt;button&gt;</code>\u5143\u7d20\u6216\u8005<code>&lt;input&gt;</code>\u5143\u7d20\u6765\u521b\u5efa\u4e00\u4e2a\u6309\u94ae\uff0ctype\u5c5e\u6027\u7684\u503c\u6307\u5b9a\u663e\u793a\u4ec0\u4e48\u7c7b\u578b\u7684\u6309\u94ae\u3002</li> <li>\u533a\u522b\uff1a<code>&lt;input&gt;</code>\u662f\u4e2a\u7a7a\u5143\u7d20\uff0c\u53ea\u80fd\u7528value\u5c5e\u6027\u6307\u5b9a\u7eaf\u6587\u672c\u6807\u7b7e\uff0c\u800c<code>&lt;button&gt;</code>\u5185\u90e8\u53ef\u4ee5\u6709\u5b50\u5143\u7d20\uff0c\u53ef\u4ee5\u76f8\u5e94\u5730\u6837\u5f0f\u5316</li> </ul> <p>\u5176\u4ed6</p> <ul> <li>\u6570\u5b57</li> <li><code>&lt;input type=\"number\" name=\"age\" id=\"age\" min=\"1\" max=\"10\" step=\"2\"&gt;</code></li> <li>\u5c06<code>input</code>\u7684type\u5c5e\u6027\u8bbe\u7f6e\u4e3anumber</li> <li>\u53ea\u5141\u8bb8\u6d6e\u70b9\u6570</li> <li>min\u3001max\u548cstep\u5c5e\u6027\u8bbe\u7f6e\u6700\u5927\u503c\u3001\u6700\u5c0f\u503c\u548c\u589e\u52a0\u6216\u51cf\u5c0f\u7684\u6b65\u8fdb\u503c</li> <li>\u6ed1\u5757</li> <li><code>&lt;input type=\"range\" name=\"beans\" id=\"beans\" min=\"0\" max=\"500\" step=\"10\"&gt;</code></li> <li>\u6536\u96c6\u65e5\u671f\u548c\u65f6\u95f4</li> <li>\u672c\u5730\u65e5\u671f\u65f6\u95f4\uff08\u5e74\u6708\u65e5\u65f6\u5206\u3001\u6ca1\u6709\u65f6\u533a\uff09<ul> <li><code>&lt;input type=\"datetime-local\" name=\"datetime\" id=\"datetime\"&gt;</code></li> </ul> </li> <li>\u65e5\u671f\uff1atype\u4e3adate</li> <li>\u6708\uff1atype\u4e3amonth</li> <li>\u65f6\u95f4\uff1atype\u4e3atime</li> <li>\u661f\u671f\uff1atype\u4e3aweek</li> <li>\u6240\u6709\u65e5\u671f\u548c\u65f6\u95f4\u63a7\u5236\u90fd\u53ef\u4ee5\u4f7f\u7528min\u548cmax\u5c5e\u6027\u6765\u7ea6\u675f\uff0c\u4f8b\u5982<code>&lt;input type=\"date\" name=\"myDate\" min=\"2013-06-01\" max=\"2013-08-31\" id=\"myDate\"&gt;</code></li> <li>\u62fe\u8272\u5668</li> <li><code>&lt;input type=\"color\" name=\"color\" id=\"color\"&gt;</code></li> <li>\u6587\u4ef6\u9009\u62e9\u5668</li> <li><code>&lt;input type=\"file\" name=\"file\" id=\"file\" accept=\"image/*\" multiple&gt;</code></li> <li>accept\u5c5e\u6027\u7ea6\u675f\u6587\u4ef6\u7c7b\u578b</li> <li>mutiple\u5c5e\u6027\u5141\u8bb8\u7528\u6237\u9009\u62e9\u591a\u4e2a\u6587\u4ef6</li> <li>\u9690\u85cf\u8868\u5355</li> <li>type\u503c\u4e3ahidden</li> <li>\u56fe\u50cf\u6309\u94ae</li> <li><code>&lt;input type=\"image\" alt=\"Click me!\" src=\"my-img.png\" width=\"80\" height=\"30\" /&gt;</code></li> <li>\u652f\u6301\u6240\u6709<code>&lt;img&gt;</code>\u548c\u6309\u94ae\u7684\u5c5e\u6027</li> <li>\u63d0\u4ea4\u6570\u636e\u65f6\u63d0\u4ea4\u7684\u662f\u70b9\u51fb\u4f4d\u7f6e\u7684\u5750\u6807\uff08\u5de6\u4e0a\u89d2\u5750\u6807\u4e3a0,0\uff09\uff0c\u6570\u636e\u4e3a\u4e24\u4e2a\u952e\u503c\u5bf9\uff0c\u5b83\u4eec\u7684key\u5206\u522b\u4e3aname\u5c5e\u6027\u62fc\u4e0a.x\u548c.y</li> <li>\u4eea\u8868\u548c\u8fdb\u5ea6\u6761</li> <li>\u8fdb\u5ea6\u6761<ul> <li><code>&lt;progress max=\"100\" value=\"75\"&gt;75/100&lt;/progress&gt;</code></li> </ul> </li> <li>\u4eea\u8868<ul> <li><code>&lt;meter min=\"0\" max=\"100\" value=\"75\" low=\"33\" high=\"66\" optimum=\"50\"&gt;75&lt;/meter&gt;</code></li> <li>min\u548cmax\u6307\u5b9a\u4e86\u6700\u5927\u503c\u548c\u6700\u5c0f\u503c\uff0clow\u548chigh\u662f\u4e24\u4e2a\u9608\u503c\uff0c\u4eea\u8868\u7684\u989c\u8272\u6839\u636eoptimum\u7684\u503c\u6240\u5728\u533a\u95f4\u53d8\u5316</li> </ul> </li> </ul> <p>html5\u4e2d<code>&lt;input&gt;</code>\u5143\u7d20\u7c7b\u578b\uff1aemail\u3001search\u3001tel\u3001url\u3001number\u3001range\u3001datetime-local\u3001date\u3001month\u3001time\u3001week\u3001color</p>","tags":["\u524d\u7aef"]},{"location":"front-end/17.html-mdn-tutorial/#_13","title":"\u53d1\u9001\u8868\u5355\u6570\u636e","text":"<p><code>&lt;form&gt;</code>\u5143\u7d20\u5b9a\u4e49\u5982\u4f55\u53d1\u9001\u6570\u636e</p> <ul> <li>action\u5c5e\u6027</li> <li>\u503c\u53ef\u4ee5\u662f\u7edd\u5bf9url\uff0c\u76f8\u5bf9url</li> <li>\u503c\u4e3a\u201c\u201d\u3001\u201c#\u201d\u6216\u6ca1\u6709\u8be5\u5c5e\u6027\u65f6\uff0c\u6570\u636e\u88ab\u53d1\u9001\u5230\u5f53\u524d\u9875\u9762</li> <li>method\u5c5e\u6027</li> <li>get\uff1a\u4f7f\u7528get\u65b9\u6cd5\u65f6\uff0c\u6570\u636e\u4f1a\u88ab\u4f5c\u4e3a\u53c2\u6570\u62fc\u5230url\u540e\u9762</li> <li>post\uff1a\u4f7f\u7528post\u65b9\u6cd5\u65f6\uff0c\u6570\u636e\u4f1a\u88ab\u653e\u5728\u8bf7\u6c42\u4f53\u4e2d</li> <li>enctype\u5c5e\u6027\uff0c\u8bbe\u7f6ehttp\u5934\u7684Content-Type</li> <li>\u53d1\u9001\u6587\u4ef6\u65f6\u8981\u5c06\u8be5\u503c\u8bbe\u7f6e\u4e3amultipart/form-data\u3002\u6570\u636e\u5c06\u88ab\u5206\u6210\u591a\u4e2a\u90e8\u5206\uff0c\u6bcf\u4e2a\u6587\u4ef6\u5355\u72ec\u5360\u7528\u4e00\u4e2a\u90e8\u5206\uff0c\u8868\u5355\u6b63\u6587\u4e2d\u5305\u542b\u7684\u6587\u672c\u6570\u636e\u5360\u7528\u4e00\u4e2a\u90e8\u5206\uff08\u6587\u4ef6\u88ab\u89c6\u4e3a\u4e8c\u8fdb\u5236\u6570\u636e\uff0c\u5176\u4ed6\u6570\u636e\u90fd\u88ab\u89c6\u4e3a\u6587\u672c\u6570\u636e\uff09\u3002</li> </ul> <p>\u5b89\u5168\u95ee\u9898\uff1a</p> <ul> <li>XSS\u548cCSRF</li> <li>XSS<ul> <li>\u8de8\u7ad9\u811a\u672c\u653b\u51fb(Cross Site Scripting)\u3002\u653b\u51fb\u8005\u5728\u670d\u52a1\u7aef\u8fd4\u56de\u7ed9\u7528\u6237\u7684\u6570\u636e\u4e2d\u6df7\u5165\u6076\u610f\u811a\u672c\uff0c\u7528\u6237\u6267\u884c\u4ee5\u540e\u5c31\u4f1a\u6536\u5230\u653b\u51fb\u3002XSS\u6839\u636e\u6df7\u5165\u6076\u610f\u811a\u672c\u7684\u624b\u6bb5\u5206\u4e3a\u4e0d\u540c\u7684\u653b\u51fb\u7c7b\u578b\u3002</li> <li>XSS\u653b\u51fb\u7684\u662f\u7528\u6237\uff0c\u5229\u7528\u7684\u662f\u7528\u6237\u5bf9web\u670d\u52a1\u7684\u4fe1\u4efb\u3002</li> <li>XSS\u4e00\u822c\u662f\u7531\u4e8e\u670d\u52a1\u7aef\u5bf9\u7528\u6237\u6570\u636e\u4e0d\u505a\u5904\u7406\u9020\u6210</li> </ul> </li> <li>CSRF\uff1a<ul> <li>\u8de8\u7ad9\u8bf7\u6c42\u4f2a\u9020\uff08Cross Site Request Forgery\uff09\u3002\u653b\u51fb\u8005\u4e0a\u4f20\u6570\u636e\u65f6\u6df7\u5165\u6076\u610f\u811a\u672c\uff0c\u7528\u6765\u83b7\u53d6\u670d\u52a1\u7aef\u6743\u9650\u3002</li> <li>CSRF\u653b\u51fb\u7684\u662f\u670d\u52a1\uff0c\u5229\u7528\u7684\u662f\u670d\u52a1\u5bf9\u7528\u6237\u7684\u4fe1\u4efb\u3002</li> <li>CSRF\u4e00\u822c\u662f\u7531\u4e8e\u670d\u52a1\u5668\u4e0d\u5bf9\u7528\u6237\u8eab\u4efd\u548c\u6570\u636e\u505a\u4e25\u683c\u7684\u6821\u9a8c\u9020\u6210</li> </ul> </li> <li>SQL\u6ce8\u5165</li> <li>HTTP\u5934\u6ce8\u5165\u548c\u7535\u5b50\u90ae\u4ef6\u6ce8\u5165\uff08\u4e0d\u592a\u61c2\uff09</li> </ul> <p>\u6c38\u8fdc\u8981\u4e25\u683c\u68c0\u67e5\u7528\u6237\u7684\u8eab\u4efd\uff0c\u5bf9\u7528\u6237\u4e0a\u4f20\u7684\u6570\u636e\u505a\u5fc5\u8981\u7684\u9650\u5236\u548c\u4e25\u683c\u7684\u6821\u9a8c\u3002</p>","tags":["\u524d\u7aef"]},{"location":"front-end/17.html-mdn-tutorial/#_14","title":"\u6821\u9a8c\u8868\u5355\u6570\u636e","text":"<p>1\u3001html5\u8868\u5355\u6821\u9a8c\u5c5e\u6027</p> <ul> <li>required\uff1a\u5fc5\u586b\u9879</li> <li>pattern\uff1a\u6b63\u5219\u8868\u8fbe\u5f0f</li> <li>textarea\u4e0d\u652f\u6301pattern</li> <li>\u6709\u4e9binput\u7c7b\u578b\u4e0d\u9700\u8981pattern\uff0c\u4f8b\u5982email</li> <li>minlength\u548cmaxlength\uff1a\u9650\u5236\u8f93\u5165\u7684\u957f\u5ea6</li> <li>min\u548cmax\uff1a\u9650\u5236\u6570\u5b57\u7684\u5927\u5c0f\uff08\u4f8b\u5982type=number\u65f6\uff09</li> </ul> <p>\u5f53\u4e00\u4e2a\u5143\u7d20\u6821\u9a8c\u901a\u8fc7\u65f6\uff0c\u8be5\u5143\u7d20\u5c06\u53ef\u4ee5\u901a\u8fc7CSS\u4f2a\u7c7b<code>:valid</code>\u8fdb\u884c\u6837\u5f0f\u5316\uff1b\u5982\u679c\u4e00\u4e2a\u5143\u7d20\u672a\u6821\u9a8c\u901a\u8fc7\uff0c\u8be5\u5143\u7d20\u5c06\u53ef\u4ee5\u901a\u8fc7CSS\u4f2a\u7c7b<code>:invalid</code>\u8fdb\u884c\u6837\u5f0f\u5316\u3002</p> <p>2\u3001\u53ef\u4ee5\u5bf9\u4ee5\u4e0b\u5143\u7d20\u8c03\u7528\u7ea6\u675f\u6821\u9a8cAPI\uff08constraint validation API\uff09\uff0c\u4f7f\u7528js\u6821\u9a8c\u6570\u636e\uff0c</p> <ul> <li>input\u3001button\u3001fieldset\u3001output\u3001select\u3001textarea</li> </ul> <p>3\u3001js\u6821\u9a8c</p> <p>\u6709\u4e00\u4e9b\u5e93\u53ef\u4ee5\u505a\u8fd9\u4ef6\u4e8b\uff1a</p> <ul> <li>\u72ec\u7acb\u7684\u5e93\uff08\u539f\u751f Javascript \u5b9e\u73b0\uff09\uff1a</li> <li>Validate.js</li> <li>jQuery \u63d2\u4ef6:</li> <li>Validation</li> <li>Valid8</li> </ul> <p>\u8868\u5355\u6821\u9a8c\u4e0d\u9700\u8981\u590d\u6742\u7684JavaScript\uff0c\u4f46\u5b83\u9700\u8981\u5bf9\u7528\u6237\u7684\u4ed4\u7ec6\u8003\u8651\u3002\u4e00\u5b9a\u8981\u8bb0\u4f4f\u5e2e\u52a9\u7528\u6237\u66f4\u6b63\u4ed6\u63d0\u4f9b\u7684\u6570\u636e\u3002\u4e3a\u6b64\uff0c\u8bf7\u52a1\u5fc5\uff1a</p> <ul> <li>\u663e\u793a\u660e\u786e\u7684\u9519\u8bef\u6d88\u606f\u3002</li> <li>\u653e\u5bbd\u8f93\u5165\u683c\u5f0f\u9650\u5236\u3002</li> <li>\u6307\u51fa\u9519\u8bef\u53d1\u751f\u7684\u4f4d\u7f6e\uff08\u7279\u522b\u662f\u5728\u5927\u578b\u8868\u5355\u4e2d\uff09\u3002</li> </ul>","tags":["\u524d\u7aef"]},{"location":"front-end/17.html-mdn-tutorial/#_15","title":"\u81ea\u5b9a\u4e49\u8868\u5355\u63a7\u4ef6","text":"<p>\u7565</p>","tags":["\u524d\u7aef"]},{"location":"front-end/17.html-mdn-tutorial/#js","title":"\u7528js\u53d1\u9001\u8868\u5355","text":"<p>\u4f7f\u7528form\u76f4\u63a5\u53d1\u9001\u6570\u636e\u4f1a\u53bb\u52a0\u8f7d\u8bf7\u6c42\u9875\u9762\u3002Ajax\u53ef\u4ee5\u5728\u6216\u91cd\u65b0\u52a0\u8f7d\u9875\u9762\u7684\u60c5\u51b5\u4e0b\u5b8c\u6210\u548c\u670d\u52a1\u7aef\u7684\u6570\u636e\u4ea4\u6362\u3002</p> <ol> <li>XMLHttpRequest+\u624b\u52a8\u5904\u7406\u8868\u5355\u6570\u636e</li> <li>XMLHttpRequest+FormData\u5bf9\u8c61\uff08\u63a8\u8350\uff09</li> <li>\u83b7\u53d6\u8868\u5355\u5143\u7d20</li> <li>\u63a5\u7ba1submit\u4e8b\u4ef6\uff0c\u7981\u7528\u9ed8\u8ba4\u5904\u7406\u64cd\u4f5c</li> <li>\u4f7f\u7528FormData\u83b7\u53d6\u8868\u5355\u6570\u636e</li> <li>\u4f7f\u7528FileReader API\u624b\u52a8\u5904\u7406\u6570\u636e</li> </ol>","tags":["\u524d\u7aef"]},{"location":"front-end/17.html-mdn-tutorial/#css","title":"\u4f7f\u7528css\u5b9a\u5236\u8868\u5355\u6837\u5f0f","text":"<p>\u7565</p>","tags":["\u524d\u7aef"]},{"location":"front-end/18.webpage-print/","title":"\u6253\u5370html\u9875\u9762","text":"","tags":["\u524d\u7aef"]},{"location":"front-end/18.webpage-print/#ptmmpx","title":"pt\u3001mm\u548cpx\u7684\u533a\u522b","text":"<p>px\u662f\u50cf\u7d20\uff0cpt\u662f\u78c5\uff081/72\u82f1\u5bf8\uff09\uff0cmm\u662f\u6beb\u7c73\uff081\u82f1\u5bf8=25.4mm\uff09</p> <p>pt\u548cmm\u662f\u7269\u7406\u957f\u5ea6\u5355\u4f4d\uff0c\u8fd9\u4e2a\u7269\u7406\u957f\u5ea6\u6307\u7684\u662f\u5370\u5237\u957f\u5ea6\uff08\u6253\u5370\u5728\u7eb8\u4e0a\u7684\u957f\u5ea6\uff09\uff0c\u4e0d\u662f\u5c4f\u5e55\u4e0a\u7684\u7269\u7406\u957f\u5ea6</p> <p>px\u548cpt\u3001mm\u4e4b\u95f4\u7684\u6362\u7b97\u8981\u501f\u52a9dpi\uff08Dots Per Inch\uff0c\u6bcf\u82f1\u5bf8\u50cf\u7d20\u6570\uff09\uff0c\u56e0\u6b64\uff0cpt = (px/dpi)*72</p>","tags":["\u524d\u7aef"]},{"location":"front-end/18.webpage-print/#demo","title":"demo","text":"<p>\u6839\u636e\u4e0a\u8ff0\u8bf4\u660e\uff0c\u5982\u679c\u4f60\u60f3\u628ahtml\u9875\u9762\u6253\u5370\u4e3apdf\uff0c\u800c\u4e14\u662f\u6b63\u6b63\u597d\u597d\u6253\u5370\u52301\u5f20A4\u7eb8\u4e0a\uff0c\u90a3\u8bf7\u6ce8\u610f\u4ee5\u4e0b\u51e0\u70b9</p> <ol> <li>\u5927\u7684\u5e03\u5c40\u4e00\u5b9a\u8981\u4f7f\u7528\u76f8\u5bf9\u8ddd\u79bb\uff0c\u786e\u4fdd\u4f60\u7684\u5e03\u5c40\u662f\u54cd\u5e94\u5f0f\u7684\uff0c\u56e0\u4e3a\u6253\u5370\u6210pdf\u7684\u65f6\u5019\u9875\u9762\u5f88\u6709\u53ef\u80fd\u4f1a\u7f29\u653e\u3002</li> <li>\u8981\u4f7f\u7528\u7269\u7406\u957f\u5ea6\uff08\u4f8b\u5982\u5b57\u53f7\u8981\u7528pt\uff0c\u7eb8\u5f20\u5927\u5c0f\u8981\u7528mm\uff09\uff0c\u5426\u5219\u5b57\u53f7\u5f88\u5bb9\u6613\u4e0d\u5408\u9002\uff0c\u6253\u5370\u65f6\u9875\u9762\u5f88\u53ef\u80fd\u4f1a\u53d1\u751f\u7f29\u653e\uff0c\u7136\u540e\u6587\u5b57\u4f1a\u6324\u505a\u4e00\u56e2\u3002</li> <li>\u65e2\u8981\u5728css\u6b63\u6587\u91cc\u628abody\u5b9a\u4e49\u6210\u548cA4\u7eb8\u4e00\u6837\u5927\uff0c\u53c8\u8981\u5728@media print\u89c4\u5219\u91cc\u628ahtml\u5b9a\u4e49\u6210\u548cA4\u7eb8\u4e00\u6837\u5927\u3002\uff08\u6211\u4e5f\u4e0d\u77e5\u9053\u4e3a\u4ec0\u4e48\uff0c\u4e0d\u4fe1\u7684\u8bdd\u53ef\u4ee5\u7528<code>border-style:solid;</code>\u9a8c\u8bc1\u4e00\u4e0b\u4e0d\u8fd9\u4e48\u5199\u80fd\u4e0d\u80fd\u6b63\u5e38\u6253\u5370\u5230\u4e00\u5f20A4\u7eb8\u4e0a\uff09</li> <li>@media print\u89c4\u5219\u91cc\u7684\u5143\u7d20\u4e00\u5b9a\u5f97\u662fcss\u6b63\u6587\u89c4\u5219\u91cc\u7684\u5143\u7d20\u7684\u7236\u5143\u7d20\uff0c\u6bd4\u5982\u4f60\u662f\u5728body\u7684\u5b50\u5143\u7d20\u91cc\u6307\u5b9a\u7684\u5927\u5c0f\uff0c\u90a3\u4e48@media print\u89c4\u5219\u91cc\u7684\u5143\u7d20\u53ef\u4ee5\u662fbody\u3002\uff08\u6211\u4e5f\u4e0d\u77e5\u9053\u4e3a\u4ec0\u4e48\uff0c\u4f46\u662f\u8fd9\u4e48\u7740\u5c31\u662f\u80fd\u884c\uff09</li> </ol> <pre><code>/* \u5b9a\u4e49\u5168\u90e8\u53d8\u91cf */\n:root{\n    --TextSize:10.5pt;  /*5\u53f7\u5b57*/\n    --TitleSize:1.5rem;\n    --SubTitleSize:1.2rem;\n    --PageWidth:210mm;  /*A4\u7eb8\u7684\u5bbd\u5ea6*/\n    --AspectRatio:1.414;/*A4\u7eb8\u7684\u9ad8\u5bbd\u6bd4*/\n}\n\n/*\u6307\u5b9a\u6253\u5370\u65f6A4\u7eb8\u7684\u5bbd\u9ad8*/\n@media print{\n    html {\n        width: 210mm;\n        height: 297mm;\n    }\n}\n\nhtml{\n    /*\u5c06root\u5b57\u53f7\u8c03\u5c0f\uff0c\u5b57\u4f53\u592a\u5927\u4f1a\u5bfc\u81f4\u6253\u5370\u65f6\u6587\u5b57\u6324\u6210\u4e00\u56e2*/\n    font-size: var(--TextSize); \n    display: flex;\n    justify-content: center;\n}\nbody{\n    width: calc(var(--PageWidth));\n    height:calc(var(--PageWidth)*var(--AspectRatio));\n    /* border-style: solid; */\n}\n</code></pre>","tags":["\u524d\u7aef"]},{"location":"graphics/32.unity-webgl-deploy/","title":"\u5982\u4f55\u90e8\u7f72unity\u751f\u6210\u7684WebGL\u5305","text":"<p>\u4f7f\u7528IIS\u4f5c\u4e3aweb\u670d\u52a1\u5668\u3002</p> <p>IIS\u7684\u5168\u79f0\u662fInternet Information Services\uff0c\u662fwindows\u81ea\u5e26\u7684web\u670d\u52a1\u5668\u3002</p>","tags":["unity"]},{"location":"graphics/32.unity-webgl-deploy/#_1","title":"\u7b2c\u4e00\u6b65\uff0c\u6253\u5305","text":"<p>File -&gt; Build Settings... -&gt; WebGL -&gt; Player Settings... -&gt; Player -&gt; Publishing Settings -&gt; Compression Format -&gt; Disabled</p> <p>\u8fd9\u91cc\u9009\u62e9\u4e0d\u538b\u7f29\u7684\u539f\u56e0\u662f\u538b\u7f29\u540e\u8def\u7531\u7684\u65f6\u5019\u4f1a\u6709\u95ee\u9898\u3002</p>","tags":["unity"]},{"location":"graphics/32.unity-webgl-deploy/#iis","title":"\u7b2c\u4e8c\u6b65\uff0c\u542f\u7528IIS","text":"<p>\u63a7\u5236\u9762\u677f -&gt; \u542f\u7528\u6216\u5173\u95edwindows\u529f\u80fd -&gt; Internet Information Services</p> <p>\u5b89\u88c5URL Rewrite\u5de5\u5177\uff0chttps://www.iis.net/downloads/microsoft/url-rewrite\u3002\uff08\u88c5\u597d\u540e\u7535\u8111\u4e0a\u4f1a\u51fa\u73b0\u4e00\u4e2a\u53eb\u505aMicrosoft Web Platform Installer\u7684\u5de5\u5177\uff0c\u53ef\u4ee5\u7528\u6765\u5b89\u88c5\u5404\u79cdwindows\u7684web\u5de5\u5177\uff09</p>","tags":["unity"]},{"location":"graphics/32.unity-webgl-deploy/#_2","title":"\u7b2c\u4e09\u6b65\uff0c\u521b\u5efa\u7f51\u7ad9","text":"<p>\u8ba1\u7b97\u673a\u7ba1\u7406 -&gt; \u670d\u52a1\u548c\u5e94\u7528\u7a0b\u5e8f -&gt; Internet Information Services(IIS)\u7ba1\u7406\u5668 -&gt; \u7f51\u7ad9 -&gt; \u53f3\u952e\u6dfb\u52a0\u7f51\u7ad9</p>","tags":["unity"]},{"location":"graphics/32.unity-webgl-deploy/#_3","title":"\u7b2c\u56db\u6b65\uff0c\u7f16\u5199\u8def\u7531\u914d\u7f6e","text":"<p>\u53c2\u8003unity\u5b98\u65b9\u7ed9\u7684demo\uff0chttps://docs.unity3d.com/2020.3/Documentation/Manual/webgl-server-configuration-code-samples.html\uff0c\u6ce8\u610f\u9009\u5bf9unity\u7684\u7248\u672c\uff0c\u91cc\u9762\u7ed9\u51fa\u4e86\u597d\u51e0\u79cdweb\u670d\u52a1\u5668\u7684\u914d\u7f6e\uff0c\u8fd9\u91cc\u4f7f\u7528<code>Server configuration for uncompressed WebGL builds (IIS)</code>\u8fd9\u4e2a\u914d\u7f6e\u3002\uff08\u548c\u4e0a\u9762\u7684\u4e0d\u538b\u7f29\u5bf9\u5e94\uff09</p>","tags":["unity"]},{"location":"graphics/33.rendering-pipeline/","title":"\u6e32\u67d3\u7ba1\u7ebf\u4ecb\u7ecd","text":"","tags":["\u56fe\u5f62"]},{"location":"graphics/33.rendering-pipeline/#_1","title":"\u4ec0\u4e48\u662f\u6e32\u67d3","text":"<p>\u5e7f\u4e49\u4e0a\u7684\u6e32\u67d3\u8fc7\u7a0b\uff0c\u65e2\u5305\u62ecCPU\u53c2\u4e0e\u90e8\u5206\uff0c\u4e5f\u5305\u62ecGPU\u53c2\u4e0e\u90e8\u5206\u3002\u901a\u8fc7\u56fe\u5f62API\u6765\u8c03\u7528GPU\u6e32\u67d3\u7ba1\u7ebf\uff0c</p> <p>\u5e7f\u4e49\u7684\u6e32\u67d3\u5206\u4e3a\u516d\u4e2a\u6b65\u9aa4</p> <ul> <li>\u5e94\u7528\u9636\u6bb5</li> <li>\u9876\u70b9\u5904\u7406\u9636\u6bb5\uff08vertex processing\uff09</li> <li>\u4e09\u89d2\u5f62\u5904\u7406\u9636\u6bb5\uff08triangle processing\uff09</li> <li>\u5149\u6805\u5316\uff08rasterization\uff09</li> <li>\u7247\u5143\u5904\u7406\uff08fragment processing\uff09</li> <li>\u5e27\u7f13\u51b2\u533a\u64cd\u4f5c\uff08framebuffer operation\uff09</li> </ul>","tags":["\u56fe\u5f62"]},{"location":"graphics/33.rendering-pipeline/#_2","title":"\u5e94\u7528\u9636\u6bb5","text":"<p>CPU\u4e3b\u5bfc\uff0c\u5f00\u53d1\u8005\u5b8c\u5168\u53ef\u63a7\uff0c\u4efb\u52a1\u662f\u8f93\u51fa\u9700\u8981\u6e32\u67d3\u7684\u56fe\u5143\uff0c\u56fe\u5143\u662f\u7ed8\u5236\u5230\u5c4f\u5e55\u4e0a\u7684\u6700\u5c0f\u51e0\u4f55\u4f53\uff0c\u4f8b\u5982\u70b9\u3001\u7ebf\u3001\u4e09\u89d2\u5f62\u7b49\u3002</p> <p>\u6a21\u578b\u4fe1\u606f\u901a\u8fc7mesh\u4f20\u7ed9GPU\uff0cmesh\u6570\u636e\u5b58\u50a8\u5728\u9876\u70b9\u4e0a\u3002</p>","tags":["\u56fe\u5f62"]},{"location":"graphics/33.rendering-pipeline/#_3","title":"\u9876\u70b9\u5904\u7406","text":"<p>\u9876\u70b9\u6570\u636e\u5305\u62ec\u5750\u6807\u3001UV\uff08\u8d34\u56fe\u5750\u6807\uff09\u3001\u989c\u8272\u3001\u6cd5\u7ebf\u7b49\u7b49\u3002</p> <p>\u9876\u70b9\u5904\u7406\u8282\u70b9\u628a\u9876\u70b9\u7a7a\u95f4\u4e0a\u7684\u6570\u636e\u8f6c\u6362\u4e3a\u5c4f\u5e55\u7a7a\u95f4\u4e0a\u7684\u6570\u636e\uff0c3D\u6a21\u578b\u8f6c\u6362\u4e3a2D\u56fe\u50cf\u3002</p> <p>\u9876\u70b9\u5904\u7406\u9636\u6bb5\u6709\u4e00\u79cd\u53ef\u7f16\u7a0b\u6e32\u67d3\u7ba1\u7ebf\uff0c\u53ebvertex shader\u3002</p> <p>shader\u662f\u6307\u4e00\u6bb5\u7528\u6765\u64cd\u4f5cGPU\u7684\u7a0b\u5e8f\u3002</p> <p>\u4ee5\u4e0b\u662fvertex shader\u7684\u5904\u7406\u8fc7\u7a0b</p> <p>local space\uff08\u672c\u5730\u7a7a\u95f4\uff09 -&gt; world space\uff08\u4e16\u754c\u7a7a\u95f4\uff09 -&gt; view space\uff08\u89c6\u56fe\u7a7a\u95f4\uff09 -&gt; clip space\uff08\u88c1\u526a\u7a7a\u95f4\uff09</p> <p>\u8fd9\u4e09\u4e2a\u8fc7\u7a0b\u5206\u522b\u53ebmodeling transformation\u3001viewing transformation\u3001projection transformation</p> <p>\u6bcf\u4e2a\u9876\u70b9\u90fd\u4f1a\u8c03\u7528\u4e00\u6b21vertex shader\u3002</p> <p>\u89c6\u56fe\u7a7a\u95f4\u6307\u7684\u662f\u76f8\u673a\u7684\u89c6\u9525\u7a7a\u95f4\uff0c\u4ece\u89c6\u56fe\u7a7a\u95f4\u5230\u88c1\u526a\u7a7a\u95f4\uff0c\u4f1a\u505a\u4e00\u4e2a\u6295\u5f71\uff0c\u5c06\u89c6\u9525\u6324\u538b\u6210\u4e00\u4e2a\u7acb\u65b9\u4f53\uff0c\u88c1\u51cf\u6389\u7acb\u65b9\u4f53\u4e4b\u5916\u7684\u4e1c\u897f\u3002vertex shader\u8f93\u51fa\u7684\u8fd8\u662f3D\u6570\u636e\uff0c\u8fd9\u4e00\u6574\u4e2a\u53d8\u6362\u4e5f\u53ebMVP\u53d8\u6362\u3002</p> <p>\u5728vertex shader\u4e2d\uff0c\u6211\u4eec\u901a\u5e38\u53ef\u4ee5\u505a\u4e00\u4e9b\u9876\u70b9\u64cd\u4f5c\uff0c\u6bd4\u5982\u4fee\u6539\u9876\u70b9\u4f4d\u7f6e\uff08\u4fee\u6539\u6a21\u578b\u5f62\u72b6\uff09\u3001\u9010\u9876\u70b9\u5149\u7167\u3001\u6539\u53d8\u9876\u70b9\u7740\u8272\u7b49\u7b49\u3002</p> <p>GPU\u63a5\u7740\u4f1a\u5c06\u88c1\u526a\u7a7a\u95f4\u8f6c\u6362\u4e3aNDC\u5750\u6807\uff08\u6807\u51c6\u8bbe\u5907\u7a7a\u95f4\u5750\u6807\uff09\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u662f\u4e00\u79cd\u5f52\u4e00\u5316\u5904\u7406\uff08perspective divide\uff09\uff0c\u5c06\u5750\u6807\u53d8\u4e3a-1\u52301\u4e4b\u95f4\uff0c\u7136\u540e\u518d\u5c06NDC\u5750\u6807\u6620\u5c04\u5230\u5c4f\u5e55\u4e0a\uff08\u89c6\u53e3\u6620\u5c04\uff0cviewport mapping\uff09</p> <p>\u9876\u70b9\u5904\u7406\u9636\u6bb5\u53ea\u6709x\u3001y\u503c\u53d1\u751f\u53d8\u5316\uff0cz\u503c\u4e0d\u53d8\u3002\uff08\u6ce8\u610f\uff0cz\u8f74\u662f\u6307\u5411\u5c4f\u5e55\u91cc\u9762\u7684\u5750\u6807\u8f74\uff0c\u4e0d\u662f\u671d\u4e0a\u7684\u5750\u6807\u8f74\uff0cy\u8f74\u662f\u671d\u4e0a\u7684\uff0cx\u8f74\u662f\u5de6\u53f3\u65b9\u5411\u7684\uff0cz\u8f74\u662f\u671d\u5c4f\u5e55\u91cc\u9762\u7684\uff0c\u6307\u7684\u662f\u6df1\u5ea6\u503c\u3002\uff09</p> <p>\u8fd9\u5c31\u5b8c\u6210\u4e86\u6574\u4e2a\u9876\u70b9\u5904\u7406\u9636\u6bb5\u3002</p>","tags":["\u56fe\u5f62"]},{"location":"graphics/33.rendering-pipeline/#_4","title":"\u4e09\u89d2\u5f62\u5904\u7406","text":"<p>\u4e09\u89d2\u5f62\u5904\u7406\u9636\u6bb5\u628a\u9876\u70b9\u7ec4\u88c5\u6210\u9762\uff0c\u9876\u70b9\u901a\u8fc7\u56fe\u5143\u88c5\u914d\uff08primitive assembly\uff09\u7ec4\u6210\u4e09\u89d2\u5f62\uff0c\u63a5\u7740\u8fdb\u884c\u9762\u7684\u5254\u9664\u5de5\u4f5c\uff08face culling\uff09\uff0c\u6bd4\u5982\u4fdd\u7559\u6b63\u9762\u5254\u9664\u80cc\u9762\uff08back culling\uff09\uff0c\u6216\u8005\u53cd\u8fc7\u6765\uff08front culling\uff09\uff0c\u6216\u8005\u4e0d\u5254\u9664\uff08none\uff09\uff0c\u8fd9\u4e9b\u90fd\u53ef\u4ee5\u81ea\u884c\u8bbe\u7f6e</p>","tags":["\u56fe\u5f62"]},{"location":"graphics/33.rendering-pipeline/#_5","title":"\u5149\u6805\u5316\u9636\u6bb5","text":"<p>\u5149\u6805\u5316\u662f\u751f\u6210\u50cf\u7d20\u7684\u8fc7\u7a0b\uff0c\u5229\u7528\u4e09\u89d2\u5f62\u7684\u9876\u70b9\u6570\u636e\uff0c\u901a\u8fc7\u63d2\u503c\u5f97\u5230\u4e09\u89d2\u5f62\u8fb9\u4e0a\u7684\u70b9\u6570\u636e\uff0c\u5c31\u53ef\u4ee5\u751f\u6210\u4e09\u89d2\u5f62\u7684\u50cf\u7d20\uff08\u5224\u65ad\u50cf\u7d20\u70b9\u4e2d\u5fc3\u662f\u5426\u88ab\u4e09\u89d2\u5f62\u8986\u76d6\uff09</p>","tags":["\u56fe\u5f62"]},{"location":"graphics/33.rendering-pipeline/#_6","title":"\u7247\u5143\u5904\u7406\u9636\u6bb5","text":"<p>\u7247\u5143\u5c31\u662f\u50cf\u7d20\uff0cdirect3d\u4e2d\u79f0\u4e3apixel\uff08\u50cf\u7d20\uff09\uff0copengl\u4e2d\u79f0\u4e3afragment\uff08\u7247\u5143\uff09</p> <p>\u7247\u5143\u5904\u7406\u9636\u6bb5\u4e5f\u6709\u4e00\u79cd\u53ef\u7f16\u7a0b\u6e32\u67d3\u7ba1\u7ebf\uff0cfragment shader\uff0c\u8fdb\u884c\u9010\u7247\u5143\u7684\u7740\u8272\uff08per-pixel shading\uff09\uff0c\u7247\u5143\u7740\u8272\u4e5f\u662f\u901a\u8fc7\u63d2\u503c\u8fdb\u884c\u7684\uff08\u63d2\u503c\u5c31\u662f\u5728\u4e24\u4e2a\u503c\u4e2d\u95f4\u5747\u5300\u5730\u63d2\u5165\u503c\uff09\uff0c\u5148\u901a\u8fc7\u63d2\u503c\u5f97\u5230\u8fb9\u4e0a\u50cf\u7d20\u7684\u989c\u8272\uff0c\u7136\u540e\u518d\u901a\u8fc7\u63d2\u503c\u5f97\u5230\u4e2d\u95f4\u50cf\u7d20\u7684\u989c\u8272\u3002</p> <p>fragment shader\u9664\u4e86\u9010\u7247\u5143\u7740\u8272\uff0c\u8fd8\u6709\u7eb9\u7406\u91c7\u6837\uff08texture sampling\uff09\u3001\u5149\u7167\u8ba1\u7b97\uff08lighting\uff09\u3001\u591a\u7eb9\u7406\u6df7\u5408\uff08multi-texture blending\uff09\u3001refelction\u3001fogging\u7b49\u7b49\u3002</p> <p>\u6bcf\u4e2a\u7247\u5143\u90fd\u4f1a\u6267\u884c\u4e00\u6b21fragment shader</p>","tags":["\u56fe\u5f62"]},{"location":"graphics/33.rendering-pipeline/#_7","title":"\u5e27\u7f13\u51b2\u533a\u64cd\u4f5c","text":"<p>\u5bf9\u7740\u8272\u7684\u50cf\u7d20\u8fdb\u884c\u8f93\u51fa\u5408\u5e76\uff0c\u6bcf\u4e2a\u50cf\u7d20\u90fd\u8981\u7ecf\u8fc7\u4e00\u7cfb\u5217\u6d4b\u8bd5\uff0c\u88c1\u526a\u6d4b\u8bd5\uff08scissor test\uff09\u3001\u6a21\u677f\u6d4b\u8bd5\uff08stencil test\uff09\u3001\u6df1\u5ea6\u6d4b\u8bd5\uff08depth test\uff09\uff0c\u6765\u786e\u5b9a\u5b83\u80fd\u5426\u5728\u5c4f\u5e55\u4e0a\u663e\u793a\uff0c\u901a\u8fc7\u6240\u6709\u6d4b\u8bd5\u7684\u50cf\u7d20\uff0c\u4f1a\u548c\u5df2\u7ecf\u5199\u5165\u5e27\u7f13\u51b2\u533a\u7684\u50cf\u7d20\u6df7\u5408\uff08blending\uff09\uff0c\u7136\u540e\u518d\u5199\u5165\u5e27\u7f13\u51b2\u533a\u4e2d\u3002</p> <p>\u901a\u8fc7\u6a21\u677f\u6d4b\u8bd5\u540e\u5199\u5165\u6a21\u677f\u7f13\u51b2\u533a\uff08stencil buffer\uff09\uff0c\u901a\u8fc7\u6df1\u5ea6\u6d4b\u8bd5\u540e\u5199\u5165\u6df1\u5ea6\u7f13\u51b2\u533a\uff08depth buffer\uff09\uff0c\u901a\u8fc7\u6df7\u5408\u540e\u5199\u5165\u989c\u8272\u7f13\u51b2\u533a\uff08color buffer\uff09\u3002\u8fd9\u4e9b\u7f13\u51b2\u533a\u7edf\u79f0\u4e3a\u5e27\u7f13\u51b2\u533a\u3002\u5e27\u7f13\u51b2\u533a\u5b58\u50a8\u7684\u5c31\u662f\u6211\u4eec\u5728\u5c4f\u5e55\u4e2d\u770b\u5230\u7684\u56fe\u50cf\u3002</p> <p>\u53ea\u8981\u6709\u4e00\u4e2a\u6d4b\u8bd5\u6ca1\u901a\u8fc7\uff0c\u50cf\u7d20\u5c31\u4f1a\u88ab\u820d\u5f03\u3002</p> <p>\u88c1\u526a\u6d4b\u8bd5\u5728\u6e38\u620f\u4e2d\u4f7f\u7528\u8f83\u5c11\uff0c\u5b83\u5141\u8bb8\u5f00\u53d1\u8005\u8bbe\u7f6e\u4e00\u4e2a\u88c1\u526a\u6846\uff0c\u88c1\u526a\u6846\u5185\u7684\u50cf\u7d20\u901a\u8fc7\u6d4b\u8bd5\uff0c\u88c1\u526a\u6846\u5916\u7684\u50cf\u7d20\u88ab\u5254\u9664\u3002</p> <p>\u8fd8\u6709\u4e00\u79cd\u900f\u660e\u5ea6\u6d4b\u8bd5\uff0c\u7ed9\u5b9a\u4e00\u4e2a\u900f\u660e\u5ea6\u9608\u503c\uff0c\u50cf\u7d20\u7684alpha\u503c\u7b26\u5408\u9608\u503c\u8303\u56f4\uff0c\u901a\u8fc7\u6d4b\u8bd5\uff0c\u53cd\u4e4b\u88ab\u5254\u9664\u3002</p> <p>\u6df1\u5ea6\u6d4b\u8bd5\uff0c\u6df1\u5ea6\u6d4b\u8bd5\u5c31\u662f\u8981\u4fdd\u8bc1\u7269\u4f53\u7684\u7ed8\u5236\u987a\u5e8f\uff0c\u6ca1\u6709\u6df1\u5ea6\u6d4b\u8bd5\u7684\u65f6\u5019\uff0c\u9700\u8981\u7a0b\u5e8f\u5458\u5bf9\u7269\u4f53\u7684\u7ed8\u5236\u987a\u5e8f\u6392\u5e8f\u6392\u5e8f\u3002\u79bb\u6444\u50cf\u673a\u8d8a\u8fd1\u7684\u50cf\u7d20\u6df1\u5ea6\u503c\u8d8a\u5c0f\uff0c\u53cd\u4e4b\u6df1\u5ea6\u503c\u8d8a\u5927\u3002\u6df1\u5ea6\u6d4b\u8bd5\u5c31\u662f\u50cf\u7d20\u4e4b\u95f4\u7684\u6bd4\u8f83\uff0c\u7559\u4e0b\u6df1\u5ea6\u503c\u5c0f\u7684\uff0c\u4e22\u6389\u6df1\u5ea6\u503c\u5927\u7684\u3002\u5e38\u7528\u7684\u6df1\u5ea6\u503c\u662f0~1\u4e4b\u95f4\u7684\u503c\u3002</p> <p>\u6a21\u677f\u6d4b\u8bd5\uff0c\u7ed8\u5236\u6a21\u578b\u65f6\u4f1a\u4ea7\u751f\u91cd\u590d\u7ed8\u5236\uff0c\u6a21\u677f\u6d4b\u8bd5\u8ba9\u540c\u4e00\u4e2a\u4f4d\u7f6e\u7684\u50cf\u7d20\u53ea\u63a5\u53d7\u7b2c\u4e00\u6b21\u7ed8\u5236\uff0c\u6a21\u677f\u503c\u662f0~255\u7684\u6570\u5b57\uff0c\u521d\u59cb\u4e3a0\u3002\u6a21\u677f\u6d4b\u8bd5\u5c31\u662f\u8bbe\u7f6e\u4e00\u4e2a\u6a21\u677f\u503c\uff0c\u7136\u540e\u8ba9\u50cf\u7d20\u7684\u6a21\u677f\u503c\u548c\u8bbe\u7f6e\u503c\u6bd4\u8f83\uff0c\u53ea\u6709\u6bd4\u8f83\u7ed3\u679c\u7b26\u5408\u9884\u671f\u65f6\u624d\u4f1a\u7ed8\u5236\uff0c\u7ed8\u5236\u5b8c\u6210\u540e\u5c06\u8bbe\u7f6e\u503c\u66f4\u65b0\u4e3a\u50cf\u7d20\u7684\u6a21\u677f\u503c\u3002</p> <p>\u6df7\u5408\u662f\u628a\u4e24\u4e2a\u4e0d\u540c\u989c\u8272\u7684\u50cf\u7d20\u901a\u8fc7\u67d0\u79cd\u89c4\u5219\u53e0\u52a0\u3002</p>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/75.games101-1-transform-rasterization/","title":"games101 \u4e00\u3001\u53d8\u6362\u548c\u5149\u6805\u5316","text":"","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/75.games101-1-transform-rasterization/#transform","title":"\u53d8\u6362\uff08Transform\uff09","text":"<p>\u6709\u51e0\u79cd\u5e38\u89c1\u7684\u53d8\u6362</p> <ul> <li>\u7f29\u653e\uff08Scale\uff09</li> <li>\u7ffb\u8f6c\uff08Reflection\uff09</li> <li>\u5207\u53d8\uff08Shear\uff09</li> <li>\u65cb\u8f6c\uff08Rotate\uff09</li> </ul>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/75.games101-1-transform-rasterization/#rotate","title":"\u65cb\u8f6c\uff08Rotate\uff09","text":"<p>\u65cb\u8f6c\u77e9\u9635</p> \\[ \\begin{bmatrix} \\cos\\theta &amp; -\\sin\\theta\\\\ \\sin\\theta &amp; \\cos\\theta  \\end{bmatrix} \\] <p>\u4e00\u4e2a\u7ed3\u8bba\uff1a\u65cb\u8f6c\u77e9\u9635\u7684\u9006\u77e9\u9635\u7b49\u4e8e\u5b83\u7684\u8f6c\u7f6e\u77e9\u9635\uff08\u6211\u4eec\u628a\u8fd9\u6837\u7684\u77e9\u9635\u79f0\u4e3a\u6b63\u4ea4\u77e9\u9635\uff09\uff0c\u5373</p> \\[ R^{-1} = R^T \\]","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/75.games101-1-transform-rasterization/#shear","title":"\u5207\u53d8\uff08Shear\uff09","text":"<p>\u4ee5\u4e0b\u662f\u4e00\u4e2ax\u65b9\u5411\u4e0a\u5207\u53d8\u7684\u4f8b\u5b50\uff08\u8fd9\u662f\u4e00\u4e2a2\u7ef4\u53d8\u6362\uff09</p> <pre><code>\u53d8\u6362\u524d\n\n   ^ y\n   |\n 1 | +-----+\n   | |     |\n 0 | +-----+\n   +--------------&gt; x\n\n\u53d8\u6362\u540e\n\n   ^ y\n   |\n 1 |    /-----/      \u2190 \u9876\u8fb9\u5411\u53f3\u5e73\u79fb k\n   |   /     /\n 0 | +-----/\n   +--------------&gt; x\n</code></pre> <p>\u8868\u793a\u4e3a\u77e9\u9635\u4e58\u6cd5\uff1a</p> \\[ \\begin{bmatrix} x'\\\\ y' \\end{bmatrix} = \\begin{bmatrix} 1 &amp; a\\\\ 0 &amp; 1 \\end{bmatrix} \\begin{bmatrix} x\\\\ y \\end{bmatrix} \\]","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/75.games101-1-transform-rasterization/#homogeneous-coordinatesaffine-transformation","title":"\u9f50\u6b21\u5750\u6807\uff08Homogeneous Coordinates\uff09\u548c\u4eff\u5c04\u53d8\u6362\uff08Affine Transformation\uff09","text":"<p>\uff08\u4e0b\u9762\u4ee52\u7ef4\u53d8\u6362\u4e3a\u4f8b\u6765\u8bf4\u660e\u8fd9\u4e2a\u95ee\u9898\uff09</p> <p>\u9f50\u6b21\u5750\u6807\uff08Homogeneous Coordinates\uff09</p> <p>\u9f50\u6b21\u5750\u6807\u7684\u5f15\u5165\u662f\u4e3a\u4e86\u89e3\u51b3\u7ebf\u6027\u53d8\u6362\u65e0\u6cd5\u8868\u793a\u5e73\u79fb\u7684\u95ee\u9898\uff0c\u6ca1\u6709\u9f50\u6b21\u5750\u6807\u7684\u60c5\u51b5\u4e0b\uff0c\u4e00\u4e2a\u5e26\u6709\u5e73\u79fb\u7684\u53d8\u5316\u5fc5\u987b\u8868\u793a\u4e3a\u4ee5\u4e0b\u5f62\u5f0f\uff1a</p> \\[ \\vec{y} = A\\vec{x} + \\vec{b} \\] <p>\u5c55\u5f00\u4e3a\uff1a</p> \\[ \\begin{bmatrix} x'\\\\ y' \\end{bmatrix} = \\begin{bmatrix} a &amp; b\\\\ c &amp; d \\end{bmatrix} \\begin{bmatrix} x\\\\ y \\end{bmatrix} + \\begin{bmatrix} t_x\\\\ t_y \\end{bmatrix} \\] <p>\u4e3a\u4e86\u7b80\u5316\u8868\u793a\u548c\u8ba1\u7b97\uff0c\u6211\u4eec\u5f15\u5165\u9f50\u6b21\u5750\u6807\uff0c\u5c06\u4e8c\u7ef4\u5411\u91cf\u6269\u5c55\u4e3a\u4e09\u7ef4\u5411\u91cf\uff1a</p> <ul> <li>\u5c06\u4e8c\u7ef4\u7684\u70b9 \\((x, y)\\) \u6269\u5c55\u4e3a \\((x, y, 1)\\)</li> <li>\u5c06\u4e8c\u7ef4\u7684\u5411\u91cf \\((x, y)\\) \u6269\u5c55\u4e3a \\((x, y, 0)\\)</li> </ul> <p>\u4ee5\u4e0b\u662f\u4e00\u4e2a\u5229\u7528\u9f50\u6b21\u5750\u6807\u5bf9\u4e00\u4e2a\u70b9\u505a\u5e73\u79fb\u53d8\u6362\u7684\u4f8b\u5b50\uff1a</p> \\[ \\begin{pmatrix} x'\\\\ y'\\\\ w' \\end{pmatrix} = \\begin{pmatrix} 1 &amp; 0 &amp; t_x\\\\ 0 &amp; 1 &amp; t_y\\\\ 0 &amp; 0 &amp; 1 \\end{pmatrix} \\begin{pmatrix} x\\\\ y\\\\ 1 \\end{pmatrix} = \\begin{pmatrix} x+t_x\\\\ y+t_y\\\\ 1 \\end{pmatrix} \\] <p>\u4e3a\u4ec0\u4e48\u5411\u91cf\u7684\u7b2c\u4e09\u7ef4\u662f0\u5462\uff1f\u662f\u56e0\u4e3a\u5411\u91cf\u5177\u6709\u5e73\u79fb\u4e0d\u53d8\u6027\uff0c\u5982\u679c\u662f\u5bf9\u4e00\u4e2a\u5411\u91cf\u505a\u53d8\u6362\uff0c\u4e3a\u4e86\u4f7f\u5411\u91cf\u4e0d\u53d7\u5e73\u79fb\u53d8\u6362\u7684\u5f71\u54cd\uff0c\u5b83\u7684\u7b2c\u4e09\u7ef4\u5fc5\u987b\u662f0\u3002</p> <p>\u5728\u8fd9\u4e2a\u5b9a\u4e49\u4e0b\uff08\u70b9\u7684\u7b2c\u4e09\u7ef4\u662f1\uff0c\u5411\u91cf\u7684\u7b2c\u4e09\u7ef4\u662f0\uff09\uff0c\u4ee5\u4e0b\u8fd9\u4e9b\u64cd\u4f5c\u90fd\u662f\u6709\u6548\u7684\uff1a</p> <ol> <li>vector + vector = vector</li> <li>point - point = vector</li> <li>point + vector = point</li> <li>point + point = ??</li> </ol> <p>\u5bf9\u4e8e\u7b2c\u56db\u79cd\u60c5\u51b5\uff0c\u7531\u4e8e\u4e24\u4e2a\u70b9\u76f8\u52a0\u540e\uff0c\u7b2c\u4e09\u7ef4\u53d8\u6210\u4e862\uff0c\u4e0d\u518d\u7b26\u5408\u9f50\u6b21\u5750\u6807\u7684\u5b9a\u4e49\uff0c\u56e0\u6b64\uff0c\u4eba\u4eec\u5bf9\u8fd9\u79cd\u60c5\u51b5\u505a\u4e86\u6269\u5145\uff0c\u89c4\u5b9a\uff1a</p> \\[ \\begin{pmatrix} x\\\\ y\\\\ w \\end{pmatrix} \\text{ is the 2D point } \\begin{pmatrix} x/w\\\\ y/w\\\\ 1 \\end{pmatrix}, \\quad w\\neq 0 \\] <p>\u5176\u5b9e\u5c31\u662f\u4e24\u4e2a\u70b9\u76f8\u52a0\u7684\u7ed3\u679c\u662f\u8fd9\u4e24\u4e2a\u70b9\u7684\u4e2d\u70b9</p> <p>\u8fd9\u4e5f\u610f\u5473\u7740\uff0c\u6211\u4eec\u5bf9\u9f50\u6b21\u5750\u6807\u4e0b\u7684\u4e00\u4e2a\u70b9\u76844\u4e2a\u7ef4\u5ea6\u90fd\u4e58\u4ee5\u4e00\u4e2a\u6570k\uff0c\u5b83\u548c\u539f\u6765\u7684\u70b9\u662f\u540c\u4e00\u4e2a\u70b9\uff0c\u540e\u9762\u7684\u900f\u89c6\u6295\u5f71\u4f1a\u7528\u5230\u8fd9\u4e2a\u6027\u8d28\u3002</p> <p>\u4eff\u5c04\u53d8\u6362\uff08Affine Transformation\uff09</p> <p>\u4e0a\u9762\u63d0\u5230\u7684\u7ebf\u6027\u53d8\u6362+\u5e73\u79fb\uff08Translation\uff09\u7684\u7ec4\u5408\u53eb\u505a\u4eff\u5c04\u53d8\u6362</p> \\[ \\begin{bmatrix} x'\\\\ y' \\end{bmatrix} = \\begin{bmatrix} a &amp; b\\\\ c &amp; d \\end{bmatrix} \\begin{bmatrix} x\\\\ y \\end{bmatrix} + \\begin{bmatrix} t_x\\\\ t_y \\end{bmatrix} \\] <p>\u5229\u7528\u9f50\u6b21\u5750\u6807\uff0c\u53ef\u4ee5\u5c06\u4eff\u5c04\u53d8\u6362\u8868\u793a\u4e3a\u77e9\u9635\u4e58\u6cd5\uff1a</p> \\[ \\begin{pmatrix} x'\\\\ y'\\\\ 1 \\end{pmatrix} = \\begin{pmatrix} a &amp; b &amp; t_x\\\\ c &amp; d &amp; t_y\\\\ 0 &amp; 0 &amp; 1 \\end{pmatrix} \\begin{pmatrix} x\\\\ y\\\\ 1 \\end{pmatrix} \\]","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/75.games101-1-transform-rasterization/#3","title":"3\u7ef4\u53d8\u6362","text":"<p>\u5c06\u9f50\u6b21\u5750\u6807\u5f15\u51653\u7ef4\u7a7a\u95f4\u53ef\u5f973\u7ef4\u53d8\u6362\uff0c\u5176\u57fa\u672c\u5f62\u5f0f\u4e3a\uff1a</p> \\[ \\begin{pmatrix} x'\\\\ y'\\\\ z'\\\\ 1 \\end{pmatrix} = \\begin{pmatrix} a &amp; b &amp; c &amp; t_x\\\\ d &amp; e &amp; f &amp; t_y\\\\ g &amp; h &amp; i &amp; t_z\\\\ 0 &amp; 0 &amp; 0 &amp; 1 \\end{pmatrix} \\begin{pmatrix} x\\\\ y\\\\ z\\\\ 1 \\end{pmatrix} \\]","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/75.games101-1-transform-rasterization/#3_1","title":"3\u7ef4\u65cb\u8f6c","text":"<p>\u6b27\u62c9\u89d2\u65cb\u8f6c</p> <p>\u5c06\u4efb\u610f\u4e00\u4e2a3\u7ef4\u65cb\u8f6c\u5206\u89e3\u4e3a\u7ed5x\u8f74\u3001y\u8f74\u3001z\u8f74\u7684\u65cb\u8f6c\u7684\u7ec4\u5408</p> \\[ \\vec{R}_{xyz}(\\alpha,\\beta,\\gamma) = \\vec{R}_x(\\alpha)\\,\\vec{R}_y(\\beta)\\,\\vec{R}_z(\\gamma) \\] <p>\\(\\alpha\\)\u3001\\(\\beta\\)\u3001\\(\\gamma\\)\u53c8\u79f0\u4e3a\u6b27\u62c9\u89d2\uff08Euler Angles\uff09</p> <p>\u8fd9\u4e09\u79cd\u65cb\u8f6c\u7c7b\u4f3c\u98de\u673a\u7684\u6eda\u8f6c\uff08Roll\uff09\u3001\u4fef\u4ef0\uff08Pitch\uff09\u3001\u504f\u822a\uff08Yaw\uff09</p> <p>\u6b27\u62c9\u89d2\u65cb\u8f6c\u53d8\u6362\u4e0d\u592a\u65b9\u4fbf\u505a\u63d2\u503c\uff0c\u56db\u5143\u6570\u53d8\u6362\u53ef\u4ee5\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002</p> <p>\u7f57\u5fb7\u91cc\u683c\u65af\u65cb\u8f6c\u516c\u5f0f\uff08Rodrigues' rotation formula\uff09</p> <p>\u5c06\u7ed5\u4efb\u610f\u8fc7\u539f\u70b9\u7684\u8f74 \\(\\vec{n}=(n_x,n_y,n_z)\\) \u65cb\u8f6c \\(\\alpha\\) \u89d2\u5ea6\u7684\u65cb\u8f6c\u77e9\u9635\u8868\u793a\u4e3a\u4ee5\u4e0b\u5f62\u5f0f\uff08\u5176\u4e2d\uff0c\\(\\vec{I}\\) \u662f\u5355\u4f4d\u77e9\u9635\uff09\uff1a</p> \\[ \\vec{R}(\\vec{n},\\alpha) = \\cos(\\alpha)\\,\\vec{I} + \\bigl(1-\\cos(\\alpha)\\bigr)\\,\\vec{n}\\,\\vec{n}^{\\mathsf T} + \\sin(\\alpha)\\, \\underbrace{\\begin{pmatrix} 0 &amp; -n_z &amp;  n_y\\\\ n_z &amp;  0  &amp; -n_x\\\\ -n_y &amp; n_x &amp; 0 \\end{pmatrix}}_{\\vec{N}} \\] <p>\u56db\u5143\u6570\u65cb\u8f6c</p> <p>\u56db\u5143\u6570\u662f\u4e00\u79cd\u4ee3\u6570\u7ed3\u6784\uff0c\u53ef\u4ee5\u7528\u6765\u8868\u793a3\u7ef4\u7a7a\u95f4\u4e2d\u7684\u65cb\u8f6c\u3002</p> <p>\u548c\u7f57\u5fb7\u91cc\u683c\u65af\u516c\u5f0f\u4e00\u6837\uff0c\u56db\u5143\u6570\u65cb\u8f6c\u540c\u6837\u662f\u8868\u793a\u7ed5\u4efb\u610f\u8fc7\u539f\u70b9\u7684\u8f74 \\(\\vec{n}=(n_x,n_y,n_z)\\) \u65cb\u8f6c \\(\\alpha\\) \u89d2\u5ea6\u3002</p> <p>\u8fd9\u91cc\u7ed9\u51fa\u56db\u5143\u6570\u7684\u57fa\u672c\u5f62\u5f0f:</p> \\[ \\vec{q} = x i + y j + z k + w \\] <p>\u7b80\u8bb0\u4e3a\uff1a</p> \\[ \\vec{q} = (u, w) \\] <p>\u7eaf\u56db\u5143\u6570\u662f\u6307\u628a\u4e00\u4e2a\u5411\u91cf \\((x, y, z)\\) \u8868\u793a\u4e3a\u56db\u5143\u6570\u7684\u5f62\u5f0f\uff1a</p> \\[\\vec{v} = (v, 0) = x i + y j + z k + 0\\] <p>\u8fd9\u91cc\u7701\u7565\u56db\u5143\u6570\u7684\u6027\u8d28\u548c\u8fd0\u7b97\u89c4\u5219\u3002</p> <p>\u4ee5\u4e0b\u662f\u56db\u5143\u6570\u65cb\u8f6c\u7684\u516c\u5f0f\uff1a</p> \\[ R_q(\\vec{v}) = q\\,\\vec{v}\\,q^{-1} = q\\,\\vec{v}\\,q^{\\star} = \\cos(2\\theta)\\,\\vec{v}   + \\bigl(1-\\cos(2\\theta)\\bigr)\\,(\\vec{n}\\!\\cdot\\!\\vec{v})\\,\\vec{n}   + \\sin(2\\theta)\\,(\\vec{n}\\!\\times\\!\\vec{v}) \\] <p>\\(R_q(\\vec{v})\\) \u5c06\u5411\u91cf\u7ed5\u8f74 \\(\\vec{n}\\) \u65cb\u8f6c \\(2\\theta\\) \u89d2\u5ea6\uff0c\\(\\vec{v}\\)\u662f\u628a\u5411\u91cf\u8868\u793a\u4e3a\u7eaf\u56db\u5143\u6570\u7684\u5f62\u5f0f\uff08\\(q^{\\star}\\) \u662f\u56db\u5143\u6570 \\(q\\) \u7684\u5171\u8f6d\u56db\u5143\u6570\u3002\\(q^{-1}\\) \u662f\u56db\u5143\u6570 \\(q\\) \u7684\u9006\u56db\u5143\u6570\uff09</p> <p>\u4e3a\u4e86\u6700\u7ec8\u65cb\u8f6c\u7684\u89d2\u5ea6\u662f \\(\\theta\\)\uff0c\u6211\u4eec\u9700\u8981\u5c06\u56db\u5143\u6570\u5b9a\u4e49\u4e3a\uff1a</p> \\[q = \\left(\\sin(\\theta/2)\\vec{n}, \\cos(\\theta/2)\\right)\\] <p>\u8ba1\u7b97\u7ed3\u679c\u4e5f\u662f\u4e2a\u7eaf\u56db\u5143\u6570\uff0c\u7b49\u4ef7\u4e8e\u5411\u91cf</p>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/75.games101-1-transform-rasterization/#_1","title":"\u6b27\u62c9\u89d2","text":"<p>\u6b27\u62c9\u89d2\u662f\u4e00\u79cd\u4e09\u7ef4\u59ff\u6001\u7684\u63cf\u8ff0\u65b9\u6cd5\uff0c\u5b83\u8868\u793a\u7684\u662f\u6309\u67d0\u79cd\u56fa\u5b9a\u987a\u5e8f\u7684\u4e09\u6b21\u65cb\u8f6c\u52a8\u4f5c\u3002</p> <p>\u6b27\u62c9\u89d2\u6309\u7167\u65cb\u8f6c\u8f74\u548c\u65cb\u8f6c\u987a\u5e8f\u5206\u4e3a\u7ecf\u5178\u6b27\u62c9\u89d2\uff08Proper Euler Angle\uff09\u548c\u6cf0\u7279\u5e03\u83b1\u6069\u89d2\uff08Tait\u2013Bryan angles\uff09\uff0c\u5171 12\u79cd\u65cb\u8f6c\u65b9\u5f0f\u3002</p> <p>\u7ecf\u5178\u6b27\u62c9\u89d2\u53ea\u7ed5\u4e24\u4e2a\u8f74\u65cb\u8f6c\uff0c\u5e76\u4e14\u7b2c\u4e00\u4e2a\u65cb\u8f6c\u8f74\u548c\u7b2c\u4e09\u4e2a\u65cb\u8f6c\u8f74\u76f8\u540c\uff0c\u5b83\u7684\u516d\u79cd\u65cb\u8f6c\u987a\u5e8f\u5206\u522b\u662f\uff1az-x-z, x-y-x, y-z-y, z-y-z, x-z-x, y-x-y</p> <p>\u6cf0\u7279-\u5e03\u83b1\u6069\u89d2\u4f7f\u7528\u4e09\u4e2a\u65cb\u8f6c\u8f74\uff0c\u5b83\u7684\u516d\u79cd\u65cb\u8f6c\u987a\u5e8f\u5206\u522b\u662f\uff1ax-y-z, y-z-x, z-x-y, x-z-y, z-y-x, y-x-z</p> <p>\u6309\u7167\u65cb\u8f6c\u7684\u5750\u6807\u7cfb\u5206\u4e3a\u4e24\u79cd\u65cb\u8f6c\u65b9\u5f0f\uff1a</p> <p>\u5185\u65cb\uff08intrinsic rotation\uff09\uff0c\u662f\u6bcf\u6b21\u90fd\u76f8\u5bf9\u4e8e\u53d8\u6362\u540e\u7684\u5750\u6807\u7cfb\uff08\u5373\u81ea\u8eab\u7684\u3001\u672c\u5730\u7684\u5750\u6807\u7cfb\uff09\u505a\u65cb\u8f6c\uff0c\u53c8\u53eb\u52a8\u6001\u65cb\u8f6c\u3002</p> <p>\u5916\u65cb\uff08extrinsic rotation\uff09\uff0c\u662f\u6bcf\u6b21\u90fd\u76f8\u5bf9\u521d\u59cb\u7684\uff08\u56fa\u5b9a\u7684\uff09\u5750\u6807\u7cfb\u505a\u53d8\u6362\uff0c\u53c8\u53eb\u9759\u6001\u65cb\u8f6c\u3002</p> <p>\u5185\u65cb\u548c\u5916\u65cb\u6709\u4e00\u79cd\u7b49\u4ef7\u5173\u7cfb\uff0c\u4f8b\u5982\uff0c\u5185\u65cb z-x-y \u7b49\u4ef7\u4e8e\u5916\u65cb y-x-z\uff0c\u7279\u70b9\u662f\u7b2c\u4e00\u6b21\u548c\u6700\u540e\u4e00\u6b21\u65cb\u8f6c\u7684\u8f74\u98a0\u5012\u4e86\u987a\u5e8f\uff0c\u8fd9\u4e2a\u5173\u7cfb\u5bf912\u79cd\u65cb\u8f6c\u65b9\u5f0f\u90fd\u6210\u7acb\u3002</p>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/75.games101-1-transform-rasterization/#gimbal-lock","title":"\u4e07\u5411\u8282\u6b7b\u9501\uff08Gimbal Lock\uff09\u95ee\u9898","text":"<p>\u5bf9\u4e8e\u6cf0\u7279\u5e03\u83b1\u6069\u89d2\uff08Tait\u2013Bryan angles\uff09\uff0c\u4f8b\u5982\uff0c\u4ee5x-y-z \u5916\u65cb\u4e3a\u4f8b\uff0c\u5f53\u7ed5y\u8f74\u65cb\u8f6c90\u5ea6\u540e\uff0c\u8fd9\u65f6\u7ed5z\u8f74\u65cb\u8f6c\u548c\u6700\u5f00\u59cb\u7ed5x\u8f74\u7684\u65cb\u8f6c\u5b9e\u9645\u4e0a\u9020\u6210\u7684\u6548\u679c\u662f\u76f8\u540c\u7684\uff0c\u8fd9\u662f\u4e00\u79cd\u4e07\u5411\u8282\u6b7b\u9501\uff08Gimbal Lock\uff09\u73b0\u8c61\u3002</p> <p>\u5bf9\u4e8e\u7ecf\u5178\u6b27\u62c9\u89d2\uff08Proper Euler Angle\uff09\uff0c\u4f8b\u5982\uff0c\u4ee5z-x-z \u5916\u65cb\u4e3a\u4f8b\uff0c\u5f53\u7ed5x\u8f74\u65cb\u8f6c0\u5ea6\u6216180\u5ea6\u540e\uff0c\u8fd9\u65f6\u7ed5z\u8f74\u65cb\u8f6c\u548c\u6700\u5f00\u59cb\u7ed5z\u8f74\u7684\u65cb\u8f6c\u5b9e\u9645\u4e0a\u9020\u6210\u7684\u6548\u679c\u662f\u76f8\u540c\u7684\uff0c\u8fd9\u4e5f\u662f\u4e00\u79cd\u4e07\u5411\u8282\u6b7b\u9501\uff08Gimbal Lock\uff09\u73b0\u8c61\u3002</p> <p>\u7f51\u4e0a\u6709\u5f88\u591a\u62ff\u4e07\u5411\u9640\u87ba\u4eea\u6765\u89e3\u91ca\u8fd9\u4e2a\u95ee\u9898\u7684\u6587\u7ae0\uff0c\u6beb\u65e0\u7591\u95ee\uff0c\u5168\u662f\u9519\u8bef\u7684\uff0c\u4e07\u5411\u9640\u87ba\u4eea\u7684\u4e07\u5411\u8282\u6b7b\u9501\u95ee\u9898\u548c\u6b27\u62c9\u89d2\u7684\u4e07\u5411\u8282\u6b7b\u9501\u95ee\u9898\u662f\u4e24\u4e2a\u5b8c\u5168\u4e0d\u540c\u7684\u6982\u5ff5\uff0c\u4e07\u5411\u9640\u87ba\u4eea\u7684\u4e07\u5411\u8282\u6b7b\u9501\u95ee\u9898\u662f\u56e0\u4e3a\u673a\u68b0\u7ed3\u6784\u7684\u9650\u5236\u800c\u4ea7\u751f\u7684\u65cb\u8f6c\u81ea\u7531\u5ea6\u53d7\u9650\u95ee\u9898\uff0c\u800c\u6b27\u62c9\u89d2\u7684\u4e07\u5411\u8282\u6b7b\u9501\u95ee\u9898\u662f\u7531\u7279\u6b8a\u65cb\u8f6c\u987a\u5e8f\u548c\u89d2\u5ea6\u7ec4\u5408\u5bfc\u81f4\u7684\u65cb\u8f6c\u5197\u4f59\u95ee\u9898\u3002</p>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/75.games101-1-transform-rasterization/#viewing-transformation","title":"\u89c2\u6d4b\u53d8\u6362\uff08Viewing Transformation\uff09","text":"<p>\u4e3b\u8981\u5185\u5bb9\uff1a</p> <ul> <li>View (\u89c6\u56fe) / Camera transformation</li> <li>Projection (\u6295\u5f71) transformation<ul> <li>Orthographic (\u6b63\u4ea4) projection</li> <li>Perspective (\u900f\u89c6) projection</li> </ul> </li> </ul> <p>\u6e32\u67d3\u4e00\u4e2a\u573a\u666f\u603b\u5171\u9700\u89813\u6b65</p> <ol> <li>Model transformation\uff1a\u628a\u573a\u666f\u642d\u5efa\u597d</li> <li>View transformation\uff1a\u627e\u4e2a\u62cd\u6444\u89d2\u5ea6\uff0c\u628a\u573a\u666f\u653e\u5230\u6444\u50cf\u673a\u524d\u9762</li> <li>Projection transformation\uff1a\u62cd\u7167\uff01\u628a3D\u573a\u666f\u6295\u5f71\u52302D\u5e73\u9762\u4e0a</li> </ol> <p>\u8fd9\u4e09\u6b65\u7edf\u79f0 MVP \u53d8\u6362\uff0c\u672c\u8bfe\u7a0b\u91cd\u70b9\u8bb2\u89e3 View \u548c Projection \u53d8\u6362</p>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/75.games101-1-transform-rasterization/#view-camera-transformation","title":"View / Camera transformation","text":"<p>\u5b9a\u4e49\u76f8\u673a</p> <ol> <li>Position \\(\\vec{e}\\) \uff08\u6444\u50cf\u673a\u7684\u4f4d\u7f6e\uff09</li> <li>Look-at / gaze direction \\(\\hat{g}\\)\uff08\u6444\u50cf\u673a\u7684\u671d\u5411\uff0cg\u662f\u5355\u4f4d\u5411\u91cf\uff09</li> <li>Up direction \\(\\hat{t}\\)\uff08\u6444\u50cf\u673a\u7684\u4e0a\u65b9\uff0c\u5782\u76f4\u4e8eg\uff0c\\(\\hat{g}\\) \u548c \\(\\hat{t}\\) \u76f8\u914d\u5408\u53ef\u4ee5\u786e\u5b9a\u76f8\u673a\u955c\u5934\u672c\u8eab\u7684\u65cb\u8f6c\u89d2\u5ea6\uff09</li> </ol> <p>\u51e0\u4e2a\u7ea6\u5b9a\u4fd7\u79f0\u7684\u89c4\u5219\uff1a</p> <ul> <li>\u76f8\u673a\u7684\u4f4d\u7f6e\u6c38\u8fdc\u5728\u539f\u70b9</li> <li>\u76f8\u673a\u6c38\u8fdc\u770b\u5411z\u8f74\u8d1f\u65b9\u5411\uff08\\(-\\hat{z}\\)\uff09</li> <li>\u76f8\u673a\u7684\u4e0a\u65b9\u6c38\u8fdc\u662fy\u8f74\u6b63\u65b9\u5411\uff08\\(\\hat{y}\\)\uff09</li> </ul> <p>\u8fd9\u91cc\u4e3a\u4ec0\u4e48\u662f\u770b\u5411z\u8f74\u8d1f\u65b9\u5411\u5462\uff1f\u56e0\u4e3a\u6211\u4eec\u4f7f\u7528\u7684\u662f\u53f3\u624b\u5750\u6807\u7cfb\uff0cz\u8f74\u6b63\u65b9\u5411\u662f\u4ece\u5c4f\u5e55\u91cc\u6307\u5411\u5c4f\u5e55\u5916\uff0c\u800c\u6211\u4eec\u5e0c\u671b\u76f8\u673a\u662f\u770b\u5411\u5c4f\u5e55\u91cc\u7684\u65b9\u5411\uff0c\u6240\u4ee5\u76f8\u673a\u770b\u5411z\u8f74\u8d1f\u65b9\u5411\u3002</p> <p>\u5f88\u591a\u56fe\u5f62api\u6216\u80053d\u8f6f\u4ef6\u4f7f\u7528\u7684\u662f\u5de6\u624b\u5750\u6807\u7cfb\uff0c\u8fd9\u65f6\u76f8\u673a\u770b\u5411z\u8f74\u6b63\u65b9\u5411\u3002</p> <p>\u5de6\u624b\u5750\u6807\u7cfb\u6709\u4e2a\u574f\u5904\uff0cx\u53c9\u4e58y\u7b49\u4e8e-z\uff0c\u8fd9\u4f1a\u8ba9\u4eba\u5f88\u8ff7\u60d1\uff0c\u672c\u8bfe\u7a0b\u4f7f\u7528\u53f3\u624b\u5750\u6807\u7cfb\u3002</p> <p>\u628a\u76f8\u673a\u4ece\u5f53\u524d\u4f4d\u7f6e\u79fb\u52a8\u5230\u539f\u70b9\uff0c\u5e76\u4e14\u8ba9\u5b83\u770b\u5411z\u8f74\u8d1f\u65b9\u5411\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u53eb\u505a View / Camera transformation</p> \\[ M_{\\mathrm{view}} = R_{\\mathrm{view}}\\,T_{\\mathrm{view}} \\] <p>\u5176\u4e2d $ R_{\\mathrm{view}} $ \u662f\u65cb\u8f6c\u77e9\u9635\uff0c$ T_{\\mathrm{view}} $ \u662f\u5e73\u79fb\u77e9\u9635\u3002</p> <p>\u5e73\u79fb\u77e9\u9635\uff1a\u628a\u76f8\u673a\u4ece\u4f4d\u7f6e \\(\\vec{e}=(x_e,y_e,z_e)\\) \u79fb\u52a8\u5230\u539f\u70b9</p> \\[ T_{\\mathrm{view}} = \\begin{bmatrix} 1 &amp; 0 &amp; 0 &amp; -x_e \\\\ 0 &amp; 1 &amp; 0 &amp; -y_e \\\\ 0 &amp; 0 &amp; 1 &amp; -z_e \\\\ 0 &amp; 0 &amp; 0 &amp; 1 \\end{bmatrix} \\] <p>\u65cb\u8f6c\u77e9\u9635\uff1a\u628a\u76f8\u673a\u7684\u671d\u5411 \\(\\hat{g}\\) \u53d8\u6362\u5230 \\(-\\hat{z}\\) \u65b9\u5411\uff0c\u628a \\(\\hat{t}\\) \u53d8\u6362\u5230 \\(\\hat{y}\\) \u65b9\u5411\uff0c\u628a \\(\\hat{r}=\\hat{g}\\times\\hat{t}\\) \u53d8\u6362\u5230 \\(\\hat{x}\\) \u65b9\u5411</p> <p>\u8fd9\u4e2a\u65cb\u8f6c\u77e9\u9635\u4e0d\u592a\u597d\u6c42\uff0c\u5b83\u7684\u9006\u77e9\u9635\u5f88\u5bb9\u6613\u5199\u51fa\u6765\uff0c\u53ef\u4ee5\u5148\u6c42\u5b83\u7684\u9006\u77e9\u9635 $ R_{\\mathrm{view}}^{-1} $\uff0c\u7136\u540e\u518d\u5bf9\u5b83\u6c42\u9006</p> \\[ R_{\\mathrm{view}}^{-1} = \\begin{bmatrix} x_{\\hat{g}\\times\\hat{t}} &amp; x_{\\hat{t}} &amp; x_{-\\hat{g}} &amp; 0 \\\\ y_{\\hat{g}\\times\\hat{t}} &amp; y_{\\hat{t}} &amp; y_{-\\hat{g}} &amp; 0 \\\\ z_{\\hat{g}\\times\\hat{t}} &amp; z_{\\hat{t}} &amp; z_{-\\hat{g}} &amp; 0 \\\\ 0 &amp; 0 &amp; 0 &amp; 1 \\end{bmatrix} \\] <p>\u7531\u4e8e\u65cb\u8f6c\u77e9\u9635\u662f\u6b63\u4ea4\u77e9\u9635\uff0c\u6240\u4ee5\u76f4\u63a5\u8f6c\u7f6e\u540e\u5c31\u80fd\u5f97\u5230\u9006\u77e9\u9635</p> \\[ R_{\\mathrm{view}} = \\begin{bmatrix} x_{\\hat{g}\\times\\hat{t}} &amp; y_{\\hat{g}\\times\\hat{t}} &amp; z_{\\hat{g}\\times\\hat{t}} &amp; 0 \\\\ x_{\\hat{t}} &amp; y_{\\hat{t}} &amp; z_{\\hat{t}} &amp; 0 \\\\ x_{-\\hat{g}} &amp; y_{-\\hat{g}} &amp; z_{-\\hat{g}} &amp; 0 \\\\ 0 &amp; 0 &amp; 0 &amp; 1 \\end{bmatrix} \\] <p>\u8fd9\u4e2a\u8fc7\u7a0b\u4e5f\u53eb Model / View transformation\uff0c\u56e0\u4e3a\u76f8\u673a\u548c\u7269\u4f53\u4e4b\u95f4\u7684\u5173\u7cfb\u4e0d\u80fd\u53d8\uff0c\u573a\u666f\u4e2d\u6240\u6709\u7684\u7269\u4f53\u4e5f\u8981\u505a\u8fd9\u4e2a\u53d8\u6362\u3002</p>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/75.games101-1-transform-rasterization/#projection-transformation","title":"Projection transformation","text":"<ul> <li>Orthographic (\u6b63\u4ea4) projection</li> <li>Perspective (\u900f\u89c6) projection</li> </ul> <p>\u6b63\u4ea4\u6295\u5f71\u548c\u900f\u89c6\u6295\u5f71\u7684\u533a\u522b\uff1a</p> <p></p> <p>\u5bf9\u6b63\u4ea4\u6295\u5f71\u6765\u8bf4\uff0c\u65e0\u8bba\u6444\u50cf\u673a\u79bb\u5f97\u6709\u591a\u8fdc\uff0c\u6295\u5f71\u7684\u7269\u4f53\u5927\u5c0f\u90fd\u4e0d\u4f1a\u53d8\uff1a</p> <p></p>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/75.games101-1-transform-rasterization/#orthographic-projection","title":"\u6b63\u4ea4\u6295\u5f71 (Orthographic projection)","text":"<ol> <li>\u5148\u505aView/Camera transformation\uff0c\u628a\u573a\u666f\u653e\u5230\u6444\u50cf\u673a\u524d\u9762</li> <li>\u4e22\u6389z\u5750\u6807</li> <li>\u5c06\u7ed3\u679c\u77e9\u5f62\u7f29\u653e\u5230\\([-1,1]\\)\u8303\u56f4\u5185</li> </ol> <p>\u4e00\u822c\u6765\u8bb2\uff0c\u6b63\u4ea4\u6295\u5f71\u662f\u8981\u628a\u4efb\u610f\u4e00\u4e2a\u7acb\u65b9\u4f53\u53d8\u6362\u4e3a\u4e00\u4e2a\u6b63\u5219\u3001\u89c4\u8303\u3001\u6807\u51c6\u7684\uff08Canonical\uff09\u7acb\u65b9\u4f53\uff08\\([-1,1]^3\\)\uff09, \u5148\u505a\u5e73\u79fb\u53d8\u6362\uff0c\u7136\u540e\u7f29\u653e\u53d8\u6362</p> <p></p> <p>\u5047\u8bbe\u6211\u4eec\u8981\u628a\u4e00\u4e2a\u7acb\u65b9\u4f53 \\([l,r]\\times[b,t]\\times[n,f]\\) \u53d8\u6362\u4e3a \\([-1,1]^3\\)\uff0c\u5176\u4e2d \\(l\\) \u662f left\uff0c\\(r\\) \u662f right\uff0c\\(b\\) \u662f bottom\uff0c\\(t\\) \u662f top\uff0c\\(n\\) \u662f near\uff0c\\(f\\) \u662f far</p> <p>\u53d8\u6362\u77e9\u9635\u4e3a\uff08\u6ce8\u610f\uff0c\u8fd9\u91cc n \u548c f \u90fd\u662f\u8d1f\u503c\uff0c\u56e0\u4e3a\u76f8\u673a\u662f\u770b\u5411-z\u8f74\u7684\uff09\uff1a</p> \\[ M_{\\mathrm{ortho}} = \\begin{bmatrix} \\frac{2}{r-l} &amp; 0 &amp; 0 &amp; 0 \\\\ 0 &amp; \\frac{2}{t-b} &amp; 0 &amp; 0 \\\\ 0 &amp; 0 &amp; \\frac{2}{n-f} &amp; 0 \\\\ 0 &amp; 0 &amp; 0 &amp; 1 \\end{bmatrix} \\begin{bmatrix} 1 &amp; 0 &amp; 0 &amp; -\\frac{r+l}{2} \\\\ 0 &amp; 1 &amp; 0 &amp; -\\frac{t+b}{2} \\\\ 0 &amp; 0 &amp; 1 &amp; -\\frac{n+f}{2} \\\\ 0 &amp; 0 &amp; 0 &amp; 1 \\end{bmatrix} \\]","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/75.games101-1-transform-rasterization/#perspective-projection","title":"\u900f\u89c6\u6295\u5f71 (Perspective projection)","text":"<p>\u900f\u89c6\u6295\u5f71\u4e2d\uff0c\u76f8\u673a\u5728\u539f\u70b9\uff0c\u76f8\u673a\u548c\u89c6\u89d2\u56f4\u6210\u4e00\u4e2a\u56db\u68f1\u9525\u4f53\uff08Frustum\uff09\uff0c\u76f8\u673a\u524d\u9762\u6709\u4e24\u4e2a\u5e73\u9762\uff0c\u8fd1\u666f\u5e73\u9762\u548c\u8fdc\u666f\u5e73\u9762\uff0c\u8fd1\u666f\u5e73\u9762\u548c\u8fdc\u666f\u5e73\u9762\u5206\u522b\u622a\u51fa\u8fd9\u4e2a\u56db\u68f1\u9525\u4f53\u7684\u9876\u90e8\u548c\u5e95\u90e8\u3002</p> <p>\u900f\u89c6\u6295\u5f71\u5206\u4e3a\u4e24\u6b65\uff1a</p> <ol> <li>\u5148\u628a\u56db\u68f1\u9525\u4f53\uff08Frustum\uff09\u6324\u538b\u6210\u4e00\u4e2a\u7acb\u65b9\u4f53\uff08Cuboid\uff09\uff0c\u5bf9\u5e94\u7684\u53d8\u5316\u5199\u4f5c \\(M_{\\mathrm{persp}\\to\\mathrm{ortho}}\\)</li> <li>\u7136\u540e\u5bf9\u8fd9\u4e2a\u7acb\u65b9\u4f53\u505a\u4e00\u6b21\u6b63\u4ea4\u6295\u5f71 \\(M_{\\mathrm{ortho}}\\)</li> </ol> <p>\u6700\u7ec8\uff0c\u5b8c\u6574\u7684\u900f\u89c6\u6295\u5f71\u4e3a \\(M_{\\mathrm{persp}} = M_{\\mathrm{ortho}}\\,M_{\\mathrm{persp}\\to\\mathrm{ortho}}\\)</p> <p>\u4e0b\u56fe\u662f\u900f\u89c6\u6295\u5f71\u6324\u538b\u8fc7\u7a0b\u7684\u793a\u610f\u56fe\uff0c\u5176\u4e2d\uff0c\\(n\\) \u548c \\(f\\) \u5206\u522b\u8868\u793a\u8fd1\u666f\u5e73\u9762\u548c\u8fdc\u666f\u5e73\u9762\u7684 z \u5750\u6807</p> <p></p> <p>\u6324\u538b\u8fc7\u7a0b\u4e2d\uff0c\u8fd1\u666f\u5e73\u9762\u7684\u70b9\u4e0d\u53d8\uff0c\u8fdc\u666f\u5e73\u9762\u7684\u70b9 z \u5750\u6807\u4e0d\u53d8\uff0c\u5c3a\u5bf8\u53d8\u4e3a\u548c\u8fd1\u666f\u5e73\u9762\u4e00\u6837\u7684\u5927\u5c0f\u3002</p> <p>\u56db\u68f1\u9525\u8fdc\u666f\u5e73\u9762\u548c\u8fd1\u666f\u5e73\u9762\u7684 y \u5750\u6807\u5448\u73b0\u8fd9\u6837\u7684\u5173\u7cfb\uff08x \u5750\u6807\u540c\u7406\uff09\uff1a</p> <p></p> <p>\u7ecf\u8fc7\u4e00\u987f\u63a8\u5bfc\uff0c\u5f97\u5230\u6324\u538b\u77e9\u9635\uff08\u5229\u7528\u4e86\u9f50\u6b21\u5750\u6807\u540c\u65f6\u4e58\u4ee5\u4e00\u4e2a\u6570\u5750\u6807\u4e0d\u53d8\u7684\u6027\u8d28\uff09\uff1a</p> \\[ M_{\\mathrm{persp}\\to\\mathrm{ortho}} = \\begin{pmatrix} n &amp; 0 &amp; 0 &amp; 0 \\\\ 0 &amp; n &amp; 0 &amp; 0 \\\\ 0 &amp; 0 &amp; n+f &amp; -nf \\\\ 0 &amp; 0 &amp; 1 &amp; 0 \\end{pmatrix} \\] <p>Frustum\u8fd9\u4e2a\u56db\u68f1\u9525\u4f53\u53c8\u53eb\u89c6\u9525\uff0c\u7531\u5782\u76f4\u65b9\u5411\u7684Fov\uff08Field of View\uff0c\u89c6\u91ce\u89d2\u5ea6\uff09\u548c\u5bbd\u9ad8\u6bd4\uff08Aspect Ratio\uff09\u51b3\u5b9a\uff0c\u7528FovY\u8868\u793a\u5782\u76f4\u65b9\u5411\u7684Fov\u3002</p> <p>\u7528 \\([l,r]\\times[b,t]\\) \u6765\u8868\u793a\u8fd1\u666f\u5e73\u9762\uff0c\\(n\\) \u548c \\(f\\) \u4ecd\u7136\u8868\u793a\u8fd1\u666f\u5e73\u9762\u548c\u8fdc\u666f\u5e73\u9762\u7684 z \u5750\u6807\uff0c\u90a3\u4e48FovY \u548c aspect \u4e0e \\(l,r,b,t,n,f\\) \u7684\u5173\u7cfb\u4e3a\uff1a</p> \\[ \\tan\\!\\left(\\frac{\\mathrm{FovY}}{2}\\right) = \\frac{t}{\\lvert n\\rvert} \\] \\[ \\mathrm{aspect} = \\frac{r}{t} \\] <p>\u6ce8\u610f\uff0c\u6295\u5f71\u53d8\u6362\u5b8c\u6210\u540e\uff0c\u8981\u5bf9\u9f50\u6b21\u5750\u6807\u505a\u900f\u89c6\u9664\u6cd5\uff08Perspective Divide\uff09\uff0c\u5373\u628a \\((x,y,z,w)\\) \u53d8\u6362\u4e3a \\((x/w,y/w,z/w,1)\\)\uff0c\u8fd9\u6837\u624d\u80fd\u5f97\u5230\u6b63\u786e\u7684\u5f52\u4e00\u5316\u8bbe\u5907\u5750\u6807\uff08NDC\uff09\uff0c\u800c\u8fd9\u4e2a\u8fc7\u7a0b\u662f\u975e\u7ebf\u6027\u7684\u3002</p>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/75.games101-1-transform-rasterization/#_2","title":"\u5149\u6805\u5316","text":"<p>raster\uff08\u5149\u6805\uff09\u8fd9\u4e2a\u8bcd\u6765\u6e90\u4e8e\u5fb7\u8bed\uff0c\u5c31\u662f\u6307\u5c4f\u5e55</p> <p>rasterize\uff08\u5149\u6805\u5316\uff09\u662f\u5c06\u56fe\u50cf\u7ed8\u5236\u5230\u5c4f\u5e55\u4e0a</p>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/75.games101-1-transform-rasterization/#viewport-transformation-","title":"\u89c6\u53e3\u53d8\u6362\uff08Viewport Transformation\uff09\uff1a\u6807\u51c6\u7acb\u65b9\u4f53\u5750\u6807-&gt;\u5c4f\u5e55\u5750\u6807","text":"<p>\u5148\u5ffd\u7565z\u5750\u6807\uff0c\u628a\u6807\u51c6\u7acb\u65b9\u4f53 \\([-1,1]^3\\) \u6295\u5f71\u5230\u4e8c\u7ef4\u5e73\u9762\u4e0a\uff0c\u5f97\u5230\u4e00\u4e2a\u6b63\u65b9\u5f62 \\([-1,1]^2\\)\uff0c\u7136\u540e\u628a\u8fd9\u4e2a\u6b63\u65b9\u5f62\u7f29\u653e\u5230\u5c4f\u5e55\u5927\u5c0f \\([0,w]\\times[0,h]\\) \u4e0a\uff0c\u5f97\u5230\u4e00\u4e2a\u89c6\u53e3\uff08Viewport\uff09\u53d8\u6362\u77e9\u9635\uff1a</p> \\[ M_{\\mathrm{viewport}} = \\begin{pmatrix} \\frac{\\mathrm{width}}{2} &amp; 0 &amp; 0 &amp; \\frac{\\mathrm{width}}{2} \\\\ 0 &amp; \\frac{\\mathrm{height}}{2} &amp; 0 &amp; \\frac{\\mathrm{height}}{2} \\\\ 0 &amp; 0 &amp; 1 &amp; 0 \\\\ 0 &amp; 0 &amp; 0 &amp; 1 \\end{pmatrix} \\]","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/75.games101-1-transform-rasterization/#_3","title":"\u5149\u6805\u5316\uff1a\u628a\u591a\u8fb9\u5f62\u7ed8\u5236\u5230\u5c4f\u5e55\u4e0a\uff0c\u5e76\u586b\u6ee1\u50cf\u7d20","text":"<p>\u4e0a\u9762\u7684\u89c6\u53e3\u53d8\u6362\u53ea\u662f\u628a\u6807\u51c6\u7acb\u65b9\u4f53\u7684\u5750\u6807\u53d8\u6362\u4e3a\u5c4f\u5e55\u5750\u6807\uff0c\u8fd9\u4e9b\u5750\u6807\u53ea\u80fd\u6784\u6210\u4e00\u4e2a\u4e2a\u591a\u8fb9\u5f62\uff0c\u4f46\u8981\u7ed8\u5236\u5230\u5c4f\u5e55\u4e0a\uff0c\u8fd8\u9700\u8981\u628a\u8fd9\u4e9b\u591a\u8fb9\u5f62\u586b\u6ee1\u50cf\u7d20\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u53eb\u505a\u5149\u6805\u5316\uff08Rasterization\uff09</p>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/75.games101-1-transform-rasterization/#_4","title":"\u4e09\u89d2\u5f62","text":"<p>\u6700\u57fa\u7840\u7684\u591a\u8fb9\u5f62\uff0c\u5b83\u6709\u4ee5\u4e0b\u4f18\u70b9\uff1a</p> <ol> <li>\u4e09\u89d2\u5f62\u5fc5\u7136\u662f\u4e00\u4e2a\u5e73\u9762\uff0c\u4e0d\u53ef\u80fd\u662f\u5f2f\u66f2\u7684\u3002</li> <li>\u4e09\u89d2\u5f62\u5185\u5916\u5b9a\u4e49\u975e\u5e38\u6e05\u6670\uff0c\u7528\u53c9\u79ef\u5f88\u5bb9\u6613\u5224\u65ad\u3002</li> <li>\u5bb9\u6613\u8fdb\u884c\u63d2\u503c\u8ba1\u7b97\u3002</li> </ol>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/75.games101-1-transform-rasterization/#sampling","title":"\u91c7\u6837\uff08Sampling\uff09","text":"<p>\u4e3a\u4ec0\u4e48\u8981\u91c7\u6837\uff0c\u56e0\u4e3a\u8f93\u5165\u6570\u636e\u662f\u4e00\u4e2a\u4e2a\u5750\u6807\uff0c\u5b83\u4eec\u56f4\u6210\u7684\u591a\u8fb9\u5f62\u662f\u8fde\u7eed\u7684\u9762\uff0c\u800c\u5c4f\u5e55\u662f\u7531\u4e00\u4e2a\u4e2a\u50cf\u7d20\u7ec4\u6210\u7684\uff0c\u5149\u6805\u5316\u7684\u8fc7\u7a0b\u662f\u8981\u628a\u8fde\u7eed\u7684\u9762\u79bb\u6563\u5316\u5230\u4e00\u4e2a\u4e2a\u50cf\u7d20\u4e0a\uff0c\u56e0\u6b64\u8fd9\u4e2a\u8fc7\u7a0b\u5c31\u53eb\u505a\u91c7\u6837\uff0c\u5c4f\u5e55\u7684\u5206\u8fa8\u7387\u5c31\u662f\u91c7\u6837\u7387\u3002</p> <p>\u4e0b\u56fe\u662f\u4e00\u4e2a\u91c7\u6837\u7684\u4f8b\u5b50\uff0c\u5224\u65ad\u6bcf\u4e2a\u50cf\u7d20\u7684\u4e2d\u5fc3\u662f\u5426\u5728\u4e09\u89d2\u5f62\u5185\uff0c\u8fd9\u91cc\u8981\u6ce8\u610f\uff0c\u50cf\u7d20\u7684\u5750\u6807\u662f\u4ee5\u50cf\u7d20\u7684\u5de6\u4e0b\u89d2\u4e3a\u51c6\uff0c\u800c\u91c7\u6837\u662f\u4ee5\u50cf\u7d20\u7684\u4e2d\u5fc3\u4e3a\u51c6\u3002</p> <p></p> <p>Bounding Box\uff08\u8fb9\u754c\u6846\uff09\u662f\u6307\u5305\u542b\u4e09\u89d2\u5f62\u7684\u6700\u5c0f\u77e9\u5f62\uff0c\u53ef\u4ee5\u7528\u6765\u52a0\u901f\u91c7\u6837\u8fc7\u7a0b\u3002\u610f\u601d\u662f\uff0c\u53ea\u5bf9\u8fb9\u754c\u6846\u5185\u7684\u50cf\u7d20\u505a\u91c7\u6837\uff0c\u8fb9\u754c\u6846\u5916\u7684\u50cf\u7d20\u4e0d\u505a\u91c7\u6837\u3002</p> <p>\u5224\u65ad\u50cf\u7d20\u662f\u5426\u5728\u4e09\u89d2\u5f62\u5185\u90e8\u8fd9\u4e2a\u8fc7\u7a0b\u4e5f\u53eb\u8986\u76d6\u6d4b\u8bd5\uff08Coverage Test\uff09\u3002</p> <p>\u76f4\u7ebf\u7684\u91c7\u6837\u548c\u7ed8\u5236\u53ef\u4ee5\u53c2\u8003\uff08Bresenham\u76f4\u7ebf\u7ed8\u5236\u7b97\u6cd5\uff0c\u4ee3\u7801\u53ef\u53c2\u8003https://stackoverflow.com/a/16405254\uff09</p>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/75.games101-1-transform-rasterization/#anti-aliasing","title":"\u6297\u952f\u9f7f/\u53cd\u8d70\u6837\uff08Anti-aliasing\uff09","text":"<p>\u91c7\u6837\u9519\u8bef\u662f\u53d1\u751f\u5728\u7ed9\u50cf\u7d20\u586b\u8272\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\uff0c\u603b\u6709\u4e00\u4e9b\u50cf\u7d20\u4f4d\u4e8e\u4e09\u89d2\u5f62\u7684\u8fb9\u7f18\uff0c\u5982\u679c\u6211\u4eec\u4e0d\u505a\u4efb\u4f55\u989d\u5916\u5904\u7406\uff0c\u8fd9\u4e9b\u50cf\u7d20\u8981\u4e48\u586b\u8272\uff0c\u8981\u4e48\u4e0d\u586b\u8272\uff0c\u8fd9\u5c31\u4f1a\u9020\u6210\u952f\u9f7f\u73b0\u8c61\u3002</p>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/75.games101-1-transform-rasterization/#sampling-error","title":"\u91c7\u6837\u9519\u8bef\uff08Sampling Error\uff09","text":"<p>\u952f\u9f7f(Jaggies)</p> <p></p> <p>\u6469\u5c14\u7eb9\uff08Moire Patterns\uff09\uff0c\u8df3\u8fc7\u5947\u6570\u884c\u548c\u5947\u6570\u5217\u5f62\u6210</p> <p></p> <p>\u8f66\u8f6e\u6548\u5e94\uff08Wagon-wheel Effect\uff09\uff0c\u8fd9\u662f\u4e00\u79cd\u65f6\u95f4\u91c7\u6837\u9519\u8bef\uff0c\u4e00\u4e2a\u65cb\u8f6c\u7684\u8f66\u8f6e\u770b\u8d77\u6765\u50cf\u662f\u9759\u6b62\u7684\uff0c\u6216\u8005\u662f\u53cd\u5411\u65cb\u8f6c\u7684\u3002</p> <p>\u91c7\u6837\u9519\u8bef\u7684\u539f\u56e0\u57fa\u672c\u4e0a\u662f\u4fe1\u53f7\u53d8\u5316\u592a\u5feb\uff0c\u91c7\u6837\u901f\u5ea6\u8ddf\u4e0d\u4e0a\u4fe1\u53f7\u53d8\u5316\u7684\u901f\u5ea6\u3002</p>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/75.games101-1-transform-rasterization/#_5","title":"\u6a21\u7cca\uff1a\u4e00\u79cd\u6297\u952f\u9f7f\u65b9\u6cd5","text":"<p>Bluring\uff08Pre-filtering\uff09before sampling\uff0c\u5373\u91c7\u6837\u4e4b\u524d\u5148\u505a\u6a21\u7cca\u5904\u7406</p> <p></p> <p>\u5982\u679c\u628a\u6a21\u7cca\u548c\u91c7\u6837\u7684\u987a\u5e8f\u53cd\u8fc7\u6765\uff0c\u5148\u91c7\u6837\uff0c\u518d\u6a21\u7cca\uff08Blurred aliasing\uff09\uff0c\u6548\u679c\u5e76\u4e0d\u597d\u3002</p>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/75.games101-1-transform-rasterization/#_6","title":"\u4e3a\u4ec0\u4e48\u4f1a\u8d70\u6837/\u5931\u771f","text":"<p>\u8d70\u6837\uff08Aliasing\uff09\u662f\u56e0\u4e3a\u91c7\u6837\u9891\u7387\u8fdc\u4f4e\u4e8e\u4fe1\u53f7\u9891\u7387\uff0c\u9020\u6210\u91c7\u6837\u7ed3\u679c\u5931\u771f\u3002</p> <p></p>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/75.games101-1-transform-rasterization/#_7","title":"\u6ee4\u6ce2","text":"<p>\u6ee4\u6ce2\uff08Filtering\uff09\u662f\u6307\u4e22\u6389\u67d0\u4e9b\u7279\u5b9a\u9891\u7387\u3002</p> <p>\u5085\u91cc\u53f6\u53d8\u6362\u662f\u505a\u4ece\u65f6\u57df\uff08Spatial domain\uff09\u5230\u9891\u57df\uff08Frequency domain\uff09\u7684\u8f6c\u6362\uff0c\u5c06\u4e00\u4e2a\u65f6\u57df\u51fd\u6570\u62c6\u5206\u6210\u591a\u4e2a\u4e0d\u540c\u9891\u7387\u7684\u6b63\u5f26\u51fd\u6570\uff1a</p> <p></p> <p>\u4e00\u526f\u56fe\u50cf\u4e5f\u53ef\u4ee5\u8868\u793a\u4e3a\u9891\u8c31\u7684\u5f62\u5f0f\uff0c\u9891\u8c31\u4e2d\u7684\u9ad8\u9891\u90e8\u5206\u5bf9\u5e94\u7684\u662f\u56fe\u50cf\u4e2d\u53d8\u5316\u5267\u70c8\u7684\u90e8\u5206\uff0c\u6bd4\u5982\u56fe\u50cf\u5185\u5bb9\u7684\u8fb9\u754c\u3002</p> <p>\u5c06\u4f4e\u9891\u90e8\u5206\u8fc7\u6ee4\u6389\uff0c\u4fdd\u7559\u9ad8\u9891\u90e8\u5206\uff0c\u53ef\u4ee5\u5f97\u5230\u56fe\u50cf\u7684\u8fb9\u754c\u4fe1\u606f\uff0c\u8fd9\u53eb\u9ad8\u901a\u6ee4\u6ce2\u3002</p> <p>\u5982\u679c\u5c06\u9ad8\u9891\u90e8\u5206\u8fc7\u6ee4\u6389\uff0c\u4fdd\u7559\u4f4e\u9891\u90e8\u5206\uff0c\u53ef\u4ee5\u5f97\u5230\u4e00\u526f\u6a21\u7cca\u7684\u56fe\u50cf\uff0c\u8fd9\u53eb\u4f4e\u901a\u6ee4\u6ce2\u3002</p>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/75.games101-1-transform-rasterization/#_8","title":"\u600e\u4e48\u6ee4\u6ce2","text":"<p>Filtering = Convolution\uff08\u5377\u79ef\uff09 = Averaging</p> <p>\uff08\u8fd9\u91cc\u7684\u5377\u79ef\u662f\u6307\u65f6\u57df\u4e0a\u7684\u5377\u79ef\uff09</p> <p>\u4e00\u4e2a\u7b80\u5355\u7684\u5377\u79ef\u8fd0\u7b97\u793a\u4f8b\uff0cfilter\u76f8\u5f53\u4e8e\u4e00\u4e2a\u6ed1\u52a8\u7a97\u53e3\uff0c\u4ece\u5de6\u5411\u53f3\u79fb\u52a8\uff0c\u6bcf\u6ed1\u52a8\u4e00\u6b21\uff0c\u5c31\u5c06signal\u548cfilter\u505a\u4e00\u6b21\u70b9\u79ef\u64cd\u4f5c\uff0c\u5f97\u5230\u4e00\u4e2a\u65b0\u7684\u4fe1\u53f7\uff0c\u8fd9\u5176\u5b9e\u662f\u4e00\u4e2a\u6c42\u539f\u59cb\u4fe1\u53f7\u52a0\u6743\u5e73\u5747\u7684\u64cd\u4f5c\uff1a</p> <p></p> <p>\u65f6\u57df\u4e0a\u7684\u5377\u79ef\u7b49\u4e8e\u9891\u57df\u4e0a\u7684\u4e58\u79ef\uff0c\u65f6\u57df\u4e0a\u7684\u4e58\u79ef\u7b49\u4e8e\u9891\u57df\u4e0a\u7684\u5377\u79ef\u3002</p> <p>\u4e0b\u9762\u662f\u4e00\u4e2a\u5bf9\u56fe\u50cf\u505a\u5377\u79ef\u7684\u4f8b\u5b50\uff0c\u5bf93x3\u7684\u533a\u57df\u505a\u5377\u79ef\uff0c\u76f8\u5f53\u4e8e\u5bf9\u8fd9\u5757\u533a\u57df\u505a\u4e86\u4e00\u4e2a\u52a0\u6743\u5e73\u5747\uff0c\u8d77\u5230\u4e86\u6a21\u7cca\u7684\u6548\u679c\uff0c\u8fd9\u4e5f\u76f8\u5f53\u4e8e\u5bf9\u56fe\u50cf\u505a\u4e86\u4e00\u4e2a\u4f4e\u901a\u6ee4\u6ce2\uff1a</p> <p></p>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/75.games101-1-transform-rasterization/#_9","title":"\uff08\u5377\u79ef\u7684\u7b80\u5355\u4ecb\u7ecd\uff09","text":"<p>\u4e0a\u9762\u63d0\u5230\u7684Filter\uff0c\u4e2d\u6587\u6709\u5f88\u591a\u79cd\u53eb\u6cd5\uff1a\u201c\u6838\u201d\u3001\u201c\u6ee4\u6ce2\u5668\u6838\u201d\u3001\u201c\u5377\u79ef\u6838\u201d\u3001\u201c\u5377\u79ef\u6a21\u677f\u201d\u3002</p> <p>\u5bf9\u56fe\u50cf\u6240\u505a\u7684\u6ed1\u52a8\u70b9\u79ef\u64cd\u4f5c\uff0c\u6570\u5b66\u4e0a\u79f0\u4e3a\u4e92\u76f8\u5173\u8fd0\u7b97\uff0c\u5982\u679c\u5148\u5c06\u5377\u79ef\u6a21\u677f\u65cb\u8f6c180\u5ea6\uff0c\u7136\u540e\u518d\u505a\u4e92\u76f8\u5173\u8fd0\u7b97\uff0c\u624d\u53eb\u5377\u79ef\u8fd0\u7b97\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u6570\u5b66\u4e0a\u7684\u5377\u79ef\u8fd0\u7b97 = \u5377\u79ef\u6a21\u677f\u65cb\u8f6c180\u5ea6 + \u4e92\u76f8\u5173\u8fd0\u7b97\u3002</p>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/75.games101-1-transform-rasterization/#_10","title":"\u4ece\u4fe1\u53f7\u7684\u89d2\u5ea6\u5206\u6790\u91c7\u6837\u548c\u8d70\u6837","text":"<p>\u91c7\u6837\u662f\u5728\u65f6\u57df\u4e0a\u5c06\u539f\u59cb\u4fe1\u53f7\u548c\u51b2\u6fc0\u5e8f\u5217\u51fd\u6570\u76f8\u4e58\uff0c\u5728\u9891\u57df\u4e0a\u662f\u5c06\u539f\u59cb\u4fe1\u53f7\u7684\u9891\u8c31\u548c\u51b2\u6fc0\u5e8f\u5217\u51fd\u6570\u7684\u9891\u8c31\u505a\u5377\u79ef\u3002</p> <p>\u91c7\u6837\u5728\u9891\u57df\u4e0a\u5176\u5b9e\u662f\u91cd\u590d\u4e00\u4e2a\u539f\u59cb\u4fe1\u53f7\u7684\u9891\u8c31\u3002</p> <p></p> <p>\u8d70\u6837\u5b9e\u9645\u4e0a\u662f\u5728\u91c7\u6837\u540e\uff0c\u9891\u57df\u4e0a\u7684\u539f\u59cb\u9891\u8c31\u53d1\u751f\u4e86\u6df7\u53e0\uff08\u91c7\u6837\u9891\u7387\u8d8a\u4f4e\uff0c\u51b2\u6fc0\u5e8f\u5217\u7684\u9891\u8c31\u8d8a\u5728\u4f4e\u9891\u96c6\u4e2d\uff09</p> <p></p> <p>\uff08\u5948\u594e\u65af\u7279\u91c7\u6837\u5b9a\u7406\u8fd9\u91cc\u6ca1\u8bb2\uff09</p>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/75.games101-1-transform-rasterization/#_11","title":"\u5982\u4f55\u964d\u4f4e\u91c7\u6837\u9519\u8bef","text":"<ol> <li>\u63d0\u5347\u91c7\u6837\u7387</li> <li>\u53cd\u8d70\u6837\uff0c\u4f8b\u5982\u524d\u9762\u63d0\u5230\u7684\uff0c\u5148\u505a\u6a21\u7cca\uff0c\u518d\u91c7\u6837</li> </ol>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/75.games101-1-transform-rasterization/#_12","title":"\u901a\u8fc7\u6a21\u7cca\u5b9e\u73b0\u6297\u952f\u9f7f","text":"<p>\u7528\u4e00\u4e2a\u50cf\u7d20\u5927\u5c0f\u7684\u6ee4\u6ce2\u5668\uff08Box-blur filter\uff09\u5bf9\u4e09\u89d2\u5f62\u505a\u5377\u79ef\u64cd\u4f5c\uff0c\u5bf9\u4e09\u89d2\u5f62\u8fb9\u7f18\u7684\u989c\u8272\u505a\u52a0\u6743\u5e73\u5747\uff0c\u5c06\u5176\u6a21\u7cca\u5316\u3002</p> <p>\u7136\u540e\u5728\u6bcf\u4e2a\u50cf\u7d20\u4e2d\u5fc3\u70b9\u4f4d\u7f6e\u505a\u91c7\u6837\u3002</p> <p>\u6ee4\u6ce2\u5668\u7684\u6743\u91cd\u6309\u7167\u50cf\u7d20\u8986\u76d6\u4e09\u89d2\u5f62\u7684\u9762\u79ef\u6bd4\u4f8b\u6765\u5b9a\u3002</p>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/75.games101-1-transform-rasterization/#msaa-multi-sample-anti-aliasing","title":"\u591a\u91cd\u91c7\u6837\u6297\u952f\u9f7f\uff08MSAA, Multi-Sample Anti-Aliasing\uff09","text":"<p>\u8ba1\u7b97\u5355\u4e2a\u50cf\u7d20\u88ab\u4e09\u89d2\u5f62\u8986\u76d6\u7684\u6bd4\u4f8b\u8fd9\u4e2a\u8fc7\u7a0b\u6bd4\u8f83\u590d\u6742\uff0c\u6709\u4e00\u4e2a\u8fd1\u4f3c\u65b9\u6cd5\uff0c\u5c31\u662f\u628a\u5355\u4e2a\u50cf\u7d20\u5212\u5206\u4e3a\u591a\u4e2a\u91c7\u6837\u70b9\uff08\u4f8b\u59822x2\u30014x4\uff09\uff0c\u7528\u591a\u4e2a\u91c7\u6837\u70b9\u91c7\u6837\u6765\u8fd1\u4f3c\u8fd9\u4e2a\u6bd4\u4f8b\uff0c\u6700\u540e\u6839\u636e\u6bd4\u4f8b\u4e3a\u50cf\u7d20\u586b\u8272\u3002</p> <p>\u6a21\u7cca\u64cd\u4f5c\u540c\u65f6\u4e5f\u5b8c\u6210\u4e86\u91c7\u6837\u8fd9\u4e00\u8fc7\u7a0b\u3002</p> <p>MSAA\u7684\u4ee3\u4ef7\u662f\u8ba1\u7b97\u91cf\u589e\u5927\uff0c\u56e0\u4e3a\u91c7\u6837\u70b9\u589e\u591a\u4e86\u3002</p> <p>MASS\u7684\u9ed1\u8fb9\u95ee\u9898\uff0c\u56e0\u4e3a\u6709\u4e9b\u50cf\u7d20\u88ab\u4e09\u89d2\u5f62\u8986\u76d6\u7684\u6bd4\u4f8b\u5f88\u5c0f\uff0c\u8fd9\u4e9b\u50cf\u7d20\u7684\u989c\u8272\u4f1a\u5f88\u6697\uff0c\u5f62\u6210\u9ed1\u8fb9\uff0c\u6709\u4e24\u4e2a\u89e3\u51b3\u529e\u6cd5\uff1a</p> <ol> <li>\u4e3a\u8986\u76d6\u7387\u6307\u5b9a\u4e00\u4e2a\u9608\u503c\uff0c\u53ea\u6709\u9ad8\u4e8e\u8fd9\u4e2a\u9608\u503c\u7684\u50cf\u7d20\u624d\u586b\u8272\uff0c\u8fd9\u6837\uff0c\u6700\u6697\u7684\u50cf\u7d20\u7684\u4eae\u5ea6\u4e00\u5b9a\u4e0d\u4f1a\u4f4e\u4e8e\u8fd9\u4e2a\u9608\u503c\u3002\u5b83\u7684\u95ee\u9898\u5728\u4e8e\uff1a\uff081\uff09MASS\u7684\u6548\u679c\u4f1a\u53d8\u5dee\uff0c\u56e0\u4e3a\u6709\u4e9b\u50cf\u7d20\u672c\u6765\u662f\u6709\u989c\u8272\u7684\uff0c\u4f46\u7531\u4e8e\u8986\u76d6\u7387\u4f4e\u4e8e\u9608\u503c\u800c\u88ab\u4e22\u5f03\u4e86\uff1b</li> <li>\u5c06\u8986\u76d6\u7387\u8fc7\u4f4e\u7684\u50cf\u7d20\u7684\u6df1\u5ea6\u503c\u8bbe\u7f6e\u4e3a\u65e0\u7a77\u8fdc\uff0c\u8fd9\u6837\uff0c\u8fd9\u4e9b\u50cf\u7d20\u53ef\u4ee5\u88ab\u540e\u7ed8\u5236\u7684\u4e09\u89d2\u5f62\u8986\u76d6\u6389\uff0c\u5b83\u89e3\u51b3\u4e86\u65b9\u68481\u7684\u95ee\u9898\u3002</li> </ol>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/75.games101-1-transform-rasterization/#_13","title":"\u5176\u4ed6\u6297\u952f\u9f7f\u65b9\u6cd5","text":"<ul> <li>FXAA(Fast Approximate Anti-Aliasing)   \u4e0d\u662f\u589e\u52a0\u91c7\u6837\u70b9\uff0c\u800c\u662f\u901a\u8fc7\u5bf9\u6e32\u67d3\u56fe\u50cf\u7684\u540e\u5904\u7406\uff0c\u628a\u56fe\u50cf\u4e0a\u7684\u952f\u9f7f\u8fb9\u754c\u627e\u5230\uff0c\u7136\u540e\u53bb\u6389\u952f\u9f7f\uff0c\u6362\u6210\u5e73\u6ed1\u7684\u8fb9\u754c\uff08\u7b80\u5355\u6765\u8bf4\u5c31\u662f\u628a\u952f\u9f7fP\u6389\uff09\u3002</li> <li>TAA(Temporal Anti-Aliasing)   \u5229\u7528\u65f6\u95f4\u505a\u6297\u952f\u9f7f\uff0c\u5229\u7528\u524d\u4e00\u5e27\u7684\u91c7\u6837\u4fe1\u606f\u6765\u8f85\u52a9\u5f53\u524d\u5e27\u7684\u91c7\u6837\uff0c\u5177\u4f53\u6765\u8bf4\uff0c\u5c31\u662f\u628aMSAA\u5212\u5206\u51fa\u6765\u7684\u591a\u4e2a\u91c7\u6837\u70b9\uff0c\u653e\u5728\u65f6\u95f4\u5c3a\u5ea6\u4e0a\u53bb\u5904\u7406\u3002</li> <li>\u8d85\u5206\uff08Super Resolution\uff09/\u8d85\u91c7\u6837\uff08Super Sampling\uff09<ul> <li>\u7528\u4f4e\u5206\u8fa8\u7387\u6e32\u67d3\u56fe\u50cf\uff0c\u7136\u540e\u7528AI\u7b97\u6cd5\u628a\u56fe\u50cf\u653e\u5927\u5230\u9ad8\u5206\u8fa8\u7387\u3002</li> <li>DLSS\uff08Deep Learning Super Sampling\uff09</li> </ul> </li> </ul>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/75.games101-1-transform-rasterization/#_14","title":"\u603b\u7ed3","text":"<p>\u6297\u952f\u9f7f\u672c\u8d28\u4e0a\u662f\u5bf9\u50cf\u7d20\u989c\u8272\u7684\u8c03\u6574\uff0c\u76ee\u7684\u662f\u8ba9\u56fe\u50cf\u770b\u8d77\u6765\u66f4\u5e73\u6ed1\uff0c\u5e76\u4e0d\u6d89\u53ca\u5750\u6807\u7684\u5904\u7406\u3002</p> <p>\u6ee4\u6ce2\u65b9\u6cd5\u662f\u8981\u5c06\u56fe\u50cf\u6a21\u7cca\u5316\uff0c\u964d\u4f4e\u56fe\u50cf\u7684\u9ad8\u9891\u90e8\u5206\uff0c\u800c\u56fe\u50cf\u7684\u9891\u7387\u662f\u7531\u56fe\u50cf\u7684\u4eae\u5ea6\uff08\u7070\u5ea6\uff09\u53d8\u6362\u51b3\u5b9a\u7684\uff0c\u4ece\u8fd9\u4e2a\u89d2\u5ea6\u6765\u770b\uff0c\u6297\u952f\u9f7f\u4e5f\u4ec5\u4ec5\u662f\u5bf9\u56fe\u50cf\u989c\u8272\u7684\u5904\u7406\u3002</p>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/75.games101-1-transform-rasterization/#_15","title":"\u7269\u4f53\u53ef\u89c1\u6027","text":"<p>\u753b\u5bb6\u7b97\u6cd5\uff08Painter's Algorithm\uff09\uff0c\u4ece\u8fdc\u9053\u8fd1\u753b\uff0c\u8fd1\u5904\u7684\u7269\u4f53\u8986\u76d6\u8fdc\u5904\u7684\u7269\u4f53\u3002</p> <p>\u753b\u5bb6\u7b97\u6cd5\u7684\u95ee\u9898\u662f\u5f88\u591a\u60c5\u51b5\u5f88\u96be\u8bf4\u6e05\u695a\u54ea\u4e2a\u7269\u4f53\u5728\u524d\uff0c\u54ea\u4e2a\u7269\u4f53\u5728\u540e\uff0c\u4f8b\u5982\u4e24\u4e2a\u4e09\u89d2\u5f62\u76f8\u4ea4\u7684\u60c5\u51b5\u3002</p>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/75.games101-1-transform-rasterization/#z-buffer","title":"Z-Buffer","text":"<p>\u6df1\u5ea6\u7f13\u5b58\uff08Depth Buffer\uff09\uff0c\u4e5f\u53ebz-buffer\uff0c\u7ed9\u6bcf\u4e2a\u50cf\u7d20\u589e\u52a0\u4e00\u4e2a\u6df1\u5ea6\u503c\uff0c\u7528z-buffer\u8bb0\u5f55\u5f53\u524d\u5df2\u7ed8\u5236\u50cf\u7d20\u7684\u6df1\u5ea6\u503c\uff0c\u65b0\u7ed8\u5236\u7684\u50cf\u7d20\u5982\u679c\u6df1\u5ea6\u503c\u66f4\u5c0f\uff0c\u5c31\u8986\u76d6\u5f53\u524d\u50cf\u7d20\uff0c\u5426\u5219\u4e22\u5f03\u3002</p> <p>\u5229\u7528\u6df1\u5ea6\u7f13\u5b58\u5224\u65ad\u7269\u4f53\u906e\u6321\u8fd9\u4e2a\u8fc7\u7a0b\u4e5f\u53eb\u6df1\u5ea6\u6d4b\u8bd5\uff08Depth Testing\uff09\u3002</p> <p>\u4e3b\u8981\u6d41\u7a0b\uff1a</p> <ol> <li>\u5148\u628a\u6df1\u5ea6\u7f13\u5b58\u521d\u59cb\u5316\u4e3a\u65e0\u9650\u8fdc</li> <li>\u5bf9\u6bcf\u4e2a\u4e09\u89d2\u5f62\u505a\u5149\u6805\u5316</li> <li>\u5bf9\u6bcf\u4e2a\u50cf\u7d20\u505a\u91c7\u6837</li> <li>\u8ba1\u7b97\u91c7\u6837\u70b9\u7684\u6df1\u5ea6\u503c</li> <li>\u5982\u679c\u6df1\u5ea6\u503c\u5c0f\u4e8e\u5f53\u524d\u50cf\u7d20\u7684\u6df1\u5ea6\u503c\uff0c\u5c31\u66f4\u65b0\u50cf\u7d20\u989c\u8272\u548c\u6df1\u5ea6\u503c\uff0c\u5426\u5219\u4e22\u5f03</li> </ol> <p>\u8fd9\u91cc\u6ca1\u8bb2\u591a\u4e2a\u4e09\u89d2\u5f62\u6df1\u5ea6\u76f8\u540c\u7684\u60c5\u51b5\u5982\u4f55\u5904\u7406\u3002</p>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/75.games101-1-transform-rasterization/#_16","title":"\u900f\u89c6\u6295\u5f71\u6df1\u5ea6\u77eb\u6b63","text":"<p>\u5728\u6df1\u5ea6\u6d4b\u8bd5\u65f6\uff0c\u4e0d\u80fd\u76f4\u63a5\u7528\u900f\u89c6\u6295\u5f71\u540e\u7684z\u5750\u6807\u505a\u6df1\u5ea6\u503c\uff0c\u56e0\u4e3a\u5bf9\u4e8e\u900f\u89c6\u6295\u5f71\u6765\u8bf4\uff0c\u6324\u538b\u89c6\u9525\u4f53\u7684\u8fc7\u7a0b\u4f1a\u6539\u53d8z\u5750\u6807\u7684\u7ebf\u6027\u5173\u7cfb\uff0c\u5982\u679c\u76f4\u63a5\u7528\u900f\u89c6\u6295\u5f71\u53d8\u6362\u540e\u7684z\u5750\u6807\u505a\u6df1\u5ea6\u503c\uff0c\u4f1a\u5bfc\u81f4\u6df1\u5ea6\u6d4b\u8bd5\u9519\u8bef\u3002</p> <p>\u56e0\u6b64\uff0c\u6211\u4eec\u9700\u8981\u5bf9z\u5750\u6807\u505a\u77eb\u6b63\uff0c\u4e00\u822c\u91c7\u7528\u4ee5\u4e0b\u516c\u5f0f\uff1a</p> \\[ Z = \\frac{1}{\\dfrac{\\alpha}{w_0} + \\dfrac{\\beta}{w_1} + \\dfrac{\\gamma}{w_2}}  \\] \\[  z_p = \\left(\\frac{\\alpha z_0}{w_0} + \\frac{\\beta z_1}{w_1} + \\frac{\\gamma z_2}{w_2}\\right) Z \\] <p>\u5176\u4e2d\uff0c\\(0,1,2\\) \u5206\u522b\u4ee3\u8868\u4e09\u89d2\u5f62\u7684\u4e09\u4e2a\u9876\u70b9\uff0c\\(w_0,w_1,w_2\\) \u662f\u4e09\u89d2\u5f62\u9876\u70b9\u7684\u9f50\u6b21\u5750\u6807\uff0c\\(\\alpha,\\beta,\\gamma\\) \u662f\u91cd\u5fc3\u5750\u6807\u3002</p> <p>\u8fd9\u91cc\u5229\u7528\u5230\u4e00\u4e2a\u6027\u8d28\uff0c\u7ecf\u8fc7\u6295\u5f71\u53d8\u6362\u540e\uff0c\u70b9\u7684\u9f50\u6b21\u5750\u6807 \\(w\\) \u7684\u503c\u521a\u597d\u7b49\u4e8e\u53d8\u6362\u524d\u7684 z \u5750\u6807\u7684\u503c\uff08\u5373\u5728\u89c6\u56fe\u7a7a\u95f4\u4e0b\u7684z\u503c\uff09\u3002</p>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/75.games101-1-transform-rasterization/#_17","title":"\u63d2\u503c","text":"<p>\u7531\u4e8e\u6211\u4eec\u53ea\u77e5\u9053\u4e09\u89d2\u5f62\u9876\u70b9\u7684\u6df1\u5ea6\u503c\uff0c\u5982\u4f55\u8ba1\u7b97\u4e09\u89d2\u5f62\u5185\u90e8\u4efb\u610f\u4e00\u70b9\u7684\u6df1\u5ea6\u503c\u5462\uff1f\u8fd9\u5c31\u9700\u8981\u63d2\u503c\u3002</p> <p>\u53ef\u4ee5\u4f7f\u7528\u91cd\u5fc3\u5750\u6807\u63d2\u503c\uff08Barycentric Coordinates Interpolation\uff09</p> <ul> <li>\u5bf9\u5c4f\u5e55\u7a7a\u95f4\u4e09\u89d2\u5f62 ABC \u5185\u4efb\u610f\u70b9 P\uff0c\u7528\u4e09\u4e2a\u6743\u91cd \u03b1, \u03b2, \u03b3 \u8868\u793a<ul> <li>P = \u03b1A + \u03b2B + \u03b3C\uff0c\u4e14 \u03b1 + \u03b2 + \u03b3 = 1</li> <li>\u03b1, \u03b2, \u03b3 \u5206\u522b\u7b49\u4e8e\u5b50\u4e09\u89d2\u5f62 PBC\u3001PCA\u3001PAB \u7684\u9762\u79ef\u5360\u6bd4\uff08\u5e26\u7b26\u53f7\u9762\u79ef\uff09</li> </ul> </li> <li>\u8fd9\u4e9b\u6743\u91cd\u6709\u4e24\u4e2a\u6838\u5fc3\u7528\u9014\uff1a<ul> <li>\u8986\u76d6\u6d4b\u8bd5\uff1a\u82e5 \u03b1, \u03b2, \u03b3 \u5168\u540c\u53f7\uff08\u901a\u5e38 \u2265 0\uff09\uff0cP \u5728\u4e09\u89d2\u5f62\u5185\u6216\u8fb9\u4e0a\u3002</li> <li>\u5c5e\u6027\u63d2\u503c\uff08\u989c\u8272\u3001\u6df1\u5ea6\u3001\u6cd5\u7ebf\u3001UV \u7b49\uff09\uff1aattr(P) = \u03b1\u00b7attr(A) + \u03b2\u00b7attr(B) + \u03b3\u00b7attr(C)\u3002</li> </ul> </li> <li>\u6df1\u5ea6\u63d2\u503c   \u5f97\u5230 \u03b1, \u03b2, \u03b3 \u540e\uff0c\u53ef\u4ee5\u6c42z\u63d2\u503c\uff0c\u8fd9\u91cc\\(A_w\\)\u3001\\(B_w\\)\u3001\\(C_w\\)\u90fd\u662f\u9f50\u6b21\u5750\u6807\uff1a</li> </ul> \\[ z_{\\text{\u63d2\u503c}} = \\frac{\\alpha \\frac{A_z}{A_w} + \\beta \\frac{B_z}{B_w} + \\gamma \\frac{C_z}{C_w}}       {\\alpha \\frac{1}{A_w} + \\beta \\frac{1}{B_w} + \\gamma \\frac{1}{C_w}} \\]","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/games101-2-shading/","title":"games101 \u4e8c\u3001\u7740\u8272","text":"","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/games101-2-shading/#shading","title":"\u7740\u8272\uff08Shading\uff09","text":"<p>\u6839\u636e\u4e0d\u540c\u6750\u8d28\u548c\u5149\u7167\u6761\u4ef6\uff0c\u7ed8\u5236\u7269\u4f53\u7684\u989c\u8272\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u53eb\u7740\u8272\uff08Shading\uff09\u3002</p> <p>\u7740\u8272\u662f\u4f5c\u7528\u4e8e\u4e00\u4e2a\u4e2a\u7740\u8272\u70b9\uff08shading point\uff09\u7684\u3002</p>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/games101-2-shading/#blinn-phong-blinn-phong-reflectance-model","title":"Blinn-Phong \u53cd\u5c04\u6a21\u578b\uff08Blinn-Phong Reflectance Model\uff09","text":"<ol> <li>Specular highlight\uff08\u955c\u9762\u9ad8\u5149\uff09</li> <li>Diffuse reflection\uff08\u6f2b\u53cd\u5c04\uff09</li> <li>Ambient reflection\uff08\u73af\u5883\u5149\u53cd\u5c04\uff09</li> </ol>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/games101-2-shading/#shading_1","title":"shading\u5b9a\u4e49","text":"<ul> <li>Viewer direction \\(\\vec{v}\\)\uff0c\u89c2\u5bdf\u8005\u65b9\u5411\u5411\u91cf</li> <li>Surface normal \\(\\vec{n}\\)\uff0c\u8868\u9762\u6cd5\u7ebf\u5411\u91cf</li> <li>Light direction \\(\\vec{l}\\)\uff0c\u5149\u6e90\u65b9\u5411\u5411\u91cf</li> <li>Surface parameters\uff0c\u8868\u9762\u6750\u8d28\u53c2\u6570</li> <li>color</li> <li>Shininess</li> </ul> <p>\u4e0a\u9762\u8fd9\u4e9b\u5411\u91cf\u90fd\u662f\u5355\u4f4d\u5411\u91cf\u3002</p> <p>Shading\u8003\u8651\u7684\u662f\uff0c\u5728\u4e0d\u540c\u7684\u5149\u7167\u548c\u8868\u9762\u6750\u8d28\u7684\u4f5c\u7528\u4e0b\uff0c\u8868\u9762\u4e0a\u6bcf\u4e2a\u70b9\u7684\u989c\u8272\u662f\u600e\u6837\u7684\u3002</p> <p>Shading\u53ea\u8003\u8651\u4e00\u4e2a\u7269\u4f53\u81ea\u5df1\u548c\u5149\u7ebf\u7684\u4ea4\u4e92\uff0c\u4e0d\u8003\u8651\u7269\u4f53\u4e4b\u95f4\u7684\u76f8\u4e92\u5f71\u54cd\uff0c\u5982\u9634\u5f71\uff08Shadow\uff09\u3001\u53cd\u5c04\uff08Reflection\uff09\u7b49\u3002</p>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/games101-2-shading/#_1","title":"\u6cd5\u7ebf\u53d8\u6362","text":"<p>\u6211\u4eec\u5df2\u7ecf\u77e5\u9053\uff0c\u9876\u70b9\u4f4d\u7f6e\u9700\u8981\u7ecf\u8fc7MV\u53d8\u6362\u540e\uff0c\u518d\u505a\u53cd\u5c04\u8ba1\u7b97\uff0c\u90a3\u4e48\u81ea\u7136\uff0c\u6cd5\u7ebf\u4e5f\u9700\u8981\u7ecf\u8fc7\u53d8\u6362\u540e\u624d\u80fd\u53c2\u4e0e\u53cd\u5c04\u8ba1\u7b97\u3002</p> <p>\u4f46\u662f\u6cd5\u7ebf\u4e0d\u80fd\u76f4\u63a5\u7528MV\u77e9\u9635\u53d8\u6362\uff0c\u56e0\u4e3a\u6cd5\u7ebf\u662f\u5782\u76f4\u4e8e\u8868\u9762\u7684\u5411\u91cf\uff0c\u76f4\u63a5\u7528MV\u77e9\u9635\u53d8\u6362\u540e\uff0c\u53ef\u80fd\u4e0d\u518d\u5782\u76f4\u4e8e\u8868\u9762\u3002</p> <p>\u4e3a\u4e86\u4fdd\u8bc1\u6cd5\u7ebf\u53d8\u6362\u540e\u4ecd\u7136\u5782\u76f4\u4e8e\u8868\u9762\uff0c\u6211\u4eec\u9700\u8981\u7528MV\u77e9\u9635\u7684\u9006\u8f6c\u7f6e\u77e9\u9635\uff08Inverse Transpose Matrix\uff09\u6765\u53d8\u6362\u6cd5\u7ebf\u3002</p> <p>\u9006\u8f6c\u7f6e\u77e9\u9635\uff0c\u5373\uff1a</p> \\[(M^{-1})^T\\]","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/games101-2-shading/#diffuse-reflection","title":"\u6f2b\u53cd\u5c04\uff08Diffuse Reflection\uff09","text":"<p>\u6f2b\u53cd\u5c04\u6a21\u62df\u5149\u7ebf\u7167\u5c04\u5230\u7c97\u7cd9\u8868\u9762\u4e0a\u7684\u6548\u679c\u3002</p> <p>\u6f2b\u53cd\u5c04\u7684\u5165\u5c04\u5149\u7ebf\u4f1a\u5747\u5300\u5730\u5411\u5404\u4e2a\u65b9\u5411\u53cd\u5c04\u3002</p> <p>\u8003\u8651\u5149\u7ebf\u63a5\u6536</p> <p>Lambert\u7684\u4f59\u5f26\u5b9a\u5f8b\uff08Lambert's Cosine Law\uff09\uff1a</p> <p>\u5047\u8bbe\u5165\u5c04\u5149\u7ebf\u662f\u5e73\u884c\u7684\uff0c\u7269\u4f53\u8868\u9762\u7684\u6cd5\u7ebf\u548c\u5165\u5c04\u5149\u7ebf\u5939\u89d2\u8d8a\u5927\uff0c\u5355\u4f4d\u8868\u9762\u63a5\u6536\u5230\u7684\u5149\u5c31\u8d8a\u5c11\uff0c\u7528 \\(\\theta\\) \u8868\u793a\u5165\u5c04\u5149\u7ebf\u548c\u6cd5\u7ebf\u7684\u5939\u89d2\uff0c\\(cos\\theta=\\vec{l} \\cdot \\vec{n}\\)\u3002</p> <p>\u8003\u8651\u5149\u7ebf\u53d1\u5c04</p> <p>\u6709\u4e00\u4e2a\u70b9\u5149\u6e90\uff0c\u6211\u4eec\u53ef\u4ee5\u4ee5\u5149\u6e90\u4e3a\u4e2d\u5fc3\uff0c\u753b\u51fa\u591a\u4e2a\u534a\u5f84\u4e0d\u540c\u7684\u7403\u9762\uff0c\u540c\u4e00\u4e2a\u7403\u9762\u4e0a\u6bcf\u4e2a\u70b9\u7684\u5149\u7167\u5f3a\u5ea6\u76f8\u540c\uff0c\u4e0d\u540c\u7403\u9762\u7684\u603b\u5149\u7167\u5f3a\u5ea6\u76f8\u540c\uff0c\u56e0\u6b64\u7403\u9762\u4e0a\u7684\u5355\u4e2a\u70b9\u7684\u5149\u7167\u5f3a\u5ea6\u4e0e\u8ddd\u79bb\u5149\u6e90\u7684\u8ddd\u79bb\u6709\u5173\uff0c\u8ddd\u79bb\u8d8a\u8fdc\u5f3a\u5ea6\u8d8a\u4f4e\u3002</p> <p>\u5b9a\u4e49 \\(I\\) \u4e3a\u534a\u5f84\u4e3a1\u7684\u7403\u9762\u4e0a\u67d0\u4e00\u70b9\u7684\u5149\u7167\u5f3a\u5ea6\uff08Intensity\uff09\uff0c\u7403\u9762\u603b\u5149\u7167\u5f3a\u5ea6\u4e3a \\(4\\pi I\\)\uff0c\u90a3\u4e48\u8ddd\u79bb\u5149\u6e90 \\(r\\) \u5904\u7684\u4e00\u70b9\u4e0a\u5149\u7167\u5f3a\u5ea6\u4e3a \\(I/r^2\\)\u3002</p> <p>\u6f2b\u53cd\u5c04\u516c\u5f0f</p> <p>\u7531\u6b64\u53ef\u5f97\u4e00\u4e2ashading point\u4e0a\u7684\u6f2b\u53cd\u5c04\u516c\u5f0f\uff1a</p> \\[L_d = k_d \\frac{I}{r^2} \\max(0, \\vec{l} \\cdot \\vec{n})\\] <p>\u5176\u4e2d\uff0c\\(k_d\\) \u4e3a\u6f2b\u53cd\u5c04\u7cfb\u6570 \uff08Diffuse coefficient\uff09\uff0c\u4e3a1\u65f6\u8868\u793a\u5b8c\u5168\u53cd\u5c04\uff0c\u4eae\u5ea6\u6700\u4eae\uff0c\u4e3a0\u65f6\u8868\u793a\u5b8c\u5168\u5438\u6536\uff0c\u4eae\u5ea6\u6700\u6697\uff0c\u5f53\u5b83\u4e3a\u5411\u91cf\u65f6\uff0c\u8868\u793a\u7684\u5c31\u662f\u989c\u8272\u7cfb\u6570\u3002</p> <p>\u7531\u4e8e\u6f2b\u53cd\u5c04\u5747\u5300\u5730\u5411\u5404\u4e2a\u65b9\u5411\u53cd\u5c04\uff0c\u6240\u4ee5\u4e0d\u7ba1\u4ece\u54ea\u4e2a\u65b9\u5411\u89c2\u6d4b\uff0c\u770b\u5230\u7684\u989c\u8272\u90fd\u662f\u4e00\u6837\u7684\u3002</p>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/games101-2-shading/#specular-highlight","title":"\u9ad8\u5149\uff08Specular Highlight\uff09","text":"<p>\u53ea\u6709\u5f53\u89c2\u5bdf\u65b9\u5411\u548c\u955c\u9762\u53cd\u5c04\u65b9\u5411\u63a5\u8fd1\u65f6\uff0c\u624d\u4f1a\u770b\u5230\u9ad8\u5149\uff0c\u56e0\u6b64\u5149\u7167\u5f3a\u5ea6\uff08Intensity\uff09\u4e0e\u89c2\u5bdf\u65b9\u5411\u6709\u5173\u3002</p> <p>\u89c2\u5bdf\u65b9\u5411\u548c\u955c\u9762\u53cd\u5c04\u65b9\u5411\u63a5\u8fd1\u4e5f\u4e5f\u610f\u5473\u7740\u534a\u7a0b\u5411\u91cf \\(\\vec{h}\\) \u548c\u6cd5\u7ebf\u65b9\u5411\u63a5\u8fd1\uff0c\u534a\u7a0b\u5411\u91cf\u662f\u6307\u5149\u7ebf\u5165\u5c04\u65b9\u5411\u548c\u89c2\u5bdf\u65b9\u5411\u7684\u89d2\u5e73\u5206\u7ebf\u65b9\u5411\u3002</p> \\[\\vec{h} = \\frac{\\vec{l} + \\vec{v}}{|\\vec{l} + \\vec{v}|}\\] <p>\u9ad8\u5149\u7684\u53cd\u5c04\u516c\u5f0f\u4e3a\uff1a</p> \\[L_s = k_s \\frac{I}{r^2} \\max(0, \\vec{h} \\cdot \\vec{n})^{p}\\] <p>\u5176\u4e2d\uff0c\\(\\vec{h} \\cdot \\vec{n}\\) \u4e3a \u534a\u7a0b\u5411\u91cf\u548c\u6cd5\u7ebf\u7684\u5939\u89d2\u4f59\u5f26 \\(\\cos{\\alpha}\\)\uff0c\\(k_s\\) \u4e3a\u9ad8\u5149\u7cfb\u6570\uff08Specular coefficient\uff09\uff0c\\(p\\) \u662f\u4e3a\u4e86\u52a0\u5feb \\(\\cos{\\alpha}\\) \u7684\u8870\u51cf\uff0c\\(p\\) \u7684\u503c\u8f83\u5927\u65f6\uff0c\u5939\u89d2 \\(\\alpha\\) \u7a0d\u5fae\u5927\u4e00\u70b9\uff0c\\(\\cos{\\alpha}\\) \u7684\u503c\u5c31\u4f1a\u964d\u4f4e\u5f88\u591a\uff0c\u9ad8\u5149\u5c31\u4f1a\u8870\u51cf\u5f88\u5feb\uff0c\u4f53\u73b0\u5728\u89c6\u89c9\u4e0a\u5c31\u662f\u9ad8\u5149\u6bd4\u8f83\u96c6\u4e2d\u3002</p> <p>Blinn-Phong \u6a21\u578b\u5c06\u5149\u7ebf\u63a5\u6536\u9879 \\(\\vec{l} \\cdot \\vec{n}\\) \u7b80\u5316\u6389\u4e86\u3002</p>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/games101-2-shading/#ambient-light","title":"\u73af\u5883\u5149\uff08Ambient Light\uff09","text":"<p>\u73af\u5883\u5149\u6765\u81ea\u56db\u9762\u516b\u65b9\uff0c\u6211\u4eec\u5047\u4efb\u4f55\u4e00\u4e2a\u70b9\u63a5\u6536\u5230\u7684\u73af\u5883\u5149\u6c38\u8fdc\u76f8\u540c\u3002</p> \\[L_a = k_a I_a\\] <p>\\(I_a\\) \u4e3a\u73af\u5883\u5149\u5f3a\u5ea6\uff08Ambient Intensity\uff09\uff0c\u662f\u4e00\u4e2a\u6052\u5b9a\u503c\uff0c\\(k_a\\) \u4e3a\u73af\u5883\u5149\u7cfb\u6570\uff08Ambient coefficient\uff09\u3002</p>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/games101-2-shading/#_2","title":"\u5408\u8d77\u6765","text":"<p>\u5c06\u4e09\u79cd\u5149\u7167\u6a21\u578b\u5408\u8d77\u6765\uff1a</p> \\[L = L_a + L_d + L_s\\]","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/games101-2-shading/#shading-frequency","title":"\u7740\u8272\u9891\u7387\uff08Shading Frequency\uff09","text":"<p>\u7740\u8272\u9891\u7387\u7814\u7a76\u7684\u662f\u5982\u4f55\u8ba9\u6e32\u67d3\u7ed3\u679c\u66f4\u7cbe\u7ec6\uff0c\u66f4\u5e73\u6ed1\uff0c\u6bd4\u5982\uff0c\u4e00\u4e2a\u7403\u4f53\u5b9e\u9645\u4e0a\u662f\u7531\u5f88\u591a\u4e09\u89d2\u5f62\u7ec4\u6210\u7684\uff0c\u5982\u679c\u6bcf\u4e2a\u4e09\u89d2\u5f62\u53ea\u8ba1\u7b97\u4e00\u4e2a\u7740\u8272\u70b9\uff0c\u90a3\u4e48\u6e32\u67d3\u51fa\u6765\u7684\u7403\u4f53\u5c31\u4f1a\u6709\u68f1\u89d2\uff0c\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u6211\u4eec\u53ef\u4ee5\u589e\u52a0\u7740\u8272\u70b9\u7684\u6570\u91cf\uff0c\u6bd4\u5982\u5728\u6bcf\u4e2a\u4e09\u89d2\u5f62\u5185\u90e8\u8fdb\u884c\u63d2\u503c\u8ba1\u7b97\uff0c\u4ee5\u63d0\u9ad8\u7740\u8272\u9891\u7387\uff0c\u8fd9\u6837\u5c31\u80fd\u8ba9\u6e32\u67d3\u7ed3\u679c\u66f4\u5e73\u6ed1\u3002</p> <p>\u6ce8\u610f\u4e0b\u9762\u7684\u65b9\u6cd5\u63d0\u5230\u4e86\u8ba1\u7b97\u9876\u70b9\u6cd5\u7ebf\uff0c\u5b9e\u9645\u4e0a\uff0c\u6709\u4e9b\u6a21\u578b\u683c\u5f0f\uff0c\u4f8b\u5982obj\u683c\u5f0f\uff0c\u5df2\u7ecf\u5305\u542b\u4e86\u9876\u70b9\u6cd5\u7ebf\u6570\u636e\u3002</p> <p>Flat Shading (Face)</p> <p>\u4e00\u4e2a\u4e09\u89d2\u5f62\u9762\u53ea\u6709\u4e00\u4e2a\u6cd5\u7ebf\uff0c\u628a\u4e09\u89d2\u5f62\u9762\u89c6\u4e3a\u4e00\u4e2a\u5e73\u5766\u7684\u5e73\u9762\u3002</p> <p>Gouraud Shading (Vertex)</p> <p>\u6c42\u51fa\u51e0\u4e2a\u9876\u70b9\u7684\u6cd5\u7ebf\uff0c\u8ba1\u7b97\u51fa\u9876\u70b9\u7684\u989c\u8272\uff0c\u7136\u540e\u5728\u4e09\u89d2\u5f62\u9762\u5185\u8fdb\u884c\u989c\u8272\u63d2\u503c\u3002</p> <p>Phong Shading (Pixel)</p> <p>\u6ce8\u610f\u8fd9\u4e2a\u5e76\u4e0d\u662fBlinn-Phong\u53cd\u5c04\u6a21\u578b\u3002</p> <p>\u6c42\u51fa\u51e0\u4e2a\u9876\u70b9\u7684\u6cd5\u7ebf\uff0c\u5728\u4e09\u89d2\u5f62\u9762\u5185\u8fdb\u884c\u6cd5\u7ebf\u63d2\u503c\uff0c\u7136\u540e\u8ba1\u7b97\u51fa\u6bcf\u4e2a\u50cf\u7d20\u70b9\u7684\u989c\u8272\u3002</p>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/games101-2-shading/#_3","title":"\u9898\u5916\u8bdd\uff08\u4e00\u70b9\u601d\u8003\uff09","text":"<p>\u4f7f\u7528\u9876\u70b9\u6cd5\u7ebf\u63d2\u503c\uff0c\u4e0d\u4f1a\u6539\u53d8\u51e0\u4f55\uff0c\u53ea\u662f\u5149\u7167\u65f6\u8ba9\u51e0\u4f55\u4f53\u8868\u9762\u663e\u5f97\u66f4\u5e73\u6ed1\u3002</p> <p>\u8fd9\u53eb\u505a\u6cd5\u7ebf\u5e73\u6ed1\uff08Normal Smoothing\uff09\u3002</p> <p>\u5982\u679c\u6211\u6709\u4e2a\u6bd4\u8f83\u590d\u6742\u7684\u51e0\u4f55\u4f53\uff0c\u6211\u5e0c\u671b\u5b83\u67d0\u4e00\u90e8\u5206\u7684\u6e32\u67d3\u4f7f\u7528\u9762\u6cd5\u7ebf\uff0c\u8ba9\u4ed6\u7684\u68f1\u89d2\u66f4\u5206\u660e\uff0c\u800c\u5176\u4ed6\u90e8\u5206\u4f7f\u7528\u9876\u70b9\u6cd5\u7ebf\u63d2\u503c\uff0c\u8ba9\u4ed6\u7684\u8868\u9762\u66f4\u5706\u6ed1\uff0c\u56fe\u5f62\u5b66\u4e0a\u6709\u8fd9\u79cd\u6280\u672f\u5417\uff1f\u6216\u8005\u8bf4\uff0c\u8fd9\u5bf9\u4e8e\u56fe\u5f62\u5b66\u6765\u8bf4\uff0c\u662f\u4e2a\u95ee\u9898\u5417\uff1f</p> <p>gpt\u544a\u8bc9\u6211:</p> <p>\u6709\uff0c\u5e76\u4e14\u975e\u5e38\u5e38\u89c1\u3002\u8fd9\u4e0d\u662f\u95ee\u9898\uff0c\u800c\u662f\u6807\u51c6\u505a\u6cd5\u3002</p> <p>\u53ef\u7528\u7684\u6280\u672f\u4e0e\u505a\u6cd5\uff1a</p> <p>\u786c\u8fb9/\u5e73\u6ed1\u7ec4\uff08Smoothing Groups\uff09/\u6cd5\u7ebf\u62c6\u5206\uff08Normal Split\uff09\uff1a\u5728\u786c\u8fb9\u5904\u201c\u62c6\u5206\u9876\u70b9\u201d\uff0c\u7ed9\u8be5\u8fb9\u4e24\u4fa7\u4e09\u89d2\u5f62\u7684\u9876\u70b9\u5199\u5165\u5404\u81ea\u7684\u9762\u6cd5\u7ebf\uff1b\u5176\u4f59\u533a\u57df\u7528\u5e73\u6ed1\u9876\u70b9\u6cd5\u7ebf\u3002\u5927\u591a\u6570DCC/\u5f15\u64ce\u652f\u6301\uff08OBJ/FBX\u53ef\u5b58\u201c\u9762-\u9876\u70b9\u6cd5\u7ebf\u201d\uff09\u3002 \u6309\u89d2\u5ea6\u9608\u503c\u751f\u6210\u6cd5\u7ebf\uff1a\u5bfc\u5165\u65f6\u6309\u5939\u89d2&gt;\u9608\u503c\u5c31\u65ad\u8fb9\uff0c\u7528\u9762\u6cd5\u7ebf\uff1b\u5426\u5219\u5408\u5e76\u6c42\u5e73\u5747\u6cd5\u7ebf\u3002 \u7740\u8272\u5668\u91cc\u6df7\u5408\uff1a\u5728\u7247\u5143\u7740\u8272\u5668\u540c\u65f6\u62ff\u5230\u201c\u63d2\u503c\u6cd5\u7ebf\u201d\uff08\u5e73\u6ed1\uff09\u548c\u201c\u51e0\u4f55\u9762\u6cd5\u7ebf\u201d\uff0c\u7528\u63a9\u7801\uff08\u9876\u70b9\u5c5e\u6027\u6216\u7eb9\u7406\uff09\u9009\u62e9\u6216\u6df7\u5408\u4e8c\u8005\u3002</p> <p>\u793a\u4f8b\uff08GLSL \u7247\u5143\uff0c\u4e16\u754c\u6216\u89c6\u7a7a\u95f4\u4e00\u81f4\uff09\uff1a</p> <pre><code>// ...\u63d2\u503c\u8fdb\u6765\u7684\u6570\u636e...\nin vec3 vPosWS;         // \u7247\u5143\u4f4d\u7f6e(\u4e16\u754c/\u89c6\u7a7a\u95f4)\nin vec3 vNormalWS;      // \u63d2\u503c\u540e\u7684\u5e73\u6ed1\u6cd5\u7ebf\nin vec2 vUV;            // \u53ef\u9009\uff0c\u7528\u4e8e\u533a\u57df\u63a9\u7801\nuniform sampler2D uMask; // R=1 \u7528\u9762\u6cd5\u7ebf\uff0cR=0 \u7528\u5e73\u6ed1\n// ...existing code...\nvoid main() {\n    vec3 N_smooth = normalize(vNormalWS);\n    vec3 N_flat   = normalize(cross(dFdx(vPosWS), dFdy(vPosWS))); // \u9762\u6cd5\u7ebf\n    float w = texture(uMask, vUV).r; // \u6216\u8005\u7528\u9876\u70b9\u5c5e\u6027/\u6750\u8d28\u5f00\u5173\n    vec3 N = normalize(mix(N_smooth, N_flat, w));\n    // \u7528 N \u505a\u540e\u7eed\u5149\u7167\n}\n</code></pre> <p>\u5176\u4ed6\u8981\u70b9\uff1a</p> <ul> <li>\u7528 flat \u63d2\u503c\u9650\u5b9a\u7b26\u4e5f\u53ef\u8ba9\u67d0\u4e2a varying \u6309\u201c\u6bcf\u9762\u201d\u4f20\u503c\uff0c\u4f46\u8981\u4fdd\u8bc1\u4e09\u9876\u70b9\u643a\u5e26\u76f8\u540c\u6570\u636e\u6216\u7528\u51e0\u4f55\u7740\u8272\u5668/\u9876\u70b9\u590d\u5236\u3002</li> <li>\u786c\u8fb9\u4f1a\u589e\u52a0\u9876\u70b9\u6570\uff1b\u82e5\u7528 dFdx/dFdy \u6c42\u9762\u6cd5\u7ebf\uff0c\u8bf7\u786e\u4fdd\u7528\u540c\u4e00\u7a7a\u95f4\u7684 vPos\uff0c\u5e76\u6ce8\u610f\u5bfc\u6570\u5728\u5206\u652f/\u591a\u91c7\u6837\u5904\u7684\u8fde\u7eed\u6027\u3002</li> <li>\u82e5\u7528\u6cd5\u7ebf\u8d34\u56fe\uff0c\u5e73\u6ed1\u533a\u5e94\u4fdd\u6301\u4e00\u81f4\u7684\u5207\u7ebf\u7a7a\u95f4\uff08\u5e38\u7528 MikkTSpace\uff09\u3002</li> </ul> <p>\u7ed3\u8bba\uff1a\u540c\u4e00\u51e0\u4f55\u4f53\u4e2d\u6df7\u5408\u201c\u9762\u6cd5\u7ebf\u7684\u786c\u6717\u201d\u548c\u201c\u9876\u70b9\u6cd5\u7ebf\u7684\u5706\u6ed1\u201d\u662f\u884c\u4e1a\u5e38\u89c4\u5de5\u4f5c\u6d41\uff0c\u76f4\u63a5\u7528\u786c\u8fb9/\u5e73\u6ed1\u7ec4\u6216\u7740\u8272\u5668\u63a9\u7801\u5373\u53ef\u5b9e\u73b0\u3002</p> <p>\u4ee5\u4e0a\u5168\u90e8\u90fd\u662fgpt\u544a\u8bc9\u6211\u7684\u3002</p>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/games101-2-shading/#_4","title":"\u5982\u4f55\u8ba1\u7b97\u9876\u70b9\u7684\u6cd5\u7ebf\uff1f","text":"<p>\u5bf9\u9876\u70b9\u6240\u5728\u9762\u7684\u6cd5\u7ebf\u8fdb\u884c\u5e73\u5747\u3002</p> \\[ \\vec{n}_v = \\frac{\\sum_{i=1}^{k} \\vec{n}_i}{|\\sum_{i=1}^{k} \\vec{n}_i|} \\]","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/games101-2-shading/#_5","title":"\u5982\u4f55\u5bf9\u6cd5\u7ebf\u63d2\u503c\uff1f","text":"<p>Barycentric coordinates interpolation\uff08\u91cd\u5fc3\u5750\u6807\u63d2\u503c\uff09</p>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/games101-2-shading/#real-time-rendering-pipeline","title":"\u5b9e\u65f6\u6e32\u67d3\u7ba1\u7ebf\uff08Real-time Rendering Pipeline\uff09","text":"<ol> <li>Vertex Processing\uff0c\u5c06\u9876\u70b9\u4ece\u6a21\u578b\u7a7a\u95f4\u53d8\u6362\u5230\u5c4f\u5e55\u7a7a\u95f4\uff08MVP\u53d8\u6362\uff09</li> <li>Triangle Processing\uff0c\u5c06\u9876\u70b9\u5212\u5206\u4e3a\u4e00\u4e2a\u4e2a\u4e09\u89d2\u5f62</li> <li>Rasterization\uff0c\u5149\u6805\u5316\uff0c\u5c06\u4e09\u89d2\u5f62\u79bb\u6563\u5316\u4e3a\u4e00\u4e2a\u4e2a\u91c7\u6837\u70b9\uff08Fragments\uff09\uff0c\u6297\u952f\u9f7f</li> <li>Fragment Processing\uff0c\u6839\u636e\u91c7\u6837\u7ed3\u679c\u5bf9\u6bcf\u4e2a\u50cf\u7d20\u8fdb\u884c\u7740\u8272\uff0c\u6df1\u5ea6\u6d4b\u8bd5 / \u53ef\u89c1\u6027\u6d4b\u8bd5</li> <li>Framebuffer Operations</li> </ol> <p>\u7740\u8272\uff08Shading\uff09\u4e3b\u8981\u53d1\u751f\u5728Vertex Processing \u548c Fragment Processing\uff0c\u63a7\u5236\u7740\u8272\u7684\u7a0b\u5e8f\u53eb\u505a Shader\u3002</p> <p>\u56fe\u5f62\u7ba1\u7ebf\u8fd0\u884c\u5728GPU\u4e0a\uff0c\u5145\u5206\u5229\u7528GPU\u7684\u5e76\u884c\u8ba1\u7b97\u80fd\u529b\u3002</p>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/games101-2-shading/#shader","title":"Shader","text":"<p>Shader \u9700\u8981\u7528\u786c\u4ef6\u4e0a\u6267\u884c\u7684\u8bed\u8a00\u6765\u7f16\u5199\uff0c\u6bd4\u5982 GLSL\u3001HLSL \u7b49\u3002</p> <p>Shader \u53ea\u9700\u8981\u5173\u5fc3\u5355\u4e2a\u9876\u70b9\u6216\u50cf\u7d20\u7684\u7740\u8272\uff0c\u4e0d\u9700\u8981\u5199\u5faa\u73af\u7b49\u63a7\u5236\u7ed3\u6784\u3002</p> <p>Shader \u5206\u4e3a\u4e24\u79cd\uff1a</p> <ul> <li>Vertex Shader\uff0c\u9876\u70b9\u7740\u8272\u5668</li> <li>Fragment Shader\uff0c\u7247\u6bb5\u7740\u8272\u5668/\u50cf\u7d20\u7740\u8272\u5668</li> </ul>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/games101-2-shading/#texture-mapping","title":"\u7eb9\u7406\u6620\u5c04\uff08Texture Mapping\uff09","text":"<p>\u7eb9\u7406\u662f\u5bf9\u8868\u9762\u4e0a\u7684\u6bcf\u4e2a\u70b9\u8d4b\u4e88\u4e00\u4e2a\u5c5e\u6027\u3002</p> <p>\u7eb9\u7406\u6620\u5c04\u662f\u628a\u4e00\u5f20\u4e8c\u7ef4\u7684\u56fe\u7247\u6620\u5c04\u5230\u4e09\u7ef4\u7269\u4f53\u8868\u9762\u4e0a\u7684\u8fc7\u7a0b\uff0c\u7269\u4f53\u8868\u9762\u7684\u6bcf\u4e00\u4e2a\u9876\u70b9\u90fd\u8981\u5bf9\u5e94\u7eb9\u7406\u4e0a\u7684\u4e00\u4e2a\u70b9\u3002</p> <p>\u7eb9\u7406\u4e0a\u7684\u5750\u6807\u7cfb\u901a\u5e38\u79f0\u4e3auv\u5750\u6807\u7cfb\uff0cu\u8868\u793a\u6c34\u5e73\u65b9\u5411\uff0cv\u8868\u793a\u5782\u76f4\u65b9\u5411\u3002</p> <p>Tilable texture\uff08\u53ef\u5e73\u94fa\u7eb9\u7406\uff09\uff0c\u7eb9\u7406\u5728\u4e0a\u4e0b\u5de6\u53f3\u65b9\u5411\u4e0a\u91cd\u590d\u4f7f\u7528\u7684\u65f6\u5019\uff0c\u8d77\u5230\u4e00\u79cd\u65e0\u7f1d\u8854\u63a5\u7684\u6548\u679c\u3002</p> <p>\u7eb9\u7406\u6620\u5c04\u53ea\u89c4\u5b9a\u4e86\u4e09\u7ef4\u9876\u70b9\u548c\u4e8c\u7ef4\u7eb9\u7406\u5750\u6807\u4e4b\u95f4\u7684\u6620\u5c04\u5173\u7cfb\uff0c\u800c\u5bf9\u4e09\u89d2\u5f62\u9762\u5185\u7684\u67d0\u4e00\u70b9\u6765\u8bf4\uff0c\u5b83\u7684\u7eb9\u7406\u5750\u6807\u9700\u8981\u901a\u8fc7\u91cd\u5fc3\u5750\u6807\u63d2\u503c\u6765\u8ba1\u7b97\u3002</p>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/games101-2-shading/#barycentric-coordinates-interpolation","title":"\u91cd\u5fc3\u5750\u6807\u63d2\u503c\uff08Barycentric Coordinates Interpolation\uff09","text":"<p>\u91cd\u5fc3\u5750\u6807\u63d2\u503c\u53ef\u4ee5\u7528\u6765\u505a\u7eb9\u7406\u5750\u6807\u63d2\u503c\uff0c\u6cd5\u7ebf\u63d2\u503c\uff0c\u989c\u8272\u63d2\u503c\u7b49\u3002</p> <p>\u91cd\u5fc3\u5750\u6807\u7684\u8ba1\u7b97\u65b9\u6cd5\u5982\u4e0b\uff1a</p> <p>\u5bf9\u4e8e\u4e00\u4e2a\u4e09\u89d2\u5f62 \\(\\triangle ABC\\)\uff0c\u4ee5\u53ca\u4e09\u89d2\u5f62\u5185\u7684\u4e00\u4e2a\u70b9 \\(P\\)\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06 \\(P\\) \u8868\u793a\u4e3a \\(A\\)\uff0c\\(B\\)\uff0c\\(C\\) \u7684\u7ebf\u6027\u7ec4\u5408\uff1a</p> \\[P = \\alpha A + \\beta B + \\gamma C\\] <p>\u5176\u4e2d\uff0c\\(\\alpha + \\beta + \\gamma = 1\\)\uff0c\u4e14 \\(\\alpha, \\beta, \\gamma \\geq 0\\)\u3002</p> <p>\u7531 \\(\\alpha\\)\u3001 \\(\\beta\\)\u3001\\(\\gamma\\) \u8fd9\u4e09\u4e2a\u7cfb\u6570\u6784\u6210\u7684\u5411\u91cf \\((\\alpha, \\beta, \\gamma)\\) \u5c31\u662f\u70b9 \\(P\\) \u7684\u91cd\u5fc3\u5750\u6807\u3002</p> <p></p> <p>\\(\\alpha\\)\u3001 \\(\\beta\\)\u3001\\(\\gamma\\) \u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u65b9\u6cd5\u6c42\u51fa\uff08\\(A\\) \u4ee3\u8868\u9762\u79ef\uff09\uff1a</p> \\[\\alpha = \\frac{A_A}{A_{ABC}}, \\quad \\beta = \\frac{A_B}{A_{ABC}}, \\quad \\gamma = \\frac{A_C}{A_{ABC}}\\] <p>\u4e09\u89d2\u5f62\u7684\u91cd\u5fc3\u5750\u6807\u4e3a \\((\\frac{1}{3}, \\frac{1}{3}, \\frac{1}{3})\\)\uff0c\u5373\uff0c\u4e09\u89d2\u5f62\u7684\u91cd\u5fc3\u521a\u597d\u5c06\u4e09\u89d2\u5f62\u5206\u6210\u4e09\u4e2a\u7b49\u9762\u79ef\u7684\u5c0f\u4e09\u89d2\u5f62\u3002</p> <p>\u5047\u8bbe\u70b9 \\(P\\) \u7684\u5750\u6807\u4e3a \\((x,y)\\)\uff0c\u4e0b\u9762\u662f\u8ba1\u7b97 \\(\\alpha\\)\u3001 \\(\\beta\\)\u3001\\(\\gamma\\) \u7684\u516c\u5f0f\uff08\u5229\u7528\u53c9\u4e58\u5c31\u53ef\u4ee5\u63a8\u5bfc\u51fa\uff09\uff1a</p> \\[ \\alpha = \\frac{-(x - x_B)(y_C - y_B) + (y - y_B)(x_C - x_B)}       {-(x_A - x_B)(y_C - y_B) + (y_A - y_B)(x_C - x_B)} \\] \\[ \\beta = \\frac{-(x - x_C)(y_A - y_C) + (y - y_C)(x_A - x_C)}       {-(x_B - x_C)(y_A - y_C) + (y_B - y_C)(x_A - x_C)} \\] \\[ \\gamma = 1 - \\alpha - \\beta \\] <p>\u5bf9\u4e8e\u4efb\u610f\u5411\u91cf\u7684\u63d2\u503c\uff0c\u4e5f\u662f\u4e00\u6837\u7684\uff1a</p> \\[V_P = \\alpha V_A + \\beta V_B + \\gamma V_C\\] <p>\u7531\u4e8e\u5728\u6295\u5f71\u53d8\u6362\u8fc7\u7a0b\u4e2d\uff0c\u4e09\u89d2\u5f62\u4f1a\u88ab\u62c9\u4f38\u53d8\u6362\uff0c\u70b9\u7684\u91cd\u5fc3\u5750\u6807\u4f1a\u53d8\uff0c\u6240\u4ee5\u4ec0\u4e48\u65f6\u5019\u505a\u63d2\u503c\uff0c\u8981\u533a\u5206\u6e05\u695a\u3002</p>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/games101-2-shading/#_6","title":"\u5e94\u7528\u7eb9\u7406","text":"<ol> <li>\u5149\u6805\u5316\u540e\uff0c\u5bf9\u5c4f\u5e55\u4e0a\u7684\u6bcf\u4e00\u4e2a\u91c7\u6837\u70b9\u8fdb\u884c\u7eb9\u7406\u5750\u6807\u63d2\u503c\uff0c\u5f97\u5230\u5bf9\u5e94\u7684\u7eb9\u7406\u5750\u6807\uff08\\(u,v\\)\uff09\uff0c\\(u,v\\) \u5750\u6807\u7684\u503c\u901a\u5e38\u57280~1\u4e4b\u95f4\u3002</li> <li>\u7740\u8272\u65f6\uff0c\u5c06\u7eb9\u7406\u56fe\u7247\u4e0a\u7684\u989c\u8272\u4f5c\u4e3a\u6f2b\u53cd\u5c04\u7cfb\u6570 \\(k_d\\)\u3002</li> </ol>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/games101-2-shading/#_7","title":"\u7eb9\u7406\u53cd\u8d70\u6837","text":"<p>\u7eb9\u7406\u653e\u5927\uff08Texture Magnification\uff09\u548c\u7eb9\u7406\u7f29\u5c0f\uff08Texture Minification\uff09</p> <p>\u7eb9\u7406\u592a\u5927\u6216\u592a\u5c0f\uff0c\u6709\u53ef\u80fd\u53d1\u751f\u5728\u573a\u666f\u6709\u4e00\u5b9a\u6df1\u5ea6\u65f6\uff0c\u8fd1\u5904\u7684\u7269\u4f53\u9700\u8981\u7528\u5927\u7eb9\u7406\uff0c\u8fdc\u5904\u7684\u7269\u4f53\u9700\u8981\u7528\u5c0f\u7eb9\u7406\u3002</p> <p>texture\u592a\u5c0f\u600e\u4e48\u529e\uff1f</p> <p>\u7eb9\u7406\u56fe\u50cf\u4e2d\u7684\u4e00\u4e2a\u50cf\u7d20\u53eb\u505atexel\uff0c\u7eb9\u7406\u653e\u5927\u65f6\u9700\u8981\u5bf9texel\u8fdb\u884c\u63d2\u503c\u3002</p> <p>\u63d2\u503c\u89e3\u51b3\u7684\u662f\uff0c\u7ed9\u5b9a\u4e00\u4e2a\u975e\u6574\u6570\u7684\u7eb9\u7406\u5750\u6807\uff0c\u5982\u4f55\u8ba1\u7b97\u51fa\u5bf9\u5e94\u7684\u989c\u8272\u3002</p> <p>Bilinear Interpolation\uff08\u53cc\u7ebf\u6027\u63d2\u503c\uff09</p> <p>\u5982\u679c\u662f\u7ebf\u6027\u63d2\u503c\uff0c\u5f88\u7b80\u5355\uff0c\u6bd4\u5982\u6211\u4eec\u60f3\u5728 \\(\\vec{v_0}\\) \u548c \\(\\vec{v_1}\\) \u4e4b\u95f4\u63d2\u503c\uff0c\u63d2\u503c\u7cfb\u6570\u4e3a \\(x\\)\uff0c\u90a3\u4e48\u63d2\u503c\u7ed3\u679c\u4e3a\uff1a</p> \\[ lerp(x, \\vec{v_0}, \\vec{v_1}) = \\vec{v_0} + x(\\vec{v_1} - \\vec{v_0})\\] <p>\u53cc\u7ebf\u6027\u63d2\u503c\u662f\u5728\u4e8c\u7ef4\u5e73\u9762\u4e0a\u7684\u56db\u4e2a\u70b9\u6784\u6210\u7684\u77e9\u5f62\u533a\u57df\u5185\u8fdb\u884c\u63d2\u503c\uff0c\u5b9e\u9645\u4e0a\u5c31\u662f\u505a\u4e09\u6b21\u7ebf\u6027\u63d2\u503c\uff0c\u5148\u5728\u6c34\u5e73\u65b9\u5411\u4e0a\u505a\u4e24\u6b21\u7ebf\u6027\u63d2\u503c\uff0c\u7136\u540e\u5728\u5782\u76f4\u65b9\u5411\u4e0a\u505a\u4e00\u6b21\u7ebf\u6027\u63d2\u503c\u3002</p> <p>texture\u592a\u5927\u600e\u4e48\u529e\uff1f</p> <p>texture\u592a\u5927\uff0c\u8981\u628a\u5b83\u6620\u5c04\u5230\u4e00\u4e2a\u5c0f\u7684\u533a\u57df\u4e0a\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u5b9e\u9645\u4e0a\u662f\u5bf9\u7eb9\u7406\u964d\u4f4e\u91c7\u6837\u7387\u91c7\u6837\uff0c\u548c\u8986\u76d6\u6d4b\u8bd5\u7c7b\u4f3c\uff0c\u540c\u6837\u4f1a\u51fa\u73b0\u8d70\u6837\u95ee\u9898\uff08\u6469\u5c14\u7eb9\uff0c\u952f\u9f7f\u7b49\uff09\u3002</p> <p>\u4ece\u73b0\u8c61\u4e0a\u770b\uff0c\u51fa\u73b0\u8d70\u6837\u662f\u56e0\u4e3a\u4e00\u4e2a\u50cf\u7d20\uff08\u5373\u4e00\u4e2a\u91c7\u6837\u70b9\uff09\u5bf9\u5e94\u4e86\u4e00\u5927\u5757\u7eb9\u7406\u533a\u57df\u3002</p> <p>\u89e3\u51b3\u65b9\u6cd5: 1. \u589e\u52a0\u91c7\u6837\u70b9 2. \u4e0d\u505a\u91c7\u6837\uff0c\u7ed9\u5b9a\u4e00\u4e2a\u7eb9\u7406\u533a\u57df\uff0c\u7acb\u523b\u5f97\u5230\u8fd9\u4e2a\u533a\u57df\u7684\u5e73\u5747\u503c</p> <p>\u8fd9\u5b9e\u9645\u4e0a\u662f\u4e24\u4e2a\u7406\u5ff5\u7684\u533a\u522b\uff0cPoint Query \u548c Range Query\u3002</p>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/games101-2-shading/#mipmap","title":"Mipmap","text":"<p>Mipmap\u53ef\u4ee5\u7528\u6765\u505a\u6b63\u65b9\u5f62\u8303\u56f4\u67e5\u8be2\uff08Range Query\uff09</p> <p>Mipmap\u7684\u539f\u7406\u662f\u8fd9\u6837\u7684\uff0c\u5728\u6e32\u67d3\u4e4b\u524d\u9884\u5148\u751f\u6210\u4e00\u7cfb\u5217\u4e0d\u540c\u5206\u8fa8\u7387\u7684\u7eb9\u7406\u56fe\u50cf\uff0c\u7136\u540e\u5728\u6e32\u67d3\u65f6\u6839\u636e\u9700\u8981\u9009\u62e9\u5408\u9002\u5206\u8fa8\u7387\u7684\u7eb9\u7406\u56fe\u50cf\u8fdb\u884c\u91c7\u6837\u3002</p> <p>\u6211\u4eec\u628a\u6bcf\u4e2a\u5206\u8fa8\u7387\u7684\u56fe\u50cf\u79f0\u4e3a1\u5c42\uff0c\u7528 D \u8868\u793a\uff0cD0 \u5c42\u4e3a\u539f\u59cb\u56fe\u50cf\uff0cD1 \u5c42\u4e3a\u539f\u59cb\u56fe\u50cf\u5bbd\u9ad8\u5404\u51cf\u534a\u540e\u7684\u56fe\u50cf\uff0cD2 \u5c42\u4e3a D1 \u5c42\u5bbd\u9ad8\u5404\u51cf\u534a\u540e\u7684\u56fe\u50cf\uff0c\u4ee5\u6b64\u7c7b\u63a8\uff0c\u6bcf\u4e2a\u5c42\u7684\u56fe\u50cf\u5927\u5c0f\u4e3a\u4e0a\u4e00\u5c42\u7684\u56db\u5206\u4e4b\u4e00\u3002</p> <p>\u7ecf\u8fc7\u7ea7\u6570\u6c42\u548c\uff0c\u53ef\u4ee5\u77e5\u9053\u603b\u5171\u9700\u89814/3\u500d\u7684\u5b58\u50a8\u7a7a\u95f4\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0cMipmap \u4ec5\u9700\u8981\u989d\u5916\u7684 1/3 \u5b58\u50a8\u7a7a\u95f4\u3002</p> <p>\u5982\u4f55\u77e5\u9053\u9009\u62e9\u54ea\u4e00\u5c42\u7684\u56fe\u50cf\uff1f\u6216\u8005\u8bf4\uff0c\u5982\u4f55\u77e5\u9053\u4e00\u4e2a\u50cf\u7d20\u5bf9\u5e94\u7684\u7eb9\u7406\u533a\u57df\u6709\u591a\u5927\uff1f</p> <p>\u9009\u62e9\u4e00\u4e2a\u50cf\u7d20\u76f8\u90bb\u7684\u4e24\u4e2a\u50cf\u7d20\uff0c\u8ba1\u7b97\u5b83\u4eec\u5728\u7eb9\u7406\u7a7a\u95f4\u4e2d\u7684\u8ddd\u79bb\uff0c\u8ddd\u79bb\u8d8a\u5927\uff0c\u8bf4\u660e\u7eb9\u7406\u533a\u57df\u8d8a\u5927\uff0c\u9009\u62e9\u7684\u5c42\u6570\u5c31\u8d8a\u9ad8\u3002</p> <p>\u4ee5\u4e0b\u516c\u5f0f\u53ef\u4ee5\u8fd1\u4f3c\u8ba1\u7b97\u51fa\u50cf\u7d20\u5bf9\u5e94\u7684Mipmap\u5c42\u6570D\uff0cL\u4ee3\u8868\u50cf\u7d20\u5bf9\u5e94\u7684\u7eb9\u7406\u7a7a\u95f4\u7684\u8fb9\u957f\uff0c\u5b83\u662f\u53d6\u50cf\u7d20\u5206\u522b\u8ddd\u79bbx\u65b9\u5411\u548cy\u65b9\u5411\u4e0a\u7684\u50cf\u7d20\u5728\u7eb9\u7406\u7a7a\u95f4\u4e2d\u7684\u8ddd\u79bb\u7684\u6700\u5927\u503c\uff0c\u5176\u4e2d\uff0c\\(x\\)\u548c\\(y\\)\u4ee3\u8868\u5c4f\u5e55\u7a7a\u95f4\u7684\u5750\u6807\uff0c\\(u\\)\u548c\\(v\\)\u4ee3\u8868\u7eb9\u7406\u7a7a\u95f4\u7684\u5750\u6807\u3002</p> \\[ D = \\log_{2} L \\] \\[ L = \\max\\!\\left( \\sqrt{\\left(\\frac{du}{dx}\\right)^2 + \\left(\\frac{dv}{dx}\\right)^2}, \\sqrt{\\left(\\frac{du}{dy}\\right)^2 + \\left(\\frac{dv}{dy}\\right)^2} \\right) \\] <p>\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u5047\u5982\u7b97\u51fa\u6765\u7684L\u662f4\uff0c\u610f\u5473\u7740\uff0c\u4e00\u4e2a\u50cf\u7d20\u5bf9\u5e94\u7684\u539f\u59cb\u7eb9\u7406\uff08D0\u5c42\uff09\u533a\u57df\u662f4x4\u7684\uff0c\u800cD2\u5c42\u7684\u4e00\u4e2a\u50cf\u7d20\u6b63\u597d\u5bf9\u5e94\u539f\u59cb\u7eb9\u7406\u76844x4\u533a\u57df\uff0c\u56e0\u6b64\uff0c\u6211\u4eec\u5e94\u8be5\u9009\u62e9D2\u5c42\u7684\u56fe\u50cf\u8fdb\u884c\u91c7\u6837\u3002</p> <p>\u5982\u679cD\u4e0d\u662f\u6574\u6570\u600e\u4e48\u529e\uff1f\u6bd4\u5982D=1.8\uff0c\u5f88\u7b80\u5355\uff0c\u4f7f\u7528\u63d2\u503c\uff0c\u5148\u5728D1\u5c42\u548cD2\u5c42\u5206\u522b\u505a\u53cc\u7ebf\u6027\u63d2\u503c\uff0c\u7136\u540e\u518d\u5bf9\u7ed3\u679c\u505a\u7ebf\u6027\u63d2\u503c\uff0c\u8fd9\u53eb\u505a\u4e09\u7ebf\u6027\u63d2\u503c\uff08Trilinear Interpolation\uff09\u3002</p> <p>Mipmap\u7684\u9650\u5236</p> <p>Mipmap\u53ea\u80fd\u5904\u7406\u6b63\u65b9\u5f62\u533a\u57df\u7684\u67e5\u8be2\uff0c\u4e0d\u80fd\u5904\u7406\u4efb\u610f\u5f62\u72b6\u7684\u533a\u57df\u67e5\u8be2\u3002</p> <p>\u8fd9\u4f1a\u5bfc\u81f4\u6df1\u5ea6\u8f83\u5927\u7684\u573a\u666f\u4e2d\uff0c\u8fdc\u5904\u7684\u7269\u4f53\u53ef\u80fd\u4f1a\u8fc7\u4e8e\u6a21\u7cca\u3002</p>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/games101-2-shading/#anisotropic-filtering","title":"\u5404\u5411\u5f02\u6027\u8fc7\u6ee4\uff08Anisotropic Filtering\uff09","text":"<p>\u5404\u9879\u5f02\u6027\u8fc7\u6ee4\u9884\u5148\u8ba1\u7b97\u51fa\u4e0d\u540c\u957f\u5bbd\u6bd4\u4f8b\u7684\u7eb9\u7406\u56fe\u50cf\uff0c\u7136\u540e\u5728\u6e32\u67d3\u65f6\u6839\u636e\u9700\u8981\u9009\u62e9\u5408\u9002\u7684\u56fe\u50cf\u8fdb\u884c\u91c7\u6837\u3002</p> <p>\u8fd9\u53ebRipmap\u3002</p>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/games101-2-shading/#ewa-filtering","title":"EWA Filtering","text":"<p>EWA Filtering\uff08Elliptical Weighted Average Filtering\uff0c\u692d\u5706\u52a0\u6743\u5e73\u5747\u8fc7\u6ee4\uff09\u53ef\u4ee5\u5904\u7406\u4efb\u610f\u5f62\u72b6\u7684\u533a\u57df\u67e5\u8be2\u3002</p> <p>\u5b83\u7684\u539f\u7406\u662f\u628a\u4e00\u4e2a\u4e0d\u89c4\u5219\u7684\u7eb9\u7406\u533a\u57df\u8fd1\u4f3c\u4e3a\u591a\u4e2a\u692d\u5706\uff0c\u9700\u8981\u67e5\u8be2\u591a\u6b21\uff0c\u7136\u540e\u5bf9\u7ed3\u679c\u8fdb\u884c\u52a0\u6743\u5e73\u5747\u3002</p>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/games101-2-shading/#environment-mapping","title":"\u73af\u5883\u8d34\u56fe\uff08Environment Mapping\uff09","text":"<p>\u73af\u5883\u8d34\u56fe\u662f\u4e3a\u4e86\u6a21\u62df\u7269\u4f53\u8868\u9762\u7684\u53cd\u5c04\u6548\u679c\u3002</p> <p>\u5b83\u662f\u628a\u4e0d\u540c\u65b9\u5411\u7684\u73af\u5883\u5149\u7167\u4fe1\u606f\u9884\u5148\u4fdd\u5b58\u5230\u7eb9\u7406\u4e2d\uff0c\u7136\u540e\u5728\u6e32\u67d3\u65f6\u6839\u636e\u7269\u4f53\u8868\u9762\u7684\u6cd5\u7ebf\u65b9\u5411\uff0c\u4ece\u7eb9\u7406\u4e2d\u91c7\u6837\u51fa\u5bf9\u5e94\u7684\u73af\u5883\u5149\u7167\u4fe1\u606f\uff0c\u4f5c\u4e3a\u7269\u4f53\u8868\u9762\u7684\u53cd\u5c04\u5149\u7167\u3002</p> <p>\u5047\u8bbe\u73af\u5883\u5149\u90fd\u662f\u6765\u81ea\u65e0\u9650\u8fdc\u5904\uff0c\u53ea\u8bb0\u5f55\u73af\u5883\u5149\u7684\u65b9\u5411\u4fe1\u606f\u3002</p> <p>\u7403\u9762\u73af\u5883\u8d34\u56fe\uff08Spherical Environment Mapping\uff09\u662f\u5c06\u73af\u5883\u5149\u7167\u4fe1\u606f\u6620\u5c04\u5230\u4e00\u4e2a\u7403\u9762\u4e0a\u3002</p> <p>\u4e3a\u4e86\u89e3\u51b3\u7403\u9762\u8d34\u56fe\u5c55\u5f00\u4e3a\u77e9\u5f62\u65f6\u7684\u626d\u66f2\u95ee\u9898\uff0c\u53ef\u4ee5\u4f7f\u7528\u7acb\u65b9\u4f53\u8d34\u56fe\uff08Cubemap\uff09\uff0c\u5c06\u73af\u5883\u5149\u7167\u4fe1\u606f\u6620\u5c04\u5230\u4e00\u4e2a\u7acb\u65b9\u4f53\u7684\u516d\u4e2a\u9762\u4e0a\u3002</p>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/games101-2-shading/#bump-mapping-normal-mapping","title":"\u51f9\u51f8\u8d34\u56fe / \u6cd5\u7ebf\u8d34\u56fe\uff08Bump Mapping / Normal Mapping\uff09","text":"<p>\u8d34\u56fe\u4e2d\u8bb0\u5f55\u8868\u9762\u4e0a\u6bcf\u4e2a\u70b9\u7684\u76f8\u5bf9\u9ad8\u5ea6\u4fe1\u606f\uff0c\u5728\u6e32\u67d3\u65f6\u6839\u636e\u9ad8\u5ea6\u8c03\u6574\u8868\u9762\u6cd5\u7ebf\uff0c\u4ece\u800c\u6a21\u62df\u51fa\u8868\u9762\u7684\u51f9\u51f8\u6548\u679c\u3002</p> <p>\u5982\u4f55\u8ba1\u7b97\u4e00\u70b9 \\(P\\) \u65b0\u7684\u6cd5\u7ebf\u5462\uff1f</p> <p>\u5047\u8bbe\u539f\u59cb\u7684\u6cd5\u7ebf\u4e3a \\((0,0,1)\\)\uff0c\u9ad8\u5ea6\u51fd\u6570\u4e3a \\(h(u,v)\\)\uff0c\\(u\\) \u548c \\(v\\) \u662f\u7eb9\u7406\u5750\u6807\u3002</p> <p>\u5148\u6c42\u70b9 \\(P\\) \u5206\u522b\u5728 \\(u\\) \u548c \\(v\\) \u65b9\u5411\u7684\u5bfc\u6570\uff0c\u5206\u522b\u5728 \\(u\\) \u548c \\(v\\) \u65b9\u5411\u4e0a\u79fb\u52a8\u4e00\u4e2a\u5355\u4f4d\u957f\u5ea6\uff0c\u70b9 \\(P\\) \u7684\u9ad8\u5ea6\u5206\u522b\u4e3a \\(h(u+1)-h(u)\\) \u548c \\(h(v+1)-h(v)\\)\uff0c\u90a3\u4e48\u70b9 \\(P\\) \u5728 \\(u\\) \u65b9\u5411\u4e0a\u7684\u5bfc\u6570\u4e3a\uff0c\u5176\u4e2d\uff0c\\(c_1\\) \u548c \\(c_2\\) \u5206\u522b\u662f\u4e24\u4e2a\u56fa\u5b9a\u7684\u7cfb\u6570\uff1a</p> \\[ \\frac{dp}{du} = c_1 * [h(u+1)-h(u)] \\] \\[ \\frac{dp}{dv} = c_2 * [h(v+1)-h(v)] \\] <p>\u6839\u636e\u5bfc\u6570\uff0c\u53ef\u4ee5\u6c42\u51fa\u5207\u7ebf\u65b9\u5411\u5411\u91cf\uff0c\u7136\u540e\u53ef\u4ee5\u6c42\u51fa\u6cd5\u7ebf\u65b9\u5411\u5411\u91cf\uff1a</p> \\[ \\vec{n} = (-dp/du, -dp/dv, 1).normalize() \\] <p>\u6ce8\u610f\u8fd9\u91cc\u7684\u6cd5\u7ebf\u662f\u5c40\u90e8\u7a7a\u95f4\u7684\u6cd5\u7ebf\uff0c\u9700\u8981\u7ecf\u8fc7\u9006\u8f6c\u7f6e\u77e9\u9635\u53d8\u6362\u5230\u4e16\u754c\u7a7a\u95f4\u3002</p>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/games101-2-shading/#displacement-mapping","title":"\u4f4d\u79fb\u8d34\u56fe\uff08Displacement Mapping\uff09","text":"<p>\u4f4d\u79fb\u8d34\u56fe\u540c\u6837\u4e5f\u662f\u4e3a\u4e86\u6a21\u62df\u8868\u9762\u7684\u51f9\u51f8\u6548\u679c\uff0c\u4e0d\u540c\u7684\u662f\uff0c\u4f4d\u79fb\u8d34\u56fe\u76f4\u63a5\u6539\u53d8\u8868\u9762\u4e0a\u6bcf\u4e2a\u70b9\u7684\u4f4d\u7f6e\uff0c\u800c\u4e0d\u662f\u6539\u53d8\u6cd5\u7ebf\u3002</p> <p>\u4f4d\u79fb\u8d34\u56fe\u8981\u6c42\u4e09\u89d2\u5f62\u7f51\u683c\u8db3\u591f\u5bc6\u96c6\uff0c\u4f7f\u5f97\u7740\u8272\u65f6\u7684\u91c7\u6837\u7387\u80fd\u591f\u8ddf\u5f97\u4e0a\u8d34\u56fe\u7684\u9876\u70b9\u53d8\u5316\u901f\u5ea6\u3002</p> <p>directx\u6709\u4e00\u5957\u8fd1\u4f3c\u673a\u5236\uff0c\u52a8\u6001\u66f2\u9762\u7ec6\u5206\uff08Dynamic Tessellation\uff09\uff0c\u53ef\u4ee5\u5728\u6e32\u67d3\u65f6\u52a8\u6001\u589e\u52a0\u4e09\u89d2\u5f62\u7f51\u683c\u7684\u5bc6\u5ea6\uff0c\u800c\u4e0d\u9700\u8981\u5efa\u6a21\u65f6\u5c31\u5efa\u597d\u5bc6\u96c6\u7684\u7f51\u683c\u3002</p>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/games101-2-shading/#_8","title":"\u7eb9\u7406\u7684\u5176\u4ed6\u5e94\u7528","text":"<ul> <li>\u4e09\u7ef4\u566a\u58f0\uff083D Procedural Noise\uff09\uff0c\u662f\u4e00\u79cd\u4e09\u7ef4\u7eb9\u7406\u3002</li> <li>\u73af\u5883\u5149\u906e\u853d\uff08Ambient Occlusion\uff09\uff0c\u7528\u4e8e\u6a21\u62df\u73af\u5883\u5149\u7167\u5c04\u4e0b\u5728\u7269\u4f53\u8868\u9762\u4ea7\u751f\u7684\u9634\u5f71\u6548\u679c\uff0c\u6bd4\u5982\u7269\u4f53\u8868\u9762\u5012\u6620\u51fa\u5c4b\u5b50\u91cc\u7684\u7a97\u6237\uff0c\u53ea\u6709\u73bb\u7483\u662f\u4eae\u7684\uff0c\u5176\u4ed6\u5730\u65b9\u662f\u6697\u7684\u3002</li> <li>\u7528\u4e8e\u4f53\u79ef\u6e32\u67d3\uff08Volume Rendering\uff09\u7684\u4e09\u7ef4\u7eb9\u7406\uff083D Texture\uff09\u3002</li> </ul>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/games101-2-shading/#shadow-mapping","title":"\u9634\u5f71\u8d34\u56fe\uff08Shadow Mapping\uff09","text":"<p>\u5982\u4f55\u8fd0\u7528\u5149\u6805\u5316\u6280\u672f\u6765\u5b9e\u73b0\u9634\u5f71\u6548\u679c\uff1f</p> <p>\u7b54\u6848\u662fShadow Mapping\uff08\u9634\u5f71\u8d34\u56fe\uff09</p> <ul> <li>\u5728\u8ba1\u7b97\u9634\u5f71\u7684\u8fc7\u7a0b\u4e2d\uff0c\u4e0d\u9700\u8981\u77e5\u9053\u573a\u666f\u4e2d\u7684\u51e0\u4f55\u4fe1\u606f</li> <li>\u53ef\u80fd\u4f1a\u4ea7\u751f\u8d70\u6837\u95ee\u9898</li> </ul> <p>\u8981\u70b9\u662f\u53ea\u6709\u5f53light\u548ccamera\u90fd\u80fd\u770b\u5230\u8fd9\u4e2a\u70b9\u7684\u65f6\u5019\uff0c\u6211\u4eec\u624d\u8ba4\u4e3a\u5b83\u4e0d\u5728\u9634\u5f71\u91cc\uff0c\u8fd9\u4e2a\u5f88\u597d\u7406\u89e3\uff0ccamera\u80fd\u4e0d\u80fd\u770b\u5230\u8fd9\u4e2a\u70b9\u51b3\u5b9a\u8fd9\u4e2a\u70b9\u80fd\u4e0d\u80fd\u7740\u8272\uff0c\u800clight\u80fd\u4e0d\u80fd\u770b\u5230\u8fd9\u4e2a\u70b9\u51b3\u5b9a\u8fd9\u4e2a\u70b9\u7740\u4ec0\u4e48\u989c\u8272\u3002</p> <p>Shadow mapping\u53ea\u80fd\u5904\u7406\u70b9\u5149\u6e90\u3002</p> <p>\u53ea\u80fd\u751f\u6210\u786c\u9634\u5f71\uff08Hard Shadow\uff09</p> <ul> <li>\u786c\u9634\u5f71\uff1a\u9634\u5f71\u7684\u8f6e\u5ed3\u6e05\u6670\uff0c\u4e00\u4e2a\u70b9\u8981\u4e48\u5728\u9634\u5f71\u91cc\uff0c\u8981\u4e48\u4e0d\u5728\u9634\u5f71\u91cc</li> <li>\u8f6f\u9634\u5f71\uff1a\u9634\u5f71\u7684\u8f6e\u5ed3\u6bd4\u8f83\u6a21\u7cca</li> </ul>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/games101-2-shading/#_9","title":"\u5982\u4f55\u5b9e\u73b0","text":"<p>\u7b2c\u4e00\u6b65\uff0c\u5047\u8bbe\u5149\u6e90\u7684\u4f4d\u7f6e\u6709\u4e2a\u76f8\u673a\uff0c\u6211\u4eec\u5148\u7528\u5149\u6e90\u76f8\u673a\u6e32\u67d3\u4e00\u5f20\u6df1\u5ea6\u56fe\uff08Depth Map\uff09\uff0c\u6df1\u5ea6\u56fe\u4e2d\u8bb0\u5f55\u7684\u662f\u4ece\u5149\u6e90\u770b\u5230\u7684\u6bcf\u4e2a\u50cf\u7d20\u70b9\u7684\u6df1\u5ea6\u503c\u3002</p> <p>\u7b2c\u4e8c\u6b65\uff0c\u4ece\u771f\u6b63\u7684\u76f8\u673a\u4f4d\u7f6e\u518d\u6b21\u770b\u5411\u573a\u666f\uff0c\u5bf9\u4e8e\u6bcf\u4e2a\u50cf\u7d20\u70b9\uff0c\u62ff\u5230\u8fd9\u4e2a\u50cf\u7d20\u70b9\u5bf9\u5e94\u7684\u51e0\u4f55\u70b9\uff0c\u5c06\u8fd9\u4e2a\u70b9\u53d8\u6362\u5230\u5149\u6e90\u76f8\u673a\u7a7a\u95f4\uff0c\u8ba1\u7b97\u51fa\u8fd9\u4e2a\u70b9\u7684\u6df1\u5ea6\u503c\uff0c\u7136\u540e\u6bd4\u8f83\u8fd9\u4e2a\u6df1\u5ea6\u503c\u548c\u6df1\u5ea6\u56fe\u4e2d\u7684\u6df1\u5ea6\u503c\u4e4b\u95f4\u7684\u5173\u7cfb\uff0c\u5982\u679c\u5149\u6e90\u548c\u76f8\u673a\u90fd\u80fd\u770b\u5230\u8fd9\u4e2a\u70b9\uff0c\u8fd9\u4e2a\u70b9\u4e0d\u5728\u9634\u5f71\u91cc\uff0c\u5426\u5219\uff0c\u8fd9\u4e2a\u70b9\u5728\u9634\u5f71\u91cc\u3002</p> <p>\u8fd9\u4e2a\u65b9\u6848\u5b58\u5728\u51e0\u4e2a\u95ee\u9898\uff1a</p> <ul> <li>\u6df1\u5ea6\u56fe\u662f\u6709\u4e00\u4e2a\u5177\u4f53\u7684\u5206\u8fa8\u7387\u7684\uff0c\u53ef\u80fd\u4f1a\u5b58\u5728\u8d70\u6837\u95ee\u9898\u3002</li> <li>\u6bcf\u4e2a\u5149\u6e90\u90fd\u4f1a\u589e\u52a0\u4e00\u6b21\u6e32\u67d3\u8fc7\u7a0b\uff0c\u63d0\u9ad8\u4e86\u8ba1\u7b97\u6210\u672c\u3002</li> </ul>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/games101-2-shading/#_10","title":"\u8f6f\u9634\u5f71","text":"<p>\u4e00\u4e2a\u5b8c\u5168\u770b\u4e0d\u5230\u5149\u6e90\u7684\u5730\u65b9\uff0c\u53eb\u672c\u5f71\uff08Umbra\uff09\uff0c\u4e00\u4e2a\u90e8\u5206\u770b\u5f97\u5230\u5149\u6e90\u7684\u5730\u65b9\uff0c\u53eb\u534a\u5f71\uff08Penumbra\uff09\u3002</p> <p>\u8fd9\u662f\u4e2a\u81ea\u7136\u73b0\u8c61\uff0c\u5728\u81ea\u7136\u754c\u4e2d\u6709\u5f88\u591a\u4f8b\u5b50\uff0c\u6bd4\u5982\u65e5\u98df\u3002</p> <p>\u8fd9\u662f\u7531\u4e8e\u5149\u6e90\u672c\u8eab\u6709\u4e00\u5b9a\u5927\u5c0f\u5bfc\u81f4\u7684\uff0c\u5982\u679c\u662f\u70b9\u5149\u6e90\uff0c\u5219\u4e0d\u5b58\u5728\u534a\u5f71\u3002</p>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/games101-3-geometry/","title":"games101 \u4e09\u3001\u51e0\u4f55","text":"","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/games101-3-geometry/#_1","title":"\u8868\u793a\u51e0\u4f55\u7684\u4e0d\u540c\u65b9\u5f0f","text":"<p>\u9690\u5f0f\u51e0\u4f55\uff08Implicit Geometry\uff09\u548c\u663e\u5f0f\u51e0\u4f55\uff08Explicit Geometry\uff09</p> <p>\u9690\u5f0f\u51e0\u4f55\u4e0d\u663e\u5f0f\u6307\u51fa\u9876\u70b9\u7684\u4f4d\u7f6e\uff0c\u53ea\u7ed9\u51fa\u70b9\u4e4b\u95f4\u7684\u5173\u7cfb\uff0c\u4f8b\u5982\u7528\u4e00\u4e2a\u65b9\u7a0b\u6765\u8868\u793a\u4e00\u4e2a\u7403\u3002</p> <p>\u7f3a\u70b9\u662f\u4e0d\u591f\u76f4\u89c2\uff0c\u597d\u5904\u662f\u5f88\u5bb9\u6613\u5224\u65ad\u4e00\u4e2a\u70b9\u662f\u5426\u5728\u51e0\u4f55\u4f53\u8868\u9762\u6216\u8005\u5185\u5916\u3002</p> <p>\u663e\u5f0f\u51e0\u4f55\u7ed9\u51fa\u51e0\u4f55\u4f53\u7684\u6bcf\u4e2a\u9876\u70b9\u5750\u6807\u3002</p> <p>\u53e6\u4e00\u79cd\u663e\u5f0f\u51e0\u4f55\u662f\u7528\u53c2\u6570\u6620\u5c04\u7684\u65b9\u5f0f\u7ed9\u51fa\u6bcf\u4e2a\u70b9\uff0c\u53ef\u4ee5\u5c06\u4e8c\u7ef4\u5e73\u9762\u6620\u5c04\u5230\u4e09\u7ef4\u7a7a\u95f4\u4e2d\uff0c\u5f97\u5230\u4e00\u4e2a\u66f2\u9762\uff0c\u4f8b\u5982\uff0c\u70b9\u662f\u4ee5(u, v)\u53c2\u6570\u7684\u5f62\u5f0f\u7ed9\u51fa\uff0c\u7136\u540e\u5c06(u, v)\u6620\u5c04\u5230\u4e09\u7ef4\u7a7a\u95f4\u4e2d\uff0c\u5f97\u5230(x, y, z)\u3002</p> <p>\u663e\u5f0f\u51e0\u4f55\u7684\u7f3a\u70b9\u662f\u4e0d\u592a\u5bb9\u6613\u5224\u65ad\u4e00\u4e2a\u70b9\u662f\u5728\u51e0\u4f55\u4f53\u7684\u8868\u9762\u4e0a\u8fd8\u662f\u5185\u5916\u3002</p>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/games101-3-geometry/#_2","title":"\u9690\u5f0f\u51e0\u4f55","text":"<p>\u9690\u5f0f\u51e0\u4f55\u7684\u597d\u5904</p> <ol> <li>\u63cf\u8ff0\u7b80\u6d01</li> <li>\u5bb9\u6613\u67e5\u8be2\u4e00\u4e2a\u70b9\u548c\u51e0\u4f55\u4f53\u7684\u5173\u7cfb\uff08\u5728\u8868\u9762\u4e0a\u3001\u5728\u5185\u90e8\u8fd8\u662f\u5728\u5916\u90e8\uff09</li> <li>\u5bb9\u6613\u505a\u5149\u7ebf\u6c42\u4ea4</li> <li>\u5bf9\u4e8e\u7b80\u5355\u7684\u5f62\u72b6\uff0c\u63cf\u8ff0\u7cbe\u786e\uff0c\u4e0d\u5b58\u5728\u91c7\u6837\u9519\u8bef</li> <li>\u5bb9\u6613\u63cf\u8ff0\u62d3\u6251\u7ed3\u6784\u7684\u6539\u53d8</li> </ol> <p>\u9690\u5f0f\u51e0\u4f55\u7684\u95ee\u9898</p> <p>\u5f88\u96be\u5bf9\u590d\u6742\u5f62\u72b6\u5efa\u6a21\u3002</p>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/games101-3-geometry/#algebraic-surface","title":"\u4ee3\u6570\u66f2\u9762\uff08Algebraic Surface\uff09","text":"<p>\u7528 \\(x^2 + y^2 + z^2 = 1\\) \u8868\u793a\u7403\u9762\u3002</p> <p>\u7528 \\((R-\\sqrt{x^2 + y^2})^2 + z^2 = r^2\\) \u8868\u793a\u751c\u751c\u5708\uff0c\u73af\u5f62\u5706\u7ba1\uff08Torus\uff09\u3002</p>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/games101-3-geometry/#constructive-solid-geometry-csg","title":"\u6784\u9020\u5b9e\u4f53\u51e0\u4f55\uff08Constructive Solid Geometry, CSG\uff09","text":"<p>\u7528\u57fa\u672c\u51e0\u4f55\u4f53\u505a\u5e03\u5c14\u8fd0\u7b97\uff08Boolean Operation\uff09\u5f97\u5230\u590d\u6742\u51e0\u4f55\u4f53\u3002</p>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/games101-3-geometry/#distance-function","title":"\u8ddd\u79bb\u51fd\u6570\uff08Distance Function\uff09","text":"<p>\u4e0d\u76f4\u63a5\u63cf\u8ff0\u8868\u9762\uff0c\u800c\u662f\u53bb\u63cf\u8ff0\u70b9\u5230\u8868\u9762\u7684\u6700\u8fd1\u8ddd\u79bb\u3002</p> <p>\u8ddd\u79bb\u51fd\u6570\u6216\u8005\u6709\u5411\u8ddd\u79bb\u51fd\u6570\uff08Signed Distance Function, SDF\uff09\u9002\u5408\u5904\u7406\u51e0\u4f55\u4f53\u7684\u878d\u5408\u64cd\u4f5c\u3002</p> <p>\u6c34\u5e73\u96c6\u65b9\u6cd5\uff08Level Set Method\uff09</p> <p>\u662f\u4e00\u79cd\u8ddd\u79bb\u51fd\u6570\u7684\u8868\u793a\u65b9\u6cd5\uff0c\u4ed6\u5c06\u8ddd\u79bb\u51fd\u6570\u7684\u503c\u5b58\u50a8\u5728\u4e00\u4e2a\u7f51\u683c\u4e2d\uff0c\u5982\u679c\u628a\u6240\u6709\\(f(x)=0\\)\u7684\u70b9\u627e\u51fa\u6765\uff0c\u5c31\u80fd\u5f97\u5230\u56fe\u4e2d\u6240\u793a\u7684\u66f2\u7ebf\uff0c\u5982\u679c\u628a\\(f(x)=2\\)\u7684\u70b9\u627e\u51fa\u6765\uff0c\u5c31\u80fd\u5f97\u5230\u53e6\u5916\u4e00\u6761\u66f2\u7ebf\uff0c\u6709\u70b9\u7c7b\u4f3c\u4e8e\u7b49\u9ad8\u7ebf\u3002</p> <p></p> <p>\u6c34\u5e73\u96c6\u8fd8\u53ef\u4ee5\u5b9a\u4e49\u5728\u4e09\u7ef4\u7a7a\u95f4\u7684\u683c\u5b50\u4e0a\u3002</p> <p>\u8fd8\u53ef\u4ee5\u7528\u4e8e\u7269\u7406\u6a21\u62df\uff0c\u63cf\u8ff0\u4e00\u4e2a\u6d41\u4f53\u7684\u8fb9\u754c\u3002</p>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/games101-3-geometry/#fractals","title":"\u5206\u5f62\uff08Fractals\uff09","text":"<p>\u5206\u5f62\u7528\u6765\u63cf\u8ff0\u81ea\u76f8\u4f3c\u7684\u73b0\u8c61\uff0c\u5373\u540c\u6837\u7684\u7ed3\u6784\u5728\u4e0d\u540c\u7684\u5c3a\u5ea6\u4e0a\u91cd\u590d\u51fa\u73b0\u3002</p>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/games101-3-geometry/#_3","title":"\u663e\u5f0f\u51e0\u4f55","text":"","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/games101-3-geometry/#point-cloud","title":"\u70b9\u4e91\uff08Point Cloud\uff09","text":"<p>\u5c31\u662f\u4e00\u7cfb\u5217\u70b9\uff0c\u4e0d\u6784\u6210\u4efb\u4f55\u8868\u9762\uff0c\u53ea\u8981\u70b9\u8db3\u591f\u591a\u8db3\u591f\u5bc6\u96c6\uff0c\u5c31\u80fd\u8868\u793a\u4e00\u4e2a\u7269\u4f53\u3002</p> <p>\u70b9\u4e91\u7ecf\u5e38\u4f1a\u88ab\u8f6c\u6362\u4e3a\u591a\u8fb9\u5f62\u9762\uff08Polygon Mesh\uff09\u3002</p>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/games101-3-geometry/#polygon-mesh","title":"\u591a\u8fb9\u5f62\u7f51\u683c\uff08Polygon Mesh\uff09","text":"<p>\u7531\u9876\u70b9\u548c\u591a\u8fb9\u5f62\u7ec4\u6210\u7684\u7f51\u683c\uff0c\u901a\u5e38\u7528\u4e09\u89d2\u5f62\u6216\u56db\u8fb9\u5f62\u3002</p> <p>obj\u6587\u4ef6\u683c\u5f0f</p> <p>obj\u6587\u4ef6\u683c\u5f0f\u662f\u4e00\u79cd\u5e38\u89c1\u7684\u591a\u8fb9\u5f62\u7f51\u683c\u6587\u4ef6\u683c\u5f0f\u3002</p> <p>v\u8868\u793a\u9876\u70b9\u5750\u6807\uff0cvn\u8868\u793a\u9876\u70b9\u6cd5\u7ebf\uff0cvt\u8868\u793a\u7eb9\u7406\u5750\u6807\uff0cf\u8868\u793a\u4e00\u4e2a\u591a\u8fb9\u5f62\u3002</p> <p>f\u7684\u683c\u5f0f\u662f\u8fd9\u6837\u7684\uff0c\u5b83\u7531\u4e09\u7ec4<code>12/34/55</code>\u8fd9\u6837\u7684\u6570\u5b57\u7ec4\u6210\uff0c\u6bcf\u7ec4\u6570\u5b57\u8868\u793a\u4e00\u4e2a\u9876\u70b9\uff0c\u4e00\u7ec4\u6570\u5b57\u5bf9\u5e94\u7684\u5176\u5b9e\u662f\u4e09\u4e2a\u5e8f\u53f7\uff0c\u5206\u522b\u662f\u9876\u70b9\u5e8f\u53f7\u3001\u9876\u70b9\u6cd5\u7ebf\u5e8f\u53f7\u3001\u7eb9\u7406\u5750\u6807\u5e8f\u53f7\u3002</p> <pre><code>vn 0.713667 0.093012 -0.694283\nvt 0.854030 0.663650\nv 0.348799 -0.334989 -0.083233\nvn 0.742238 0.092067 0.663782\nvt 0.724960 0.675077\nv 0.313132 -0.399051 0.881192\n\n...\n\nf 739/739/739 735/735/735 736/736/736\nf 189/189/189 736/736/736 735/735/735\nf 192/192/192 738/738/738 737/737/737\nf 739/739/739 737/737/737 738/738/738\nf 190/190/190 741/741/741 740/740/740\n\n...\n</code></pre>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/games101-3-geometry/#curve","title":"\u66f2\u7ebf\uff08Curve\uff09","text":"<p>\u66f2\u7ebf\u80fd\u7528\u5728\u54ea\uff0c\u6bd4\u5982\u8bf4\u63a7\u5236\u76f8\u673a\u7684\u79fb\u52a8\u8def\u5f84\uff0c\u6216\u8005\u7528\u6765\u63cf\u8ff0\u5b57\u4f53\u3002</p>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/games101-3-geometry/#curve_1","title":"\u66f2\u7ebf\uff08Curve\uff09","text":"","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/games101-3-geometry/#bezier-curve","title":"\u8d1d\u585e\u5c14\u66f2\u7ebf\uff08Bezier Curve\uff09","text":"<p>\u8d1d\u585e\u5c14\u66f2\u7ebf\u7531\u56db\u4e2a\u70b9P0, P1, P2, P3\u5b9a\u4e49\uff0cP0\u548cP3\u5206\u522b\u662f\u66f2\u7ebf\u7684\u8d77\u70b9\u548c\u7ec8\u70b9\uff0cP0\u548cP1\u6784\u6210\u4e86P0\u7684\u5207\u7ebf\u65b9\u5411\uff0cP2\u548cP3\u6784\u6210\u4e86P3\u7684\u5207\u7ebf\u65b9\u5411\u3002</p> <p></p> <p>De Casteljau\u7b97\u6cd5</p> <p>\u7528\u4efb\u610f\u6570\u91cf\u4e2a\u70b9\u6765\u5b9a\u4e49\u8d1d\u585e\u5c14\u66f2\u7ebf\u3002</p> <p>\u539f\u7406\u662f\u8fd9\u6837\u7684\uff0c\u7ed9\u5b9a\u4e00\u4e2a\u8303\u56f4\u57280\u52301\u4e4b\u95f4\u7684\u53c2\u6570t\uff0c\u901a\u8fc7\u4e00\u5b9a\u7684\u89c4\u5219\u627e\u5230\u8d1d\u585e\u5c14\u66f2\u7ebf\u4e0a\u5bf9\u5e94t\u7684\u70b9\uff0c\u7136\u540e\u6211\u4eec\u679a\u4e3e0\u52301\u4e4b\u95f4\u6240\u6709\u7684t\u503c\uff0c\u5c31\u80fd\u5f97\u5230\u8d1d\u585e\u5c14\u66f2\u7ebf\u3002</p> <p>\u600e\u4e48\u627e\u5bf9\u5e94t\u7684\u70b9\u5462\uff1f</p> <p>\u8003\u8651\u521d\u59cb\u53ea\u6709\u4e09\u4e2a\u63a7\u5236\u70b9\u7684\u60c5\u51b5\uff0c\u8fd9\u79cd\u60c5\u51b5\u4e5f\u53eb\u4e8c\u6b21\u8d1d\u585e\u5c14\u66f2\u7ebf\uff08Quadratic Bezier\uff09\uff0c\u6709\u4e09\u4e2a\u70b9B0\u3001B1\u3001B2\uff0cB0\u548cB1\u6784\u6210\u4e00\u4e2a\u7ebf\u6bb5\uff0cB1\u548cB2\u6784\u6210\u53e6\u4e00\u4e2a\u7ebf\u6bb5\uff0c\u6211\u4eec\u5c06\u6bcf\u4e2a\u7ebf\u6bb5\u770b\u4f5c\u4e00\u4e2a0\u52301\u7684\u8303\u56f4\uff0c\u53d6t\u503c\u5bf9\u5e94\u7684\u70b9\uff0c\u5f97\u5230\u4e24\u4e2a\u65b0\u70b9\uff0c\u7136\u540e\u518d\u5c06\u4e24\u4e2a\u65b0\u70b9\u8fde\u6210\u4e00\u6761\u7ebf\u6bb5\uff0c\u518d\u53d6t\u503c\u5bf9\u5e94\u7684\u70b9\uff0c\u8fd9\u4e2a\u70b9\u5c31\u662ft\u503c\u5bf9\u5e94\u7684\u8d1d\u585e\u5c14\u66f2\u7ebf\u4e0a\u7684\u70b9\u3002</p> <p>\u5982\u6b64\uff0c\u6211\u4eec\u901a\u8fc7\u679a\u4e3e\u6240\u6709\u7684t\uff0c\u5c31\u80fd\u627e\u5230\u8d1d\u585e\u5c14\u66f2\u7ebf\u4e0a\u7684\u6240\u6709\u70b9\u3002</p> <p>\u8fd9\u4e2a\u8fc7\u7a0b\u662f\u4e00\u4e2a\u9012\u5f52\u63d2\u503c\u7684\u8fc7\u7a0b\u3002</p> <p>\u8d1d\u585e\u5c14\u66f2\u7ebf\u4ee3\u6570\u65b9\u7a0b\uff08Bezier Curve Algebraic Formula\uff09</p> <p>\u7ed9\u5b9an+1\u4e2a\u63a7\u5236\u70b9\uff0c\u6bcf\u4e2a\u70b9\u9700\u8981\u627en\u8f6e\uff0c\u53ef\u4ee5\u5199\u51fa\u4e00\u4e2an\u9636\u8d1d\u585e\u5c14\u8868\u8fbe\u5f0f\uff0c\u5982\u4e0b\uff1a</p> \\[ b^{n}(t) = b_{0}^{n}(t) = \\sum_{j=0}^{n} b_{j}\\, B_{j}^{n}(t) \\] <p>\\(b_j\\)\u8868\u793a\u63a7\u5236\u70b9\uff0c\\(B_{j}^{n}(t)\\)\u662f\u4f2f\u6069\u65af\u5766\u591a\u9879\u5f0f\uff0c\u5b9a\u4e49\u5982\u4e0b\uff1a</p> \\[ B_{i}^{n}(t) = \\binom{n}{i}\\, t^{i} (1 - t)^{n-i} \\] <p>\u8fd9\u91cc\u7684 \\(\\binom{n}{i}\\) \u662f\u4e2a\u7ec4\u5408\u6570 \\(C_{n}^{i}\\)\u3002</p> <p>\u5176\u5b9e\u5c31\u662f\u4e00\u4e2a\u4e8c\u9879\u5206\u5e03\u591a\u9879\u5f0f\u3002</p> <p>\u6ce8\u610f\uff0c\u8d1d\u585e\u5c14\u65b9\u7a0b\u662f\u4e00\u4e2a\u6700\u7ec8\u7684\u5c55\u5f00\u5f0f\uff0c\u5e76\u4e0d\u6d89\u53ca\u4e2d\u95f4\u5f97\u5230\u7684\u4e34\u65f6\u70b9\u3002</p> <p>\u8d1d\u585e\u5c14\u66f2\u7ebf\u6709\u4ee5\u4e0b\u6027\u8d28\uff1a</p> <ol> <li>\u8d1d\u585e\u5c14\u66f2\u7ebf\u8d77\u70b9\u662f\\(b_0\\)\uff0c\u7ec8\u70b9\u662f\\(b_n\\)\uff0c\u56e0\u6b64\uff0c\\(b^{n}(0) = b_0\\)\uff0c\\(b^{n}(1) = b_n\\)\u3002</li> <li>\u5728\u56db\u4e2a\u63a7\u5236\u70b9\uff08\u4e09\u9636\u8d1d\u585e\u5c14\u66f2\u7ebf\uff09\u7684\u60c5\u51b5\u4e0b\uff0c\u8d77\u59cb\u4f4d\u7f6e\u7684\u5207\u7ebf\u548c\u7ed3\u675f\u4f4d\u7f6e\u7684\u5207\u7ebf\u5206\u522b\u662f\uff0c\\(b^{'}(0) = 3(b_1-b_0)\\)\uff0c\\(b^{'}(1) = 3(b_3-b_2)\\)</li> <li>\u5728\u4eff\u5c04\u53d8\u6362\u65f6\uff0c\u53ef\u4ee5\u76f4\u63a5\u5bf9\u63a7\u5236\u70b9\u8fdb\u884c\u53d8\u6362\uff0c\u5229\u7528\u53d8\u6362\u540e\u7684\u63a7\u5236\u70b9\u751f\u6210\u7684\u8d1d\u585e\u5c14\u66f2\u7ebf\u548c\u5bf9\u539f\u59cb\u8d1d\u585e\u5c14\u66f2\u7ebf\u4e0a\u7684\u6bcf\u4e2a\u70b9\u8fdb\u884c\u53d8\u6362\u662f\u4e00\u6837\u7684\uff08\u53ea\u6709\u4eff\u5c04\u4e0d\u53d8\u6027\uff0c\u6295\u5f71\u53d8\u6362\u662f\u4e0d\u884c\u7684\uff0c\u56e0\u4e3a\u6295\u5f71\u53d8\u6362\u7684\u6700\u540e\u4e00\u6b65\u662f\u505a\u900f\u89c6\u9664\u6cd5\uff0c\u5373\u5bf9x\u3001y\u3001z\u5750\u6807\u5206\u522b\u9664\u4ee5\u9f50\u6b21\u5750\u6807w\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u662f\u975e\u7ebf\u6027\u7684\uff09\u3002</li> <li>\u51f8\u5305\u6027\u8d28\uff1a\u8d1d\u585e\u5c14\u66f2\u7ebf\u603b\u662f\u4f4d\u4e8e\u63a7\u5236\u70b9\u5f62\u6210\u7684\u51f8\u5305\u5185\u3002</li> </ol> <p>\u5206\u6bb5\u8d1d\u585e\u5c14\u66f2\u7ebf\uff08Piecewise Bezier Curves\uff09</p> <p>\u9010\u6bb5\u8d1d\u585e\u5c14\u66f2\u7ebf\u3002</p> <p>\u4e3a\u4e86\u89e3\u51b3\u9ad8\u9636\u8d1d\u585e\u5c14\u66f2\u7ebf\uff08\u7531\u5f88\u591a\u70b9\u5b9a\u4e49\u7684\u8d1d\u585e\u5c14\u66f2\u7ebf\uff09\u4e0d\u6613\u63a7\u5236\u7684\u95ee\u9898\uff0c\u53ef\u4ee5\u7528\u591a\u6bb5\u4f4e\u9636\u8d1d\u585e\u5c14\u66f2\u7ebf\u6765\u8fde\u63a5\u6210\u9ad8\u9636\u8d1d\u585e\u5c14\u66f2\u7ebf\uff0c\u524d\u4e00\u6bb5\u7684\u7ec8\u70b9\u540c\u65f6\u4f5c\u4e3a\u540e\u4e00\u6bb5\u7684\u8d77\u70b9\u3002</p> <p>\u4e00\u822c\u4f7f\u7528\u4e09\u9636\u8d1d\u585e\u5c14\u66f2\u7ebf\uff08\u56db\u4e2a\u63a7\u5236\u70b9\uff09\uff08Piecewise cubic Bezier\uff09\u6765\u8fde\u63a5\u3002</p> <p>\u5982\u4f55\u4f7f\u5f97\u4e24\u6bb5\u8d1d\u585e\u5c14\u66f2\u7ebf\u4e4b\u95f4\u7684\u8fde\u63a5\u662f\u5149\u6ed1\u7684\u5462\uff1f\u6211\u4eec\u5229\u7528\u4e0a\u9762\u7684\u4e09\u9636\u8d1d\u585e\u5c14\u66f2\u7ebf\u7684\u6027\u8d28\uff0c\u8ba9\u524d\u4e00\u6bb5\u7684\u7ec8\u70b9\u548c\u540e\u4e00\u6bb5\u7684\u8d77\u70b9\u91cd\u5408\uff0c\u5e76\u4e14\u8ba9\u524d\u4e00\u6bb5\u7684\u7ec8\u70b9\u5207\u7ebf\u548c\u540e\u4e00\u6bb5\u7684\u8d77\u70b9\u5207\u7ebf\u65b9\u5411\u76f8\u53cd\uff0c\u5207\u7ebf\u957f\u5ea6\u4e00\u81f4\u3002</p> <p>\u8fd9\u91cc\u7ed9\u51fa\u51e0\u79cd\u8fde\u7eed\u7684\u5b9a\u4e49\uff1a</p> <ul> <li>\\(C^0\\)\u8fde\u7eed\uff1a\u4e24\u6bb5\u66f2\u7ebf\u7684\u8fde\u63a5\u70b9\u91cd\u5408\uff0c\u5728\u51e0\u4f55\u4e0a\u8fde\u7eed\u3002</li> <li>\\(C^1\\)\u8fde\u7eed\uff1a\u4e24\u6bb5\u66f2\u7ebf\u7684\u8fde\u63a5\u70b9\u91cd\u5408\uff0c\u5e76\u4e14\u5207\u7ebf\u65b9\u5411\u76f8\u53cd\uff0c\u5207\u7ebf\u957f\u5ea6\u76f8\u540c\uff0c\u5e76\u4e14\u4e00\u9636\u5bfc\u6570\u8fde\u7eed\u3002</li> </ul> <p>\u53ef\u4ee5\u4f7f\u7528https://math.hws.edu/eck/cs424/notes2013/canvas/bezier.html\u8fd9\u4e2a\u7f51\u7ad9\u6765\u4ea4\u4e92\u5f0f\u5730\u7ed8\u5236\u8d1d\u585e\u5c14\u66f2\u7ebf\u3002</p>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/games101-3-geometry/#spline","title":"\u6837\u6761\uff08Spline\uff09","text":"<p>\u7b80\u5355\u6765\u8bb2\uff0c\u4e00\u4e2a\u5229\u7528\u591a\u4e2a\u63a7\u5236\u70b9\u63a7\u5236\u7684\u66f2\u7ebf\u5c31\u662f\u6837\u6761\u3002</p> <p>B\u6837\u6761\uff08B-Spline\uff09</p> <p>B\u6837\u6761\u662f\u57fa\u51fd\u6570\u6837\u6761\uff08Basis Spline\uff09\u7684\u7f29\u5199\uff0c\u5b83\u7684\u5927\u6982\u601d\u8def\u662f\u5c06\u4f2f\u6069\u65af\u5766\u591a\u9879\u5f0f\u89c6\u4e3a\u4e0d\u540c\u7684\u57fa\u51fd\u6570\uff0c\u7136\u540e\u901a\u8fc7\u7ebf\u6027\u7ec4\u5408\u8fd9\u4e9b\u57fa\u51fd\u6570\u6765\u5f97\u5230\u66f2\u7ebf\u3002</p> <p>B\u6837\u6761\u662f\u5bf9\u8d1d\u585e\u5c14\u66f2\u7ebf\u7684\u4e00\u4e2a\u63a8\u5e7f\u3002</p> <p>B\u6837\u6761\u5177\u6709\u5c40\u90e8\u6027\uff0c\u8d1d\u585e\u5c14\u66f2\u7ebf\u662f\u5168\u5c40\u63a7\u5236\u7684\uff0c\u5373\u4e00\u4e2a\u63a7\u5236\u70b9\u7684\u79fb\u52a8\u4f1a\u5f71\u54cd\u6574\u6761\u66f2\u7ebf\uff0c\u800cB\u6837\u6761\u662f\u5c40\u90e8\u63a7\u5236\u7684\uff0c\u4e00\u4e2a\u63a7\u5236\u70b9\u7684\u79fb\u52a8\u53ea\u4f1a\u5f71\u54cd\u66f2\u7ebf\u7684\u4e00\u90e8\u5206\u3002</p>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/games101-3-geometry/#_4","title":"\u66f2\u9762","text":"","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/games101-3-geometry/#bezier-surface","title":"\u8d1d\u585e\u5c14\u66f2\u9762\uff08Bezier Surface\uff09","text":"<p>\u8d1d\u585e\u5c14\u66f2\u9762\u662f\u8d1d\u585e\u5c14\u66f2\u7ebf\u7684\u63a8\u5e7f\u3002</p> <p>\u4e0b\u56fe\u662f\u753116\u4e2a\u63a7\u5236\u70b9\uff084x4\uff09\u5b9a\u4e49\u7684\u4e00\u4e2a\u4e09\u9636\u8d1d\u585e\u5c14\u66f2\u9762\u3002</p> <p></p> <p>\u5b83\u7684\u539f\u7406\u662f\u8fd9\u6837\u7684\uff0c\u5728\u539f\u672c\u7684\u4e8c\u7ef4\u5e73\u9762\u4e0a\uff0c\u5148\u7528\u56db\u4e2a\u63a7\u5236\u70b9\u753b\u51fa\u4e00\u6761\u8d1d\u585e\u5c14\u66f2\u7ebf\uff0c\u7136\u540e\u6cbf\u7740\u65b0\u589e\u7684\u7ef4\u5ea6\u65b9\u5411\uff0c\u518d\u5176\u4ed6\u4e09\u4e2a\u5e73\u9762\u4e0a\u7ee7\u7eed\u753b\u51fa\u4e09\u6761\u8d1d\u585e\u5c14\u66f2\u7ebf\uff0c\u8fd9\u6837\u5c31\u5f97\u5230\u4e86\u56db\u6761\u8d1d\u585e\u5c14\u66f2\u7ebf\uff0c\u9009\u62e9\u4efb\u610f\u4e00\u4e2at\uff0c\u6211\u4eec\u5206\u522b\u80fd\u5728\u8fd9\u56db\u6761\u8d1d\u585e\u5c14\u66f2\u7ebf\u4e0a\u627e\u5230\u5bf9\u5e94\u7684\u70b9\uff0c\u7136\u540e\u5c06\u8fd9\u56db\u4e2a\u70b9\u4f5c\u4e3a\u65b0\u7684\u63a7\u5236\u70b9\uff0c\u518d\u753b\u4e00\u6761\u8d1d\u585e\u5c14\u66f2\u7ebf\uff0c\u679a\u4e3e\u6240\u6709\u7684t\u503c\uff0c\u5c31\u80fd\u5f97\u5230\u6574\u4e2a\u8d1d\u585e\u5c14\u66f2\u9762\u3002</p> <p>\u4e0b\u56fe\u4e2d\u84dd\u8272\u7684\u7ebf\u626b\u8fc7\u7684\u5730\u65b9\u5c31\u662f\u8d1d\u585e\u5c14\u66f2\u9762\u3002</p> <p></p> <p>\u7531\u6b64\u53ef\u89c1\uff0c\u6211\u4eec\u9700\u8981\u4e24\u4e2at\u53c2\u6570\uff0c\u6211\u4eec\u628a\u8fd9\u4e2a\u4e8c\u7ef4\u7684\u53c2\u6570\u53eb\u505a(u, v)\u3002</p> <p>\u8fd9\u4e5f\u662f\u4e3a\u4ec0\u4e48\u8d1d\u585e\u5c14\u66f2\u9762\u88ab\u5f52\u7c7b\u5230\u663e\u5f0f\u51e0\u4f55\u7684\u539f\u56e0\uff0c\u56e0\u4e3a\u5b83\u662f\u901a\u8fc7\u53c2\u6570\u6620\u5c04\u7684\u65b9\u5f0f\u6765\u5b9a\u4e49\u66f2\u9762\u7684\uff0c\u7ed9\u5b9a(u, v)\uff0c\u5c31\u80fd\u627e\u5230\u66f2\u9762\u4e0a\u7684\u70b9\u3002</p>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/games101-3-geometry/#mesh","title":"\u7f51\u683c\uff08Mesh\uff09\u64cd\u4f5c\uff1a\u51e0\u4f55\u5904\u7406","text":"<ul> <li>Mesh subdivision\uff08\u66f2\u9762\u7ec6\u5206\uff09\uff1a\u8ba9\u4e09\u89d2\u5f62\u66f4\u5bc6</li> <li>Mesh simplification\uff08\u66f2\u9762\u7b80\u5316\uff09\uff1a\u8ba9\u4e09\u89d2\u5f62\u66f4\u5c11</li> <li>Mesh regularization\uff08\u66f2\u9762\u89c4\u6574\u5316\uff09\uff1a\u8ba9\u4e09\u89d2\u5f62\u5927\u5c0f\u5f62\u72b6\u90fd\u5dee\u4e0d\u591a\u3002</li> </ul>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/games101-3-geometry/#mesh-subdivision","title":"\u66f2\u9762\u7ec6\u5206\uff08Mesh Subdivision\uff09","text":"<p>\u5206\u4e24\u6b65\uff1a</p> <ol> <li>\u751f\u6210\u66f4\u591a\u4e09\u89d2\u5f62</li> <li>\u8c03\u6574\u4e09\u89d2\u5f62\u9876\u70b9\u7684\u4f4d\u7f6e\uff0c\u4f7f\u8868\u9762\u66f4\u5149\u6ed1</li> </ol> <p>Loop Subdivision</p> <p>\uff08\u8fd9\u4e2a\u7ec6\u5206\u7684\u53d1\u660e\u4eba\u7684\u540d\u5b57\u53ebLoop\uff09</p> <p>\u8fd9\u4e2a\u7b97\u6cd5\u53ea\u80fd\u7ec6\u5206\u4e09\u89d2\u5f62\u3002</p> <p>\u8be5\u7b97\u6cd5\u628a\u4e00\u4e2a\u4e09\u89d2\u5f62\u5206\u6210\u56db\u4e2a\u4e09\u89d2\u5f62\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff0c</p> <p></p> <p>\u5982\u4f55\u8c03\u6574\u4e09\u89d2\u5f62\u9876\u70b9\u7684\u4f4d\u7f6e\u5462\uff1f</p> <p>\u9996\u5148\u8003\u8651\u65b0\u589e\u9876\u70b9\u7684\u4f4d\u7f6e\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff0c\u65b0\u589e\u9876\u70b9\u4f4d\u4e8e\u4e00\u6761\u8fb9\u4e0a\uff0c\u5b83\u88ab\u4e24\u4e2a\u4e09\u89d2\u5f62\u5171\u4eab\uff0c\u8fd9\u4e2a\u70b9\u7684\u65b0\u4f4d\u7f6e\u7531\u56db\u4e2a\u539f\u6709\u7684\u70b9A, B, C, D\u52a0\u6743\u5e73\u5747\u5f97\u5230\u3002</p> \\[ \\frac{3}{8}\\,(A + B) + \\frac{1}{8}\\,(C + D) \\] <p></p> <p>\u5bf9\u4e8e\u539f\u6709\u7684\u9876\u70b9\uff0c\u5b83\u7684\u65b0\u4f4d\u7f6e\u7531\u5b83\u672c\u8eab\u548c\u5b83\u7684\u90bb\u5c45\u9876\u70b9\u52a0\u6743\u5e73\u5747\u5f97\u5230\u3002</p> \\[ (1 - n*u)*(\\text{original position}) + u*(\\text{neighbor position sum}) \\] <p>\u5176\u4e2d\uff0c\\(n\\) \u662f\u9876\u70b9\u7684\u5ea6\uff08degree\uff09\uff0c\u4e5f\u5c31\u662f\u8fde\u63a5\u4e86\u51e0\u6761\u8fb9\u3002</p> <p>\\(u\\) \u7684\u8ba1\u7b97\u516c\u5f0f\u5982\u4e0b\uff1a</p> \\[ u = \\frac{3}{16} \\quad \\text{if } n = 3 \\] \\[ u = \\frac{3}{8n} \\quad \\text{if } n &gt; 3 \\] <p></p> <p>Catmull-Clark\u7ec6\u5206\uff08Catmull-Clark Subdivision\uff09</p> <p>\u4ed6\u53ef\u4ee5\u7ec6\u5206\u4efb\u610f\u591a\u8fb9\u5f62\u3002</p> <p>\u8fd9\u4e2a\u7b97\u6cd5\u628a\u9762\u5206\u4e3a\u56db\u8fb9\u5f62\u9762\u548c\u975e\u56db\u8fb9\u5f62\u9762\uff08Non-quad face\uff09</p> <p>\u5947\u5f02\u70b9\uff08Extraordinary Vertex\uff09\uff1a\u5ea6\u4e0d\u7b49\u4e8e4\u7684\u9876\u70b9</p> <p>\u5982\u4f55\u7ec6\u5206\u5462\uff1f</p> <p>\u5bf9\u4e8e\u4efb\u610f\u4e00\u4e2a\u9762\uff0c\u53d6\u6bcf\u6761\u8fb9\u7684\u4e2d\u70b9\u4f5c\u4e3a\u65b0\u7684\u70b9\uff0c\u53d6\u6bcf\u4e2a\u9762\u7684\u4e2d\u5fc3\u4f5c\u4e3a\u65b0\u7684\u70b9\uff0c\u628a\u9762\u4e2d\u5fc3\u70b9\u548c\u6bcf\u4e2a\u8fb9\u4e2d\u5fc3\u70b9\u8fde\u8d77\u6765\u3002</p> <p>\u8fd9\u4e2a\u7ec6\u5206\u7b97\u6cd5\u6709\u4ee5\u4e0b\u6027\u8d28\uff1a</p> <ul> <li>\u53ea\u8981\u4e00\u4e2a\u9762\u662f\u975e\u56db\u8fb9\u5f62\u9762\uff0c\u5b83\u7684\u4e2d\u5fc3\u70b9\u4e00\u5b9a\u662f\u5947\u5f02\u70b9\u3002</li> <li>\u7ecf\u8fc7\u4e00\u6b21\u7ec6\u5206\u4e4b\u540e\uff0c\u6240\u6709\u7684\u975e\u56db\u8fb9\u5f62\u9762\u5168\u90e8\u6d88\u5931</li> </ul> <p>\u8fd9\u76f8\u5f53\u4e8e\uff0c\u4e00\u6b21\u7ec6\u5206\u4e4b\u540e\uff0c\u6240\u6709\u975e\u56db\u8fb9\u5f62\u9762\u5168\u90e8\u8f6c\u5316\u4e3a\u76f8\u540c\u6570\u91cf\u7684\u5947\u5f02\u70b9\uff0c\u518d\u7ec6\u5206\uff0c\u5947\u5f02\u70b9\u4e0d\u518d\u589e\u52a0\uff08\u56e0\u4e3a\u5df2\u7ecf\u5168\u662f\u56db\u8fb9\u5f62\u9762\u4e86\uff09\u3002</p> <p>\u6bcf\u6b21\u7ec6\u5206\u540e\uff0c\u8981\u8c03\u6574\u9876\u70b9\u4f4d\u7f6e\u3002</p> <p>\u9762\u4e2d\u5fc3\u70b9\u3001\u8fb9\u4e2d\u5fc3\u70b9\u548c\u539f\u6709\u9876\u70b9\u7684\u4f4d\u7f6e\u8c03\u6574\u516c\u5f0f\u5982\u4e0b\uff1a</p> <p></p>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/games101-3-geometry/#mesh-simplification","title":"\u66f2\u9762\u7b80\u5316\uff08Mesh Simplification\uff09","text":"<p>\u8fb9\u574d\u7f29\uff08Edge Collapse\uff09\uff0c\u628a\u4e00\u6761\u8fb9\u7684\u4e24\u4e2a\u9876\u70b9\u5408\u5e76\u6210\u4e00\u4e2a\u9876\u70b9\uff0c\u4ece\u800c\u51cf\u5c11\u4e09\u89d2\u5f62\u7684\u6570\u91cf\u3002</p> <p>\u4e8c\u6b21\u8bef\u5dee\u5ea6\u91cf\uff08Quadric Error Metric, QEM\uff09\uff0c\u662f\u65b0\u70b9\u5230\u539f\u672c\u8fde\u63a5\u7684\u9762\u7684\u8ddd\u79bb\u5e73\u65b9\u548c\uff0c\u6211\u4eec\u7684\u76ee\u7684\u662f\u627e\u5230\u4e00\u4e2a\u65b0\u70b9\uff0c\u8ba9\u8fd9\u4e2a\u8ddd\u79bb\u5e73\u65b9\u548c\u6700\u5c0f\uff0c\u5c06\u8fd9\u4e2a\u65b0\u70b9\u4f5c\u4e3a\u8fb9\u574d\u7f29\u540e\u7684\u65b0\u9876\u70b9\u3002</p> <p>\u5982\u4f55\u9009\u62e9\u8981\u574d\u7f29\u7684\u8fb9\u5462\uff1f</p> <p>\u4e3a\u6bcf\u4e2a\u8fb9\u8ba1\u7b97\u51fa\u4e8c\u6b21\u8bef\u5dee\u5ea6\u91cf\uff0c\u7136\u540e\u9009\u62e9\u8bef\u5dee\u6700\u5c0f\u7684\u8fb9\u8fdb\u884c\u574d\u7f29\uff0c\u8fd9\u91cc\u9762\u5b58\u5728\u95ee\u9898\uff0c\u574d\u7f29\u4e00\u6761\u8fb9\u540e\uff0c\u5176\u4ed6\u8fb9\u7684\u4e8c\u6b21\u8bef\u5dee\u5ea6\u91cf\u4e5f\u4f1a\u53d8\uff0c\u6240\u4ee5\u9700\u8981\u91cd\u65b0\u8ba1\u7b97\u3002\u7528\u4f18\u5148\u961f\u5217\u6216\u5806\u6765\u4fdd\u5b58\u6240\u6709\u5df2\u7ecf\u8ba1\u7b97\u51fa\u7684\u4e8c\u6b21\u8bef\u5dee\u5ea6\u91cf\uff0c\u6bcf\u6b21\u9009\u62e9\u8bef\u5dee\u6700\u5c0f\u7684\u8fb9\u8fdb\u884c\u574d\u7f29\uff0c\u5982\u679c\u53d1\u73b0\u5b83\u9700\u8981\u66f4\u65b0\uff0c\u5c31\u5c06\u5b83\u5f39\u51fa\u961f\u5217\uff0c\u66f4\u65b0\u5b83\u7684\u4e8c\u6b21\u8bef\u5dee\u5ea6\u91cf\uff0c\u518d\u653e\u5165\u5806\u4e2d\u3002</p>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/games101-4-ray-tracing/","title":"games101 \u56db\u3001\u5149\u7ebf\u8ffd\u8e2a","text":"","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/games101-4-ray-tracing/#_1","title":"\u5149\u7ebf\u8ffd\u8e2a\u89e3\u51b3\u4ec0\u4e48\u95ee\u9898","text":"<ul> <li>\u8f6f\u9634\u5f71\uff08Soft Shadow\uff09</li> <li>\u5149\u6cfd\u53cd\u5c04\uff08Glossy Reflection\uff09\uff1a\u6709\u4e00\u4e9b\u5149\u6cfd\uff0c\u4f46\u4e0d\u662f\u5b8c\u5168\u955c\u9762\u53cd\u5c04</li> <li>\u95f4\u63a5\u5149\u7167\uff08Indirect Illumination\uff09\uff1a\u5149\u7ebf\u5728\u573a\u666f\u4e2d\u7684\u591a\u6b21\u53cd\u5c04</li> </ul> <p>\u5149\u6805\u5316\u5feb\uff0c\u4f46\u662f\u8d28\u91cf\u4f4e\uff0c\u5149\u7ebf\u8ffd\u8e2a\u66f4\u7cbe\u786e\uff0c\u66f4\u7b26\u5408\u7269\u7406\u89c4\u5f8b\uff0c\u4f46\u662f\u6162\u3002</p>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/games101-4-ray-tracing/#light-ray","title":"\u5149\u7ebf\uff08Light Ray\uff09","text":"<ul> <li>\u5047\u8bbe\u5149\u7ebf\u6cbf\u7740\u76f4\u7ebf\u4f20\u64ad\u3002</li> <li>\u5047\u8bbe\u4e24\u4e2a\u5149\u7ebf\u4e0d\u4f1a\u78b0\u649e\uff0c\u5404\u4f20\u64ad\u5404\u7684\u3002</li> <li>\u5149\u7ebf\u4ece\u5149\u6e90\u53d1\u51fa\uff0c\u7ecf\u8fc7\u573a\u666f\u4e2d\u7684\u4f20\u64ad\u548c\u53cd\u5c04\uff0c\u6700\u540e\u5230\u8fbe\u773c\u775b\u3002</li> <li>\u5149\u8def\u53ef\u9006\uff08Reciprocity\uff09\uff0c\u5047\u8bbe\u773c\u775b\u53d1\u51fa\u5149\u7ebf\uff0c\u7ecf\u8fc7\u573a\u666f\u4e2d\u7684\u4f20\u64ad\u548c\u53cd\u5c04\uff0c\u6700\u540e\u80fd\u5230\u8fbe\u5149\u6e90\u3002</li> </ul> <p>\u5149\u7ebf\u8ffd\u8e2a\u5c31\u662f\u5229\u7528\u5149\u8def\u53ef\u9006\u7684\u539f\u7406\uff0c\u4ece\u773c\u775b\u51fa\u53d1\uff0c\u8ffd\u8e2a\u5149\u7ebf\u5728\u573a\u666f\u4e2d\u7684\u4f20\u64ad\u8def\u5f84\uff0c\u76f4\u5230\u5149\u6e90\u3002</p>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/games101-4-ray-tracing/#ray-casting","title":"\u5149\u7ebf\u6295\u5c04\uff08Ray Casting\uff09","text":"<p>\u4ece\u773c\u775b\u51fa\u53d1\uff0c\u6295\u5c04\u5149\u7ebf\uff0c\u627e\u5230\u5149\u7ebf\u548c\u573a\u666f\u4e2d\u7269\u4f53\u7684\u4ea4\u70b9\uff0c\u518d\u4ece\u4ea4\u70b9\u51fa\u53d1\uff0c\u6295\u5c04\u5149\u7ebf\u5230\u5149\u6e90\uff0c\u5224\u65ad\u4ea4\u70b9\u662f\u5426\u5728\u9634\u5f71\u4e2d\uff0c\u5982\u679c\u4e0d\u5728\u9634\u5f71\u4e2d\uff0c\u5c31\u8ba1\u7b97\u7740\u8272\u3002</p> <p>\u751f\u6210Eye Ray\uff1a\u6bcf\u4e2a\u50cf\u7d20\u6295\u51fa\u4e00\u4e2a\u5149\u7ebf</p> <p>\u773c\u775b\u548c\u573a\u666f\u4e4b\u95f4\u6709\u4e00\u4e2a\u6210\u50cf\u5e73\u9762\uff08Image Plane\uff09\uff0c\u4ece\u773c\u775b\u53d1\u51fa\u4e00\u4e2a\u5149\u7ebf\uff08Eye Ray / Camera Ray\uff09\u7a7f\u8fc7\u6210\u50cf\u5e73\u9762\u4e0a\u7684\u4e00\u4e2a\u50cf\u7d20\uff0c\u5230\u8fbe\u573a\u666f\u4e2d\u6700\u8fd1\u7684\u4e00\u4e2a\u7269\u4f53\uff0c\u627e\u5230\u4ea4\u70b9\u3002</p> <p>\u50cf\u7d20\u7740\u8272</p> <p>\u4ece\u4ea4\u70b9\u5f80\u5149\u6e90\u8fde\u4e00\u6761\u7ebf\uff08Shadow Ray\uff09\uff0c\u6839\u636e\u8fd9\u6761\u7ebf\u6709\u6ca1\u6709\u88ab\u7269\u4f53\u963b\u6321\uff0c\u5224\u65ad\u8fd9\u4e2a\u70b9\u5728\u4e0d\u5728\u9634\u5f71\u91cc\u3002</p> <p>\u518d\u6839\u636e\u6cd5\u7ebf\uff0c\u5149\u7ebf\u7684\u5165\u5c04\u65b9\u5411\uff0c\u773c\u775b\u7684\u89c2\u5bdf\u65b9\u5411\uff0c\u8ba1\u7b97\u8fd9\u4e2a\u70b9\u7684\u989c\u8272\u3002</p>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/games101-4-ray-tracing/#recursive-whitted-style-ray-tracing","title":"Recursive (Whitted-Style) Ray Tracing","text":"<p>\u53ef\u4ee5\u5904\u7406\u5149\u7ebf\u591a\u6b21\u7684\u53cd\u5c04\u548c\u6298\u5c04\u3002</p> <p>\u7531\u4e8e\u5149\u7ebf\u5728\u573a\u666f\u4e2d\u5f39\u5c04\u591a\u6b21\uff0c\u5149\u7ebf\u548c\u573a\u666f\u4e2d\u7684\u7269\u4f53\u4f1a\u6709\u591a\u4e2a\u4ea4\u70b9\uff0c\u6bcf\u4e2a\u4ea4\u70b9\u90fd\u4f1a\u8ddf\u5149\u6e90\u8fde\u7ebf\uff0c\u505a\u9634\u5f71\u5224\u65ad\u3002</p> <p>\u5149\u7ebf\u5728\u573a\u666f\u4e2d\u6bcf\u4e2a\u4ea4\u70b9\u7684\u7740\u8272\u90fd\u4f1a\u53e0\u52a0\u5230\u540c\u4e00\u4e2a\u50cf\u7d20\u4e0a\u3002</p> <p>\u5982\u679c\u5b58\u5728\u6298\u5c04\uff0c\u90a3\u4e48\u5149\u7ebf\u548c\u7269\u4f53\u8868\u9762\u7684\u4ea4\u70b9\u4f1a\u4ea7\u751f\u4e24\u6761\u65b0\u7684\u5149\u8def\uff0c\u4e00\u6761\u662f\u53cd\u5c04\u5149\u8def\uff0c\u4e00\u6761\u662f\u6298\u5c04\u5149\u8def\uff0c\u8fd9\u4e24\u6761\u5149\u8def\u6700\u7ec8\u90fd\u6c47\u805a\u56de\u5149\u6e90\u3002</p> <p>\uff08\u4ece\u773c\u775b\u51fa\u53d1\u7684\u89d2\u5ea6\u6765\u8bb2\uff0c\u8fd9\u662f\u540c\u4e00\u6761\u5149\u7ebf\u7684\u5f39\u5c04\u8fc7\u7a0b\uff0c\u4f46\u662f\uff0c\u4ece\u5149\u6e90\u7684\u89d2\u5ea6\u6765\u8bb2\uff0c\u5b83\u5176\u5b9e\u662f\u53d1\u51fa\u4e86\u591a\u6761\u4e0d\u540c\u7684\u5149\u7ebf\uff0c\u7ecf\u8fc7\u4e0d\u540c\u7684\u5149\u8def\uff0c\u6700\u7ec8\u6c47\u805a\u5230\u773c\u775b\u3002\uff09</p> <p>\u5149\u7ebf\u5728\u5f39\u5c04\u7684\u8fc7\u7a0b\u4e2d\uff0c\u80fd\u91cf\u4f1a\u6709\u8870\u51cf\u3002</p> <ul> <li>Primary Ray\uff1a\u4ece\u773c\u775b\u51fa\u53d1\u7684\u5149\u7ebf\u3002</li> <li>Secondary Ray\uff1a\u4e8c\u6b21\u5f39\u5c04\u7684\u5149\u7ebf\u3002</li> <li>Shadow Ray\uff1a\u4ece\u4ea4\u70b9\u5230\u5149\u6e90\u7684\u5149\u7ebf\u3002</li> </ul>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/games101-4-ray-tracing/#ray-surface-intersection","title":"\u6c42\u4ea4\u70b9\uff08Ray-Surface Intersection\uff09","text":"<p>\u5149\u7ebf\u7531\u8d77\u70b9\u548c\u65b9\u5411\u5b9a\u4e49\u3002</p> <p>\u5149\u7ebf\u4e0a\u7684\u4efb\u4f55\u4e00\u70b9\uff0c\u90fd\u53ef\u4ee5\u7528\u4ee5\u4e0b\u516c\u5f0f\u8868\u793a\uff1a</p> \\[ \\mathbf{r}(t) = \\mathbf{o} + t\\,\\mathbf{d},\\quad 0 \\le t &lt; \\infty \\] <p>\u5176\u4e2d\uff0c\\(\\mathbf{o}\\) \u662f\u5149\u7ebf\u7684\u8d77\u70b9\uff0c\\(\\mathbf{d}\\) \u662f\u5149\u7ebf\u7684\u65b9\u5411\uff0c\\(t\\) \u662f\u4e00\u4e2a\u975e\u8d1f\u5b9e\u6570\u3002</p>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/games101-4-ray-tracing/#_2","title":"\u5149\u7ebf\u4e0e\u7403\u7684\u6c42\u4ea4","text":"<p>\u7403\u7684\u9690\u5f0f\u65b9\u7a0b\u662f\uff1a</p> \\[ (\\mathbf{p}-\\mathbf{c})^2 - R^2 = 0 \\] <p>\u7403\u9762\u4e0a\u4efb\u610f\u4e00\u70b9 \\(\\mathbf{p}\\)\uff0c\u5230\u7403\u5fc3 \\(\\mathbf{c}\\) \u7684\u8ddd\u79bb\u7b49\u4e8e\u7403\u7684\u534a\u5f84 \\(R\\)\u3002</p> <p>\u6c42\u4ea4\u65b9\u7a0b\uff1a</p> \\[ (\\mathbf{o} + t\\,\\mathbf{d} - \\mathbf{c})^2 - R^2 = 0 \\] <p>\u4f7f\u7528\u4e8c\u6b21\u65b9\u7a0b\u6c42\u6839\u516c\u5f0f\uff0c\u5c31\u80fd\u89e3\u51fa \\(t\\)\uff1a</p> \\[ t = \\frac{-b \\pm \\sqrt{b^{2} - 4ac}}{2a} \\]","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/games101-4-ray-tracing/#_3","title":"\u5149\u7ebf\u548c\u4e00\u822c\u9690\u5f0f\u8868\u9762\u7684\u6c42\u4ea4","text":"<p>\u9690\u5f0f\u8868\u9762\uff08Implicit Surface\uff09\u662f\u6307\u7531\u4e00\u4e2a\u9690\u5f0f\u51fd\u6570\u5b9a\u4e49\u7684\u66f2\u9762\uff1a</p> \\[ \\mathbf{p} : f(\\mathbf{p}) = 0 \\] <p>\u6c42\u4ea4\u65b9\u7a0b\uff1a</p> \\[ f(\\mathbf{o} + t\\,\\mathbf{d}) = 0 \\]","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/games101-4-ray-tracing/#mesh","title":"\u5149\u7ebf\u548c\u4e09\u89d2\u5f62Mesh\u7684\u6c42\u4ea4","text":"<p>\u5149\u7ebf\u548cMesh\u6c42\u4ea4\u80fd\u5e72\u561b\uff1a</p> <ul> <li>\u6e32\u67d3\u65b9\u9762\uff1a\u5224\u65ad\u53ef\u89c1\u6027\uff08Visibility\uff09\uff0c\u5224\u65ad\u9634\u5f71\uff08Shadow\uff09\uff0c\u5149\u7167\u8ba1\u7b97\uff08Lighting\uff09\u3002</li> <li>\u51e0\u4f55\u65b9\u9762\uff1a\u5224\u65ad\u4e00\u4e2a\u70b9\u662f\u5426\u5728Mesh\u5185\u90e8\u3002  </li> </ul> <p>\u5224\u65ad\u5185\u5916\u90e8\uff0c\u6709\u4e00\u4e2a\u7b80\u5355\u7684\u65b9\u6cd5\uff1a\u4ece\u8fd9\u4e2a\u70b9\u51fa\u53d1\uff0c\u5411\u4efb\u610f\u65b9\u5411\u53d1\u5c04\u4e00\u6761\u5149\u7ebf\uff0c\u8ba1\u7b97\u5149\u7ebf\u548cMesh\u7684\u4ea4\u70b9\u4e2a\u6570\uff0c\u5982\u679c\u662f\u5947\u6570\uff0c\u8bf4\u660e\u8fd9\u4e2a\u70b9\u5728\u5185\u90e8\uff0c\u5982\u679c\u662f\u5076\u6570\uff0c\u8bf4\u660e\u8fd9\u4e2a\u70b9\u5728\u5916\u90e8\u3002</p> <p>\u5982\u4f55\u8ba1\u7b97\uff1f</p> <p>\u5149\u7ebf\u548c\u4e09\u89d2\u5f62\u7684\u6c42\u4ea4</p> <p>\u5148\u8ba1\u7b97\u5149\u7ebf\u548c\u5e73\u9762\u7684\u4ea4\u70b9\uff0c\u7136\u540e\u5224\u65ad\u4ea4\u70b9\u662f\u5426\u5728\u4e09\u89d2\u5f62\u5185\u3002</p> <p>\u5e73\u9762\u53ef\u4ee5\u5b9a\u4e49\u4e3a\u4e00\u4e2a\u70b9 \\(p'\\) +\u6cd5\u7ebf\uff0c\u53ea\u8981\u4e00\u4e2a\u70b9\u548c \\(p'\\) \u7684\u8fde\u7ebf\u548c\u6cd5\u7ebf \\(n\\) \u5782\u76f4\uff0c\u5c31\u8bf4\u660e\u8fd9\u4e2a\u70b9\u5728\u5e73\u9762\u4e0a\uff0c\u5373</p> \\[ \\mathbf{p}: (\\mathbf{p} - \\mathbf{p}') \\cdot \\mathbf{n} = 0 \\] <p>\u5c06\u8fd9\u91cc\u7684\u70b9\u548c\u5411\u91cf\u5199\u6210x\u3001y\u3001z\u7684\u5f62\u5f0f\uff0c\u4ee3\u5165\u5149\u7ebf\u65b9\u7a0b\uff0c\u5c31\u80fd\u5f97\u5230\u5e38\u89c1\u7684\u5e73\u9762\u65b9\u7a0b\uff1a</p> \\[ ax + by + cz + d = 0 \\] <p>\u5149\u7ebf\u548c\u5e73\u9762\u7684\u6c42\u4ea4\u8fc7\u7a0b\uff1a</p> \\[ \\begin{aligned} &amp;\\text{Set } \\mathbf{p} = \\mathbf{r}(t) \\text{ and solve for } t\\\\ &amp;(\\mathbf{p} - \\mathbf{p}') \\cdot \\mathbf{N} = (\\mathbf{o} + t\\,\\mathbf{d} - \\mathbf{p}') \\cdot \\mathbf{N} = 0\\\\ &amp;t = \\frac{(\\mathbf{p}' - \\mathbf{o}) \\cdot \\mathbf{N}}{\\mathbf{d} \\cdot \\mathbf{N}},\\quad \\text{Check: } 0 \\le t &lt; \\infty \\end{aligned} \\] <p>\u7136\u540e\u518d\u5224\u65ad\u4ea4\u70b9\u662f\u5426\u5728\u4e09\u89d2\u5f62\u5185\u3002</p> <p>Moller Trumbore Algorithm</p> <p>Moller Trumbore \u7b97\u6cd5\u662f\u4e00\u79cd\u9ad8\u6548\u7684\u5149\u7ebf\u548c\u4e09\u89d2\u5f62\u6c42\u4ea4\u7b97\u6cd5\uff0c\u4e00\u4e0b\u5c31\u80fd\u6c42\u51fa\u5149\u7ebf\u548c\u4e09\u89d2\u5f62\u7684\u4ea4\u70b9\u3002</p> <p>\u5176\u57fa\u672c\u601d\u60f3\u662f\u7528\u4e09\u89d2\u5f62\u91cd\u5fc3\u5750\u6807\u63cf\u8ff0\u4ea4\u70b9\u7684\u4f4d\u7f6e\u3002</p> <p>\u4e0b\u56fe\u5c55\u793a\u4e86 Moller Trumbore \u7b97\u6cd5\u7684\u8ba1\u7b97\u8fc7\u7a0b\uff0c\\((1-b_1-b_2)\\)\u3001\\(b_1\\)\u3001\\(b_2\\) \u662f\u91cd\u5fc3\u5750\u6807\uff0c\\(P_0\\)\u3001\\(P_1\\)\u3001\\(P_2\\) \u662f\u4e09\u89d2\u5f62\u7684\u4e09\u4e2a\u9876\u70b9\u3002</p> <p></p> <p>\u4e0a\u56fe\u4e2d\u5c06\u6c42\u4ea4\u8fc7\u7a0b\u8f6c\u6362\u4e3a\u89e3\u7ebf\u6027\u65b9\u7a0b\u7ec4\uff08\u56e0\u4e3a\u516c\u5f0f\u4e2d\u7684\u5411\u91cf\u548c\u70b9\u90fd\u662f\u4e09\u7ef4\u7684\uff09\uff0c\u5229\u7528\u514b\u62c9\u9ed8\u6cd5\u5219\uff08Cramer's Rule\uff09\u6c42\u89e3\uff0c\u514b\u62c9\u9ed8\u6cd5\u5219\u53ef\u4ee5\u7528\u6765\u89e3n\u4e2a\u5f0f\u5b50\u548cn\u4e2a\u53d8\u91cf\u7684\u7ebf\u6027\u65b9\u7a0b\u7ec4\u3002</p> <p>\u5f97\u5230\u89e3\u4ee5\u540e\uff0c\u53ea\u8981t\u548c\u4e09\u4e2a\u91cd\u5fc3\u5750\u6807\u90fd\u662f\u975e\u8d1f\u7684\uff0c\u5e76\u4e14\u91cd\u5fc3\u5750\u6807\u4e4b\u548c\u4e3a1\uff0c\u5c31\u8bf4\u660e\u4ea4\u70b9\u5728\u4e09\u89d2\u5f62\u5185\u3002</p>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/games101-4-ray-tracing/#bounding-volume","title":"\u5305\u56f4\u76d2\uff08Bounding Volume\uff09","text":"<p>\u6700\u7b80\u5355\u7684\u60f3\u6cd5\u662f\uff0c\u904d\u5386\u6240\u6709\u4e09\u89d2\u5f62\uff0c\u8ba1\u7b97\u5149\u7ebf\u548c\u6bcf\u4e2a\u4e09\u89d2\u5f62\u7684\u4ea4\u70b9\uff0c\u627e\u5230\u6700\u8fd1\u7684\u4ea4\u70b9\uff0c\u4f46\u662f\u8fd9\u4e2a\u65b9\u6cd5\u5f88\u6162\u3002</p> <p>\u5982\u4f55\u52a0\u901f\u8ba1\u7b97\u5462\uff1f</p> <p>\u5305\u56f4\u76d2\uff08Bounding Volume\uff09\u662f\u4e00\u4e2a\u7b80\u5355\u7684\u51e0\u4f55\u4f53\uff0c\u80fd\u5305\u4f4f\u590d\u6742\u7684\u51e0\u4f55\u4f53\u3002</p> <p>\u5305\u56f4\u76d2\u7684\u57fa\u672c\u601d\u60f3\u662f\uff1a\u5982\u679c\u5149\u7ebf\u548c\u5305\u56f4\u76d2\u76f8\u4ea4\uff0c\u90a3\u4e48\u5149\u7ebf\u4e00\u5b9a\u548c\u5305\u56f4\u76d2\u5185\u90e8\u7684\u67d0\u4e2a\u7269\u4f53\u76f8\u4ea4\uff1b\u5982\u679c\u5149\u7ebf\u548c\u5305\u56f4\u76d2\u4e0d\u76f8\u4ea4\uff0c\u90a3\u4e48\u5149\u7ebf\u4e00\u5b9a\u548c\u5305\u56f4\u76d2\u5185\u90e8\u7684\u7269\u4f53\u4e0d\u76f8\u4ea4\u3002</p> <p>\u957f\u65b9\u4f53\u662f\u6700\u5e38\u7528\u7684\u5305\u56f4\u76d2\uff0c\u6211\u4eec\u901a\u5e38\u4f7f\u7528\u8f74\u5bf9\u9f50\u5305\u56f4\u76d2\uff08Axis-Aligned Bounding Box, AABB\uff09\uff0c\u957f\u65b9\u4f53\u7684\u6bcf\u4e00\u8f74\u90fd\u662f\u6cbf\u7740\u5750\u6807\u8f74\u7684\uff0c\u5b83\u8ba1\u7b97\u7b80\u5355\u3002</p> <p>\u5982\u4f55\u5224\u65ad\u5149\u7ebf\u548c\u76d2\u5b50\u76f8\u4ea4\uff1f</p> <p>\u5305\u56f4\u76d2\u4e00\u5171\u67096\u4e2a\u9762\uff0c\u4e24\u4e24\u76f8\u5bf9\uff0c\u6784\u6210\u4e09\u7ec4\u5bf9\u9762\uff0c\u6211\u4eec\u5c06\u8fd96\u4e2a\u9762\u770b\u4f5c\u662f\u65e0\u9650\u5ef6\u4f38\u7684\uff0c\u90a3\u4e48\u548c\u5305\u56f4\u76d2\u6c42\u4ea4\u7684\u4e3b\u8981\u601d\u8def\u662f\uff1a</p> <ul> <li>\u53ea\u6709\u5f53\u5149\u7ebf\u8fdb\u5165\u6bcf\u7ec4\u5bf9\u9762\u65f6\uff0c\u5149\u7ebf\u624d\u8fdb\u5165\u4e86\u5305\u56f4\u76d2</li> <li>\u53ea\u8981\u5149\u7ebf\u79bb\u5f00\u4efb\u610f\u4e00\u7ec4\u5bf9\u9762\uff0c\u5149\u7ebf\u5c31\u79bb\u5f00\u4e86\u5305\u56f4\u76d2</li> </ul> <p>\u5bf9\u4e8e\u6bcf\u7ec4\u5bf9\u9762\uff0c\u90fd\u80fd\u6c42\u51fa\u5149\u7ebf\u8fdb\u5165\u548c\u79bb\u5f00\u7684\u65f6\u95f4 \\(t_{min}\\) \u548c \\(t_{max}\\)\uff0c\u8d1f\u503c\u4e5fok\uff08\u8d1f\u503c\u4ee3\u8868\u5149\u7ebf\u53cd\u5411\u4f20\u64ad\uff09\uff0c\u5149\u7ebf\u8fdb\u5165\u5305\u56f4\u76d2\u7684\u65f6\u95f4\u662f\u4e09\u7ec4\u5bf9\u9762\u4e2d\u6700\u5927\u7684 \\(t_{min}\\)\uff0c\u5149\u7ebf\u79bb\u5f00\u5305\u56f4\u76d2\u7684\u65f6\u95f4\u662f\u4e09\u7ec4\u5bf9\u9762\u4e2d\u6700\u5c0f\u7684 \\(t_{max}\\)\uff0c\u5373\uff0c</p> \\[ t_{enter} = \\max(t_{min}) \\] \\[ t_{exit} = \\min(t_{max}) \\] <p>\u4ece\u51e0\u4f55\u7684\u89d2\u5ea6\u6765\u770b\uff0c\u5149\u7ebf\u548c\u6bcf\u7ec4\u5bf9\u9762\u76f8\u4ea4\u6784\u6210\u4e00\u4e2a\u7ebf\u6bb5\uff0c\u5171\u5f62\u6210\u4e09\u4e2a\u7ebf\u6bb5\uff0c\u5bf9\u4e09\u4e2a\u7ebf\u6bb5\u6c42\u4ea4\uff0c\u5f97\u5230\u7684\u7ebf\u6bb5\u7684\u8d77\u70b9\u548c\u7ec8\u70b9\u5206\u522b\u5bf9\u5e94 \\(t_{enter}\\) \u548c \\(t_{exit}\\)\u3002</p> <p>\u5f53 \\(t_{enter} &lt; t_{exit}\\) \u65f6\uff0c\u8bf4\u660e\u5149\u7ebf\u548c\u5305\u56f4\u76d2\u76f8\u4ea4\uff0c\u53cd\u4e4b\uff0c\u4e0d\u76f8\u4ea4\u3002</p> <p>\u73b0\u5728\u8003\u8651\u8d1f\u503c\u7684\u60c5\u51b5</p> <ul> <li>\u5f53 \\(t_{exit} &lt; 0\\) \u65f6\uff0c\u8bf4\u660e\u5305\u56f4\u76d2\u5728\u5149\u7ebf\u4f20\u64ad\u65b9\u5411\u7684\u80cc\u540e\uff0c\u5149\u7ebf\u548c\u5305\u56f4\u76d2\u4e0d\u76f8\u4ea4\u3002</li> <li>\u5f53 \\(t_{enter} &lt; 0\\) \u4e14 \\(t_{exit} &gt; 0\\) \u65f6\uff0c\u8bf4\u660e\u5149\u7ebf\u4ece\u5305\u56f4\u76d2\u5185\u90e8\u53d1\u51fa\uff0c\u5149\u7ebf\u548c\u5305\u56f4\u76d2\u76f8\u4ea4\u3002</li> </ul> <p>\u7ed3\u8bba\uff0c\u5f53 \\(t_{enter} &lt; t_{exit}\\) \u4e14 \\(t_{exit} &gt; 0\\) \u65f6\uff0c\u8bf4\u660e\u5149\u7ebf\u548c\u5305\u56f4\u76d2\u76f8\u4ea4\uff0c\u53cd\u4e4b\uff0c\u4e0d\u76f8\u4ea4\u3002</p> <p>AABB\u5305\u56f4\u76d2\u7684\u597d\u5904</p> <p>\u5305\u56f4\u76d2\u662f\u548c\u5750\u6807\u8f74\u5bf9\u9f50\uff0c\u6bd4\u5982\uff0c\u6211\u4eec\u8981\u8ba1\u7b97\u4e00\u6761\u5149\u7ebf\u548c\u5782\u76f4\u4e8ex\u8f74\u7684\u5bf9\u9762\u7684\u4ea4\u70b9\uff0c\u6c42\u4ea4\u516c\u5f0f\u53ef\u4ee5\u7b80\u5316\u4e3a\uff1a</p> \\[ t = \\frac{\\mathbf{p}'_x - \\mathbf{o}_x}{\\mathbf{d}_x} \\] <p>\u53ea\u9700\u8981\u7528\u8fd9\u4e9b\u70b9\u548c\u5411\u91cf\u7684x\u5206\u91cf\u8ba1\u7b97\u5c31\u884c\u4e86\uff0c\u539f\u56e0\u662f\u8fd9\u7ec4\u5bf9\u9762\u7684\u6cd5\u7ebf \\(N\\) \u521a\u597d\u5c31\u662fx\u8f74\u65b9\u5411\u7684\u5355\u4f4d\u5411\u91cf\uff0c\u548c \\(N\\) \u505a\u70b9\u79ef\u5f97\u5230\u7684\u5c31\u662fx\u5206\u91cf\u3002</p> <p>\u5728\u5bf9\u5305\u56f4\u76d2\u6c42\u4ea4\u540e\uff0c\u5982\u679c\u5149\u7ebf\u548c\u5305\u56f4\u76d2\u76f8\u4ea4\uff0c\u90a3\u4e48\u5c31\u8981\u8ba1\u7b97\u5149\u7ebf\u548c\u5305\u56f4\u76d2\u5185\u90e8\u7684\u7269\u4f53\u6c42\u4ea4\uff0c\u5982\u4f55\u52a0\u901f\u8fd9\u4e2a\u8fc7\u7a0b\u5462\uff0c\u8fd9\u5c31\u8981\u7528\u5230\u5747\u5300\u7f51\u683c\uff08Uniform Grids\uff09\u548c\u7a7a\u95f4\u5212\u5206\uff08Spatial Partitions\uff09\uff0c\u8fd9\u662f\u4e24\u79cd\u52a0\u901f\u8ba1\u7b97\u5149\u7ebf\u548c\u7269\u4f53\u6c42\u4ea4\u7684\u65b9\u6cd5\u3002</p> <p>\u5747\u5300\u7f51\u683c\uff08Uniform Grids\uff09</p> <p>\u9996\u5148\uff0c\u5bf9\u5305\u56f4\u76d2\u505a\u9884\u5904\u7406\uff1a</p> <ol> <li>\u6784\u9020\u5305\u56f4\u76d2\u3002</li> <li>\u5efa\u7acb\u7f51\u683c\u3002</li> <li>\u6807\u8bb0\u548c\u7269\u4f53\u8868\u9762\u76f8\u4ea4\u7684\u683c\u5b50\u3002</li> </ol> <p>\u7136\u540e\uff0c\u5149\u7ebf\u8ffd\u8e2a\u6c42\u4ea4</p> <ol> <li>\u5149\u7ebf\u7a7f\u8fc7\u5305\u56f4\u76d2\uff0c\u548c\u6bcf\u4e2a\u683c\u5b50\u6c42\u4ea4\uff08\u8fd9\u4e2a\u8ba1\u7b97\u6bd4\u76f4\u63a5\u548c\u7269\u4f53\u6c42\u4ea4\u5feb\uff09\u3002</li> <li>\u7ecf\u8fc7\u88ab\u6807\u8bb0\u7684\u683c\u5b50\u65f6\uff0c\u5149\u7ebf\u662f\u6709\u53ef\u80fd\u548c\u7269\u4f53\u4ea7\u751f\u4ea4\u70b9\u7684\u3002</li> <li>\u68c0\u67e5\u5149\u7ebf\u662f\u5426\u548c\u4e0a\u4e00\u6b65\u9aa4\u4e2d\u88ab\u6807\u8bb0\u683c\u5b50\u4e2d\u7684\u7269\u4f53\u8868\u9762\u76f8\u4ea4\u3002</li> </ol> <p>\u5149\u7ebf\u7a7f\u8fc7\u5305\u56f4\u76d2\u65f6\uff0c\u8981\u53bb\u5224\u65ad\u5149\u7ebf\u7ecf\u8fc7\u54ea\u4e9b\u683c\u5b50\uff0c\u8fd9\u6709\u70b9\u7c7b\u4f3c\u5149\u6805\u5316\u65f6\uff0c\u5bf9\u76f4\u7ebf\u8fdb\u884c\u91c7\u6837\u7684\u8fc7\u7a0b\uff0c\u4e09\u7ef4\u7a7a\u95f4\u4e5f\u6709\u7c7b\u4f3c\u4e8c\u7ef4\u7a7a\u95f4\u7684\u76f4\u7ebf\u5149\u6805\u5316\u7b97\u6cd5\uff08\u8fd9\u4e2a\u7565\u8fc7\uff09\u3002</p> <p>\u4e3a\u4e86\u6700\u4f18\u5316\u5149\u7ebf\u548c\u573a\u666f\u6c42\u4ea4\u7684\u901f\u5ea6\uff0c\u683c\u5b50\u4e0d\u80fd\u592a\u591a\u4e5f\u4e0d\u80fd\u592a\u5c11\uff0c\u4e00\u4e2a\u7ecf\u9a8c\u503c\u662f\uff0c\u57283D\u573a\u666f\u4e0b\uff0c\u683c\u5b50\u6570\u76ee = 27 * \u7269\u4f53\u6570\u76ee\u3002</p> <p>\u7a7a\u95f4\u5212\u5206\uff08Spatial Partitions\uff09</p> <p>\u573a\u666f\u4e2d\u7684\u7269\u4f53\u5206\u5e03\u6bd4\u8f83\u7a00\u758f\u6216\u8005\u6bd4\u8f83\u4e0d\u5747\u5300\u65f6\uff0c\u5747\u5300\u7f51\u683c\u5c31\u4ecd\u7136\u4f1a\u4ea7\u751f\u5f88\u591a\u6ca1\u5fc5\u8981\u7684\u8ba1\u7b97\u6d88\u8017\uff0c\u8fd9\u65f6\u5c31\u53ef\u4ee5\u7528\u7a7a\u95f4\u5212\u5206\u7684\u65b9\u6cd5\u3002</p> <p>\u7a7a\u95f4\u5212\u5206\u7684\u601d\u8def\u662f\uff0c\u5c06\u5305\u56f4\u76d2\u6309\u7167\u6811\u72b6\u7ed3\u6784\u5212\u5206\uff0c\u5149\u7ebf\u548c\u683c\u5b50\u6c42\u4ea4\u7684\u65f6\u5019\uff0c\u6309\u7167\u6811\u7684\u7ed3\u6784\u8ba1\u7b97\uff0c\u5373\u4f7f\u526a\u7eb8\uff0c\u80fd\u51cf\u5c11\u5f88\u591a\u8ba1\u7b97\u3002</p> <p>\u4e0b\u56fe\u5217\u51fa\u4e86\u4e09\u79cd\u7a7a\u95f4\u5212\u5206\u65b9\u6cd5\uff08\u7b80\u5316\u6210\u4e8c\u7ef4\u7684\u5f62\u5f0f\uff09\uff0c\u5206\u522b\u662f\u516b\u53c9\u6811\uff08Oct-Tree\uff09\uff0cKD\u6811\uff08KD-Tree\uff09\uff0cBSP\u6811\uff08BSP-Tree\uff09\u3002</p> <p></p> <p>\u516b\u53c9\u6811\u662f\u5c06\u7a7a\u95f4\u9012\u5f52\u5730\u5212\u5206\u4e3a8\u4e2a\u5b50\u7a7a\u95f4\uff0c\u76f4\u5230\u6bcf\u4e2a\u5b50\u7a7a\u95f4\u5185\u7684\u7269\u4f53\u6570\u76ee\u5c0f\u4e8e\u67d0\u4e2a\u9608\u503c\uff08\u5728\u4e8c\u7ef4\u7a7a\u95f4\u4e2d\uff0c\u5c31\u9000\u5316\u4e3a\u4e86\u56db\u53c9\u6811\uff09</p> <p>KD\u6811\u662f\u5c06\u7a7a\u95f4\u9012\u5f52\u5730\u5212\u5206\u4e3a\u4e24\u4e2a\u5b50\u7a7a\u95f4\uff0c\u5212\u5206\u7684\u5e73\u9762\u662f\u548c\u5750\u6807\u8f74\u5bf9\u9f50\u7684\uff0c\u4ed6\u662f\u4e00\u4e2a\u4e8c\u53c9\u6811\u3002</p> <p>BSP\u6811\u662f\u5c06\u7a7a\u95f4\u9012\u5f52\u5730\u5212\u5206\u4e3a\u4e24\u4e2a\u5b50\u7a7a\u95f4\uff0c\u5212\u5206\u7684\u5e73\u9762\u53ef\u4ee5\u662f\u4efb\u610f\u65b9\u5411\u7684\u3002</p> <p>KD\u6811\u662f\u6700\u7b80\u5355\u7684\u3002</p> <p>KD\u6811\u6784\u9020\u4e86\u4e00\u9897\u4e8c\u53c9\u6811\uff0c\u5149\u7ebf\u548c\u5305\u56f4\u76d2\u6c42\u4ea4\u65f6\uff0c\u6309\u7167\u6811\u7684\u7ed3\u6784\uff0c\u4f9d\u6b21\u548c\u6bcf\u4e2a\u4e2d\u95f4\u8282\u70b9\u548c\u53f6\u8282\u70b9\u6c42\u4ea4\uff0c\u5982\u679c\u53d1\u73b0\u4e2d\u95f4\u8282\u70b9\u548c\u5149\u7ebf\u6ca1\u6709\u4ea4\u70b9\uff0c\u5c31\u8df3\u8fc7\u8fd9\u4e2a\u5b50\u6811\uff0c\u548c\u53f6\u8282\u70b9\u6c42\u4ea4\u65f6\uff0c\u5982\u679c\u53d1\u73b0\u548c\u53f6\u8282\u70b9\u7684\u7a7a\u95f4\u6709\u4ea4\u70b9\uff0c\u624d\u4f1a\u53bb\u548c\u53f6\u8282\u70b9\u5185\u90e8\u7684\u7269\u4f53\u8868\u9762\u6c42\u4ea4\u3002</p> <p>\u7a7a\u95f4\u5212\u5206\u7684\u95ee\u9898\uff1a</p> <ul> <li>\u5212\u5206\u683c\u5b50\u65f6\u6709\u53ef\u80fd\u628a\u7269\u4f53\u5207\u5f00\uff0c\u5f88\u96be\u5224\u65ad\u4e00\u4e2a\u683c\u5b50\u548c\u573a\u666f\u4e2d\u7684\u7269\u4f53\u662f\u5426\u76f8\u4ea4\u3002</li> <li>\u4e00\u4e2a\u7269\u4f53\u6709\u53ef\u80fd\u548c\u591a\u4e2a\u683c\u5b50\u76f8\u4ea4\u3002</li> </ul>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/games101-4-ray-tracing/#object-partition-bounding-volume-hierarchy-bvh","title":"\u7269\u4f53\u5212\u5206\uff08Object Partition\uff09\u548c \u5c42\u6b21\u5305\u56f4\u76d2\uff08Bounding Volume Hierarchy, BVH\uff09","text":"<p>BVH\u662f\u5e7f\u6cdb\u4f7f\u7528\u7684\u5149\u7ebf\u8ffd\u8e2a\u52a0\u901f\u7ed3\u6784\u3002</p> <p>BVH\u5212\u5206\u7684\u4e0d\u662f\u7a7a\u95f4\uff0c\u662f\u7269\u4f53\uff0c\u53ef\u4ee5\u7406\u89e3\u4e3a\u5bf9\u5305\u56f4\u76d2\u4e2d\u7684\u4e09\u89d2\u5f62\u5206\u7ec4\uff0c\u7136\u540e\u5bf9\u6bcf\u7ec4\u4e09\u89d2\u5f62\u91cd\u65b0\u6784\u9020\u5305\u56f4\u76d2\uff0c\u5212\u5206\u65f6\uff0c\u8fd8\u662f\u4ee5\u4e8c\u53c9\u6811\u7684\u7ed3\u6784\u5212\u5206\uff0c\u5f53\u53f6\u5b50\u8282\u70b9\u91cc\u9762\u5305\u542b\u7684\u4e09\u89d2\u5f62\u8db3\u591f\u5c11\u65f6\uff0c\u5c31\u505c\u6b62\u5212\u5206\u3002</p> <p>\u8fd9\u6837\uff0c\u4e00\u4e2a\u7269\u4f53\u53ea\u53ef\u80fd\u5728\u4e00\u4e2a\u683c\u5b50\u91cc\u3002</p> <p>\u5982\u4f55\u5212\u5206\u4e00\u4e2a\u683c\u5b50\u5462\uff1f</p> <ul> <li>\u6bcf\u6b21\u5212\u5206\u65f6\u90fd\u6362\u4e00\u4e2a\u5750\u6807\u8f74\u3002</li> <li>\u6bcf\u6b21\u5212\u5206\u6700\u957f\u7684\u4e00\u8f74\u3002</li> <li>\u53d6\u4f4d\u7f6e\u5728\u4e2d\u95f4\u7684\u4e09\u89d2\u5f62\uff0c\u4ee5\u8fd9\u4e2a\u4e09\u89d2\u5f62\u4e3a\u754c\u5212\u5206\uff0c\u4fdd\u8bc1\u5212\u5206\u540e\u7684\u4e24\u4e2a\u533a\u57df\u4e2d\u4e09\u89d2\u5f62\u6570\u91cf\u5dee\u4e0d\u591a\uff0c\u5c3d\u91cf\u4fdd\u8bc1\u6784\u5efa\u51fa\u6765\u7684\u6811\u662f\u4e00\u4e2a\u5e73\u8861\u4e8c\u53c9\u6811\u3002\u5feb\u901f\u5212\u5206\u7b97\u6cd5\u53ef\u4ee5\u5728O(n)\u65f6\u95f4\u590d\u6742\u5ea6\u5185\u627e\u5230\u4e09\u89d2\u5f62\u91cd\u5fc3\u7684\u4e2d\u4f4d\u6570\uff0c\u4ece\u800c\u5feb\u901f\u627e\u5230\u4f4d\u7f6e\u5728\u4e2d\u95f4\u7684\u4e09\u89d2\u5f62\u3002</li> </ul>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/games101-4-ray-tracing/#basic-radiometry","title":"\u8f90\u5c04\u5ea6\u91cf\u5b66\uff08Basic Radiometry\uff09","text":"<p>\u4e0d\u540c\u4e8eWhitted-Style\u7684\u5149\u7ebf\u8ffd\u8e2a\u6280\u672f\u3002</p> <p>\u8f90\u5c04\u5ea6\u91cf\u5b66\u7cbe\u786e\u5730\u63cf\u8ff0\u5149\u548c\u7269\u4f53\u8868\u9762\u4e4b\u95f4\u7684\u4f5c\u7528\uff0c\u4e0d\u50cfBlinn-Phong\u5149\u7167\u6a21\u578b\u4e2d\u5bf9\u5149\u5f3a\u5ea6\u4e4b\u7c7b\u7684\u53c2\u6570\u968f\u4fbf\u7ed9\u5b9a\u4e00\u4e2a\u7ecf\u9a8c\u503c\u3002</p> <p>\u5b83\u5b9a\u4e49\u4e86\u4e00\u7cfb\u5217\u7269\u7406\u5149\u5b66\u5c5e\u6027\uff0c\u4f8b\u5982\uff0c</p> <ul> <li>Radiant Flux\uff1a\u8f90\u5c04\u901a\u91cf</li> <li>Intensity\uff1a\u8f90\u5c04\u5f3a\u5ea6</li> <li>Irradiance\uff1a\u8f90\u5c04\u7167\u5ea6</li> <li>Radiance\uff1a\u8f90\u5c04\u4eae\u5ea6</li> </ul> <p>Radiant Energy</p> <p>\u80fd\u91cf\uff0c\u5355\u4f4d\u662f\\(\\mathrm{J}\\)\u7126\u8033</p> \\[ Q\\;[\\mathrm{J}=\\text{Joule}] \\] <p>Radiant Flux</p> <p>\u5355\u4f4d\u65f6\u95f4\u7684\u80fd\u91cf\uff0c\u53c8\u53eb\u529f\u7387\uff08Power\uff09\uff0c\u5355\u4f4d\u662f\u74e6\u7279\uff08W\uff09\uff0c\u5728\u5149\u5b66\u4e0a\u53eb\u6d41\u660e\uff08Lumen\uff09\u3002</p> \\[ \\Phi \\equiv \\frac{\\mathrm{d}Q}{\\mathrm{d}t}\\;[\\mathrm{W}=\\text{Watt}]\\;[\\mathrm{lm}=\\text{lumen}]^{*} \\] <p>Intensity</p> <p>\u5ea6\u91cf\u5149\u6e90\u53d1\u5c04\u51fa\u7684\u5149\u80fd\u91cf\u3002</p> <p>Intensity\u6307\u67d0\u4e2a\u7acb\u4f53\u89d2\uff08Solid angle\uff09\u7684\u529f\u7387\uff08Power\uff09\uff08\u03c9\u4ee3\u8868\u7acb\u4f53\u89d2\uff09\uff1a</p> \\[ I(\\omega) \\equiv \\frac{\\mathrm{d}\\Phi}{\\mathrm{d}\\omega} \\] <p>\u5355\u4f4d\u662f\u574e\u5fb7\u62c9\uff08Candela\uff09\uff08sr\u662f\u7acb\u4f53\u89d2\u7684\u5355\u4f4d\uff09\uff1a</p> \\[ \\left[\\frac{\\mathrm{W}}{\\mathrm{sr}}\\right]\\;\\left[\\frac{\\mathrm{lm}}{\\mathrm{sr}}=\\mathrm{cd}=\\text{candela}\\right] \\] <p>\u4ec0\u4e48\u662f\u7acb\u4f53\u89d2\uff1f</p> <p>\u901a\u5e38\u7684\u89d2\u662f\u7528\u5f27\u5ea6\u5b9a\u4e49\u7684\uff0c</p> \\[\\theta = \\frac{l}{r}\\] <p>\u4e09\u7ef4\u7a7a\u95f4\u4e2d\u7684\u89d2\u53eb\u7acb\u4f53\u89d2\uff0c\\(A\\) \u4ee3\u8868\u7403\u9762\u9762\u79ef</p> \\[\\Omega = \\frac{A}{r^2}\\] <p>\u5355\u4f4d\u7acb\u4f53\u89d2\u662f\u6307\u5355\u4f4d\u7403\u9762\u5bf9\u5e94\u7684\u7acb\u4f53\u89d2\uff0c\u600e\u4e48\u5b9a\u4e49\u5355\u4f4d\u7403\u9762\u5462\uff1f</p> <p>\u7528 \\(\\theta\\) \u8868\u793a\u548cz\u8f74\u7684\u5939\u89d2\uff0c\u7528 \\(\\phi\\) \u8868\u793a\u7ed5z\u8f74\u7684\u65cb\u8f6c\u89d2\u5ea6\uff0c\u7528\u8fd9\u4e24\u4e2a\u89d2\u5ea6\uff0c\u53ef\u4ee5\u5b9a\u4e49\u7403\u9762\u4e0a\u7684\u4e00\u4e2a\u65b9\u5411\u3002 </p> <p></p> <p>\u90a3\u4e48\u5355\u4f4d\u9762\u79ef\u4e3a\uff0c</p> \\[ \\mathrm{d}A = (r\\,\\mathrm{d}\\theta)(r\\sin\\theta\\,\\mathrm{d}\\phi) = r^{2}\\sin\\theta\\,\\mathrm{d}\\theta\\,\\mathrm{d}\\phi \\] <p>\u5355\u4f4d\u7acb\u4f53\u89d2\u4e3a,</p> \\[ \\mathrm{d}\\omega = \\frac{\\mathrm{d}A}{r^{2}} = \\sin\\theta\\,\\mathrm{d}\\theta\\,\\mathrm{d}\\phi \\] <p>\u663e\u7136\uff0c\u5982\u679c\u5bf9\u5355\u4f4d\u7acb\u4f53\u89d2\u505a\u4e8c\u91cd\u79ef\u5206\uff08\\(\\theta\\)\u7684\u8303\u56f4\u662f\\([0,\\pi]\\)\uff0c\\(\\phi\\)\u7684\u8303\u56f4\u662f\\([0,2\\pi]\\)\uff09\uff0c\u5f97\u5230\u7684\u5c31\u662f\u7403\u7684\u8868\u9762\u79ef \\(4\\pi\\)</p> <p>\u6240\u4ee5\uff0cFlux \u548c Intensity\u4e4b\u95f4\u7684\u5173\u7cfb\u4e3a\uff1a</p> \\[\\phi = 4\\pi I\\] <p>\uff08\u8fd9\u662f\u4e2a\u5f88\u76f4\u89c2\u7684\u7ed3\u8bba\uff09</p> <p>Irradiance</p> <p>\u5ea6\u91cf\u7269\u4f53\u8868\u9762\u63a5\u6536\u5230\u7684\u5149\u80fd\u91cf\u3002</p> <p>Irradiance\u6307\u5355\u4f4d\u9762\u79ef\u4e0a\u63a5\u6536\u5230\u7684\u529f\u7387\u3002</p> \\[ E(x) \\equiv \\frac{\\mathrm{d}\\Phi(x)}{\\mathrm{d}A} \\] <p>\u5355\u4f4d\u662fLux\uff1a</p> \\[ \\left[\\frac{\\mathrm{W}}{\\mathrm{m}^2}\\right]\\;\\left[\\frac{\\mathrm{lm}}{\\mathrm{m}^2}=\\mathrm{lux}\\right] \\] <p>\u8fd9\u4e2a\u9762\u79ef\u5fc5\u987b\u5782\u76f4\u4e8e\u5149\u7ebf\u65b9\u5411\uff0c\u5982\u679c\u5e73\u9762\u4e0d\u5782\u76f4\u4e8e\u5149\u7ebf\u65b9\u5411\uff0c\u90a3\u4e48\u5c06\u5e73\u9762\u6295\u5f71\u5230\u5149\u7ebf\u7684\u5782\u76f4\u65b9\u5411\u4e0a\u540e\u7684\u9762\u79ef\u624d\u662f\u6709\u6548\u9762\u79ef\u3002</p> <p>\u524d\u9762\u4ecb\u7ecdBlinn-Phong\u5149\u7167\u6a21\u578b\u65f6\uff0c\u63d0\u5230\u8fc7\u5149\u7684\u5f3a\u5ea6\u8870\u51cf\uff0c\u5b9e\u9645\u4e0a\u5e76\u4e0d\u51c6\u786e\uff0c\u5728\u8f90\u5c04\u5ea6\u91cf\u5b66\u4e2d\uff0c\u8870\u51cf\u7684\u5b9e\u9645\u4e0a\u662fIrradiance\uff0c\u7403\u9762\u4e0a\u7684\u4e00\u70b9\u63a5\u6536\u5230\u7684\u529f\u7387\u662f\uff1a</p> \\[ E' = \\frac{\\Phi}{4\\pi r^2} \\] <p>\u5176\u4e2d\uff0c\\(\\frac{\\Phi}{4\\pi}\\) \u662f\u534a\u5f84\u4e3a1\u7684\u7403\u9762\u4e0a\u6bcf\u4e2a\u70b9\u63a5\u6536\u5230\u7684\u529f\u7387\u3002</p> <p>\u4e0b\u9762\u8bb2\u7684\u80fd\u91cf\u4e00\u822c\u90fd\u662f\u6307 Intensity \u548c Irradiance\uff0c\u4e5f\u5c31\u662f\u529f\u7387\u3002</p> <p>Radiance</p> <p>\u5ea6\u91cf\u5149\u4f20\u64ad\u8fc7\u7a0b\u4e2d\u7684\u5149\u80fd\u91cf\u3002</p> <p>Radiance\u662f\u6307\u8868\u9762\u53d1\u5c04\u3001\u53cd\u5c04\u3001\u900f\u5c04\u6216\u63a5\u6536\u7684\u529f\u7387\uff0c\u5355\u4f4d\u4e3a\u5355\u4f4d\u7acb\u4f53\u89d2\u5185\u7684\u5355\u4f4d\u6295\u5f71\u9762\u79ef\u3002</p> <p></p> \\[ L(p,\\omega) \\equiv \\frac{\\mathrm{d}^{2}\\Phi(p,\\omega)}{\\mathrm{d}\\omega\\,\\mathrm{d}A\\,\\cos\\theta} \\] <p>\u5176\u4e2d\uff0c\\(\\theta\\) \u662f\u5149\u7ebf\u548c\u8868\u9762\u6cd5\u7ebf\u7684\u5939\u89d2\uff0c\u6216\u8005\u8bf4\uff0c\u662f\u5e73\u9762\u5411\u5782\u76f4\u4e8e\u5149\u7ebf\u65b9\u5411\u7684\u6295\u5f71\u89d2\u3002</p> \\[ \\left[ \\frac{\\mathrm{W}}{\\mathrm{sr}\\,\\mathrm{m}^{2}} \\right]\\quad \\left[ \\frac{\\mathrm{cd}}{\\mathrm{m}^{2}} = \\frac{\\mathrm{lm}}{\\mathrm{sr}\\,\\mathrm{m}^{2}} = \\mathrm{nit} \\right] \\] <p>Radiance\u53ef\u4ee5\u7406\u89e3\u4e3a\u5355\u4f4d\u7acb\u4f53\u89d2\u4e0a\u7684Irradiance\u3002</p> <p>\u5373\u5165\u5c04\u8f90\u5c04\uff08Incident Radiance\uff09\uff0c\u5355\u4f4d\u9762\u79ef\u4e0a\u63a5\u6536\u5230\u7684\u80fd\u91cf\u5728\\(\\omega\\)\u65b9\u5411\u4e0a\u7684\u90e8\u5206\uff1a</p> \\[ L(p,\\omega) = \\frac{\\mathrm{d}E(p)}{\\mathrm{d}\\omega\\,\\cos\\theta} \\] <p>\\(p\\) \u662f\u8868\u9762\u4e0a\u7684\u4e00\u4e2a\u70b9\uff0c\\(\\omega\\) \u662f\u5165\u5c04\u5149\u7684\u65b9\u5411\u3002</p> <p>Radiance\u4e5f\u53ef\u4ee5\u7406\u89e3\u4e3a\u5355\u4f4d\u9762\u79ef\u4e0a\u7684Intensity\u3002</p> <p>\u5373\u51fa\u5c04\u8f90\u5c04\uff08Exiting Radiance\uff09\uff0c\\(\\omega\\)\u65b9\u5411\u4e0a\u53d1\u51fa\u7684\u80fd\u91cf\u5728\u5355\u4f4d\u9762\u79ef\u4e0a\u7684\u90e8\u5206\uff1a</p> \\[ L(p,\\omega) = \\frac{\\mathrm{d}I(p,\\omega)}{\\mathrm{d}A\\,\\cos\\theta} \\] <p>\\(p\\) \u662f\u8868\u9762\u4e0a\u7684\u4e00\u4e2a\u70b9\uff0c\\(\\omega\\) \u662f\u51fa\u5c04\u5149\u7684\u65b9\u5411\u3002</p> <p>Radiance\u548cIrradiance\u7684\u533a\u522b\u662f\uff0cIrradiance\u662f\u5355\u4f4d\u9762\u79ef\u4e0a\u63a5\u6536\u5230\u7684\u603b\u529f\u7387\uff0c\u800cRadiance\u662fIrradiance\u5728\u67d0\u4e2a\u65b9\u5411\u4e0a\u7684\u529f\u7387\u3002</p> <p>\u5bf9Radiance\u5728\u5355\u4f4d\u534a\u7403\u9762\u4e0a\u505a\u79ef\u5206\uff0c\u5c31\u80fd\u5f97\u5230Irradiance\u3002</p>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/games101-4-ray-tracing/#bidirectional-reflectance-distribution-function-brdf","title":"\u53cc\u5411\u53cd\u5c04\u5206\u5e03\u51fd\u6570\uff08Bidirectional Reflectance Distribution Function, BRDF\uff09","text":"<p>\u4e00\u675f\u5165\u5c04\u5149\uff0c\u4f1a\u5411\u591a\u4e2a\u4e0d\u540c\u65b9\u5411\u53cd\u5c04\uff0c\u5165\u5c04\u5149\u7684 Radiance \u4f1a\u5728\u5355\u4f4d\u8868\u9762\u8f6c\u6362\u4e3a\u80fd\u91cf\uff08Irradiance\uff09\uff0c\u7136\u540e\u6cbf\u67d0\u4e2a\u65b9\u5411\u53cd\u5c04\u51fa\u53bb\uff0c\u8f6c\u6362\u4e3a\u8be5\u65b9\u5411\u4e0a\u7684 Radiance\u3002</p> <p></p> <p>\u5047\u8bbe\u6253\u5230\u7269\u4f53\u8868\u9762\u4e0a\u5355\u4f4d\u9762\u79ef\u7684 Irradiance\u4e3a \\(E\\)\uff0c\u90a3\u4e48\u53ef\u4ee5\u5c06 \\(E\\) \u4e0e\u5165\u5c04\u548c\u51fa\u5c04\u7684 Radiance \u8054\u7cfb\u8d77\u6765\uff1a</p> <p>\u4ece \\(\\omega_i\\) \u65b9\u5411\u7684\u5165\u5c04\u5149\u6ee1\u8db3\uff1a</p> \\[ \\mathrm{d}E(\\omega_i) = L(\\omega_i)\\cos\\theta_i\\,\\mathrm{d}\\omega_i \\] <p>\u4ece \\(\\omega_r\\) \u65b9\u5411\u7684\u53cd\u5c04\u5149 Radiance \u4e3a \\(L_r(\\omega_r)\\)</p> <p>BRDF\u8ba1\u7b97\u4e86\u4ece \\(\\omega_i\\) \u65b9\u5411\u5165\u5c04\u5149\u7684 Irradiance\uff0c\u6709\u591a\u5c11\u6bd4\u4f8b\u4f1a\u88ab\u53cd\u5c04\u5230 \\(\\omega_r\\) \u65b9\u5411\uff1a</p> \\[ f_r(\\omega_i \\rightarrow \\omega_r) = \\frac{\\mathrm{d}L_r(\\omega_r)}{\\mathrm{d}E_i(\\omega_i)} = \\frac{\\mathrm{d}L_r(\\omega_r)}{L_i(\\omega_i)\\,\\cos\\theta_i\\,\\mathrm{d}\\omega_i} \\;\\left[\\frac{1}{\\mathrm{sr}}\\right] \\] <p>\u53cd\u5c04\u65b9\u7a0b</p> <p>\u4ece\u53cd\u5c04\u5149\u7684\u89d2\u5ea6\u6765\u770b\uff0c\u4e00\u675f\u53cd\u5c04\u5149\u662f\u7531\u6240\u6709\u4e0d\u540c\u89d2\u5ea6\u7684\u5165\u5c04\u5149\u5728\u53cd\u5c04\u65b9\u5411\u7684\u5206\u91cf\u53e0\u52a0\u8d77\u6765\u7684\uff1a</p> \\[ L_r(p,\\omega_r) = \\int_{H^2} f_r(p,\\omega_i \\rightarrow \\omega_r)\\, L_i(p,\\omega_i)\\, \\cos\\theta_i\\, \\mathrm{d}\\omega_i \\] <p>\u4e00\u4e2a\u53cd\u5c04\u5149\u5bf9\u5e94\u7684\u5165\u5c04\u5149\u4e0d\u4e00\u5b9a\u662f\u5149\u6e90\uff0c\u4e5f\u6709\u53ef\u80fd\u662f\u5176\u4ed6\u7269\u4f53\u8868\u9762\u7684\u53cd\u5c04\u5149\uff0c\u56e0\u6b64\uff0c\u8fd9\u4e2a\u8ba1\u7b97\u8fc7\u7a0b\u662f\u9012\u5f52\u7684\u3002</p>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/games101-4-ray-tracing/#_4","title":"\u6e32\u67d3\u65b9\u7a0b","text":"\\[ L_o(p,\\omega_o)=L_e(p,\\omega_o)+\\int_{\\Omega^{+}} L_i(p,\\omega_i)\\,f_r(p,\\omega_i,\\omega_o)\\,(\\mathbf{n}\\cdot\\omega_i)\\,\\mathrm{d}\\omega_i \\] <p>\\(L_e(p,\\omega_o)\\) \u662f\u7269\u4f53\u8868\u9762\u7684\u81ea\u53d1\u5149\uff0c\u516c\u5f0f\u540e\u534a\u90e8\u5206\u662f\u7269\u4f53\u8868\u9762\u7684\u53cd\u5c04\u5149\u3002</p> <p>\u5982\u679c\u53ea\u6709\u4e00\u4e2a\u6216\u591a\u4e2a\u70b9\u5149\u6e90\uff0c\u5176\u5b9e\u4e0d\u9700\u8981\u79ef\u5206\uff0c\u53ef\u4ee5\u76f4\u63a5\u6c42\u548c\uff0c\u5982\u679c\u662f\u4e2a\u9762\u5149\u6e90\uff0c\u5c31\u9700\u8981\u79ef\u5206\uff0c\u76f8\u5f53\u4e8e\u5c06\u9762\u5149\u6e90\u89c6\u4e3a\u65e0\u6570\u4e2a\u70b9\u5149\u6e90\u7684\u96c6\u5408\u3002</p> <p>\u8003\u8651\u5176\u4ed6\u7269\u4f53\u7684\u53cd\u5c04\u5149\u4f5c\u4e3a\u5149\u6e90\u7684\u60c5\u51b5\uff0c\\(L_r(x',-\\omega_i)\\) \u662f\u5176\u4ed6\u7269\u4f53\u4e0a\u7684\u4e00\u70b9 \\(x'\\)\uff0c\u6cbf\u7740 \\(-\\omega_i\\) \u65b9\u5411\u53cd\u5c04\u8fc7\u6765\u7684 Radiance\uff0c\u6211\u4eec\u76f4\u63a5\u5c06\u5176\u4f5c\u4e3a\u5f53\u524d\u70b9 \\(x\\) \u7684\u5165\u5c04 Radiance\uff0c\u6ce8\u610f\u8fd9\u91cc\u4e3a\u4ec0\u4e48\u8981\u7ed9 \\(\\omega_i\\) \u52a0\u4e2a\u8d1f\u53f7\uff0c\u662f\u56e0\u4e3a\u5728\u53cd\u5c04\u65b9\u7a0b\u4e2d\uff0c\\(\\omega_i\\) \u662f\u6307\u4ece\u70b9 \\(x\\) \u6307\u5411\u5149\u6e90\u7684\u65b9\u5411\uff0c\u52a0\u4e0a\u8d1f\u53f7\u624d\u80fd\u6b63\u786e\u8868\u793a\u4ece\u5176\u4ed6\u7269\u4f53\u7684\u53cd\u5c04\u70b9 \\(x'\\) \u6307\u5411 \u70b9 \\(x\\) \u7684\u65b9\u5411\u3002</p> \\[ L_r(x,\\omega_r)=L_e(x,\\omega_r)+\\int_{\\Omega} L_r(x',-\\omega_i)\\,f(x,\\omega_i,\\omega_r)\\,\\cos\\theta_i\\,\\mathrm{d}\\omega_i \\] <p>\u5199\u6210\u7b80\u5316\u7684\u5f62\u5f0f\uff0c\u7528 \\(u\\) \u548c \\(v\\) \u5206\u522b\u8868\u793a\u5f53\u524d\u53cd\u5c04\u70b9\u548c\u5176\u4ed6\u7269\u4f53\u7684\u53cd\u5c04\u70b9\uff1a</p> \\[ L(u)=e(u)+\\int L(v)\\,K(u,v)\\,\\mathrm{d}v \\] <p>\u8fdb\u4e00\u6b65\uff0c\u53ef\u4ee5\u7b80\u5199\u4e3a\uff1a</p> \\[ L = E + K L \\] <p>\u516c\u5f0f\u540e\u534a\u90e8\u5206\u91cc\u7684 \\(L\\) \u662f\u6240\u6709\u5149\u6e90\u76f4\u63a5\u6216\u95f4\u63a5\u7167\u5c04\u5230\u7269\u4f53\u8868\u9762\u7684 Radiance\u3002</p> <p>\u7ecf\u8fc7\u53d8\u6362\uff0c\u53ef\u4ee5\u5f97\u5230\uff1a</p> \\[ L = (I + K + K^{2} + K^{3} + \\cdots)E \\] \\[ L = E + KE + K^{2}E + K^{3}E + \\cdots \\] <p>\u5176\u4e2d\uff0c\\(K^{n}E\\) \u662f\u5149\u6e90\u53d1\u51fa\u7684\u5149\u7ecf\u8fc7\u591a\u6b21\u53cd\u5c04\u540e\u5230\u8fbe\u7269\u4f53\u8868\u9762\u7684 Radiance\u3002</p>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/games101-4-ray-tracing/#_5","title":"\u5168\u5c40\u5149\u7167","text":"<p>\u5149\u7ebf\u5f39\u5c04\u4e00\u6b21\u53eb\u76f4\u63a5\u5149\u7167\uff0c\u5149\u7ebf\u5f39\u5c04\u591a\u6b21\u53eb\u95f4\u63a5\u5149\u7167\uff0c\u8fd9\u4e9b\u5149\u7167\u7684\u603b\u548c\u53eb\u5168\u5c40\u5149\u7167\uff0c\u4e5f\u5c31\u662f\u4e0a\u9762\u6700\u540e\u5b9a\u4e49\u7684 \\(L\\)\u3002</p> <p>\u5149\u6805\u5316\u53ea\u80fd\u5904\u7406\u76f4\u63a5\u5149\u7167\uff0c\u5373\u7269\u4f53\u7684\u81ea\u53d1\u5149+\u5149\u6e90\u4e00\u6b21\u7167\u5c04\u3002</p>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/games101-4-ray-tracing/#_6","title":"\u6982\u7387\u8bba\u56de\u987e","text":"<p>\\(X\\)\uff0c\u968f\u673a\u53d8\u91cf\uff08Random Variable\uff09\uff0c\u53d6\u503c\u4e0d\u786e\u5b9a\u7684\u53d8\u91cf, \u6bd4\u5982\u9ab0\u5b50\u53ef\u4ee5\u53d61~6\u516d\u4e2a\u503c\u3002</p> <p>\\(X \\sim p(x)\\)\uff0c\u6982\u7387\u5bc6\u5ea6\u51fd\u6570\uff08Probability Density Function, PDF\uff09\uff0c\u63cf\u8ff0\u968f\u673a\u8fc7\u7a0b\u53d6\u67d0\u4e2a\u503c \\(x\\) \u7684\u6982\u7387\u3002</p> <p>\u671f\u671b\u503c\uff08Expected Value\uff09\uff0c\u968f\u673a\u53d8\u91cf\u7406\u8bba\u4e0a\u7684\u5e73\u5747\u503c\uff0c\u5bf9\u6982\u7387\u7684\u52a0\u6743\u5e73\u5747\u3002</p> \\[ E[X] = \\sum_{i=1}^{n} x_i\\,p_i \\] <p>\u5bf9\u6982\u7387\u5bc6\u5ea6\u51fd\u6570 \\(p(x)\\) \u505a\u79ef\u5206\u7684\u7ed3\u679c\u662f1\uff0c</p> \\[ \\int p(x)\\,\\mathrm{d}x = 1 \\] <p>\u7528 \\(p(x)\\) \u6c42\u6570\u5b66\u671f\u671b\uff0c</p> \\[ E[X] = \\int xp(x)\\,\\mathrm{d}x \\]","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/games101-4-ray-tracing/#monte-carlo-integration","title":"\u8499\u7279\u5361\u6d1b\u79ef\u5206\uff08Monte Carlo Integration\uff09","text":"<p>\u8499\u7279\u5361\u6d1b\u79ef\u5206\u662f\u4e00\u79cd\u79ef\u5206\u65b9\u6cd5\uff0c\u5982\u679c\u6211\u4eec\u60f3\u6c42\u4e00\u4e2a\u590d\u6742\u51fd\u6570 \\(f(x)\\) \u5728\u533a\u95f4 \\([a,b]\\) \u4e0a\u7684\u79ef\u5206\uff1a</p> \\[ \\int_{a}^{b} f(x)\\,\\mathrm{d}x \\] <p>\u5728\u533a\u95f4 \\([a,b]\\) \u4e0a\u6839\u636e\u67d0\u4e2a\u6982\u7387\u5bc6\u5ea6\u51fd\u6570 \\(p(x)\\) \u5bf9 \\(x\\) \u91c7\u6837 \\(N\\) \u4e2a\u70b9\uff0c</p> \\[ F_N = \\frac{1}{N}\\sum_{i=1}^{N}\\frac{f(X_i)}{p(X_i)} \\] <p>\\(F_N\\) \u5c31\u662f\u5bf9\u79ef\u5206\u7684\u4f30\u8ba1\u3002</p> <p>\u5982\u679c \\(p(x)\\) \u662f\u5747\u5300\u5206\u5e03\uff0c\u4e14\u5728\u533a\u95f4 \\([a,b]\\) \u4e0a\u7684\u6982\u7387\u603b\u548c\u4e3a1\uff0c\u90a3\u4e48\\(p(x) = \\frac{1}{b-a}\\)\uff0c\\(F_N\\) \u4e3a\uff1a</p> \\[F_N = \\frac{b-a}{N}\\sum_{i=1}^{N} f(X_i)\\] <p>\u53ef\u4ee5\u8fd9\u4e48\u7406\u89e3\u4e0a\u9762\u8fd9\u4e2a\u89e3\u6cd5\uff0c\u5728\u533a\u95f4 \\([a,b]\\) \u4e0a\u91c7\u6837\u4e00\u4e2a\u70b9 \\(x_i\\)\uff0c\u8ba1\u7b97 \\(f(x_i)\\)\uff0c\u7136\u540e\u5c06 \\(f(x_i)\\) \u4e58\u4ee5\u533a\u95f4\u957f\u5ea6 \\((b-a)\\)\uff0c\u5f97\u5230\u8fd9\u4e2a\u70b9\u5bf9\u5e94\u7684\u9762\u79ef\uff0c\u7136\u540e\u5bf9\u6240\u6709\u91c7\u6837\u70b9\u7684\u9762\u79ef\u6c42\u5e73\u5747\u3002</p>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/games101-4-ray-tracing/#path-tracing","title":"\u8def\u5f84\u8ffd\u8e2a\uff08Path Tracing\uff09","text":"","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/games101-4-ray-tracing/#_7","title":"\u5229\u7528\u8499\u7279\u5361\u6d1b\u79ef\u5206\u6c42\u89e3\u6e32\u67d3\u65b9\u7a0b","text":"<p>\u5149\u6ed1\u7684\u53cd\u5c04\u6709\u4e24\u79cd\uff0c</p> <ul> <li>\u955c\u9762\u53cd\u5c04\uff08Specular/Mirror Reflection\uff09\uff1a\u5149\u7ebf\u6309\u7167\u5165\u5c04\u89d2\u7b49\u4e8e\u53cd\u5c04\u89d2\u7684\u65b9\u5f0f\u53cd\u5c04\u3002</li> <li>\u5149\u6cfd\u53cd\u5c04\uff08Glossy Reflection\uff09\uff1a\u6709\u53cd\u5c04\uff0c\u6709\u9ad8\u5149\uff0c\u4f46\u8868\u9762\u4e0d\u662f\u5b8c\u5168\u5149\u6ed1\uff08\u6bd4\u5982\u5e26\u70b9\u78e8\u7802\u8d28\u611f\uff09\u3002</li> </ul> <p>whitted-style\u5149\u7ebf\u8ffd\u8e2a\u6709\u4e00\u4e9b\u56fa\u6709\u7684\u95ee\u9898\uff0c\u4f8b\u5982\uff1a</p> <ul> <li>\u53ea\u80fd\u5904\u7406\u955c\u9762\u53cd\u5c04\uff0c\u4e0d\u80fd\u5904\u7406\u5149\u6cfd\u53cd\u5c04\u3002</li> <li>\u5149\u7ebf\u53cd\u5c04\u5230\u6f2b\u53cd\u5c04\u6750\u8d28\u65f6\u5c31\u505c\u6b62\u4e86\u3002</li> </ul> <p>\u8f90\u5c04\u5ea6\u91cf\u5b66\u6e32\u67d3\u65b9\u7a0b\u53ef\u4ee5\u89e3\u51b3\u8fd9\u4e9b\u95ee\u9898\u3002</p> <p>\u4f7f\u7528\u8499\u7279\u5361\u6d1b\u79ef\u5206\u6765\u6c42\u89e3\u6e32\u67d3\u65b9\u7a0b</p> <p>\u5047\u8bbe\u6709\u4e00\u4e2a\u9762\u5149\u6e90\u5728\u7167\u5c04\u7269\u4f53\uff0c\u5728\u534a\u7403\u9762 \\(\\Omega^{+}\\) \u4e0a\uff0c\u5bf9 \\(\\omega_i\\) \u5747\u5300\u91c7\u6837\uff0c\u5bf9\u5e94\u7684\u6982\u7387\u5bc6\u5ea6\u51fd\u6570\u4e3a \\(p(\\omega_i) = 1/2\\pi\\)\u3002\uff08\u534a\u7403\u7684\u9762\u79ef\u662f \\(2\\pi\\)\uff09</p> \\[ L_o(point,\\omega_o)=\\int_{\\Omega^{+}} L_i(point,\\omega_i)\\,f_r(point,\\omega_i,\\omega_o)\\,(\\mathbf{n}\\cdot\\omega_i)\\,\\mathrm{d}\\omega_i \\\\ \\approx \\frac{1}{N}\\sum_{i=1}^{N}\\frac{L_i(point,\\omega_i)\\,f_r(point,\\omega_i,\\omega_o)\\,(\\mathbf{n}\\cdot\\omega_i)}{p(\\omega_i)} \\] <p>\u53ef\u4ee5\u7528\u5165\u5c04\u5149\u7684\u6570\u91cf\u4f5c\u4e3a\u91c7\u6837\u70b9\u7684\u6570\u91cf \\(N\\)\u3002</p> <p>\u5176\u4ed6\u7269\u4f53\u53cd\u5c04\u5230\u5f53\u524d\u7269\u4f53\u8868\u9762\u7684\u5149\u7167\u600e\u4e48\u8ba1\u7b97\u5462\uff1f\u9012\u5f52\u5730\u8ba1\u7b97\u5176\u4ed6\u7269\u4f53\u8868\u9762\u7684\u53cd\u5c04\u5149\uff0c\u7136\u540e\u5c06\u5176\u4f5c\u4e3a\u5f53\u524d\u7269\u4f53\u7684\u5165\u5c04\u5149\u5c31\u597d\u4e86\u3002</p>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/games101-4-ray-tracing/#_8","title":"\u8def\u5f84\u8ffd\u8e2a","text":"<p>\u95ee\u9898\u662f\uff0c\u6bcf\u6b21\u5149\u7ebf\u53cd\u5c04\uff0c\u90fd\u4f1a\u65b0\u589e N \u4e2a\u5149\u7ebf\uff0c\u8ba1\u7b97\u91cf\u4f1a\u7206\u70b8\u5f0f\u589e\u957f\uff0c\u600e\u4e48\u529e\uff1f</p> <p>\u6700\u7b80\u5355\u7684\u529e\u6cd5\u662f\uff0c\u6bcf\u6b21\u53cd\u5c04\u65f6\u53ea\u968f\u673a\u91c7\u6837\u4e00\u4e2a\u5149\u7ebf\uff0c\u5373 \\(N=1\\)\uff0c\u8fd9\u6837\uff0c\u6bcf\u6b21\u5149\u7ebf\u53cd\u5c04\u65f6\uff0c\u53ea\u4f1a\u65b0\u589e\u4e00\u4e2a\u5149\u7ebf\uff0c\u8ba1\u7b97\u91cf\u4e0d\u4f1a\u7206\u70b8\u5f0f\u589e\u957f\u3002</p> <p>\\(N=1\\) \u65f6\u53cd\u5c04\u8fc7\u7a0b\u5c31\u53eb\u505a\u8def\u5f84\u8ffd\u8e2a\uff08Path Tracing\uff09\uff0c\\(N \\neq 1\\) \u65f6\u53eb\u505a\u5206\u5e03\u5f0f\u8def\u5f84\u8ffd\u8e2a\uff08Distributed Path Tracing\uff09\u3002</p> <p>\u91c7\u6837\u70b9\u592a\u5c11\u7684\u95ee\u9898\u53ef\u4ee5\u901a\u8fc7\u589e\u52a0\u5165\u5c04\u5149\u7ebf\u7684\u6570\u91cf\u6765\u89e3\u51b3\uff08\u589e\u52a0\u91c7\u6837\u6b21\u6570\uff09\uff0c\u8fd9\u5f88\u597d\u7406\u89e3\uff0c\u53cd\u5c04\u5149\u7ebf\u53d8\u5c11\u4e86\uff0c\u90a3\u5c31\u589e\u52a0\u5165\u5c04\u5149\u7ebf\u7684\u6570\u91cf\u3002</p>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/games101-4-ray-tracing/#russian-roulette","title":"\u4fc4\u7f57\u65af\u8f6e\u76d8\u8d4c\uff08Russian Roulette\uff09","text":"<p>\u9012\u5f52\u8fc7\u7a0b\u4ec0\u4e48\u65f6\u5019\u505c\u6b62\u5462\uff1f\u5982\u679c\u7b80\u5355\u6307\u5b9a\u4e00\u4e2a\u6700\u5927\u9012\u5f52\u6df1\u5ea6\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u4e00\u4e9b\u5149\u7ebf\u8def\u5f84\u88ab\u622a\u65ad\uff08\u76f8\u5f53\u4e8e\u4ea7\u751f\u4e86\u80fd\u91cf\u635f\u5931\uff09\uff0c\u5f71\u54cd\u6e32\u67d3\u8d28\u91cf\u3002</p> <p>\u4e00\u79cd\u66f4\u597d\u7684\u529e\u6cd5\u662f\u4fc4\u7f57\u65af\u8f6e\u76d8\u8d4c\uff08Russian Roulette\uff09\u65b9\u6cd5\uff0c\u5728\u6bcf\u6b21\u53cd\u5c04\u65f6\uff0c\u7ed9\u5149\u7ebf\u4e00\u4e2a\u5b58\u6d3b\u6982\u7387 \\(P\\)\uff0c\u4ee5\u6982\u7387 \\(P\\) \u7ee7\u7eed\u53cd\u5c04\uff0c\u4ee5\u6982\u7387 \\(1-P\\) \u505c\u6b62\u53cd\u5c04\uff0c\u53cd\u5c04\u65f6\uff0c\u5bf9\u5149\u51fa\u5c04\u80fd\u91cf\u505a\u4e00\u4e2a\u653e\u5927\uff0c\u4ee5\u8865\u507f\u505c\u6b62\u53cd\u5c04\u5e26\u6765\u7684\u80fd\u91cf\u635f\u5931\uff0c\u4f7f \\(L_o\\) \u6ee1\u8db3\uff1a</p> \\[L_o = P(L_o / P) + (1-P)*0\\]","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/games101-4-ray-tracing/#_9","title":"\u5bf9\u5149\u6e90\u91c7\u6837","text":"<p>\u8def\u5f84\u8ffd\u8e2a\u4e2d\uff0c\u6bcf\u4e2a\u53cd\u5c04\u70b9\u53ea\u6709\u4e00\u6761\u53cd\u5c04\u5149\u7ebf\uff0c\u5e76\u4e14\u53cd\u5c04\u65b9\u5411\u662f\u968f\u673a\u7684\uff0c\u56e0\u6b64\uff0c\u5149\u6e90\u8d8a\u5c0f\uff0c\u5149\u7ebf\u76f4\u63a5\u6253\u5230\u5149\u6e90\u7684\u6982\u7387\u5c31\u8d8a\u5c0f\uff0c\u5bfc\u81f4\u566a\u70b9\u589e\u591a\uff0c\u5982\u679c\u5411\u56db\u5468\u5747\u5300\u91c7\u6837\uff0c\u5219\u4f1a\u9020\u6210\u5f88\u591a\u8ba1\u7b97\u4e0a\u7684\u6d6a\u8d39\u3002</p> <p>\u89e3\u51b3\u529e\u6cd5\uff0c\u751f\u6210\u53cd\u5c04\u5149\u7ebf\u65f6\uff0c\u4e0d\u518d\u91c7\u7528\u5747\u5300\u5206\u5e03\uff0c\u800c\u662f\u76f4\u63a5\u5728\u5149\u6e90\u4e0a\u91c7\u6837\u3002</p> <p></p> <p>\u4e3a\u6b64\uff0c\u6211\u4eec\u9700\u8981\u5c06\u6e32\u67d3\u65b9\u7a0b\u6539\u5199\u4e3a\u5728\u5149\u6e90\u4e0a\u505a\u79ef\u5206\u7684\u5f62\u5f0f\uff0c\u5bf9\u79ef\u5206\u8fdb\u884c\u6362\u5143\uff0c\u5c06 \\(d\\omega\\) \u6362\u6210 \\(dA\\)\u3002</p> <p>\u6839\u636e\u4e0a\u56fe\u53ca\u7acb\u4f53\u89d2\u7684\u5b9a\u4e49\uff0c\u53ef\u4ee5\u5f97\u5230\u4ee5\u4e0b\u5173\u7cfb\uff1a</p> \\[ \\mathrm{d}\\omega = \\frac{\\mathrm{d}A \\cos\\theta'}{\\lVert x' - x \\rVert^{2}} \\] <p>\u79ef\u5206\u6362\u5143\uff1a</p> \\[ L_o(x,\\omega_o) = \\int_{\\Omega^{+}} L_i(x,\\omega_i)\\,f_r(x,\\omega_i,\\omega_o)\\,\\cos\\theta\\,\\mathrm{d}\\omega_i \\\\ = \\int_{A} L_i(x,\\omega_i)\\,f_r(x,\\omega_i,\\omega_o)\\,\\frac{\\cos\\theta\\,\\cos\\theta'}{\\lVert x' - x \\rVert^{2}}\\,\\mathrm{d}A \\] <p>\u5728\u8ba1\u7b97\u7740\u8272\u70b9\u7684\u53cd\u5c04\u65f6\uff0c\u5c06\u5149\u7167\u5206\u4e3a\u4e24\u90e8\u5206\uff0c\u5149\u6e90\u7684\u76f4\u63a5\u8d21\u732e\u548c\u5176\u4ed6\u7269\u4f53\u7684\u95f4\u63a5\u8d21\u732e\uff0c\u5728\u5149\u6e90\u4e0a\u5747\u5300\u91c7\u6837\uff0c\u5bf9\u4e8e\u5176\u4ed6\u7269\u4f53\uff0c\u4ecd\u7136\u662f\u4f7f\u7528\u4fc4\u7f57\u65af\u8f6e\u76d8\u8d4c\u7684\u65b9\u6cd5\u9012\u5f52\u8ba1\u7b97\u3002</p>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/games101-4-ray-tracing/#_10","title":"\u5173\u4e8e\u8f90\u5c04\u5ea6\u91cf\u5b66\u7684\u4e2a\u4eba\u7406\u89e3","text":"<p>Intensity\u3001Irradiance\u3001Radiance\u8fd9\u4e09\u8005\u7684\u5173\u7cfb\u53ef\u4ee5\u8fd9\u4e48\u7406\u89e3\uff0cIntensity \u548c Irradiance \u8f6c\u6362\u4e3a Radiance \u65f6\uff0c\u90fd\u9700\u8981\u5f15\u5165 \\(\\cos\\theta\\)\uff0c\\(\\cos\\theta\\) \u662f\u63a5\u6536\u5149\u7ebf\u7684\u8868\u9762\u6cd5\u7ebf\u548c\u5165\u5c04\u5149\u7ebf\u7684\u5939\u89d2\uff0c\u5f15\u5165 \\(\\cos\\theta\\) \u7684\u539f\u56e0\u662f\uff0c\u63a5\u6536\u5149\u7ebf\u7684\u5e73\u9762\u53ef\u80fd\u4e0d\u5782\u76f4\u4e8e\u5165\u5c04\u5149\u7ebf\uff0c\u8fd9\u4f1a\u4f7f\u5165\u5c04\u5149\u7ebf\u80fd\u91cf\u4ea7\u751f\u4e00\u5b9a\u7684\u8870\u51cf\uff0c\\(\\cos\\theta\\) \u5c31\u53cd\u6620\u4e86\u8fd9\u4e2a\u8870\u51cf\u3002</p>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/games101-4-ray-tracing/#_11","title":"\u5173\u4e8e\u5149\u6e90\u91c7\u6837\u7b97\u6cd5\u7684\u4e2a\u4eba\u7406\u89e3","text":"<p>\u5bf9\u5149\u6e90\u91c7\u6837\u7684\u65f6\u5019\uff0c\u505a\u4e86\u4e00\u4e2a\u79ef\u5206\u6362\u5143\uff0c\u8fd9\u91cc\u8981\u6ce8\u610f\uff0c\u6362\u5143\u540c\u65f6\u4e5f\u4f7f\u79ef\u5206\u4e0a\u4e0b\u9650\uff08\u79ef\u5206\u8303\u56f4\uff09\u4ea7\u751f\u4e86\u53d8\u5316\uff0c\u5728\u6ca1\u6709\u5bf9\u76f4\u63a5\u5149\u7167\u548c\u95f4\u63a5\u5149\u7167\u505a\u62c6\u5206\u65f6\uff0c\u79ef\u5206\u53d8\u91cf\u662f \\(\\omega_i\\)\uff0c\u79ef\u5206\u8303\u56f4\u662f\u534a\u7403\u9762\uff0c\u79ef\u5206\u505a\u62c6\u5206\u540e\uff0c\u5bf9\u76f4\u63a5\u5149\u7167\u7684\u79ef\u5206\u6539\u4e3a\u4e86\u5bf9\u5149\u6e90\u8868\u9762 \\(dA\\) \u505a\u79ef\u5206\uff0c\u79ef\u5206\u8303\u56f4\u662f\u6574\u4e2a\u5149\u6e90\u8868\u9762\uff0c\u8fd9\u76f8\u5f53\u4e8e\u662f\u628a\u539f\u79ef\u5206\u53d8\u91cf \\(\\omega_i\\) \u7684\u8303\u56f4\u9650\u5236\u5230\u4e86\u5149\u6e90\u8868\u9762\u548c\u5149\u7ebf\u63a5\u6536\u70b9\u7684\u5939\u89d2\u8303\u56f4\uff0c\u4e0d\u518d\u662f\u4e2a\u534a\u7403\u9762\uff0c\u5f53\u7136\u8fd9\u4e0d\u662f\u4ec0\u4e48\u95ee\u9898\uff0c\u8fd9\u6b63\u662f\u6211\u4eec\u6240\u671f\u671b\u7684\u3002</p>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/games101-4-ray-tracing/#_12","title":"\u5173\u4e8e\u5bf9\u70b9\u5149\u6e90\u548c\u9762\u5149\u6e90\u7684\u4e2a\u4eba\u7406\u89e3","text":"<p>\u6362\u5143\u65f6\uff0c\u53c8\u5f15\u5165\u4e86\u4e00\u4e2a \\(\\cos\\theta'\\)\uff0c\u8fd9\u662f\u5165\u5c04\u5149\u7ebf\u548c\u5149\u6e90\u8868\u9762\u6cd5\u5411\u91cf\u7684\u5939\u89d2\uff0c\u8fd9\u53c8\u4f53\u73b0\u4e86\u4e00\u6b21\u5149\u7ebf\u80fd\u91cf\u7684\u8870\u51cf\uff0c\u8fd9\u4e2a\u8870\u51cf\u6e90\u4e8e\u5149\u6e90\u662f\u4e00\u4e2a\u5e73\u9762\uff0c\u4e0a\u9762\u6211\u4eec\u8ba8\u8bba\u8f90\u5c04\u5ea6\u91cf\u5b66\u65f6\uff0c\u662f\u628a\u5149\u6e90\u4f5c\u4e3a\u70b9\u5149\u6e90\u6765\u770b\u5f85\u7684\uff0c\u4e0d\u5b58\u5728\u8fd9\u4e2a\u95ee\u9898\u3002</p> <p>\u8bfe\u7a0b\u4e2d\u63d0\u5230\uff0c\u4ece\u7b97\u6cd5\u5b9e\u73b0\u7684\u89d2\u5ea6\u4e0a\u6765\u8bb2\uff0c\u5982\u679c\u573a\u666f\u4e2d\u662f\u4e2a\u70b9\u5149\u6e90\uff0c\u6211\u4eec\u5f97\u628a\u5b83\u770b\u4f5c\u662f\u4e00\u4e2a\u6781\u5c0f\u7684\u9762\u5149\u6e90\u6765\u770b\u5f85\uff0c\u8fd9\u5b9e\u9645\u4e0a\u662f\u5bf9\u7b97\u6cd5\u8bbe\u8ba1\u7684\u7b80\u5316\uff0c\u6211\u8ba4\u4e3a\u867d\u7136\u6211\u4eec\u628a\u70b9\u5149\u6e90\u5f53\u4f5c\u4e00\u4e2a\u9762\u5149\u6e90\u6765\u5904\u7406\uff0c\u4f46\u8981\u4fdd\u6301\u70b9\u5149\u6e90\u5411\u56db\u9762\u516b\u65b9\u53d1\u5149\u7684\u7279\u6027\uff0c\u5373\uff0c\\(\\cos\\theta'\\) \u5e94\u6052\u4e3a1\uff0c\u70b9\u5149\u6e90\u5e73\u9762\u7684\u6cd5\u5411\u91cf\u5e94\u8be5\u6c38\u8fdc\u548c\u5149\u7ebf\u65b9\u5411\u76f8\u540c\uff0c\u4e0d\u5e94\u8be5\u6709\u80fd\u91cf\u7684\u8870\u51cf\u3002</p> <p>\u70b9\u5149\u6e90\u548c\u9762\u5149\u6e90\u4f53\u73b0\u7684\u662f\u56fe\u5f62\u5b66\u7b97\u6cd5\u5728\u6570\u5b66\u4e0a\u5bf9\u771f\u5b9e\u7269\u7406\u4e16\u754c\u5149\u6e90\u505a\u51fa\u4e86\u4e0d\u540c\u7684\u62bd\u8c61\uff0c\u6211\u4eec\u5e94\u8be5\u6ce8\u610f\u5230\uff0c\u4e0a\u9762\u7684\u56fe\u5f62\u5b66\u7b97\u6cd5\u662f\u628a\u9762\u5149\u6e90\u62bd\u8c61\u4e3a\u4e00\u4e2a\u5149\u7ebf\u5177\u6709\u65b9\u5411\u7684\u5e73\u9762\uff0c\u5e76\u4e14\u53ea\u6709\u6b63\u9762\u80fd\u53d1\u5149\uff0c\u5411\u4e24\u4fa7\u53d1\u5149\u65f6\uff0c\u5149\u7ebf\u80fd\u91cf\u4f1a\u6709\u8870\u51cf\uff0c\u57fa\u4e8e\u8fd9\u4e2a\u524d\u63d0\uff0c\u4e0a\u9762\u7684\u79ef\u5206\u516c\u5f0f\u624d\u80fd\u6210\u7acb\u3002</p> <p>\u56e0\u6b64\uff0c\u6839\u636e\u6211\u7684\u7406\u89e3\uff0c\u5982\u679c\u573a\u666f\u4e2d\u662f\u4e00\u4e2a\u70b9\u5149\u6e90\uff0c\u6211\u4eec\u5e94\u8be5\u8ba4\u4e3a\u5b83\u7684\u6cd5\u7ebf\u65b9\u5411\u548c\u5149\u7ebf\u65b9\u5411\u6c38\u8fdc\u4e00\u81f4\uff0c\u8fd9\u624d\u7b26\u5408\u70b9\u5149\u6e90\u7684\u53d1\u5149\u7279\u6027\u3002</p> <p>\uff08\u4ee5\u4e0a\u7406\u89e3\u6ca1\u6709\u7ecf\u8fc7\u5b9e\u9a8c\u9a8c\u8bc1\uff0c\u4ec5\u4ec5\u662f\u8bbe\u60f3\u3002\uff09</p>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/games101-5-materials/","title":"games101 \u4e94\u3001\u6750\u8d28","text":"","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/games101-5-materials/#diffuse-lambertian-material","title":"Diffuse / Lambertian Material","text":"<p>\u5bf9\u4e8e\u6f2b\u53cd\u5c04\u6750\u8d28\uff0c\u6211\u4eec\u8ba4\u4e3a\u4e00\u675f\u5165\u5c04\u5149\u7ebf\u4f1a\u5411\u56db\u9762\u516b\u65b9\u53cd\u5c04\uff0c\u6839\u636e\u524d\u9762\u6240\u5b66\u5185\u5bb9\uff0c\u5176\u4e2d\u67d0\u4e00\u675f\u53cd\u5c04\u5149\u548c\u5165\u5c04\u5149\u80fd\u91cf\u5b58\u5728\u4e00\u4e2a\u6bd4\u4f8b \\(f_r\\)\uff0c\u5728\u5149\u7ebf\u8ffd\u8e2a\u4e2d\uff0c\u6211\u4eec\u5c06\u5176\u79f0\u4e3a brdf\u3002</p> <p></p> <p>\u5149\u7ebf\u8ffd\u8e2a\u7684\u6e32\u67d3\u65b9\u7a0b\u4f53\u73b0\u51fa\u4e00\u79cd\u5165\u5c04\u5149\u548c\u53cd\u5c04\u5149\u7684\u80fd\u91cf\u5173\u7cfb\uff0c\u4e00\u675f\u51fa\u5c04\u5149 \\(L_o(\\omega_o)\\) \u662f\u6240\u6709\u5165\u5c04\u5149 \\(L_i(\\omega_i)\\) \u7ecf\u8fc7\u6750\u8d28\u53cd\u5c04\u540e\u7684\u603b\u548c\uff08\u6ce8\u610f\uff0c\u8fd9\u91cc\u6240\u8bf4\u7684\u51fa\u5c04\u5149\u4e0d\u662f\u67d0\u4e2a\u5165\u5c04\u5149\u7684\u53cd\u5c04\u5206\u91cf\uff0c\u800c\u662f\u6240\u6709\u5165\u5c04\u5149\u7684\u79ef\u5206\u603b\u548c\uff09\uff1a</p> \\[ L_o(\\omega_o)=\\int_{H^2} f_r\\,L_i(\\omega_i)\\,\\cos\\theta_i\\,\\mathrm{d}\\omega_i \\] <p>\u5047\u8bbe\u5165\u5c04\u5149\u548c\u53cd\u5c04\u5149\u90fd\u662f\u5747\u5300\u7684\uff0c\u8fd9\u610f\u5473\u7740 \\(L_i(\\omega_i)\\) \u548c \\(f_r\\) \u90fd\u662f\u5e38\u6570\uff0c\u90a3\u4e48\u4e0a\u5f0f\u53ef\u4ee5\u7b80\u5316\u4e3a\uff1a</p> \\[ L_o(\\omega_o)=f_r\\,L_i\\int_{H^2} \\cos\\theta_i\\,\\mathrm{d}\\omega_i = \\pi\\,f_r\\,L_i \\] <p>\u5f53\u4e00\u675f\u5165\u5c04\u5149\u80fd\u91cf\u548c\u53cd\u5c04\u5149\u80fd\u91cf\u76f8\u7b49\u65f6\uff0c\u610f\u5473\u7740\u5165\u5c04\u5149\u548c\u51fa\u5c04\u5149\u80fd\u91cf\u5b88\u6052\uff0c\u6750\u8d28\u5b8c\u5168\u4e0d\u5438\u6536\u80fd\u91cf\uff0c\u5373\uff0c</p> \\[\\pi\\,f_r = 1 \\implies f_r = \\frac{1}{\\pi}\\] <p>\u6211\u4eec\u53ef\u4ee5\u5b9a\u4e49\u4e00\u4e2a\u53cd\u5c04\u7387 \\(\\rho\\)\uff08albedo\uff09\uff0c\u8303\u56f4\u4e3a 0~1\uff0c\u4f53\u73b0\u6750\u8d28\u53cd\u5c04\u591a\u5c11\u5149\uff0c\\(\\rho=1\\) \u8868\u793a\u5b8c\u5168\u53cd\u5c04\uff0c\\(\\rho=0\\) \u8868\u793a\u5b8c\u5168\u5438\u6536\uff0c\u90a3\u4e48\uff0c\u6700\u7ec8\u7684\u6f2b\u53cd\u5c04 brdf \u5b9a\u4e49\u4e3a\uff1a</p> \\[f_r = \\frac{\\rho}{\\pi}\\] <p>\u5982\u679c \\(\\rho\\) \u662f\u4e00\u4e2a\u4e09\u901a\u9053\u7684\u989c\u8272\u503c\uff08\u4e09\u4e2a 0~1 \u8303\u56f4\u5185\u7684\u503c\uff09\uff0c\u5219\u53ef\u4ee5\u5b9a\u4e49\u4e0d\u540c\u989c\u8272\u7684 brdf\uff0c\u8fd9\u5c31\u662f\u6f2b\u53cd\u5c04\u6750\u8d28\u7684\u5b9a\u4e49\u3002</p>","tags":["\u56fe\u5f62"]},{"location":"graphics/games101/games101-5-materials/#glossy-material","title":"Glossy Material","text":"<p>\u4e0d\u5b8c\u5168\u662f\u955c\u9762\u53cd\u5c04\uff0c\u4e5f\u4e0d\u5b8c\u5168\u662f\u6f2b\u53cd\u5c04\uff0c\u6bd4\u5982\u4e00\u4e2a\u78e8\u7802\u7684\u91d1\u5c5e\u8868\u9762\u3002</p>","tags":["\u56fe\u5f62"]},{"location":"interview/16.interview-bagu-golang/","title":"\u9762\u8bd5\u516b\u80a1-golang","text":"","tags":["\u9762\u8bd5","golang"]},{"location":"interview/16.interview-bagu-golang/#golang","title":"golang","text":"<p>\u90e8\u5206\u5185\u5bb9\u53c2\u8003\u300ago \u7a0b\u5e8f\u5458\u9762\u8bd5\u7b14\u8bd5\u5b9d\u5178\u300b</p>","tags":["\u9762\u8bd5","golang"]},{"location":"interview/16.interview-bagu-golang/#go","title":"go \u6709\u4ec0\u4e48\u7279\u70b9","text":"<p>\u7279\u6027</p> <ul> <li>\u534f\u7a0b</li> <li>\u9759\u6001\u7f16\u8bd1\uff0c\u7f16\u8bd1\u51fa\u7684\u53ef\u6267\u884c\u6587\u4ef6\u4f53\u79ef\u5c0f</li> <li>\u6709 runtime\u3001\u5783\u573e\u56de\u6536\u3001\u53cd\u5c04</li> <li>\u6307\u9488</li> </ul> <p>\u548c\u5176\u4ed6\u8bed\u8a00\u76f8\u6bd4</p> <ul> <li>go \u4f5c\u4e3a\u9759\u6001\u7f16\u8bd1\u8bed\u8a00\uff0c\u548c C/C++\u76f8\u6bd4\uff0cgo \u6709 runtime\uff0c\u6709\u5783\u573e\u56de\u6536\uff0c\u6709\u53cd\u5c04</li> <li>go \u4f5c\u4e3a\u6709 runtime \u7684\u8bed\u8a00\uff0c\u548c java \u76f8\u6bd4\uff0c\u662f go \u9759\u6001\u7f16\u8bd1\u7684</li> <li>go \u652f\u6301\u6307\u9488\u64cd\u4f5c</li> </ul>","tags":["\u9762\u8bd5","golang"]},{"location":"interview/16.interview-bagu-golang/#_1","title":"\u5f15\u7528\u7c7b\u578b","text":"<ul> <li>\u8bf4\u660e\uff0cgo \u4e2d\u5b9e\u9645\u4e0a\u6ca1\u6709\u5f15\u7528\u8fd9\u4e2a\u673a\u5236\uff0cgo \u53ea\u6709\u503c\u4f20\u53c2\uff0c\u6ca1\u6709\u6240\u8c13\u7684\u5f15\u7528\u4f20\u53c2\uff0c\u6211\u4eec\u53ea\u662f\u7528\u201c\u5f15\u7528\u201d\u6765\u5f62\u5bb9\u4e00\u79cd\u73b0\u8c61\uff0c\u5373\u4f20\u53c2\u540e\uff0c\u5bf9\u53c2\u6570\u7684\u4fee\u6539\u4f1a\u5f71\u54cd\u5230\u539f\u53d8\u91cf</li> <li>6 \u79cd\uff0cslice\u3001map\u3001channel\u3001\u6307\u9488\u3001\u51fd\u6570\u3001interface</li> <li>\u5f15\u7528\u7c7b\u578b\u7684\u96f6\u503c\u662f nil</li> <li>\u6570\u7ec4\u548c\u7ed3\u6784\u4f53\u4e0d\u662f\u5f15\u7528\u7c7b\u578b\uff0c\u5b83\u4eec\u7684\u96f6\u503c\u662f\u5176\u6240\u6709\u5143\u7d20\u548c\u6210\u5458\u7684\u96f6\u503c</li> </ul>","tags":["\u9762\u8bd5","golang"]},{"location":"interview/16.interview-bagu-golang/#slice","title":"\u5207\u7247\uff08slice\uff09","text":"<ul> <li>\u5207\u7247\u548c\u6570\u7ec4</li> <li>\u5207\u7247\u662f\u5bf9\u6570\u7ec4\u7684\u5f15\u7528\uff0c\u5207\u7247\u7684\u5e95\u5c42\u6570\u636e\u7ed3\u6784\u662f\u6570\u7ec4\u3002<ul> <li>\u5207\u7247\u7684\u957f\u5ea6\u662f\u5207\u7247\u5f15\u7528\u90e8\u5206\u7684\u957f\u5ea6\uff0c\u5207\u7247\u7684\u5bb9\u91cf\u662f\u4ece\u5f15\u7528\u8d77\u70b9\u5230\u5e95\u5c42\u6570\u7ec4\u672b\u5c3e\u7684\u957f\u5ea6</li> </ul> </li> <li>\u5207\u7247\u80fd\u6269\u5bb9\uff0c\u6570\u7ec4\u4e0d\u80fd</li> <li>\u5207\u7247\u5982\u4f55\u6269\u5bb9<ul> <li>\u8ffd\u52a0\u5143\u7d20\u65f6\u53d1\u73b0\u6570\u7ec4\u5df2\u6ee1\u4f1a\u5f15\u8d77\u6269\u5bb9</li> <li>\u6269\u5bb9\u662f\u7ed9\u5207\u7247\u91cd\u65b0\u5206\u914d\u4e00\u4e2a\u66f4\u5927\u7684\u6570\u636e\uff0c\u5e76\u5c06\u6570\u636e\u8fc1\u79fb\u8fc7\u53bb</li> <li>\u6269\u5bb9\u540e\u4f1a\u9884\u7559\u4e00\u5b9a\u7684 buffer\uff0c\u4ee5\u514d\u6bcf\u6b21\u8ffd\u52a0\u5143\u7d20\u90fd\u6269\u5bb9</li> <li>\u6269\u5bb9\u7b56\u7565\uff1a <p>\u5f53\u539f slice \u5bb9\u91cf\u5c0f\u4e8e 1024 \u7684\u65f6\u5019\uff0c\u65b0 slice \u5bb9\u91cf\u53d8\u6210\u539f\u6765\u7684 2 \u500d\uff1b\u539f slice \u5bb9\u91cf\u8d85\u8fc7 1024\uff0c\u65b0 slice \u5bb9\u91cf\u53d8\u6210\u539f\u6765\u7684 1.25 \u500d\u4ee5\u4e0a\uff08\u6709\u4e00\u4e2a\u8ba1\u7b97\u516c\u5f0f\uff09\u3002</p> </li> </ul> </li> <li>\u5207\u7247\u5b9e\u9645\u4e0a\u4e0a\u662f\u4e00\u4e2a\u7ed3\u6784\u4f53\uff0c\u56e0\u6b64\uff0c\u628a\u5207\u7247\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u7684\u65f6\u5019\uff0c\u5982\u679c\u4fee\u6539\u5b83\u7684\u5e95\u5c42\u6570\u7ec4\uff0c\u4f1a\u5f71\u54cd\u539f\u5207\u7247\uff0c\u4f46\u662f\u5982\u679c\u5207\u7247\u53d1\u751f\u4e86\u6269\u5bb9\uff0c\u662f\u76f4\u63a5\u628a\u5e95\u5c42\u6570\u7ec4\u7ed9\u6362\u4e86\uff0c\u662f\u4e0d\u4f1a\u5f71\u54cd\u5230\u539f\u5207\u7247\u7684</li> <li>\u5207\u7247\u4e0d\u80fd\u6bd4\u8f83</li> </ul>","tags":["\u9762\u8bd5","golang"]},{"location":"interview/16.interview-bagu-golang/#map","title":"map","text":"<ul> <li>map \u5e95\u5c42\u662f\u4e00\u4e2a hash \u8868\uff0c\u94fe\u5f0f hash\uff0c\u6bcf\u4e2a hash \u4f4d\u7f6e\u6307\u5411\u4e00\u4e2a\u94fe\u8868\uff0c\u6bcf\u4e2a\u94fe\u8868\u8282\u70b9\u957f\u5ea6\u4e3a 8\uff08\u80fd\u653e 8 \u4e2a key-value \u5bf9\uff09</li> <li>map \u5b9e\u9645\u4e0a\u662f\u4e00\u4e2a\u6307\u5411\u5e95\u5c42\u54c8\u5e0c\u8868\u7684\u6307\u9488\uff0c\u56e0\u6b64\u628a map \u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u540e\uff0c\u5bf9\u53c2\u6570\u505a\u7684\u4fee\u6539\u90fd\u4f1a\u5f71\u54cd\u539f map</li> <li>map \u904d\u5386\u662f\u65e0\u5e8f\u7684\uff0c\u6bcf\u6b21\u904d\u5386\u7684\u987a\u5e8f\u4e0d\u4e00\u6837\uff08\u56e0\u4e3a\u5bf9 hash \u4f4d\u7f6e\u7684\u904d\u5386\u662f\u968f\u673a\u7684\uff09</li> <li>map \u6269\u5bb9</li> <li>\u6269\u5bb9\u4e0d\u662f\u4e00\u4e2a\u7acb\u5373\u5b8c\u6210\u7684\u64cd\u4f5c\uff0c\u800c\u662f\u4f1a\u6301\u7eed\u4e00\u6bb5\u65f6\u95f4\uff0c\u6bcf\u6b21\u6700\u591a\u642c\u8fd0\u4e24\u4e2a hash \u94fe</li> <li>\u4e24\u79cd\u6269\u5bb9\u573a\u666f<ol> <li>\u6240\u6709\u7684\u8282\u70b9\u90fd\u5feb\u6ee1\u4e86\uff0c\u8fd9\u65f6\u8981\u53cc\u500d\u6269\u5bb9\uff08\u6269\u5bb9\u540e\u7684 hash \u7a7a\u95f4\u662f\u539f\u6765\u7684\u4e24\u500d\uff09\uff0c\u5e76\u4e14\u8981\u91cd\u65b0\u8ba1\u7b97\u5143\u7d20\u7684 hash \u503c\uff08rehash\uff09</li> <li>\u5143\u7d20\u603b\u6570\u5f88\u5c11\uff0c\u8282\u70b9\u6570\u91cf\u8fc7\u591a\uff0cmap \u9000\u5316\u4e3a\u94fe\u8868\uff0c\u8fd9\u65f6\u8981\u7b49\u91cf\u6269\u5bb9\uff0c\u6269\u5bb9\u540e hash \u7a7a\u95f4\u6570\u91cf\u548c\u539f\u6765\u76f8\u7b49\uff0c\u53ea\u662f\u628a\u6570\u636e\u5b58\u50a8\u53d8\u7d27\u51d1\u4e86\u3002</li> </ol> </li> <li>\u4e0d\u8981\u7528 float \u505a key\uff08\u8bed\u6cd5\u4e0a\u662f\u53ef\u4ee5\u7684\uff0c\u56e0\u4e3a float \u53ef\u6bd4\u8f83\uff09\uff0c\u6d6e\u70b9\u6570\u7684\u7cbe\u5ea6\u95ee\u9898\u4f1a\u5bfc\u81f4\u5f88\u591a\u8be1\u5f02\u7684\u60c5\u51b5\u3002</li> <li>map \u4e0d\u662f\u5e76\u53d1\u5b89\u5168\u7684\uff0csync.map \u662f\u5e76\u53d1\u5b89\u5168\u7684</li> <li>\u65e0\u6cd5\u5bf9 map \u7684 key \u6216 value \u8fdb\u884c\u53d6\u5740</li> <li>\u4e0d\u80fd\u76f4\u63a5\u6bd4\u8f83\u4e24\u4e2a map\uff0c\u53ea\u80fd\u901a\u8fc7\u904d\u5386\u6bd4\u8f83</li> </ul>","tags":["\u9762\u8bd5","golang"]},{"location":"interview/16.interview-bagu-golang/#_2","title":"\u63a5\u53e3","text":"<ul> <li>\u63a5\u53e3\u7684\u4f5c\u7528</li> <li>\u7528\u4e8e\u5b9e\u73b0\u7ee7\u627f\u548c\u591a\u6001</li> <li><code>T</code>\u548c<code>*T</code>\u662f\u4e24\u4e2a\u7c7b\u578b\uff0c\u7528<code>T</code>\u5b9e\u73b0\u4e86\u4e00\u4e2a\u63a5\u53e3\uff0c\u5e76\u4e0d\u80fd\u8ba4\u4e3a<code>*T</code>\u4e5f\u5b9e\u73b0\u4e86\u3002</li> <li>\u7ed3\u8bba\uff0c\u5b9e\u73b0\u4e86\u63a5\u6536\u8005\u662f\u503c\u7c7b\u578b\u7684\u65b9\u6cd5\uff0c\u76f8\u5f53\u4e8e\u81ea\u52a8\u5b9e\u73b0\u4e86\u63a5\u6536\u8005\u662f\u6307\u9488\u7c7b\u578b\u7684\u65b9\u6cd5\uff1b\u800c\u5b9e\u73b0\u4e86\u63a5\u6536\u8005\u662f\u6307\u9488\u7c7b\u578b\u7684\u65b9\u6cd5\uff0c\u4e0d\u4f1a\u81ea\u52a8\u751f\u6210\u5bf9\u5e94\u63a5\u6536\u8005\u662f\u503c\u7c7b\u578b\u7684\u65b9\u6cd5</li> <li>\u6362\u53e5\u8bdd\u8bf4\uff0c\u503c\u7c7b\u578b\u5b9e\u73b0\u4e86\u63a5\u53e3 A\uff0c\u76f8\u5f53\u4e8e\u6307\u9488\u7c7b\u578b\u4e5f\u5b9e\u73b0\u4e86\u63a5\u53e3 A\uff1b\u6307\u9488\u7c7b\u578b\u5b9e\u73b0\u4e86\u63a5\u53e3 A\uff0c\u4e0d\u4f1a\u4f7f\u503c\u7c7b\u578b\u4e5f\u5b9e\u73b0\u4e86\u63a5\u53e3 A</li> <li>\u7c7b\u578b\u65ad\u8a00\u7684\u4f5c\u7528</li> <li>\u63d0\u53d6\u52a8\u6001\u503c</li> <li>\u8f6c\u6362\u63a5\u53e3\u7c7b\u578b</li> <li>\u5224\u65ad\u52a8\u6001\u503c\u662f\u5426\u80fd\u8f6c\u6362\u4e3a\u67d0\u4e2a\u7c7b\u578b\uff08\u5229\u7528\u7c7b\u578b\u65ad\u8a00\u8fd4\u56de\u7684 bool\uff09</li> <li>\u653e\u5728switch\u8bed\u53e5\u4e2d\u7b80\u5316\u5224\u65ad\u7ed3\u6784</li> </ul>","tags":["\u9762\u8bd5","golang"]},{"location":"interview/16.interview-bagu-golang/#go-runtime","title":"go runtime","text":"<ul> <li>go runtime \u4f4d\u4e8e\u5e94\u7528\u7a0b\u5e8f\u548c\u64cd\u4f5c\u7cfb\u7edf\u4e4b\u95f4</li> <li>\u8d1f\u8d23\u5e94\u7528\u7a0b\u5e8f\u7684\u5185\u5b58\u5206\u914d\u3001\u5783\u573e\u56de\u6536\u3001\u534f\u7a0b\u8c03\u5ea6\u3001channel \u901a\u4fe1</li> <li>\u8d1f\u8d23\u521b\u5efa os \u7ebf\u7a0b\u3001\u8c03\u7528 system call</li> </ul>","tags":["\u9762\u8bd5","golang"]},{"location":"interview/16.interview-bagu-golang/#go-goroutine","title":"go \u7684\u534f\u7a0b\uff08goroutine\uff09","text":"<ul> <li>\u534f\u7a0b\u662f\u4ec0\u4e48</li> <li>\u548c\u7ebf\u7a0b\u3001\u8fdb\u7a0b\u4e00\u6837\u662f\u4e00\u79cd\u5e76\u53d1\u5355\u4f4d</li> <li>\u548c\u7cfb\u7edf\u7ebf\u7a0b\u76f8\u6bd4</li> <li>\u66f4\u7ec6\u7c92\u5ea6\uff0c\u7ebf\u7a0b\u7684\u6808\u7a7a\u95f4\u662f\u56fa\u5b9a\u7684\uff0c\u800c\u4e14\u6bd4\u8f83\u5927\uff08linux \u4e0b\u4e3a 8MB\uff09\uff0c\u800c goroutine \u521d\u59cb\u6808\u5927\u5c0f\u4e3a 2KB\uff0c\u6309\u9700\u6269\u7f29\u5bb9\uff0c\u65e0\u4e0a\u9650</li> <li>\u4e0a\u4e0b\u6587\u5207\u6362\u5f00\u9500\u5c0f\uff0c\u7ebf\u7a0b\u8fd0\u884c\u5728\u5185\u6838\u6001\uff0c\u800c\u534f\u7a0b\u8fd0\u884c\u5728\u5185\u6838\u6001</li> <li>go \u534f\u7a0b\u6ca1\u6709\u4f9b\u7a0b\u5e8f\u5458\u8bbf\u95ee\u7684\u6807\u8bc6\uff0c\u800c\u7ebf\u7a0b\u90fd\u6709\u7ebf\u7a0b\u53f7\uff0cgo \u4e0d\u9f13\u52b1\u7c7b\u4f3c threadlocal \u8fd9\u6837\u7684\u4e1c\u897f</li> <li>goroutine \u662f\u5982\u4f55\u8c03\u5ea6\u7684</li> <li>goroutine \u7531 go runtime \u7684 scheduler \u8c03\u5ea6</li> <li>goroutine \u8fd0\u884c\u5728\u7cfb\u7edf\u7ebf\u7a0b\u4e0a\uff0c\u662f\u4e00\u79cd m:n \u6a21\u578b</li> <li>\u7ebf\u7a0b\u6570\u901a\u8fc7 GOMAXPROCS \u53d8\u91cf\u8c03\u6574\uff0c\u9ed8\u8ba4\u7684\u7cfb\u7edf\u7ebf\u7a0b\u6570\u662f\u7269\u7406\u673a\u7684 cpu \u6838\u6570</li> </ul>","tags":["\u9762\u8bd5","golang"]},{"location":"interview/16.interview-bagu-golang/#goroutine","title":"goroutine \u8c03\u5ea6","text":"<ul> <li>go \u8c03\u5ea6\u5668\u7684\u6700\u7ec8\u76ee\u7684\u662f\u628a g \u5c3d\u91cf\u5747\u5300\u7684\u5206\u914d\u5230 m \u4e0a\u6267\u884c\uff0c\u517c\u987e\u516c\u5e73\u548c\u6548\u7387</li> <li>gmp \u6a21\u578b\uff0cgo \u4f7f\u7528\u4e09\u79cd\u57fa\u7840\u7684\u7ed3\u6784\u4f53\u5b9e\u73b0 goroutine \u7684\u8c03\u5ea6\u3002</li> <li>g \u4ee3\u8868\u4e00\u4e2a goroutine\uff0c\u5305\u542b\uff1agoroutine \u6808\u3001\u72b6\u6001\u3001\u6307\u4ee4\u5730\u5740\uff08PC \u5bc4\u5b58\u5668\u7684\u503c\uff09</li> <li>m \u4ee3\u8868\u4e00\u4e2a\u5185\u6838\u7ebf\u7a0b\uff0c\u5305\u542b\u6b63\u5728\u8fd0\u884c\u7684 goroutine</li> <li>p \u4ee3\u8868\u4e00\u4e2a\u865a\u62df\u7684 processer\uff0c\u7ef4\u62a4\u4e00\u4e2a runnable \u72b6\u6001\u7684 g \u961f\u5217\uff0cm \u9700\u8981\u83b7\u5f97 p \u624d\u80fd\u8fd0\u884c g</li> <li>\u5b58\u653e g \u7684\u961f\u5217\u6709\u4e24\u7c7b\uff0cGRQ\uff08\u5168\u5c40\u53ef\u8fd0\u884c\u961f\u5217\uff09\u548c LRQ\uff08\u672c\u5730\u53ef\u8fd0\u884c\u961f\u5217\uff09\uff0c\u6bcf\u4e2a p \u90fd\u8981\u5173\u8054\u4e00\u4e2a LRQ\u3002</li> <li>go \u8bbe\u8ba1\u7684\u65e9\u671f\u6ca1\u6709 p \u548c LRQ\uff0c\u53ea\u6709 g\u3001m \u548c GRQ\uff0c\u6bcf\u6b21\u8c03\u5ea6\u6267\u884c\u4e00\u4e2a g \u90fd\u8981\u5bf9 GRQ \u4e0a\u9501\uff0c\u6548\u7387\u4f4e\u4e0b\u3002p \u548c LRQ \u7684\u8bbe\u8ba1\u662f\u4e3a\u4e86\u63d0\u9ad8\u8c03\u5ea6\u7684\u6548\u7387\u3002</li> <li>\u5de5\u4f5c\u7a83\u53d6\uff0c\u5982\u679c\u4e00\u4e2a p \u7684 LRQ \u4e2d\u5df2\u7ecf\u6ca1\u6709 g\uff0cGPQ \u4e2d\u4e5f\u6ca1\u6709 g\uff0cp \u4f1a\u4ece\u522b\u7684 p \u4e2d\u201c\u5077\u201d\u4e00\u4e9b g \u8fc7\u6765\u6267\u884c</li> <li>os \u7684\u7ebf\u7a0b\u8c03\u5ea6\u662f\u62a2\u5360\u5f0f\u8c03\u5ea6\uff0c\u800c goroutine \u7684\u8c03\u5ea6\u662f\u534f\u4f5c\u5f0f\u8c03\u5ea6\uff08\u65e0\u6cd5\u786c\u4ef6\u4e2d\u65ad\uff09\uff0c\u4f46\u8c03\u5ea6\u662f\u7531 runtime \u8d1f\u8d23\u7684\uff0c\u5bf9\u7528\u6237\u6765\u8bf4\uff0c\u4ecd\u53ef\u5c06 goroutine \u7684\u8c03\u5ea6\u89c6\u4e3a\u62a2\u5360\u5f0f\u8c03\u5ea6 <p>\u534f\u4f5c\u5f0f\u8c03\u5ea6\u4f9d\u9760\u88ab\u8c03\u5ea6\u65b9\u4e3b\u52a8\u653e\u5f03\u6267\u884c\uff1b\u62a2\u5360\u5f0f\u8c03\u5ea6\u5219\u4f9d\u9760\u8c03\u5ea6\u5668\u5f3a\u5236\u4e2d\u65ad\u88ab\u8c03\u5ea6\u65b9\u7684\u6267\u884c</p> </li> <li>g \u7684\u4e09\u79cd\u72b6\u6001\uff0c\u548c\u7ebf\u7a0b\u7c7b\u4f3c</li> <li>waiting\uff0c\u7b49\u5f85\u72b6\u6001\uff08\u6709\u65f6\u5019\u88ab\u79f0\u4e3a\u963b\u585e\u72b6\u6001\uff09\uff0c\u7531\u7b49\u5f85\u7f51\u7edc\u6570\u636e\u3001\u786c\u76d8 io\u3001\u7b49\u5f85\u83b7\u53d6\u9501\u3001\u7cfb\u7edf\u8c03\u7528\u3001sleep</li> <li>runnable\uff0c\u53ef\u6267\u884c\u72b6\u6001\uff08\u5c31\u7eea\u72b6\u6001\uff09</li> <li>running\uff0c\u8fd0\u884c\u72b6\u6001</li> <li>m \u53ea\u6709\u4e24\u79cd\u72b6\u6001\uff0c\u81ea\u65cb\u72b6\u6001\uff08\u5de5\u4f5c\u72b6\u6001\uff09\u548c\u975e\u81ea\u65cb\u72b6\u6001\uff08\u4f11\u7720\u72b6\u6001\uff09\uff0cm \u4f1a\u56e0\u4e3a\u627e\u4e0d\u5230\u5de5\u4f5c\u3001gc \u7b49\u539f\u56e0\u8fdb\u5165\u975e\u81ea\u65cb\u72b6\u6001\uff0c\u5176\u4ed6\u65f6\u95f4\u90fd\u5904\u4e8e\u81ea\u65cb\u72b6\u6001\u3002</li> <li>main goroutine \u9000\u51fa\u65f6\u4f1a\u8c03\u7528 exit(0)\u9000\u51fa\u8fdb\u7a0b</li> </ul>","tags":["\u9762\u8bd5","golang"]},{"location":"interview/16.interview-bagu-golang/#channel","title":"channel","text":"<ul> <li>channel \u89e3\u51b3\u4ec0\u4e48\u95ee\u9898</li> <li>channel \u7528\u6765\u5728\u4e24\u4e2a goroutine \u4e4b\u95f4\u4f20\u9012\u6570\u636e\uff0c\u7c7b\u4f3c\u4e00\u4e2aFIFO\u961f\u5217</li> <li>\u89e3\u51b3\u534f\u7a0b\u4e4b\u95f4\u7684\u5e76\u53d1\u540c\u6b65\u95ee\u9898</li> <li>\u539f\u5219\uff0c\u4e0d\u901a\u8fc7\u5171\u4eab\u5185\u5b58\u6765\u901a\u4fe1\uff0c\u800c\u662f\u901a\u8fc7\u901a\u4fe1\u5171\u4eab\u5185\u5b58</li> <li>\u662f\u4e00\u79cd\u6bd4\u9501\u5c42\u6b21\u66f4\u9ad8\u7684\u540c\u6b65\u5de5\u5177</li> <li>\u4ece\u4e00\u4e2a\u5173\u95ed\u4e14\u7f13\u51b2\u533a\u6570\u636e\u8bfb\u5b8c\u7684 channel \u4e2d\u4ecd\u80fd\u53d6\u5230\u6570\u636e\uff0c\u53ea\u4e0d\u8fc7\u662f\u96f6\u503c</li> <li>\u64cd\u4f5c channel \u7684\u60c5\u51b5\u603b\u7ed3   |\u64cd\u4f5c| nil channel |closed channel |not nil, not closed channel|   |---|---|---|---|   |close |panic |panic |\u6b63\u5e38\u5173\u95ed   |\u8bfb &lt;- ch| \u963b\u585e| \u7f13\u51b2\u533a\u5982\u679c\u8fd8\u6709\u6570\u636e\uff0c\u4f1a\u6b63\u5e38\u8bfb\u53d6\u6570\u636e\uff0c\u5426\u5219\u8bfb\u5230\u5bf9\u5e94\u7c7b\u578b\u7684\u96f6\u503c| \u963b\u585e\u6216\u6b63\u5e38\u8bfb\u53d6\u6570\u636e\u3002|\u7f13\u51b2\u578b channel \u4e3a\u7a7a\u6216\u975e\u7f13\u51b2\u578b channel \u6ca1\u6709\u7b49\u5f85\u53d1\u9001\u8005\u65f6\u4f1a\u963b\u585e|   |\u5199 ch &lt;-| \u963b\u585e| panic| \u963b\u585e\u6216\u6b63\u5e38\u5199\u5165\u6570\u636e\u3002\u975e\u7f13\u51b2\u578b channel \u6ca1\u6709\u7b49\u5f85\u63a5\u6536\u8005\u6216\u7f13\u51b2\u578b channel buf \u6ee1\u65f6\u4f1a\u88ab\u963b\u585e</li> <li>\u4f7f\u7528\u65f6\u8981\u6ce8\u610f\u9632\u6b62\u8d44\u6e90\u6cc4\u9732\uff0c\u6bd4\u5982\u6709\u82e5\u5e72 goroutine \u5904\u4e8e\u963b\u585e\u72b6\u6001\uff0c\u800c channel \u7684\u72b6\u6001\u4e00\u76f4\u6ca1\u6709\u5f97\u5230\u6539\u53d8</li> <li>channel \u7684\u5e94\u7528</li> <li>\u89e3\u8026\u751f\u4ea7\u8005\u548c\u6d88\u8d39\u8005</li> <li>\u5e7f\u64ad\u505c\u6b62\u4fe1\u53f7</li> <li>\u5b9a\u65f6</li> <li>\u63a7\u5236\u5e76\u53d1\u6570\uff0c\u628a\u4ee4\u724c\u653e\u5165\u7f13\u51b2\u533a</li> <li>channel\u7684\u5e95\u5c42\u5b9e\u73b0\u662f\u4e00\u4e2a\u5faa\u73af\u94fe\u8868\uff0c\u8bb0\u5f55\u4e86\u4e24\u4e2a\u6307\u9488\uff0c\u8bfb\u6307\u9488\u548c\u5199\u6307\u9488\uff0c\u5229\u7528\u4e00\u4e2amutex\u4fdd\u8bc1\u5e76\u53d1\u5b89\u5168\uff0c\u4fdd\u5b58\u4e24\u4e2a\u534f\u7a0b\u961f\u5217\uff0c\u4e00\u4e2a\u8bb0\u5f55\u63a5\u6536\u534f\u7a0b\u961f\u5217\uff0c\u4e00\u4e2a\u8bb0\u5f55\u53d1\u9001\u534f\u7a0b\u961f\u5217</li> <li>\u5982\u679c\u6709\u534f\u7a0b\u9700\u8981\u8bfb\u5199channel\u65f6\uff0c\u5148\u52a0\u9501\uff0c\u5b8c\u6210\u6570\u636ecopy\uff0c\u7136\u540e\u89e3\u9501</li> <li>\u5982\u679cbuffer\u6ee1\u4e86\uff0c\u6709goroutine\u9700\u8981\u5199\u600e\u4e48\u529e\uff0cchannel\u4f1a\u8c03\u7528\u8c03\u5ea6\u5668\uff0c\u8ba9\u51fagoroutine\uff08G1\uff09\u5728p\u4e0a\u7684\u6267\u884c\u6743\uff0c\u5e76\u4e14\u5c06G1\u7684\u6307\u9488\u548c\u6570\u636e\u6302\u5230\u53d1\u9001\u961f\u5217\u4e0a\u53bb\uff0c\u4e00\u65e6\u6709goroutine\u8bfb\u6570\u636e\uff0cchannel\u5c31\u4f1a\u5c06\u7b49\u5f85\u961f\u5217\u7684G1\u62ff\u51fa\uff0c\u5c06\u5176\u6570\u636ecopy\u5230buffer\u4e2d\uff0c\u5e76\u901a\u77e5\u8c03\u5ea6\u5668\u5524\u9192G1\uff0c\u7136\u540e\u8c03\u5ea6\u5668\u5c31\u628aG1\u653e\u5230runnable\u961f\u5217\u4e2d\u53bb</li> </ul>","tags":["\u9762\u8bd5","golang"]},{"location":"interview/16.interview-bagu-golang/#context","title":"context","text":"<ul> <li>context \u662f\u4ec0\u4e48</li> <li>context \u4e00\u822c\u7ffb\u8bd1\u6210\u4e0a\u4e0b\u6587\uff0c\u7528\u6765\u5728 goroutine \u4e4b\u95f4\u4f20\u9012\u4e0a\u4e0b\u6587\u4fe1\u606f\uff0c\u5305\u62ec\u505c\u6b62\u4fe1\u53f7\u3001\u8d85\u65f6\u65f6\u95f4\u3001\u622a\u6b62\u65f6\u95f4\u3001key-value \u6570\u636e</li> <li>context \u51e0\u4e4e\u662f\u5e76\u53d1\u63a7\u5236\u548c\u8d85\u65f6\u63a7\u5236\u7684\u6807\u51c6\u505a\u6cd5\uff0c\u5f88\u591a\u63a5\u53e3\u90fd\u52a0\u4e0a\u4e86 context \u53c2\u6570</li> <li>context \u662f\u4e00\u4e2a\u63a5\u53e3\uff0c\u6807\u51c6\u5e93\u5b9e\u73b0\u4e86\u4e00\u4e9b\u5177\u4f53\u7684 context \u7c7b\u578b\uff0c\u5305\u62ec emptyCtx\u3001valueCtx\u3001cancelCtx\u3001timerCtx\uff0c\u8fd8\u6709\u4e24\u4e2a\u5168\u5c40\u53d8\u91cf background \u548c todo</li> <li>\u6240\u6709 context \u4f1a\u7ec4\u6210\u4e00\u4e2a\u6811\u72b6\u7ed3\u6784\uff08\u53ea\u4e0d\u8fc7\u6307\u5411\u548c\u6811\u662f\u76f8\u53cd\u7684\uff0c\u5b50 context \u6307\u5411\u7236 context\uff09</li> <li>\u5982\u4f55\u53d6\u6d88 context</li> <li>\u7236 context \u6301\u6709\u4e00\u4e2a channel\uff0c\u53ef\u4ee5\u5bf9\u6240\u6709\u5b50 context \u5e7f\u64ad\u53d6\u6d88\u4fe1\u53f7\uff0c\u4e00\u822c\u4f1a\u8ba9\u6bcf\u4e2a\u534f\u7a0b\u643a\u5e26\u4e00\u4e2a context\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u628a\u534f\u7a0b\u4e5f\u7ec4\u7ec7\u6210\u6811\u72b6\u7ed3\u6784\uff0c\u7236\u534f\u7a0b\u53ef\u4ee5\u5728\u8bf7\u6c42\u8d85\u65f6\u3001\u8bf7\u6c42\u5931\u8d25\u65f6\u53ca\u65f6\u5411\u5b50\u534f\u7a0b\u53d1\u51fa\u7ec8\u6b62\u4fe1\u53f7\uff0c\u5b50\u534f\u7a0b\u901a\u8fc7\u8c03\u7528 Done()\u65b9\u6cd5\u83b7\u53d6 channel\uff0c\u5e76\u76d1\u542c channel \u7684\u53d6\u6d88\u4fe1\u53f7</li> <li>\u5982\u4f55\u67e5\u627e value</li> <li>\u4ece\u81ea\u5df1\u5f00\u59cb\uff0c\u987a\u7740\u7236 context\uff0c\u5c42\u5c42\u5411\u4e0a\u627e</li> </ul>","tags":["\u9762\u8bd5","golang"]},{"location":"interview/16.interview-bagu-golang/#reflect","title":"reflect","text":"<ul> <li>\u4ec0\u4e48\u662f\u53cd\u5c04</li> <li>\u53cd\u5c04\u662f\u4e00\u79cd\u7a0b\u5e8f\u5728\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u89c2\u5bdf\u81ea\u5df1\u3001\u4fee\u6539\u81ea\u5df1\u7684\u4e00\u79cd\u673a\u5236\uff0c\u800c\u4e14\u8fd9\u79cd\u89c2\u5bdf\u548c\u4fee\u6539\u548c\u7f16\u8bd1\u671f\u95f4\u505a\u4e0d\u5230\u7684</li> <li>\u4ec0\u4e48\u65f6\u5019\u7528\u53cd\u5c04</li> <li>\u4e0d\u77e5\u9053\u53c2\u6570\u7c7b\u578b\u7684\u65f6\u5019</li> <li>\u614e\u7528\u53cd\u5c04\u7684\u7406\u7531</li> <li>\u53cd\u5c04\u4f1a\u8ba9\u4ee3\u7801\u53ef\u8bfb\u6027\u964d\u4f4e</li> <li>\u53cd\u5c04\u6027\u80fd\u5dee</li> </ul>","tags":["\u9762\u8bd5","golang"]},{"location":"interview/16.interview-bagu-golang/#_3","title":"\u6307\u9488","text":"<ul> <li>\u666e\u901a\u6307\u9488\uff08*T\uff09\uff0c\u4e0d\u80fd\u53c2\u4e0e\u8fd0\u7b97\uff0c\u4e0d\u540c\u7c7b\u578b\u4e0d\u80fd\u6bd4\u8f83\uff0c\u4e0d\u80fd\u76f8\u4e92\u8f6c\u6362</li> <li>unsafe.Pointer \u76f8\u5f53\u4e8e\u4e00\u4e2a\u901a\u7528\u6307\u9488\uff0c\u80fd\u5728\u4e0d\u540c\u7c7b\u578b\u4e4b\u95f4\u8f6c\u6362\u3002</li> <li>uintptr \u53ef\u4ee5\u5bf9\u6307\u9488\u8fdb\u884c\u7b97\u672f\u8fd0\u7b97\uff0c\u4f46\u662f\u4e0d\u4f1a\u5bf9\u6307\u5411\u7684\u53d8\u91cf\u6709\u5f15\u7528\u8bed\u4e49\uff0c\u6362\u8a00\u4e4b\uff0c\u5373\u4f7f uintptr \u8fd8\u5b58\u5728\uff0c\u5b83\u6307\u5411\u7684\u53d8\u91cf\u8fd8\u662f\u6709\u53ef\u80fd\u88ab gc\uff08\u4ed6\u5c31\u50cf c \u91cc\u9762\u7684\u6307\u9488\uff09</li> </ul>","tags":["\u9762\u8bd5","golang"]},{"location":"interview/16.interview-bagu-golang/#go_1","title":"go \u5806\u548c\u6808","text":"<p>go \u5bf9\u7a0b\u5e8f\u5458\u9690\u85cf\u4e86\u5806\u548c\u6808\u7684\u6982\u5ff5\uff0c\u53d8\u91cf\u5206\u914d\u5728\u6808\u4e0a\u8fd8\u662f\u5806\u4e0a\u4e0d\u53d6\u51b3\u4e8e\u53d8\u91cf\u5b9a\u4e49\u7684\u4f4d\u7f6e\u548c\u65b9\u6cd5\u3002\u7f16\u8bd1\u5668\u4f1a\u5bf9\u7a0b\u5e8f\u8fdb\u884c\u9003\u9038\u5206\u6790\uff0c\u5982\u679c\u4e00\u4e2a\u53d8\u91cf\u5728\u51fd\u6570\u4e4b\u5916\u88ab\u5f15\u7528\u4e86\uff0c\u90a3\u8fd9\u4e2a\u53d8\u91cf\u4f1a\u88ab\u521b\u5efa\u5728\u5806\u4e0a\uff0c\u5426\u5219\u5728\u6808\u4e0a</p>","tags":["\u9762\u8bd5","golang"]},{"location":"interview/16.interview-bagu-golang/#gc","title":"\u5783\u573e\u56de\u6536\uff08GC\uff09","text":"<ul> <li>gc\u662f\u56de\u6536\u5806\u5185\u5b58\u7684\uff0c\u800c\u4e0d\u662f\u6808\u5185\u5b58\uff0c\u6808\u5185\u5b58\u5728\u51fd\u6570\u8c03\u7528\u7ed3\u675f\u540e\u5c31\u91ca\u653e\u6389\u4e86\u4e0d\u7528\u4e13\u95e8\u56de\u6536</li> <li>\u5783\u573e\u56de\u6536\u673a\u5236\u6709\u4e24\u79cd\uff0c\u8ffd\u8e2a\u5f0f GC \u548c\u5f15\u7528\u8ba1\u6570\u5f0f GC\uff0cgo \u662f\u8ffd\u8e2a\u5f0f GC\u3002</li> <li>\u5f15\u7528\u8ba1\u6570\u5f0fGC\uff0cC++\u7684shared_ptr\u5c31\u662f\u4e00\u4e2a\u5178\u578b\u7684\u5f15\u7528\u8ba1\u6570\u5f0f\u8d44\u6e90\u56de\u6536<ul> <li>\u597d\u5904\u662f\u4e0d\u9700\u8981\u989d\u5916\u7684gc\u4efb\u52a1\uff0c\u5e76\u4e14\u7a0b\u5e8f\u4e0d\u7528\u6682\u505c</li> <li>\u574f\u5904\u662f\u4f1a\u51fa\u73b0\u5faa\u73af\u5f15\u7528\uff0c\u800c\u4e14\u5bf9\u8c61\u589e\u52a0\u548c\u51cf\u5c11\u5f15\u7528\u65f6\u4f1a\u589e\u52a0\u5927\u91cf\u8ba1\u7b97</li> </ul> </li> <li>\u8ffd\u8e2a\u5f0fGC\uff0c\u662f\u5224\u65ad\u4e00\u4e2a\u5bf9\u8c61\u662f\u5426\u53ef\u8fbe\uff0c\u5982\u4f55\u5224\u65ad\u4e00\u4e2a\u5bf9\u8c61\u662f\u5426\u53ef\u8fbe\uff0c\u7b2c\u4e00\u6b65\uff0c\u627e\u51fa\u6240\u6709\u5168\u5c40\u53d8\u91cf\u548c\u51fd\u6570\u6808\u4e2d\u7684\u53d8\u91cf\uff0c\u6807\u8bb0\u4e3a\u53ef\u8fbe\uff0c\u7136\u540e\u901a\u8fc7\u56de\u6eaf\u7684\u65b9\u5f0f\u628a\u6240\u6709\u53ef\u8fbe\u7684\u5bf9\u8c61\u6807\u8bb0\u51fa\u6765\uff0c\u90a3\u5269\u4e0b\u7684\u5c31\u662f\u4e0d\u53ef\u8fbe\u7684</li> <li>go \u7684 GC \u7b97\u6cd5\u662f\u4e09\u8272\u6807\u8bb0\u6cd5</li> <li>\u4e09\u8272\u6807\u8bb0\u6cd5\u662f\u4e00\u79cd\u8ffd\u8e2a\u5f0fgc\uff0c\u5b83\u4e3b\u8981\u662f\u4e3a\u4e86\u89e3\u51b3gc\u4f1a\u8ba9\u6574\u4e2a\u7a0b\u5e8f\u505c\u6b62\u7684\u95ee\u9898\u3002\u5176\u539f\u5219\u662f\u5b83\u628a\u5806\u4e2d\u7684\u5bf9\u8c61\u6839\u636e\u5b83\u4eec\u7684\u989c\u8272\u5206\u5230\u4e0d\u540c\u96c6\u5408\u91cc\u9762\u3002<ul> <li>\u9ed1\u767d\u7070\u4e09\u8272\u5bf9\u8c61\uff0c\u521d\u59cb\u5168\u90e8\u90fd\u4e3a\u767d\u8272\u5bf9\u8c61\uff08\u8868\u793a\u672a\u68c0\u67e5\u8fc7\uff0c\u662f\u6f5c\u5728\u5783\u573e\uff09</li> <li>\u6bcf\u68c0\u67e5\u5230\u4e00\u4e2a\u767d\u8272\u5bf9\u8c61\uff0c\u5c06\u5176\u53d8\u4e3a\u7070\u8272\uff0c\u8868\u793a\u5df2\u7ecf\u68c0\u67e5\u4e86\u8fd9\u4e2a\u5bf9\u8c61\uff0c\u4f46\u662f\u6ca1\u6709\u68c0\u67e5\u5b83\u7684\u5b50\u5bf9\u8c61</li> <li>\u5982\u679c\u4e00\u4e2a\u5bf9\u8c61\u7684\u6240\u6709\u76f4\u63a5\u5b50\u5bf9\u8c61\u90fd\u88ab\u68c0\u67e5\u5230\u4e86\uff0c\u5c31\u628a\u5b83\u53d8\u6210\u9ed1\u8272</li> <li>\u76f4\u5230\u6240\u6709\u7684\u7070\u8272\u5bf9\u8c61\u88ab\u6e05\u7a7a\uff0c\u8fd9\u65f6\u5269\u4e0b\u7684\u767d\u8272\u5bf9\u8c61\u5c31\u53ef\u4ee5\u88ab\u56de\u6536\u4e86</li> </ul> </li> <li>\u4e09\u8272\u6807\u8bb0\u7684\u7279\u70b9\u662f\u53ef\u4ee5\u5e76\u53d1\u6267\u884c\uff0c\u4f9d\u9760\u7684\u662fgo\u7684\u5199\u5c4f\u969c\u8ba1\u6570\uff0c\u8fd9\u50cf\u662f\u4e00\u4e2a\u94a9\u5b50\u65b9\u6cd5\uff0c\u80fd\u591f\u5728\u521b\u5efa\u5bf9\u8c61\u7684\u540c\u65f6\u5c06\u5176\u6807\u8bb0\u4e3a\u7070\u8272\uff08\u4fdd\u8bc1\u4e0d\u4f1a\u8ba9\u4e00\u4e2a\u9ed1\u8272\u5bf9\u8c61\u76f4\u63a5\u6307\u5411\u4e00\u4e2a\u767d\u8272\u5bf9\u8c61\uff09</li> <li>\u5185\u5b58\u6cc4\u6f0f\u6709\u4e24\u79cd</li> <li>\u5bf9\u4e0d\u518d\u4f7f\u7528\u7684\u5185\u5b58\u4e00\u76f4\u6709\u5f15\u7528</li> <li>goroutine \u6cc4\u9732\uff08goroutine \u4e00\u76f4\u963b\u585e\u5728\u4e00\u4e2a channel \u4e0a\uff09</li> </ul>","tags":["\u9762\u8bd5","golang"]},{"location":"interview/16.interview-bagu-golang/#go_2","title":"go \u5de5\u5177","text":"<ul> <li>GOROOT \u548c GOPATH \u7684\u533a\u522b</li> <li>GOROOT \u662f go \u5b89\u88c5\u7684\u4f4d\u7f6e</li> <li>GOPATH \u7684\u4f5c\u7528\u662f\u63d0\u4f9b\u4e00\u4e2a\u53ef\u4ee5\u5bfb\u627e go \u6e90\u7801\u7684\u8def\u5f84\uff0cGOPATH \u76ee\u5f55\u4e0b\u9700\u8981\u5305\u542b src\u3001pkg\u3001bin \u4e09\u4e2a\u76ee\u5f55\uff0csrc \u5b58\u653e\u6e90\u6587\u4ef6\uff0cpkg \u5b58\u653e\u7f16\u8bd1\u4ea7\u51fa\uff08\u5e93\u6587\u4ef6\uff09\uff0cbin \u5b58\u653e\u53ef\u6267\u884c\u6587\u4ef6</li> </ul>","tags":["\u9762\u8bd5","golang"]},{"location":"interview/16.interview-bagu-golang/#gin","title":"gin\u6846\u67b6","text":"<ul> <li>\u4e3b\u8981\u6982\u5ff5</li> <li>engine\u3001handelr\u3001router\u3001conetxt\u3001bind</li> <li>engine\uff0c\u662f\u4e00\u4e2agin\u6846\u67b6\u7684\u5168\u5c40\u5b9e\u4f8b\uff0cRouterGroup\uff08\u5b9a\u4e49\u4e86\u4e00\u4e2a\u8def\u7531\u7ec4\uff0c\u4fdd\u5b58\u4e86\u8be5\u8def\u7531\u7ec4\u7684\u4e2d\u95f4\u4ef6\u548c\u8bf7\u6c42\u8def\u5f84\uff09\u3001Trees\uff08\u5305\u542b\u6240\u6709\u8def\u7531\u524d\u7f00\u6811\uff0c\u67e5\u627e\u8def\u7531\uff0c\u6839\u636e\u8bf7\u6c42\u65b9\u6cd5\u5bf9\u6811\u5206\u7c7b\u3002\u5e76\u4fdd\u5b58\u4e86\u6bcf\u4e2a\u8def\u7531\u5bf9\u5e94\u7684handler\uff09</li> <li>context   -\u662fhandler\u4f1a\u4f20\u5165\u4e00\u4e2agin context\u6307\u9488\uff0c\u4e00\u822c\u547d\u540d\u4e3ac</li> <li>gin context\u5b9e\u73b0\u4e86go\u7684Context\u63a5\u53e3\u7684\u56db\u4e2a\u51fd\u6570\uff0cDone\u3001Value\u3001Deadline\u3001Err\uff0c\u6240\u4ee5gin context\u4e5f\u662f\u4e00\u4e2acontext</li> <li>gin context\u5b9a\u4e49\u4e86\u4e00\u4e2akey map\uff0c\u8c03\u7528Value\u65f6\u9996\u5148\u53bb\u8fd9\u4e2akey map\u91cc\u9762\u627e\uff0c\u8fd8\u5e26\u4e86\u4e00\u4e2a\u8bfb\u5199\u9501\u7528\u6765\u4fdd\u62a4\u8fd9\u4e2akey map\uff0c\u53ef\u4ee5\u5e76\u53d1\u8bfb\u5199key map\uff08go\u539f\u751f\u7684valuectx\u4e0d\u80fd\u5e76\u53d1\uff0c\u53ea\u80fd\u88ab\u4e00\u4e2agoroutine\u64cd\u4f5c\uff0c\u9664\u975e\u4f60\u81ea\u5df1\u7ed9\u5b83\u4e0a\u9501\uff09</li> <li>gin context\u5b9a\u4e49\u4e86\u4e00\u4e2acopy\u51fd\u6570\uff0c\u542f\u52a8\u65b0goroutine\u7684\u65f6\u5019\u53ef\u4ee5\u62f7\u8d1d</li> <li>request body\u548c\u4e00\u4e2astruct\u7ed1\u5b9a\u4ee5\u540e\u4f1a\u88ab\u6e05\u7a7a\uff0c\u4e0d\u80fd\u518d\u6b21\u4f7f\u7528</li> <li>\u591a\u6b21\u7ed1\u5b9a\u53ef\u4ee5\u4f7f\u7528ShouldBindBodyWith</li> <li>http server</li> <li>\u4e0d\u8981\u76f4\u63a5\u8c03\u7528r.Run()\uff0c\u800c\u662f\u628ar\u4f5c\u4e3ahandler\u4f20\u5165\u4e00\u4e2ahttp.Server\u53d8\u91cf\uff0c\u8c03\u7528http.Server\u7684ListenAndServe()\u542f\u52a8\u670d\u52a1</li> <li>\u5982\u679c\u60f3\u81ea\u5b9a\u4e49\u7aef\u53e3\u3001\u8d85\u65f6\u7b49\u914d\u7f6e\uff0c\u7ed9http.Server\u7684\u5bf9\u5e94\u6210\u5458\u8d4b\u503c\u5373\u53ef</li> <li>\u5229\u7528goroutine\u3001\u4fe1\u53f7\u3001\u548chttp.Server\u7684Shutdown()\u51fd\u6570\u5b9e\u73b0\u4f18\u96c5\u9000\u51fa</li> <li>gin handler\uff08gin \u4e2d\u95f4\u4ef6\uff09</li> <li>\u4e00\u4e2agin handler\u5c31\u662f\u4e00\u4e2a\u5904\u7406\u51fd\u6570\uff0cgin\u5728\u8bf7\u6c42\u5904\u7406\u7684\u67d0\u4e2a\u9636\u6bb5\u8c03\u7528\u8fd9\u4e9bhandler\uff0chandler\u76f8\u5f53\u4e8e\u662f\u8bf7\u6c42\u5904\u7406\u7684\u94a9\u5b50\u51fd\u6570</li> <li>handler\u8d1f\u8d23\u6253\u65e5\u5fd7\u3001\u9274\u6743\u3001\u5f02\u5e38\u6062\u590d\u7b49\u5de5\u4f5c</li> <li>\uff08\u8bf7\u6c42\u5904\u7406\u51fd\u6570\u672c\u8eab\u5176\u5b9e\u4e5f\u662f\u4e2ahandler\uff09</li> <li>handler\u5206\u5c40\u90e8\u548c\u5168\u5c40\u7684\uff0c\u5c40\u90e8handler\u5bf9\u4e00\u4e2a\u8def\u7531\u751f\u6548\uff0c\u5168\u5c40handler\u5bf9\u6240\u6709\u8def\u7531\u751f\u6548</li> <li>handler\u53ef\u4ee5\u5728\u8bf7\u6c42\u5904\u7406\u51fd\u6570\u4e4b\u524d\u6267\u884c\uff0c\u4e5f\u53ef\u4ee5\u5728\u8bf7\u6c42\u5904\u7406\u51fd\u6570\u4e4b\u540e\u6267\u884c</li> <li>\u5728handler\u4e2d\u8c03\u7528next\u65b9\u6cd5\u7684\u4f5c\u7528\u662f\uff0c\u8c03\u7528next\u4e4b\u524d\u7684\u4ee3\u7801\u5728\u8bf7\u6c42\u5904\u7406\u4e4b\u524d\u6267\u884c\uff08\u524d\u7f6e\uff09\uff0c\u8c03\u7528next\u4e4b\u540e\u7684\u4ee3\u7801\u5728\u8bf7\u6c42\u5904\u7406\u4e4b\u540e\u6267\u884c\uff08\u540e\u7f6e\uff09\u3002\uff08\u8fd9\u4e2a\u4e0d\u96be\u7406\u89e3\uff0cnext\u7684\u4f5c\u7528\u662f\u6267\u884c\u5176\u4ed6handler\uff0c\u5982\u679c\u5176\u4e2d\u4e00\u4e2ahandler\u4e2d\u6ca1\u6709\u8c03\u7528next\uff0c\u90a3\u5b83\u6574\u4e2a\u662f\u524d\u7f6e\u7684\uff0c\u5982\u679c\u5176\u4e2d\u4e00\u4e2ahandler\u4e5f\u8c03\u4e86next\uff0c\u5c31\u7ee7\u7eed\u9012\u5f52\u5904\u7406\u5176\u4ed6handler\uff0c\u6700\u540e\u4e00\u4e2ahandler\u662f\u8bf7\u6c42\u5904\u7406\u51fd\u6570\uff0c\u8bf7\u6c42\u5904\u7406\u51fd\u6570\u6267\u884c\u5b8c\u6bd5\u540e\uff0c\u9012\u5f52\u8c03\u7528\u8fd4\u56de\u65f6\uff0c\u89e6\u53d1\u6240\u6709handler\u7684\u540e\u7f6e\u90e8\u5206\uff09</li> </ul>","tags":["\u9762\u8bd5","golang"]},{"location":"interview/19.interview-bagu-cpp/","title":"\u9762\u8bd5\u516b\u80a1-c++","text":"<ul> <li>threadlocal</li> <li>volatile\uff1a\u5f53\u5bf9\u8c61\u7684\u503c\u53ef\u80fd\u5728\u7a0b\u5e8f\u7684\u63a7\u5236\u4e4b\u5916\u88ab\u6539\u53d8\u65f6\uff0c\u5c06\u5bf9\u8c61\u58f0\u660e\u4e3avolatile\uff0c\u6bd4\u5982\u7a0b\u5e8f\u5185\u5305\u542b\u4e00\u4e2a\u7531\u7cfb\u7edf\u65f6\u949f\u5b9a\u65f6\u66f4\u65b0\u7684\u53d8\u91cf\u65f6\u3002volatile\u672c\u8d28\u4e0a\u662f\u963b\u6b62\u7f16\u8bd1\u5668\u4f18\u5316\uff0c\u8ba9\u7a0b\u5e8f\u6c38\u8fdc\u4ece\u5185\u5b58\u8bfb\u53d6\u8fd9\u4e2a\u5bf9\u8c61\uff0c\u4e0d\u4f1a\u628a\u4ed6\u52a0\u8f7d\u5230\u5bc4\u5b58\u5668\u4e2d\u3002\uff08\u53c2\u8003C++ Primer\u7b2c5\u7248\uff09</li> </ul>","tags":["\u9762\u8bd5","c/c++"]},{"location":"interview/19.interview-bagu-cpp/#static","title":"static\u5173\u952e\u5b57\u7684\u4f5c\u7528","text":"<ul> <li>\u5168\u5c40\u9759\u6001\u53d8\u91cf  </li> <li>\u5c06\u5168\u5c40\u53d8\u91cf\u58f0\u660e\u4e3astatic\u53ef\u4ee5\u4f7f\u5f97\u5168\u5c40\u53d8\u91cf\u53ea\u5728\u5f53\u524d\u6587\u4ef6\u5185\u6709\u6548\uff1b</li> <li>\u5b9e\u9645\u4e0a\uff0c\u5bf9\u4e8e\u5168\u5c40\u53d8\u91cf\uff0cstatic\u4fee\u6539\u4e86\u6807\u8bc6\u7b26\u7684\u94fe\u63a5\u5c5e\u6027\uff0c\u7531\u9ed8\u8ba4\u7684external\u53d8\u4e3ainternal</li> <li>C++11\u7684\u533f\u540d\u547d\u540d\u7a7a\u95f4\u4ee3\u66ff\u4e86\u8fd9\u4e2a\u529f\u80fd\uff1b</li> <li>\u9759\u6001\u5b58\u50a8\u533a</li> <li>\u5982\u679c\u5168\u5c40\u53d8\u91cf\u4e0d\u52a0static\uff0c\u5b83\u4e5f\u662f\u9759\u6001\u7684\uff0c\u53ea\u4e0d\u8fc7\u4f5c\u7528\u57df\u662f\u5168\u5c40\u7684\uff0c\u53ef\u4ee5\u901a\u8fc7extern\u5f15\u5165</li> <li>\u5c40\u90e8\u9759\u6001\u53d8\u91cf</li> <li>\u5728\u5c40\u90e8\u4f5c\u7528\u57df\u4e2d\u58f0\u660e\u7684static\u53d8\u91cf\uff0c\u4f8b\u5982\u51fd\u6570\u4e2d\u7684static\u53d8\u91cf\uff1b</li> <li>\u5c40\u90e8\u9759\u6001\u53d8\u91cf\u4ece\u7b2c\u4e00\u6b21\u6267\u884c\u5b9a\u4e49\u65f6\u751f\u6548\uff1b</li> <li>\u5373\u4f7f\u51fd\u6570\u7ed3\u675f\u6267\u884c\uff0c\u8be5\u53d8\u91cf\u4e5f\u4e0d\u4f1a\u88ab\u9500\u6bc1\uff0c\u53ea\u6709\u7a0b\u5e8f\u7ed3\u675f\u540e\u624d\u9500\u6bc1\u8be5\u53d8\u91cf\uff1b</li> <li>\u9759\u6001\u5b58\u50a8\u533a</li> <li>\u7c7b\u7684\u9759\u6001\u6210\u5458\u53d8\u91cf</li> <li>\u5c5e\u4e8e\u7c7b\uff0c\u4e0d\u5c5e\u4e8e\u67d0\u4e2a\u5bf9\u8c61\uff1b</li> <li>\u4f7f\u7528<code>class::static_member</code>\u7684\u65b9\u5f0f\u8c03\u7528\uff1b</li> <li>\u6a21\u677f\u7684\u9759\u6001\u6210\u5458\u5c5e\u4e8e\u6bcf\u4e2a\u6a21\u677f\u5b9e\u4f8b\uff1b</li> <li>\u6d3e\u751f\u7c7b\u7684\u5bf9\u8c61\u80fd\u8bbf\u95ee\u57fa\u7c7b\u7684\u9759\u6001\u6210\u5458\uff1b</li> <li>\u7c7b\u7684\u9759\u6001\u6210\u5458\u51fd\u6570</li> <li>\u9759\u6001\u6210\u5458\u51fd\u6570\u53ea\u80fd\u64cd\u4f5c\u7c7b\u7684\u9759\u6001\u6210\u5458\u53d8\u91cf\uff1b</li> <li>\u4e0d\u5305\u542bthis\u6307\u9488\uff0c\u56e0\u6b64\u4e5f\u4e0d\u80fd\u58f0\u660e\u4e3aconst\uff1b\uff08\u9759\u6001\u6210\u5458\u51fd\u6570\u4e0d\u5c5e\u4e8e\u4efb\u4f55\u5bf9\u8c61\uff0c\u56e0\u6b64\u4e5f\u4e0d\u5305\u542bthis\u6307\u9488\uff0c\u6ca1\u6709this\u6307\u9488\uff0c\u81ea\u7136\u4e5f\u5c31\u4e0d\u80fd\u6307\u5411const\u5bf9\u8c61\uff09\uff1b</li> <li>\uff08\u9759\u6001\u51fd\u6570\uff09</li> <li>\u5bf9\u4e8e\u88abstatic\u4fee\u9970\u7684\u666e\u901a\u51fd\u6570\uff0c\u5176\u53ea\u80fd\u5728\u5b9a\u4e49\u5b83\u7684\u6e90\u6587\u4ef6\u4e2d\u4f7f\u7528\uff0c\u4e0d\u80fd\u5728\u5176\u4ed6\u6e90\u6587\u4ef6\u4e2d\u88ab\u5f15\u7528\u3002</li> </ul>","tags":["\u9762\u8bd5","c/c++"]},{"location":"interview/19.interview-bagu-cpp/#cc","title":"C++\u548cC\u7684\u533a\u522b","text":"<ul> <li>C++\u662f\u9762\u5411\u5bf9\u8c61\u7684\u8bed\u8a00\uff0c\u800cC\u662f\u9762\u5411\u8fc7\u7a0b\u7684\u7ed3\u6784\u5316\u7f16\u7a0b\u8bed\u8a00</li> <li>C++\u5177\u6709\u5c01\u88c5\u3001\u7ee7\u627f\u548c\u591a\u6001\u4e09\u79cd\u7279\u6027</li> <li>C++\u76f8\u6bd4C\uff0c\u589e\u52a0\u591a\u8bb8\u591a\u7c7b\u578b\u5b89\u5168\u7684\u529f\u80fd\uff0c\u6bd4\u5982\u5f3a\u5236\u7c7b\u578b\u8f6c\u6362</li> <li>C++\u652f\u6301\u6cdb\u578b\u7f16\u7a0b\uff0c\u6bd4\u5982\u6a21\u677f\u7c7b\u3001\u51fd\u6570\u6a21\u677f\u7b49</li> </ul>","tags":["\u9762\u8bd5","c/c++"]},{"location":"interview/19.interview-bagu-cpp/#c","title":"C++\u5185\u5b58\u5e03\u5c40","text":"<ul> <li>\u4ee3\u7801\u533a</li> <li>Data\u533a\uff0c\u5df2\u521d\u59cb\u5316\u7684\u5168\u5c40\u53d8\u91cf\u533a</li> <li>BSS\u533a\uff0c\u672a\u521d\u59cb\u5316\u7684\u5168\u5c40\u53d8\u91cf\u533a\uff0c\u4f1a\u5728\u7a0b\u5e8f\u542f\u52a8\u540e\u81ea\u52a8\u6e05\u96f6\uff0c\u5bf9\u4e8edouble\u7c7b\u578b\u3002</li> <li>\u5806\u533a</li> <li>\u6808\u533a</li> </ul>","tags":["\u9762\u8bd5","c/c++"]},{"location":"interview/19.interview-bagu-cpp/#_1","title":"\u5404\u79cd\u6307\u9488","text":"<ul> <li>\u60ac\u5782\u6307\u9488/\u7a7a\u60ac\u6307\u9488   \u6307\u9488\u6307\u5411\u7684\u5185\u5b58\u5df2\u7ecf\u88ab\u91ca\u653e\u4e86\uff0c\u6307\u9488\u672c\u8eab\u8fd8\u6307\u5411\u88ab\u91ca\u653e\u7684\u5185\u5b58\u3002</li> <li>\u91ce\u6307\u9488   \u672a\u521d\u59cb\u5316\u7684\u6307\u9488\uff08\u6ca1\u6709\u88ab\u521d\u59cb\u5316\u4e3anullptr\uff09\uff0c\u968f\u5373\u6307\u5411\u4e00\u5757\u5185\u5b58\u3002</li> <li>\u7a7a\u6307\u9488   nullptr\u3001NULL\u30010</li> <li>\u5185\u5b58\u6cc4\u6f0f   \u5185\u5b58\u8fd8\u6ca1\u91ca\u653e\uff0c\u6307\u9488\u5f04\u6ca1\u4e86\u3002</li> </ul>","tags":["\u9762\u8bd5","c/c++"]},{"location":"interview/19.interview-bagu-cpp/#inline","title":"inline","text":"<ul> <li>\u65e9\u671f\u7684\u4f5c\u7528\uff1ainline\u53ef\u4ee5\u770b\u4f5c\u662f\u7ed9\u7f16\u8bd1\u5668\u7684\u5efa\u8bae\uff0c\uff081\uff09\u7f16\u8bd1\u5668\u4f1a\u6839\u636e\u51fd\u6570\u7684\u89c4\u6a21\u7b49\u6307\u6807\u51b3\u5b9a\u662f\u5426\u628a\u51fd\u6570\u5728\u8c03\u7528\u5904\u5c55\u5f00\uff0c\u4f8b\u5982\u51fd\u6570\u662f\u5426\u88ab\u8c03\u7528\u5f88\u591a\u6b21\u3001\u51fd\u6570\u5185\u90e8\u662f\u5426\u6709for\u3001switch\u3001while\u7b49\u590d\u6742\u7684\u63a7\u5236\u903b\u8f91\u3001\u51fd\u6570\u662f\u5426\u9012\u5f52\u7b49\u3002\uff082\uff09\u5373\u4f7f\u4e0d\u52a0inline\uff0c\u5728o3\u7f16\u8bd1\u65f6\uff0c\u7f16\u8bd1\u5668\u6709\u65f6\u4e5f\u4f1a\u81ea\u52a8\u5c06\u5c0f\u51fd\u6570\u5185\u8054\uff0c\u56e0\u6b64\uff0c\u4f7f\u7528inline\u65f6\u9996\u5148\u8003\u8651\u7684\u5e76\u4e0d\u5e94\u8be5\u662f\u6548\u7387\uff0c\u800c\u662f\u5176\u4ed6\u4e1c\u897f\u3002</li> <li>\u73b0\u5728\u7684\u4f5c\u7528\uff1a\u80fd\u8ba9\u4e00\u4e2a\u51fd\u6570\u5b9a\u4e49\u5728\u5934\u6587\u4ef6\u91cc</li> </ul>","tags":["\u9762\u8bd5","c/c++"]},{"location":"interview/19.interview-bagu-cpp/#const","title":"const\u7684\u4f5c\u7528","text":"<ul> <li>(\u6700\u57fa\u672c\u5730)\u5c06\u53d8\u91cf\u5b9a\u4e49\u4e3aconst\uff0c\u7528\u4f5c\u5e38\u91cf\u3002</li> <li>\u51fd\u6570\u53c2\u6570\u5b9a\u4e49\u6210const\u5f15\u7528\uff0c\u907f\u514d\u62f7\u8d1d\uff08const\u7528\u6765\u9632\u6b62\u51fd\u6570\u5185\u90e8\u4fee\u6539\u8fd9\u4e2a\u53c2\u6570\uff09\u3002</li> <li>\u7c7b\u7684const\u6210\u5458\u51fd\u6570\uff1a\u8fd9\u6837\u7c7b\u7684const\u5bf9\u8c61\u5c31\u80fd\u8c03\u7528\u8fd9\u4e2a\u6210\u5458\u51fd\u6570\u4e86\uff0c\uff08\u539f\u7406\u662f\u7ed9this\u6307\u9488\u52a0\u4e0a\u4e86\u5e95\u5c42const\uff0c\u5426\u5219\u7684\u8bdd\uff0cconst\u5bf9\u8c61\u7684\u6307\u9488\u4e0d\u80fd\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u7ed9\u9690\u542b\u7684this\u53c2\u6570\uff0c\u56e0\u4e3athis\u9ed8\u8ba4\u662f\u6ca1\u6709\u5e95\u5c42const\u5c5e\u6027\u7684\uff0c\u65e0\u6cd5\u6307\u5411\u4e00\u4e2a\u5e38\u91cf\u5bf9\u8c61\u3002\uff09</li> <li>\u5173\u4e8e<code>const_cast</code>\uff0cconst_cast\u4e0d\u662f\u7528\u6765\u8f6c\u6362\u5e38\u91cf\u7684\uff0c\u800c\u662f\u7528\u6765\u53bb\u6389\u672c\u6765\u4e0d\u662f\u5e38\u91cf\u7684\u53d8\u91cf\u7684\u5e95\u5c42const\u5c5e\u6027\u3002</li> <li>const\u66f4\u591a\u662f\u7ed9\u4eba\u770b\u7684\uff0c\u4e0d\u662f\u7ed9\u7f16\u8bd1\u5668\u770b\u7684\u3002</li> </ul>","tags":["\u9762\u8bd5","c/c++"]},{"location":"interview/19.interview-bagu-cpp/#cmain","title":"C++\u5728\u6267\u884cmain\u51fd\u6570\u4e4b\u524d\u90fd\u505a\u4ec0\u4e48","text":"<ul> <li>\u52a0\u8f7d\u52a8\u6001\u5e93</li> <li>\u521d\u59cb\u5316\u5168\u5c40\u53d8\u91cf\u548cstatic\u53d8\u91cf\uff08\u53ef\u4ee5\u5229\u7528\u8fd9\u4e2a\u521d\u59cb\u5316\u7684\u8fc7\u7a0b\u5728\u6784\u9020\u51fd\u6570\u4e2d\u6267\u884c\u4e00\u4e9b\u4ee3\u7801\uff09</li> </ul>","tags":["\u9762\u8bd5","c/c++"]},{"location":"interview/19.interview-bagu-cpp/#vector","title":"vector","text":"<ul> <li>vector\u5e95\u5c42\u662f\u4ec0\u4e48\u6570\u636e\u7ed3\u6784   \u8fde\u7eed\u7684\u7ebf\u6027\u7a7a\u95f4</li> <li>vector\u7684\u5185\u5b58\u5206\u914d\u7b56\u7565  </li> <li>STL\u5185\u5b58\u5206\u914d\u6ca1\u6709\u4f7f\u7528malloc/free\uff0c\u800c\u662f\u4f7f\u7528\u7684\u662fstd::Allocator\uff08\u5b9e\u9645\u4e0aAllocator\u7c7b\u5c31\u662f\u5bf9malloc\u548cfree\u505a\u4e86\u4e00\u5c42\u5c01\u88c5\uff09\uff0c\u5bf9\u8c61\u521d\u59cb\u5316\u4f7f\u7528'placement new'\u8bed\u6cd5\u3002</li> <li>\u9884\u7559\u7a7a\u95f4\uff0c\u7a7a\u95f4\u6ee1\u4e86\u5c31\u6269\u4e3a\u539f\u6765\u7684\u4e24\u500d\u3002</li> <li>\u6269\u5bb9\u65f6\uff0c\u662f\u5206\u914d\u4e00\u5757\u65b0\u7684\u8fde\u7eed\u5185\u5b58\uff0c\u539f\u6709\u7684\u5143\u7d20\u79fb\u52a8\u6216\u62f7\u8d1d\u5230\u65b0\u7684\u5185\u5b58\u4e2d\uff0c\u9891\u7e41\u6269\u5bb9\u65f6\u4f1a\u5b58\u5728\u6027\u80fd\u635f\u5931\u3002</li> </ul>","tags":["\u9762\u8bd5","c/c++"]},{"location":"interview/19.interview-bagu-cpp/#c11","title":"c++11\u4e2d\u7684\u65b0\u7279\u6027","text":"<p>\u6211\u4eec\u901a\u5e38\u628ac++11\u4e4b\u540e\u7684c++\u79f0\u4e3a\u73b0\u4ee3c++\uff0c\u4ee5\u4e0b\u662f\u4e00\u4e9b\u5e38\u89c1\u65b0\u7279\u6027</p> <ul> <li>\u8bed\u6cd5<ul> <li>\u5217\u8868\u521d\u59cb\u5316<ul> <li>\u53ef\u4ee5\u4f7f\u7528<code>initializer_list&lt;T&gt;</code>\u8ba9\u4e00\u4e2a\u7c7b\u62e5\u6709\u5217\u8868\u521d\u59cb\u5316\u7684\u80fd\u529b</li> </ul> </li> <li>\u8303\u56f4for\u8bed\u53e5</li> <li>using\uff0c\u65b0\u7684\u7c7b\u578b\u522b\u540d\u58f0\u660e\uff0c\u4ee3\u66fftypedef</li> <li>\u5c3e\u7f6e\u8fd4\u56de\u7c7b\u578b\uff0c<code>auto func(int) -&gt; int(*)[10];</code></li> </ul> </li> <li>\u7c7b\u578b\u3001\u5173\u952e\u5b57<ul> <li>long long\u7c7b\u578b</li> <li>nullptr\u5e38\u91cf</li> <li>auto\u7c7b\u578b</li> <li>constexpr<ul> <li>\u662f\u4e00\u79cd\u5728\u7f16\u8bd1\u5668\u6c42\u503c\u7684\u5e38\u91cf\u8868\u8fbe\u5f0f\uff08\u5e38\u91cf\u8868\u8fbe\u5f0f\uff0c\u503c\u4e3a\u5e38\u91cf\u5e76\u4e14\u5728\u7f16\u8bd1\u8fc7\u7a0b\u5c31\u80fd\u5f97\u5230\u8ba1\u7b97\u7ed3\u679c\uff09</li> <li>\u53ef\u4ee5\u5b9a\u4e49constexpr\u53d8\u91cf\uff0cconstexpr\u51fd\u6570\uff0c\u5b57\u9762\u503c\u5e38\u91cf\u7c7b\uff08\u9700\u8981constexpr\u6784\u9020\u51fd\u6570\uff09</li> </ul> </li> <li>decltype<ul> <li>\u4f5c\u7528\u662f\u63a8\u65ad\u4e00\u4e2a\u8868\u8fbe\u5f0f\u7684\u7c7b\u578b\uff0c\u5e76\u53ef\u4ee5\u5c06\u8fd4\u56de\u503c\u4f5c\u4e3a\u7c7b\u578b\u58f0\u660e</li> <li>\u548cauto\u7684\u533a\u522b\u662f\uff0c\u5f53\u4f60\u4e0d\u60f3\u8981\u8868\u8fbe\u5f0f\u7684\u503c\uff0c\u53ea\u60f3\u8981\u8868\u8fbe\u5f0f\u7684\u7c7b\u578b\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528decltype</li> </ul> </li> </ul> </li> <li>\u7c7b\u578b\u8f6c\u6362<ul> <li>static_cast\u3001dynamic_cast\u3001reinterpret_cast</li> </ul> </li> <li>\u9762\u5411\u5bf9\u8c61<ul> <li>=default\u3001=delete</li> <li>explicit\uff0c\u9632\u6b62\u9690\u5f0f\u7c7b\u578b\u8f6c\u6362</li> <li>\u865a\u51fd\u6570\u7684override</li> <li>final\u963b\u6b62\u7ee7\u627f</li> <li>move\u8bed\u4e49\u548c\u53f3\u503c\u5f15\u7528</li> <li>lambda\u8868\u8fbe\u5f0f</li> <li>bind\uff0c\u51fd\u6570\u9002\u914d\u5668</li> </ul> </li> <li>\u5185\u5b58\u7ba1\u7406<ul> <li>\u667a\u80fd\u6307\u9488</li> </ul> </li> <li>stl<ul> <li>unordered_map\u3001unordered_set</li> </ul> </li> </ul>","tags":["\u9762\u8bd5","c/c++"]},{"location":"interview/19.interview-bagu-cpp/#_2","title":"\u91cd\u8981\u7684\u7279\u6027","text":"<ul> <li>\u89c4\u8303\u4e86\u521d\u59cb\u5316</li> <li>\u76f4\u63a5\u521d\u59cb\u5316\uff08\u7956\u4f20C\u7279\u6027\uff09</li> <li>\u503c\u521d\u59cb\u5316   \u7c7b\u7684\u503c\u521d\u59cb\u5316\u548c\u76f4\u63a5\u521d\u59cb\u5316\u662f\u4e00\u6837\u7684\uff1b\u4f46\u662f\u5185\u7f6e\u7c7b\u578b\u7684\u503c\u521d\u59cb\u5316\u548c\u76f4\u63a5\u521d\u59cb\u5316\u662f\u4e0d\u540c\u7684\uff0c\u5185\u7f6e\u7c7b\u578b\u503c\u521d\u59cb\u5316\u4e00\u5b9a\u6709\u4e00\u4e2a\u503c\uff0c\u4f46\u662f\u5185\u7f6e\u7c7b\u578b\u7684\u76f4\u63a5\u521d\u59cb\u5316\u8fd8\u662f\u8001\u4e00\u5957\uff0c\u5168\u5c40\u7684\u4e00\u5b9a\u6709\u503c\uff0c\u975e\u5168\u5c40\u7684\u5fc5\u987b\u5f97\u6307\u5b9a\u4e00\u4e2a\u503c\u624d\u4f1a\u76f4\u63a5\u521d\u59cb\u5316\u3002</li> <li>\u5217\u8868\u521d\u59cb\u5316   \u6d89\u53ca\u5230\u6807\u51c6\u5e93 <code>initializer_list</code>\u7c7b\u578b</li> <li>\u7c7b\u5185\u521d\u59cb\u5316</li> <li>\u89c4\u8303\u4e86\u7c7b\u578b\u8f6c\u6362\uff08\u8fd9\u4e2a\u8c8c\u4f3c\u4e0d\u662fC++11\u7684\u65b0\u7279\u6027\uff1f\uff09</li> <li><code>static_cast</code>\uff1a\u901a\u5e38\u610f\u4e49\u4e0a\u7684\u7c7b\u578b\u8f6c\u6362</li> <li><code>const_cast</code>\uff1a\u6539\u53d8\u5bf9\u8c61\u7684\u5e95\u5c42const\uff08\u4f8b\u5982\u4e00\u4e2aconst\u6307\u9488\u6216const\u5f15\u7528\uff09\uff0c\u4e0d\u662f\u7528\u6765\u5c06\u4e00\u4e2a\u5e38\u91cf\u53d8\u6210\u975e\u5e38\u91cf</li> <li><code>dynamic_cast</code>\uff1a\u5c06\u4e00\u4e2a\u57fa\u7c7b\u7684\u6307\u9488\u8f6c\u6362\u6210\u5176\u6d3e\u751f\u7c7b\u7684\u6307\u9488\uff08\u6d3e\u751f\u7c7b\u4e2d\u5fc5\u987b\u6709\u865a\u51fd\u6570\uff09   \u8fd9\u5c5e\u4e8eC++\u7684\u8fd0\u884c\u65f6\u8fd0\u884c\u65f6\u7c7b\u578b\u8bc6\u522b\u7684\u7279\u6027\uff0c\u4f8b\u5982\u6709\u65f6\u6211\u4eec\u60f3\u901a\u8fc7\u57fa\u7c7b\u7684\u6307\u9488\u53bb\u6267\u884c\u4e00\u4e2a\u6d3e\u751f\u7c7b\u7684\u666e\u901a\u51fd\u6570\uff08\u4e0d\u662f\u865a\u51fd\u6570\uff09\u3002</li> <li><code>reinterpret_cast</code>\uff1a\u5728\u4f4d\u8fd9\u4e00\u7ea7\u522b\u91cd\u65b0\u89e3\u91ca\u5bf9\u8c61\uff08\u5176\u5b9e\u5c31\u662f\u628a\u4e00\u4e2a\u6307\u9488\u8f6c\u6362\u6210\u53e6\u4e00\u4e2a\u6307\u9488\uff0c\u4f46\u662f\u975e\u5e38\u7075\u6d3b\uff0c\u751a\u81f3\u53ef\u4ee5\u628a\u4e00\u4e2a\u6574\u578b\u503c\u7684\u5730\u5740\u62ff\u51fa\u6765\u8f6c\u6362\u6210\u4e00\u4e2a\u51fd\u6570\u6307\u9488\uff09\u3002</li> <li>\u53f3\u503c\u5f15\u7528\u3001\u79fb\u52a8\u6784\u9020\u548c\u79fb\u52a8\u8d4b\u503c\u8fd0\u7b97\u7b26</li> <li>\u6807\u51c6\u5e93<code>move</code>\u51fd\u6570\uff1a\u5f3a\u884c\u83b7\u5f97\u4e00\u4e2a\u975e\u53f3\u503c\u5bf9\u8c61\u7684\u53f3\u503c\u5f15\u7528\u3002</li> <li>\u89c4\u8303\u4e86\u5bf9\u7c7b\u7684\u9ed8\u8ba4\u884c\u4e3a\u7684\u63a7\u5236</li> <li><code>=default</code></li> <li><code>=delete</code></li> <li>\u667a\u80fd\u6307\u9488\uff1a<code>shared_ptr</code>\uff0c<code>unique_ptr</code>\uff0c<code>weak_ptr</code></li> <li>\u53ef\u8c03\u7528\u5bf9\u8c61\uff1a</li> <li>\u51fd\u6570\u6307\u9488\uff1b</li> <li>Lambda\u8868\u8fbe\u5f0f\uff1b</li> <li>\u51fd\u6570\u5bf9\u8c61\uff08\u5b9e\u73b0\u4e86\u51fd\u6570\u8c03\u7528\u8fd0\u7b97\u7b26\u7684\u5bf9\u8c61\uff09</li> <li>\u6807\u51c6\u5e93\uff1a<ul> <li>\u51fd\u6570\u9002\u914d\u5668<code>bind</code>\uff1a\u628a\u4e00\u4e2a\u53ef\u8c03\u7528\u5bf9\u8c61\u8f6c\u6362\u4e3a\u53e6\u4e00\u4e2a\u53ef\u8c03\u7528\u5bf9\u8c61</li> <li><code>function</code>\u7c7b\u578b\uff1a\u7ed9\u4e00\u4e2a\u51fd\u6570\u8c03\u7528\u5f62\u5f0f\u53c2\u6570\uff0c\u63a5\u53d7\u76f8\u540c\u8c03\u7528\u5f62\u5f0f\u7684\u53ef\u8c03\u7528\u5bf9\u8c61\u3002</li> <li>\u6807\u51c6\u5e93\u81ea\u5b9a\u4e49\u7684\u4e00\u7cfb\u5217\u53ef\u8c03\u7528\u5bf9\u8c61\uff08\u7b97\u6570\u3001\u5173\u7cfb\u3001\u903b\u8f91\uff09</li> </ul> </li> <li>hash\u5bb9\u5668\uff1a<code>unordered_map</code>\u3001<code>unordered_set</code></li> <li><code>explicit</code>\uff1a\u5f3a\u5236\u663e\u5f0f\u7c7b\u578b\u8f6c\u6362</li> <li>\u7c7b\u7684\u7c7b\u578b\u8f6c\u6362\u8fd0\u7b97\u7b26\uff1a\u4f8b\u5982\u6d41\u5bf9\u8c61\u901a\u5e38\u80fd\u505a\u6761\u4ef6\u8868\u8fbe\u5f0f\uff0c\u5c31\u662f\u56e0\u4e3a\u6d41\u5bf9\u8c61\u88ab\u8f6c\u6362\u6210\u4e86<code>bool</code>\u7c7b\u578b\u3002</li> <li><code>explicit</code>\u6709\u4e2a\u4f8b\u5916\u5c31\u662f\u5982\u679c\u8868\u8fbe\u5f0f\u88ab\u7528\u5728\u6761\u4ef6\u91cc\uff0c\u9690\u5f0f\u7684\u8f6c\u6362\u8fd8\u662f\u4f1a\u6267\u884c\u3002</li> </ul>","tags":["\u9762\u8bd5","c/c++"]},{"location":"interview/19.interview-bagu-cpp/#_3","title":"\u65b0\u8bed\u6cd5","text":"<ul> <li>Lambda\u8868\u8fbe\u5f0f</li> <li>\u5217\u8868\u521d\u59cb\u5316</li> <li>\u8303\u56f4for\u8bed\u53e5</li> <li>auto</li> <li>\u7c7b\u578b<code>using</code>\u58f0\u660e\uff1a\u4ee3\u66ff<code>typedef</code></li> <li><code>explicit</code></li> <li><code>override</code>\u3001<code>final</code></li> <li><code>thread_local</code>\u53d8\u91cf</li> <li>\u51fd\u6570\u7684\u5c3e\u7f6e\u8fd4\u56de\u7c7b\u578b\uff1a<code>auto func(int t) -&gt; int (*)[10];</code></li> <li>\u7c7b\u7684\u59d4\u6258\u6784\u9020\u51fd\u6570\uff1a\u4f7f\u7528\u7c7b\u5185\u5176\u4ed6\u6784\u9020\u51fd\u6570\u5e2e\u52a9\u5b8c\u6210\u81ea\u5df1\u7684\u521d\u59cb\u5316\u8fc7\u7a0b</li> </ul>","tags":["\u9762\u8bd5","c/c++"]},{"location":"interview/19.interview-bagu-cpp/#_4","title":"\u5176\u4ed6\u7279\u6027","text":"<ul> <li><code>tuple</code>\u6a21\u677f\uff1a\u7c7b\u4f3c<code>pair</code>\uff0c\u4f46\u662f<code>tuple</code>\u7684\u6a21\u677f\u53c2\u6570\u662f\u53ef\u53d8\u7684</li> <li>C++11\u65b0\u7684\u6807\u51c6\u5e93\uff1a\u6b63\u5219\u8868\u8fbe\u5f0f\u5e93\u3001\u968f\u673a\u6570\u5e93\u3001\u591a\u7ebf\u7a0b\u5e93<code>std::thrad</code>\u4ee5\u53ca<code>thread_local</code>\u53d8\u91cf\u3002<code>thread_local</code>\u53d8\u91cf\u662f\u7ebf\u7a0b\u5185\u5171\u4eab\u7684\u53d8\u91cf\u3002</li> <li>\u4e24\u79cd\u65b0\u7684\u987a\u5e8f\u5bb9\u5668\uff1a<code>array</code>\u3001<code>forward_list</code></li> <li>\u5bb9\u5668\u7684<code>emplace</code>\u6210\u5458\u51fd\u6570\uff1a\u539f\u5730\u6784\u9020\u4e00\u4e2a\u65b0\u5bf9\u8c61\uff0c\u800c\u4e0d\u662f\u628a\u4e00\u4e2a\u5bf9\u8c61\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u8fdb\u53bb\u3002</li> <li><code>long long</code>\u7c7b\u578b</li> <li><code>nullptr</code>\u5e38\u91cf</li> <li><code>constexpr</code>\u53d8\u91cf\u548c\u51fd\u6570\uff1a\u7f16\u8bd1\u5668\u8ba1\u7b97\u7ed3\u679c</li> <li><code>auto</code>\u7c7b\u578b\uff1a\u7f16\u8bd1\u671f\u63a8\u65ad\u53d8\u91cf\u7c7b\u578b</li> <li><code>decltype</code>\u7c7b\u578b\uff1a\u7f16\u8bd1\u671f\u63a8\u65addecltype\u7684\u53c2\u6570\u7684\u7c7b\u578b\uff0c\u5e76\u5c06<code>decltype</code>\u7528\u4e8e\u53d8\u91cf\u58f0\u660e\u548c\u5b9a\u4e49</li> <li>\u901a\u8fc7<code>cbegin()</code>\u548c<code>cend()</code>\u83b7\u5f97\u5e38\u91cf\u8fed\u4ee3\u5668</li> <li>\u6570\u7ec4\u73b0\u5728\u4e5f\u53ef\u4ee5\u4f7f\u7528<code>begin()</code>\u3001<code>end()</code>\u7cfb\u5217\u51fd\u6570\u83b7\u53d6\u6307\u9488\u4e86</li> <li><code>allocator\u7c7b</code>\u53ef\u4ee5\u7528\u6765\u5206\u914d\u672a\u521d\u59cb\u5316\u7684\u5185\u5b58\uff08\u548c<code>new</code>\u76f8\u5bf9\uff09\uff0c\u8fd8\u53ef\u4ee5\u5728\u672a\u5206\u914d\u7684\u5185\u5b58\u4e0a\u6784\u9020\u548c\u6790\u6784\u5bf9\u8c61\uff0c\u5f88\u7075\u6d3b\uff08\u4f46\u662f\u8fd9\u4e24\u4e2a\u51fd\u6570\u5df2\u7ecf\u88abC++20\u79fb\u9664\u4e86\uff0c\u4e0d\u77e5\u9053\u51fa\u4e8e\u4ec0\u4e48\u539f\u56e0\uff09</li> <li><code>sizeof</code>\u73b0\u5728\u53ef\u4ee5\u5229\u7528\u4f5c\u7528\u57df\u8fd0\u7b97\u7b26\u83b7\u53d6\u7c7b\u6210\u5458\u5927\u5c0f\u4e86</li> <li><code>namespace</code></li> </ul>","tags":["\u9762\u8bd5","c/c++"]},{"location":"interview/19.interview-bagu-cpp/#_5","title":"\u7c7b\u578b\u8f6c\u6362","text":"<ul> <li>static_cast\uff0c\u5e38\u89c4\u7684\u7c7b\u578b\u8f6c\u6362</li> <li>const_cast\uff0c\u6539\u53d8\u5bf9\u8c61\u7684\u5e95\u5c42const</li> <li>dynamic_cast\uff0c\u7528\u4e8e\u7236\u5b50\u7c7b\u6307\u9488\u548c\u5f15\u7528\u4e4b\u95f4\u7684\u8f6c\u6362\uff0c\u5c5e\u4e8e\u4e00\u79cd\u591a\u6001\u7279\u6027</li> <li>reinterpret_cast\uff0c\u4e0d\u4f1a\u6539\u53d8\u53d8\u91cf\u672c\u8eab\u7684\u503c\uff0c\u800c\u662f\u5728\u5b57\u8282\u5c42\u9762\u4e0a\u628a\u53d8\u91cf\u89e3\u91ca\u4e3a\u53e6\u5916\u4e00\u4e2a\u7c7b\u578b</li> </ul>","tags":["\u9762\u8bd5","c/c++"]},{"location":"interview/19.interview-bagu-cpp/#_6","title":"\u5185\u5b58\u7ba1\u7406","text":"<ul> <li>malloc\u3001free</li> <li>new\u3001delete</li> <li>operator new\u3001operator delete</li> <li>placement new</li> </ul>","tags":["\u9762\u8bd5","c/c++"]},{"location":"interview/19.interview-bagu-cpp/#_7","title":"\u667a\u80fd\u6307\u9488","text":"<ul> <li>shared_ptr<ul> <li>make_shared\uff0c\u6784\u9020\u5bf9\u8c61\u5e76\u521b\u5efa\u667a\u80fd\u6307\u9488\uff0c\u6700\u5b89\u5168</li> <li>\u5229\u7528\u666e\u901a\u6307\u9488\u521d\u59cb\u5316shared_ptr\uff0c\u4e0d\u5b89\u5168<ul> <li>\u6df7\u7528\u666e\u901a\u6307\u9488\u548cshared_ptr\u4f1a\u5bfc\u81f4\u666e\u901a\u6307\u9488\u5728\u7528\u6237\u4e0d\u60f3\u91ca\u653e\u7684\u65f6\u5019\u88abshared_ptr\u91ca\u653e</li> <li>\u6df7\u7528\u4e24\u4e2a\u667a\u80fd\u6307\u9488\u4f1a\u5bfc\u81f4\u4e24\u4e2a\u667a\u80fd\u6307\u9488\u5355\u72ec\u8ba1\u7b97\u5f15\u7528\u8ba1\u6570\uff0c\u5f15\u53d1\u95ee\u9898</li> </ul> </li> <li>\u901a\u8fc7\u62f7\u8d1dshared_ptr\u589e\u52a0\u5f15\u7528\u8ba1\u6570</li> <li>reset\uff0c\u5f15\u7528\u8ba1\u6570-1</li> </ul> </li> <li>unique_ptr\uff0c\u4e0d\u652f\u6301\u62f7\u8d1d\u548c\u8d4b\u503c</li> <li>weak_ptr\uff0cshared_ptr\u7684\u5f31\u5f15\u7528\uff0c\u4e0d\u4f1a\u5f71\u54cd\u5f15\u7528\u8ba1\u6570\u3002\u4e0d\u80fd\u76f4\u63a5\u8bbf\u95ee\u6570\u636e\uff0c\u5fc5\u987b\u5148\u4f7f\u7528lock\u65b9\u6cd5\u83b7\u5f97shared_ptr\uff0c\u89e3\u51b3shared_ptr\u76f8\u4e92\u5f15\u7528\u9020\u6210\u7684\u8d44\u6e90\u4e0d\u91ca\u653e\u95ee\u9898\uff08\u5c5e\u4e8e\u4e00\u79cd\u5185\u5b58\u6cc4\u6f0f\uff09</li> <li>RAII</li> </ul>","tags":["\u9762\u8bd5","c/c++"]},{"location":"interview/19.interview-bagu-cpp/#allocator","title":"allocator","text":"<ul> <li>stl\u4e2d\u7528\u6765\u5185\u5b58\u7ba1\u7406\u7684\u7c7b</li> <li>stl\u5bb9\u6613\u4e00\u822c\u90fd\u6709\u4e00\u4e2a\u6a21\u677f\u53c2\u6570Allocator\uff0c\u56e0\u4e3a\u662f\u4e2a\u6a21\u677f\u53c2\u6570\u800c\u4e0d\u662f\u51fd\u6570\u53c2\u6570\uff0c\u6240\u4ee5\u53ef\u4ee5\u7528\u81ea\u5b9a\u4e49\u7684allocator\u4ee3\u66ffstd::Allocator</li> <li>allocator\u8d1f\u8d23\u5185\u5b58\u7684\u5206\u914d\u548c\u91ca\u653e\uff0c\u5bf9\u8c61\u7684\u521b\u5efa\u548c\u9500\u6bc1</li> </ul>","tags":["\u9762\u8bd5","c/c++"]},{"location":"interview/19.interview-bagu-cpp/#_8","title":"\u9762\u5411\u5bf9\u8c61","text":"<ul> <li>\u62f7\u8d1d\u63a7\u5236<ul> <li>\u4f1a\u9ed8\u8ba4\u751f\u6210\u7684\u51fd\u6570\uff1a\u9ed8\u8ba4\u6784\u9020\u3001\u62f7\u8d1d\u6784\u9020\u3001\u62f7\u8d1d\u8d4b\u503c\u3001\u6790\u6784\u51fd\u6570</li> </ul> </li> <li>\u521d\u59cb\u5316\u987a\u5e8f<ul> <li>\u4f18\u5148\u6784\u9020\u57fa\u7c7b\u5bf9\u8c61\uff08\u6309\u6d3e\u751f\u987a\u5e8f\u6784\u9020\uff09</li> <li>\u7136\u540e\u6784\u9020\u6210\u5458\u5bf9\u8c61\uff08\u6309\u58f0\u660e\u987a\u5e8f\u6784\u9020\uff09</li> </ul> </li> <li>\u6210\u5458\u80fd\u4e0d\u80fd\u662f\u5f15\u7528\u7c7b\u578b\uff1f<ul> <li>\u80fd\uff0c\u4f46\u662f<ul> <li>\u6784\u9020\u51fd\u6570\u5f62\u53c2\u5fc5\u987b\u4e5f\u662f\u5f15\u7528\u7c7b\u578b\uff08\u5426\u5219\u6c38\u8fdc\u53ea\u80fd\u83b7\u5f97\u4e00\u4e2a\u5c40\u90e8\u53d8\u91cf\u7684\u5f15\u7528\uff09</li> <li>\u5fc5\u987b\u5728\u6784\u9020\u51fd\u6570\u7684\u521d\u59cb\u5316\u5217\u8868\u91cc\u521d\u59cb\u5316</li> </ul> </li> </ul> </li> <li>\u8bbf\u95ee\u6743\u9650\uff0cpublic\u3001private\u3001protected<ul> <li>protected\u8868\u793a\u6210\u5458\u53ef\u4ee5\u88ab\u6d3e\u751f\u7c7b\u8bbf\u95ee\uff0c\u4f46\u4e0d\u516c\u5171\u53ef\u89c1</li> <li>private\u5bf9\u6d3e\u751f\u7c7b\u4e0d\u53ef\u89c1</li> </ul> </li> <li>\u7ee7\u627f\u6743\u9650<ul> <li>\u63a7\u5236\u6d3e\u751f\u7c7b\u7684\u7528\u6237\uff08\u5305\u62ec\u6d3e\u751f\u7c7b\u7684\u6d3e\u751f\u7c7b\u548c\u7c7b\u5916\u90e8\uff09\u5bf9\u57fa\u7c7b\u7684\u8bbf\u95ee\u6743\u9650\uff0c\u800c\u4e0d\u662f\u63a7\u5236\u6d3e\u751f\u7c7b\u672c\u8eab\u5bf9\u57fa\u7c7b\u7684\u8bbf\u95ee\u6743\u9650</li> <li>public\uff0c\u4fdd\u7559\u539f\u6765\u7684\u6743\u9650</li> <li>private\uff0cpublic\u548cprotected\u53d8\u4e3aprivate</li> <li>protected\uff0cpublic\u53d8\u4e3aprotected</li> </ul> </li> <li>\u865a\u7ee7\u627f/\u865a\u57fa\u7c7b<ul> <li>\u89e3\u51b3\u7531\u591a\u91cd\u7ee7\u627f\u5f15\u8d77\u7684\u591a\u57fa\u7c7b\u5b9e\u4f8b\u95ee\u9898</li> <li>\u5728\u7ee7\u627f\u7c7b\u540d\u524d\u52a0\u4e0avirtual</li> </ul> </li> <li>\u591a\u6001\u6027<ul> <li>\u865a\u51fd\u6570<ul> <li>\u865a\u51fd\u6570\u53c8\u53eb\u52a8\u6001\u591a\u6001</li> <li>\u865a\u6790\u6784\u51fd\u6570\u7684\u5fc5\u8981\u6027<ul> <li>\u4f7f\u7528\u57fa\u7c7b\u6307\u9488\u6307\u5411\u6d3e\u751f\u7c7b\u65f6\uff0c\u5982\u679c\u57fa\u7c7b\u7684\u6790\u6784\u51fd\u6570\u4e0d\u662f\u865a\u51fd\u6570\uff0c\u4f1a\u5bfc\u81f4\u65e0\u6cd5\u8c03\u7528\u6d3e\u751f\u7c7b\u7684\u6790\u6784\u51fd\u6570</li> <li>\u800c\u865a\u6784\u9020\u4f1a\u4ea7\u751f\u4e00\u4e2a\u6096\u8bba\uff0c\u5f53\u5bf9\u8c61\u6ca1\u6709\u5b9e\u4f8b\u5316\u65f6\uff0c\u6ca1\u6709\u865a\u8868\u6307\u9488\uff0c\u662f\u65e0\u6cd5\u8c03\u7528\u865a\u6784\u9020\u51fd\u6570\u7684</li> </ul> </li> <li>\u7c7bA\u7684\u5bf9\u8c61a\u4fdd\u5b58\u4e00\u4e2a\u865a\u51fd\u6570\u6307\u9488\uff0c\u865a\u51fd\u6570\u6307\u9488\u6307\u5411\u7c7bA\u7684\u865a\u51fd\u6570\u8868\uff0c\u865a\u51fd\u6570\u8868\u4fdd\u5b58\u4e86\u865a\u51fd\u6570\u6307\u9488\uff0c\u6307\u5411\u7684\u662f\u5b9e\u9645\u8c03\u7528\u51fd\u6570\u5730\u5740\uff0c\u4e0d\u540c\u7c7b\u7684\u865a\u8868\u4e2d\u53ef\u80fd\u56de\u590d\u7528\u540c\u4e00\u4e2a\u51fd\u6570\uff08\u7c7b\u7684\u7ee7\u627f\u5bfc\u81f4\u7684\uff09</li> <li>\u7eaf\u865a\u51fd\u6570/\u62bd\u8c61\u7c7b<ul> <li>\u62bd\u8c61\u7c7b\u4e0d\u80fd\u5b9e\u4f8b\u5316</li> <li>\u7eaf\u865a\u51fd\u6570\u4e5f\u4e0d\u80fd\u5b9e\u73b0\uff0c<code>virtual int func1() = 0;</code></li> </ul> </li> <li>\u80fd\u5426\u5728\u6784\u9020\u51fd\u6570\u548c\u6790\u6784\u51fd\u6570\u4e2d\u8c03\u7528\u865a\u51fd\u6570\uff1f<ul> <li>\u53ef\u4ee5\uff0c\u4f46\u662f\u6b64\u65f6\u591a\u6001\u7279\u6027\u662f\u5931\u6548\u7684</li> </ul> </li> </ul> </li> <li>\u91cd\u8f7d<ul> <li>\u91cd\u8f7d\u53c8\u53eb\u9759\u6001\u591a\u6001\uff0c\u5bf9\u8c03\u7528\u51fd\u6570\u7684\u63a8\u65ad\u53d1\u751f\u5728\u7f16\u8bd1\u5668</li> <li>\u91cd\u8f7d\u5b9e\u73b0\u539f\u7406\uff0c\u547d\u540d\u503e\u8f67\u6280\u672f\uff0c\u5728\u51fd\u6570\u540d\u4e0a\u5e26\u4e0a\u53c2\u6570\u4fe1\u606f</li> <li>\u666e\u901a\u51fd\u6570\u91cd\u8f7d\u3001\u6210\u5458\u51fd\u6570\u91cd\u8f7d\u3001\u91cd\u5199\u3001\u8fd0\u7b97\u7b26\u91cd\u8f7d\u3001\u51fd\u6570\u5bf9\u8c61\u51e0\u79cd<ul> <li>\u4eff\u51fd\u6570\uff08functor\uff09\u662f\u6307\u51fd\u6570\u5bf9\u8c61</li> </ul> </li> </ul> </li> <li>\u51fd\u6570\u5bf9\u8c61</li> <li>lambda\u8868\u8fbe\u5f0f\uff0c<code>[capture] (param) mutable noexcept/throw() -&gt; return type {};</code></li> <li>bind\u51fd\u6570\u9002\u914d\u5668</li> </ul> </li> <li>\u540d\u5b57\u67e5\u627e<ul> <li>\u4f5c\u7528\u57df</li> <li>\u547d\u540d\u7a7a\u95f4</li> <li>\u53cb\u5143</li> </ul> </li> </ul>","tags":["\u9762\u8bd5","c/c++"]},{"location":"interview/19.interview-bagu-cpp/#_9","title":"\u6cdb\u578b","text":"<ul> <li>\u6a21\u677f\u7684\u5b9e\u4f8b\u5316\u53d1\u751f\u5728\u7f16\u8bd1\u671f</li> <li>\u6a21\u677f\u5b9e\u4f8b\u5316\u662f\u6307\u4ece\u51fd\u6570\u6a21\u677f/\u7c7b\u6a21\u677f\u751f\u6210\u4e00\u4e2a\u771f\u6b63\u7684\u51fd\u6570/\u7c7b\u7684\u8fc7\u7a0b<ul> <li>\u663e\u5f0f\u6a21\u677f\u5b9e\u53c2</li> <li>\u6a21\u677f\u5b9e\u53c2\u63a8\u65ad</li> </ul> </li> </ul>","tags":["\u9762\u8bd5","c/c++"]},{"location":"interview/19.interview-bagu-cpp/#stl","title":"stl","text":"<ul> <li>stl\u4e2d\u5305\u62ec\uff1a\u5bb9\u5668\u3001\u7b97\u6cd5\u3001\u8fed\u4ee3\u5668\u3001\u9002\u914d\u5668\u3001\u5185\u5b58\u5206\u914d\u5668allocator</li> <li>vector</li> <li>unordered_map\u3001unordered_set</li> <li>\u9002\u914d\u5668<ul> <li>\u5bb9\u5668\u9002\u914d\u5668\uff0cstack\uff0cqueue</li> <li>\u8fed\u4ee3\u5668\u9002\u914d\u5668\uff0c\u63d2\u5165\u8fed\u4ee3\u5668\u3001\u79fb\u52a8\u8fed\u4ee3\u5668\u3001\u6d41\u8fed\u4ee3\u5668\u3001\u53cd\u5411\u8fed\u4ee3\u5668</li> <li>\u51fd\u6570\u9002\u914d\u5668\uff0cbind</li> </ul> </li> </ul>","tags":["\u9762\u8bd5","c/c++"]},{"location":"interview/19.interview-bagu-cpp/#vectorarray","title":"vector\u548carray\u7684\u533a\u522b","text":"<p>C++ STL \u4e2d array \u548c vector \u7684\u4e3b\u8981\u533a\u522b\u5982\u4e0b\uff1a</p> <p>\u5b58\u50a8\u65b9\u5f0f\uff1a - std::array \u662f\u5b9a\u957f\u6570\u7ec4\uff0c\u5927\u5c0f\u5728\u7f16\u8bd1\u671f\u786e\u5b9a\uff0c\u5185\u5b58\u5728\u7ebf\u7a0b\u6808\u4e0a\u5206\u914d\u3002 - std::vector \u662f\u52a8\u6001\u6570\u7ec4\uff0c\u5927\u5c0f\u53ef\u53d8\uff0c\u5185\u5b58\u901a\u5e38\u5728\u5806\u4e0a\u5206\u914d\u3002</p> <p>\u5927\u5c0f\u53d8\u5316\uff1a - array \u5927\u5c0f\u56fa\u5b9a\uff0c\u4e0d\u80fd\u589e\u5220\u5143\u7d20\u3002 - vector \u652f\u6301\u52a8\u6001\u589e\u5220\u5143\u7d20\uff08\u5982 push_back\u3001pop_back\uff09\u3002</p> <p>\u6027\u80fd\uff1a - array \u6ca1\u6709\u52a8\u6001\u5206\u914d\uff0c\u8bbf\u95ee\u901f\u5ea6\u5feb\uff0c\u9002\u5408\u5c0f\u578b\u3001\u56fa\u5b9a\u957f\u5ea6\u6570\u636e\u3002 - vector \u9700\u8981\u52a8\u6001\u5206\u914d\u548c\u6269\u5bb9\uff0c\u9002\u5408\u5927\u5c0f\u4e0d\u786e\u5b9a\u7684\u6570\u636e\u3002</p> <p>\u7528\u6cd5\u573a\u666f\uff1a - array \u9002\u5408\u957f\u5ea6\u5df2\u77e5\u4e14\u4e0d\u4f1a\u53d8\u5316\u7684\u573a\u666f\u3002 - vector \u9002\u5408\u957f\u5ea6\u4e0d\u786e\u5b9a\u6216\u9700\u8981\u9891\u7e41\u589e\u5220\u5143\u7d20\u7684\u573a\u666f\u3002</p>","tags":["\u9762\u8bd5","c/c++"]},{"location":"interview/19.interview-bagu-cpp/#vectordeque","title":"vector\u548cdeque\u7684\u533a\u522b","text":"<p>C++ STL \u4e2d deque \u548c vector \u7684\u4e3b\u8981\u533a\u522b\u5982\u4e0b\uff1a</p> <p>\u5e95\u5c42\u7ed3\u6784</p> <ul> <li>vector\uff1a\u5e95\u5c42\u662f\u8fde\u7eed\u7684\u7ebf\u6027\u5185\u5b58\uff08\u52a8\u6001\u6570\u7ec4\uff09\uff0c\u6240\u6709\u5143\u7d20\u5728\u5185\u5b58\u4e2d\u662f\u8fde\u7eed\u5b58\u653e\u7684\u3002</li> <li>deque\uff1a\u5e95\u5c42\u662f\u5206\u6bb5\u7684\u7ebf\u6027\u5185\u5b58\uff08\u901a\u5e38\u662f\u6307\u9488\u6570\u7ec4\uff0c\u6bcf\u4e2a\u6307\u9488\u6307\u5411\u4e00\u5757\u8fde\u7eed\u7684\u5c0f\u5185\u5b58\u5757\uff09\uff0c\u6574\u4f53\u4e0a\u8868\u73b0\u4e3a\u53cc\u7aef\u961f\u5217\uff0c\u5185\u5b58\u4e0d\u4e00\u5b9a\u8fde\u7eed\u3002</li> </ul> <p>\u63d2\u5165/\u5220\u9664\u6548\u7387</p> <ul> <li>vector\uff1a\u652f\u6301\u5c3e\u90e8\u63d2\u5165/\u5220\u9664\uff08push_back/pop_back\uff09\u6548\u7387\u9ad8\uff0c\u5934\u90e8\u6216\u4e2d\u95f4\u63d2\u5165/\u5220\u9664\u6548\u7387\u4f4e\uff08\u9700\u8981\u79fb\u52a8\u5927\u91cf\u5143\u7d20\uff09\u3002</li> <li>deque\uff1a\u652f\u6301\u5934\u90e8\u548c\u5c3e\u90e8\u7684\u9ad8\u6548\u63d2\u5165/\u5220\u9664\uff08push_front/push_back\uff09\uff0c\u4e2d\u95f4\u63d2\u5165/\u5220\u9664\u6548\u7387\u4e0evector\u7c7b\u4f3c\u3002</li> </ul> <p>\u968f\u673a\u8bbf\u95ee</p> <p>\u4e24\u8005\u90fd\u652f\u6301\u968f\u673a\u8bbf\u95ee\uff08operator[]\uff09\uff0c\u4f46vector\u7684\u8bbf\u95ee\u901f\u5ea6\u7565\u5feb\uff0c\u56e0\u4e3a\u5185\u5b58\u8fde\u7eed\u3002</p> <p>\u5185\u5b58\u5206\u914d</p> <ul> <li>vector\uff1a\u6269\u5bb9\u6162\uff0c\u6269\u5bb9\u65f6\u9700\u8981\u6574\u4f53\u642c\u8fc1\u6570\u636e\u5230\u65b0\u5185\u5b58\u3002</li> <li>deque\uff1a\u6269\u5bb9\u65f6\u53ea\u9700\u5206\u914d\u65b0\u7684\u5c0f\u5757\u5185\u5b58\uff0c\u4e0d\u9700\u8981\u6574\u4f53\u642c\u8fc1\u5df2\u6709\u5143\u7d20\u3002</li> </ul> <p>\u9002\u7528\u573a\u666f</p> <ul> <li>vector\uff1a\u9002\u5408\u53ea\u5728\u5c3e\u90e8\u63d2\u5165/\u5220\u9664\u3001\u9700\u8981\u9ad8\u6548\u968f\u673a\u8bbf\u95ee\u7684\u573a\u666f\u3002</li> <li>deque\uff1a\u9002\u5408\u9700\u8981\u5728\u5934\u5c3e\u4e24\u7aef\u9891\u7e41\u63d2\u5165/\u5220\u9664\u7684\u573a\u666f\u3002</li> </ul>","tags":["\u9762\u8bd5","c/c++"]},{"location":"interview/19.interview-bagu-cpp/#_10","title":"\u9690\u5f0f\u7c7b\u578b\u8f6c\u6362","text":"<ul> <li>\u5185\u7f6e\u7c7b\u578b\u7684\u9690\u5f0f\u7c7b\u578b\u8f6c\u6362</li> <li>\u6784\u9020\u51fd\u6570</li> <li>\u7c7b\u578b\u8f6c\u6362\u8fd0\u7b97\u7b26</li> </ul>","tags":["\u9762\u8bd5","c/c++"]},{"location":"interview/19.interview-bagu-cpp/#_11","title":"\u5176\u4ed6","text":"<ul> <li>extern \"C\"<ul> <li>\u5bfc\u5165c\u51fd\u6570\u7684\u5173\u952e\u5b57\uff0c\u5b83\u544a\u8bc9\u7f16\u8bd1\u5668\u8fd9\u6bb5\u4ee3\u7801\u6309c\u7f16\u8bd1</li> </ul> </li> <li>threadlocal<ul> <li>\u7ebf\u7a0b\u5c40\u90e8\u53d8\u91cf</li> <li>\u8981\u914d\u5408C++ thread\u6807\u51c6\u5e93\u4e00\u8d77\u4f7f\u7528</li> </ul> </li> <li>atomic<ul> <li>\u53ef\u4ee5\u5bf9\u57fa\u672c\u7c7b\u578b\u5c01\u88c5\u539f\u5b50\u64cd\u4f5c</li> </ul> </li> <li>mutable<ul> <li>\u53ef\u4ee5\u628a\u4e00\u4e2a\u6210\u5458\u58f0\u660e\u4e3a\u53ef\u53d8\u7684\uff0c\u64cd\u4f5c\u6210\u5458\u7684\u51fd\u6570\u4ecd\u7136\u80fd\u53d7\u5230const\u4fdd\u62a4</li> </ul> </li> </ul>","tags":["\u9762\u8bd5","c/c++"]},{"location":"interview/19.interview-bagu-cpp/#c20","title":"C++20","text":"<ul> <li>concept<ul> <li>\u548c\u6a21\u677f\u7c7b\u578b\u63a8\u65ad\u6709\u5173\uff0c\u53ef\u4ee5\u7528\u6765\u7ea6\u675f\u6a21\u677f\u5b9e\u53c2\u7684\u7c7b\u578b\uff0c<code>concept concept-name = expression</code></li> </ul> </li> <li>modules</li> <li>coroutine<ul> <li>\u65e0\u6808\u534f\u7a0b\uff0c\u65e0\u6808\u534f\u7a0b\u6bd4\u6709\u6808\u534f\u7a0b\u8f7b\u91cf</li> <li>\u65e0\u6808\u534f\u7a0b\u672c\u8d28\u4e0a\u662f\u4e00\u79cd\u53ef\u4ee5\u6682\u505c\u548c\u6062\u590d\u7684\u51fd\u6570</li> <li>\u534f\u7a0b\u5185\u90e8\u7684\u4e09\u4e2a\u5173\u952e\u5b57\uff0cco_await\u3001co_yield\u3001co_return<ul> <li>co_await\u548cco_yield\u53ef\u4ee5\u6302\u8d77\u534f\u7a0b</li> <li>co_return\u8fd4\u56de</li> </ul> </li> </ul> </li> </ul>","tags":["\u9762\u8bd5","c/c++"]},{"location":"interview/19.interview-bagu-cpp/#socket","title":"socket\u5f00\u53d1","text":"<ul> <li>\u7cfb\u7edf\u8c03\u7528\u90fd\u662f\u7ebf\u7a0b\u5b89\u5168\u7684\uff0c\u7cfb\u7edf\u8c03\u7528\u90fd\u662f\u539f\u5b50\u64cd\u4f5c</li> <li>socket\uff0c\u57df + socket\u7c7b\u578b + \u534f\u8bae<ul> <li>IPv4\u57df + SOCK_STREAM \u9ed8\u8ba4\u662ftcp</li> <li>IPv4\u57df + SOCK_DGRAM \u9ed8\u8ba4\u662fudp</li> </ul> </li> <li>tcp<ul> <li>\u670d\u52a1\u7aef\uff0csocket -&gt; bind -&gt; listen -&gt; accept</li> <li>\u5ba2\u6237\u7aef\uff0csocket -&gt; bind -&gt; connect</li> <li>\u6570\u636e\u4f20\u8f93\uff0csend\uff0crecv\uff08read\uff0cwrite\uff09</li> <li>\u5173\u95edsocket\uff0cclose</li> <li>\u591a\u7ebf\u7a0b\u8bfb\u5199\u9700\u8981\u7ed9\u6574\u4e2a\u6570\u636e\u52a0\u9501\uff0c\u4e0d\u80fd\u7ed9\u5355\u6b21\u53d1\u9001\u52a0\u9501\uff0c\u5355\u6b21\u53d1\u9001\u53ef\u80fd\u4f1a\u51fa\u73b0\u77ed\u8bfb\u77ed\u5199\u95ee\u9898\uff0c\u56e0\u6b64\u591a\u7ebf\u7a0b\u5199socket\u8fd8\u662f\u4f1a\u76f8\u4e92\u963b\u585e\uff0c\u6ca1\u6709\u610f\u4e49</li> </ul> </li> <li>udp<ul> <li>socket\uff0cbind</li> <li>sendto\uff0crecvfrom</li> <li>close</li> <li>\u53ef\u4ee5\u591a\u7ebf\u7a0b\u540c\u65f6\u8bfb\u5199\u540c\u4e00\u4e2asocket</li> </ul> </li> </ul>","tags":["\u9762\u8bd5","c/c++"]},{"location":"interview/19.interview-bagu-cpp/#boost","title":"boost","text":"<p>boost\u5e93\u7684\u5b9a\u4f4d\u662f\u5b9e\u9a8c\u6027\u8d28\u7684\u5e93\uff0c\u91cc\u9762\u7684\u4e1c\u897f\u53ef\u80fd\u4f1a\u5728\u672a\u6765\u8fdb\u5165C++\u6807\u51c6\uff0c\u4f46\u662f\u5728C++11\u4e4b\u540e\uff0c\u5f88\u591aboost\u4e2d\u7684\u7279\u6027\u5df2\u7ecf\u8fdb\u5165\u4e86C++\uff0c\u5f88\u591a\u4eba\u5f00\u59cb\u7981\u6b62\u4f7f\u7528boost\u3002</p>","tags":["\u9762\u8bd5","c/c++"]},{"location":"interview/19.interview-bagu-cpp/#grpc-brotobuf","title":"grpc + brotobuf","text":"<ul> <li>grpc\u5e95\u5c42\u662ftcp epoll\u6a21\u578b</li> <li>\u4e0a\u5c42\u7684\u901a\u4fe1\u534f\u8bae\u662fhttp + protobuf</li> </ul>","tags":["\u9762\u8bd5","c/c++"]},{"location":"interview/19.interview-bagu-cpp/#_12","title":"\u51fd\u6570\u8c03\u7528\u7ea6\u5b9a","text":"<p>stdcall\u3001cdecl\u3001fastcall\u4e09\u8005\u7684\u533a\u522b</p> <p>stdcall\u3001cdecl\u3001fastcall\u4e09\u79cd\u51fd\u6570\u8c03\u7528\u7ea6\u5b9a\u7684\u533a\u522b\u5982\u4e0b\uff1a</p> <ol> <li>cdecl\uff08C Declaration\uff09</li> <li>\u53c2\u6570\u4ece\u53f3\u5230\u5de6\u5165\u6808\u3002</li> <li>\u7531\u8c03\u7528\u8005\u8d1f\u8d23\u6e05\u7406\u5806\u6808\u3002</li> <li>\u652f\u6301\u53ef\u53d8\u53c2\u6570\uff08\u5982printf\uff09\u3002</li> <li> <p>\u662fC\u9ed8\u8ba4\u7684\u8c03\u7528\u7ea6\u5b9a\u3002</p> </li> <li> <p>stdcall\uff08Standard Call\uff09</p> </li> <li>\u53c2\u6570\u4ece\u53f3\u5230\u5de6\u5165\u6808\u3002</li> <li>\u7531\u88ab\u8c03\u7528\u8005\uff08\u51fd\u6570\u672c\u8eab\uff09\u8d1f\u8d23\u6e05\u7406\u5806\u6808\u3002</li> <li> <p>\u662fC++\u6807\u51c6\u8c03\u7528\u7ea6\u5b9a\u3002</p> </li> <li> <p>fastcall</p> </li> <li>\u524d\u4e24\u4e2a\u53c2\u6570\u901a\u8fc7\u5bc4\u5b58\u5668\uff08\u5982ECX\u3001EDX\uff09\u4f20\u9012\uff0c\u5176\u4f59\u53c2\u6570\u4ece\u53f3\u5230\u5de6\u5165\u6808\u3002</li> <li>\u7531\u88ab\u8c03\u7528\u8005\u8d1f\u8d23\u6e05\u7406\u5806\u6808\u3002</li> <li>\u901f\u5ea6\u8f83\u5feb\uff0c\u51cf\u5c11\u4e86\u5bf9\u6808\u7684\u64cd\u4f5c\u3002</li> </ol> <p>\u603b\u7ed3\uff1a - cdecl\uff1a\u8c03\u7528\u8005\u6e05\u7406\u6808\uff0c\u652f\u6301\u53ef\u53d8\u53c2\u6570\uff0c\u9ed8\u8ba4\u7ea6\u5b9a\u3002 - stdcall\uff1a\u88ab\u8c03\u7528\u8005\u6e05\u7406\u6808\uff0c\u4e0d\u652f\u6301\u53ef\u53d8\u53c2\u6570\uff0c\u5e38\u7528\u4e8eWinAPI\u3002 - fastcall\uff1a\u90e8\u5206\u53c2\u6570\u7528\u5bc4\u5b58\u5668\u4f20\u9012\uff0c\u88ab\u8c03\u7528\u8005\u6e05\u7406\u6808\uff0c\u6548\u7387</p> <p>\u201c\u6e05\u6808\u201d\u6307\u7684\u662f\u6e05\u7406\u5165\u6808\u53c2\u6570</p> <p>\u4ee5\u4e0a\u51e0\u79cd\u51fd\u6570\u8c03\u7528\u7ea6\u5b9a\u662f\u4f20\u7edfx86\u67b6\u6784\u4e0b\u7684\u8c03\u7528\u7ea6\u5b9a\uff0cx64\u67b6\u6784\u4e0b\uff0cwindows\u548cunix\u5e73\u53f0\u7684\u51fd\u6570\u8c03\u7528\u7ea6\u5b9a\u6709\u6240\u4e0d\u540c\u3002</p>","tags":["\u9762\u8bd5","c/c++"]},{"location":"interview/19.interview-bagu-cpp/#_13","title":"\u51fd\u6570\u662f\u5982\u4f55\u8c03\u7528\u7684","text":"<p>\u5355\u4e2a\u51fd\u6570\u8c03\u7528\u64cd\u4f5c\u6240\u4f7f\u7528\u7684\u6808\u90e8\u5206\u88ab\u79f0\u4e3a\u6808\u5e27\uff08stack frame\uff09\u7ed3\u6784</p> <p>\u5b58\u653e\u6240\u6709\u51fd\u6570\u8c03\u7528\u94fe\u7684\u5185\u5b58\u533a\u57df\u79f0\u4e3a\u201c\u6808\u201d\uff0c\u6808\u4e0a\u7684\u6bcf\u4e2a\u51fd\u6570\u8c03\u7528\u6210\u4e3a\u201c\u5e27\u201d</p> <p>\u6808\u7684\u5730\u5740\u662f\u4ece\u9ad8\u5730\u5740\u5411\u4f4e\u5730\u5740\u589e\u957f\u7684\uff0c\u6808\u9876\u7684\u5730\u5740\u6700\u4f4e</p> <p>\u8fd9\u91cc\u6d89\u53ca\u5230\u4e24\u4e2a\u6307\u9488\uff0c\u201c\u6808\u6307\u9488\uff08esp\uff09\u201d\u548c\u201c\u5e27\u6307\u9488\uff08ebp\uff09\u201d\uff0c\u6808\u6307\u9488\u662f\u6808\u4e0a\u7684\u4e00\u4e2a\u5168\u5c40\u6307\u9488\uff0c\u59cb\u7ec8\u6307\u5411\u6808\u9876\uff0c\u5e27\u6307\u9488\u662f\u6307\u5411\u5f53\u524d\u51fd\u6570\u6808\u5e95\u7684\u6307\u9488</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502    ...\uff08\u4e0a\u4e00\u4e2a\u51fd\u6570\u7684\u6808\u5e27\uff09     \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502   \u53c2\u6570n\uff08\u6700\u53f3\u8fb9\u7684\u53c2\u6570\uff09        \u2502  \u2190 esp\uff08\u521a\u8fdb\u5165\u51fd\u6570\u65f6\uff09\n\u2502   ...                        \u2502\n\u2502   \u53c2\u65702                      \u2502\n\u2502   \u53c2\u65701\uff08\u6700\u5de6\u8fb9\u7684\u53c2\u6570\uff09        \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502   \u8fd4\u56de\u5730\u5740\uff08ret address\uff09     \u2502  \u2190 call\u6307\u4ee4\u538b\u5165\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502   \u4e0a\u4e00\u4e2aebp\uff08\u6808\u5e27\u6307\u9488\uff09        \u2502  \u2190 push ebp\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502   \u5c40\u90e8\u53d8\u91cf                    \u2502  \u2190 sub esp, size\n\u2502   ...                        \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>\u51fd\u6570\u8c03\u7528\u548c\u8fd4\u56de\u7684\u8fc7\u7a0b\u4e3b\u8981\u4f9d\u8d56\u4e8e\u6808\uff08\u8c03\u7528\u6808\uff09\u6765\u7ba1\u7406\u53c2\u6570\u3001\u8fd4\u56de\u5730\u5740\u548c\u5c40\u90e8\u53d8\u91cf\u3002\u4ee5\u5e38\u89c1\u7684 x86 \u5e73\u53f0\u4e3a\u4f8b\uff0c\u8fc7\u7a0b\u5982\u4e0b\uff1a</p> <ol> <li>\u8c03\u7528\u524d\u51c6\u5907</li> <li>\u8c03\u7528\u8005\u5148\u628a\u5f53\u524d\u4e0a\u4e0b\u6587\uff08\u5373\u5360\u7528\u7684\u5bc4\u5b58\u5668\uff09\u5165\u6808\u4fdd\u5b58</li> <li>\u8c03\u7528\u8005\u5c06\u51fd\u6570\u53c2\u6570\u6309\u8c03\u7528\u7ea6\u5b9a\uff08\u5982\u4ece\u53f3\u5230\u5de6\uff09\u4f9d\u6b21\u538b\u5165\u6808\u4e2d\u3002</li> <li> <p>\u8c03\u7528\u8005\u6267\u884c <code>call</code> \u6307\u4ee4\uff0c<code>call</code> \u4f1a\u5c06\u4e0b\u4e00\u6761\u6307\u4ee4\u7684\u5730\u5740\uff08\u8fd4\u56de\u5730\u5740\uff09\u538b\u5165\u6808\uff0c\u7136\u540e\u8df3\u8f6c\u5230\u88ab\u8c03\u7528\u51fd\u6570\u7684\u5165\u53e3\u3002</p> </li> <li> <p>\u8fdb\u5165\u51fd\u6570</p> </li> <li>\u88ab\u8c03\u7528\u51fd\u6570\u901a\u5e38\u4f1a\u4fdd\u5b58\u5f53\u524d\u7684\u6808\u5e27\u6307\u9488\uff08\u5373\u4e0a\u4e00\u4e2a\u51fd\u6570\u7684\u5e27\u6307\u9488\uff09\uff0c\u7136\u540e\u5c06\u6808\u9876\u6307\u9488esp\u8bbe\u7f6e\u4e3a\u81ea\u5df1\u7684\u5e27\u6307\u9488ebp\uff0c\u5e76\u4e3a\u5c40\u90e8\u53d8\u91cf\u5206\u914d\u7a7a\u95f4\u3002</li> <li>\u6b64\u65f6\uff0c\u6808\u4e0a\u4f9d\u6b21\u5b58\u653e\uff1a\u53c2\u6570\u3001\u8fd4\u56de\u5730\u5740\u3001\u4e0a\u4e00\u4e2a\u6808\u5e27\u6307\u9488\u3001\u5c40\u90e8\u53d8\u91cf\u3002</li> <li> <p>\u8fd9\u91cc\u6709\u4e00\u4e2a\u8981\u70b9\uff0c\u65b0\u7684ebp\u4fdd\u5b58\u7684\u662f\u5176\u5b9e\u662f\u88ab\u8c03\u7528\u51fd\u6570\u7684\u6808\u5e95\u4f4d\u7f6e\uff0c\u800c\u6808\u5e95\u4f4d\u7f6e\u5b58\u653e\u7684\u662f\u4e0a\u4e00\u4e2a\u51fd\u6570\u7684ebp\uff0c\u8fd9\u5c31\u6784\u6210\u4e86\u6808\u5e27\u7684\u94fe\u5f0f\u7ed3\u6784\uff0c\u51fd\u6570\u8c03\u7528\u53ef\u4ee5\u901a\u8fc7ebp\u4e00\u7ea7\u4e00\u7ea7\u5411\u4e0a\u56de\u6eaf</p> </li> <li> <p>\u51fd\u6570\u6267\u884c</p> </li> <li>\u51fd\u6570\u4f53\u5185\u53ef\u4ee5\u901a\u8fc7\u6808\u5e27\u6307\u9488\u8bbf\u95ee\u53c2\u6570\u548c\u5c40\u90e8\u53d8\u91cf\u3002</li> <li> <p>\u4e3a\u4e86\u80fd\u5168\u5c40\u8bbf\u95ee\u5230\u53c2\u6570\uff0c\u88ab\u8c03\u7528\u51fd\u6570\u4e0d\u4f1a\u5c06\u53c2\u6570pop\u51fa\u6765\uff0c\u800c\u662f\u901a\u8fc7\u5e27\u6307\u9488\u8bbf\u95ee\u51fd\u6570\u53c2\u6570</p> </li> <li> <p>\u51fd\u6570\u8fd4\u56de</p> </li> <li>\u51fd\u6570\u5c06\u8fd4\u56de\u503c\u653e\u5230\u7ea6\u5b9a\u7684\u5bc4\u5b58\u5668\u3002</li> <li>\u6062\u590d\u4e0a\u4e00\u4e2a\u6808\u5e27\u6307\u9488\u3002</li> <li> <p>\u6267\u884c <code>ret</code> \u6307\u4ee4\uff0c\u4ece\u6808\u9876\u5f39\u51fa\u8fd4\u56de\u5730\u5740\uff0c\u8df3\u8f6c\u56de\u8c03\u7528\u8005\u3002</p> </li> <li> <p>\u8c03\u7528\u8005\u6536\u5c3e</p> </li> <li>\u8c03\u7528\u8005\u6839\u636e\u8c03\u7528\u7ea6\u5b9a\uff0c\u81ea\u5df1\u6216\u88ab\u8c03\u7528\u8005\u8d1f\u8d23\u6e05\u7406\u53c2\u6570\u3002</li> <li>\u6062\u590d\u8c03\u7528\u524d\u7684\u4e0a\u4e0b\u6587\u3002</li> <li>\u7ee7\u7eed\u6267\u884c\u540e\u7eed\u4ee3\u7801\u3002</li> </ol>","tags":["\u9762\u8bd5","c/c++"]},{"location":"interview/19.interview-bagu-cpp/#_14","title":"\u5c40\u90e8\u53d8\u91cf\u7684\u5165\u6808\u987a\u5e8f","text":"<p>\u5c40\u90e8\u53d8\u91cf\u7684\u5165\u6808\u987a\u5e8f\u662f\u5426\u548c\u6e90\u7801\u4e2d\u7684\u58f0\u660e\u987a\u5e8f\u4e00\u81f4\uff0c\u53d6\u51b3\u4e8e\u662f\u5426\u6709\u6808\u6ea2\u51fa\u4fdd\u62a4\u673a\u5236\uff0c\u5982\u679c\u6709\u6808\u6ea2\u51fa\u4fdd\u62a4\u673a\u5236\uff0c\u5c40\u90e8\u53d8\u91cf\u5728\u6e90\u7801\u4e2d\u7684\u58f0\u660e\u987a\u5e8f\u548c\u5165\u6808\u987a\u5e8f\u662f\u76f8\u53cd\u7684\uff0c\u5373\u540e\u58f0\u660e\u7684\u53d8\u91cf\u5148\u5165\u6808\uff0c\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u5148\u58f0\u660e\u7684\u53d8\u91cf\u4f4d\u4e8e\u6808\u4e0a\u7684\u4f4e\u5730\u5740\uff0c\u540e\u58f0\u660e\u7684\u53d8\u91cf\u4f4d\u4e8e\u6808\u4e0a\u7684\u9ad8\u5730\u5740\uff08\u6808\u5730\u5740\u662f\u4ece\u9ad8\u5230\u4f4e\u589e\u957f\u7684\uff09</p>","tags":["\u9762\u8bd5","c/c++"]},{"location":"interview/19.interview-bagu-cpp/#_15","title":"\u4e3a\u5565\u51fd\u6570\u6808\u88ab\u5199\u574f\u4e86\uff0c\u51fd\u6570\u8fd4\u56de\u65f6\u88ab\u5d29\u6e83","text":"<p>\u6709\u4e00\u79cd\u573a\u666f\u662f\uff0c\u51fd\u6570\u6808\u5199\u8d85\u4e86\uff0c\u7531\u4e8e\u5199\u5165\u65f6\u662f\u5f80\u9ad8\u5730\u5740\u5199\u5165\u7684\uff0c\u800c\u4e0a\u4e00\u4e2a\u51fd\u6570\u7684\u5e27\u5730\u5740\u548c\u8fd4\u56de\u5730\u5740\u6070\u597d\u5728\u51fd\u6570\u5c40\u90e8\u6570\u636e\u5185\u5b58\u533a\u57df\u7684\u9ad8\u5730\u5740\u5904\uff0c\u51fd\u6570\u6808\u5199\u8d85\u4e86\u540e\u4f1a\u7834\u574f\u6389\u4e0a\u4e00\u4e2a\u51fd\u6570\u7684\u5e27\u5730\u5740\u548c\u8fd4\u56de\u5730\u5740\uff0c\u5bfc\u81f4\u51fd\u6570\u8fd4\u56de\u65f6\u5d29\u6e83\u3002</p>","tags":["\u9762\u8bd5","c/c++"]},{"location":"interview/19.interview-bagu-cpp/#_16","title":"\u5173\u4e8e\u5bc4\u5b58\u5668","text":"<p>x64\u67b6\u6784\u670916\u4e2a\u901a\u7528\u6574\u578b\u5bc4\u5b58\u5668\uff0c\u5206\u522b\u662frax\u3001rbx\u3001rcx\u3001rdx\u3001rsi\u3001rdi\u3001r8\u3001r9\u3001r10\u3001r11\u3001r12\u3001r13\u3001r14\u3001r15\uff0c\u5176\u4e2drax\u4e00\u822c\u7528\u6765\u4fdd\u5b58\u51fd\u6570\u7684\u8fd4\u56de\u503c</p> <p>\u67098\u4e2a\u6d6e\u70b9\u5bc4\u5b58\u5668\uff0c\u5206\u522b\u662fxmm0\u3001xmm1\u3001xmm2\u3001xmm3\u3001xmm4\u3001xmm5\u3001xmm6\u3001xmm7</p> <p>\u9664\u6b64\u4e4b\u5916\uff0c\u8fd8\u6709\u6808\u6307\u9488\u5bc4\u5b58\u5668rsp\uff08\u6307\u5411\u8fdb\u7a0b\u6808\u9876\uff09\u548c\u5e27\u6307\u9488\u5bc4\u5b58\u5668rbp\uff08\u6307\u5411\u5f53\u524d\u6808\u5e27\u57fa\u5730\u5740\uff09\uff0c\u6307\u4ee4\u5bc4\u5b58\u5668rip\uff08\u6307\u5411\u5f53\u524d\u6267\u884c\u7684\u6307\u4ee4\u5730\u5740\uff09</p> <p>windows\u548cunix\u5e73\u53f0\u7684\u51fd\u6570\u8c03\u7528\u7ea6\u5b9a\u6709\u6240\u4e0d\u540c\uff0cwindows\u5e73\u53f0\u4f7f\u7528\u7684\u662f\u5fae\u8f6f\u7684x64\u8c03\u7528\u7ea6\u5b9a\uff0cunix\u5e73\u53f0\u4f7f\u7528\u7684\u662fSystem V AMD64 \u8c03\u7528\u7ea6\u5b9a\u3002</p> <p>windows x64\u8c03\u7528\u7ea6\u5b9a\uff1a - \u524d\u56db\u4e2a\u6574\u6570\u53c2\u6570\u901a\u8fc7\u5bc4\u5b58\u5668rcx\u3001rdx\u3001r8\u3001r9\u4f20\u9012 - \u524d\u516b\u4e2a\u6d6e\u70b9\u53c2\u6570\u901a\u8fc7\u5bc4\u5b58\u5668xmm0\u5230xmm7\u4f20\u9012</p> <p>System V AMD64\u8c03\u7528\u7ea6\u5b9a\uff1a - \u524d\u516d\u4e2a\u6574\u6570\u53c2\u6570\u901a\u8fc7\u5bc4\u5b58\u5668rdi\u3001rsi\u3001rdx\u3001 rcx\u3001r8\u3001r9\u4f20\u9012 - \u524d\u516b\u4e2a\u6d6e\u70b9\u53c2\u6570\u901a\u8fc7\u5bc4\u5b58\u5668xmm0\u5230xmm7\u4f20\u9012</p>","tags":["\u9762\u8bd5","c/c++"]},{"location":"interview/19.interview-bagu-cpp/#constconst","title":"\u9876\u5c42const\u548c\u5e95\u5c42const\u7684\u5199\u6cd5","text":"<pre><code>\n//\u5e95\u5c42const\nconst int *a = 10;\nint const *b = 10;\n\n//\u9876\u5c42const\nint * const c = 10; //\u6307\u9488\u672c\u8eab\u662f\u5e38\u91cf\uff0c\u4e0d\u80fd\u6539\u53d8\u6307\u5411\n</code></pre> <p>\u6ce8\u610f\uff0c\u5e95\u5c42const\u5199\u5728<code>*</code>\u7684\u5de6\u8fb9\uff0c\u9876\u5c42const\u5199\u5728<code>*</code>\u7684\u53f3\u8fb9\u3002</p>","tags":["\u9762\u8bd5","c/c++"]},{"location":"interview/19.interview-bagu-cpp/#cc_1","title":"C/C++\u7a0b\u5e8f\u7684\u7f16\u8bd1\u8fc7\u7a0b","text":"<p>C/C++ \u7a0b\u5e8f\u7684\u7f16\u8bd1\u8fc7\u7a0b\u4e00\u822c\u5206\u4e3a\u56db\u4e2a\u4e3b\u8981\u9636\u6bb5\uff1a\u9884\u5904\u7406\u3001\u7f16\u8bd1\u3001\u6c47\u7f16\u3001\u94fe\u63a5\u3002</p> <ol> <li>\u9884\u5904\u7406\uff08Preprocessing\uff09</li> <li>\u5904\u7406 <code>#include</code>\u3001<code>#define</code>\u3001<code>#ifdef</code> \u7b49\u9884\u5904\u7406\u6307\u4ee4\uff0c\u5c55\u5f00\u5934\u6587\u4ef6\u3001\u5b8f\u3001\u6761\u4ef6\u7f16\u8bd1\uff0c\u53bb\u9664\u6ce8\u91ca\u3002</li> <li> <p>\u751f\u6210\u6269\u5c55\u540d\u4e3a <code>.i</code> \u7684\u9884\u5904\u7406\u6587\u4ef6\u3002</p> </li> <li> <p>\u7f16\u8bd1\uff08Compilation\uff09</p> </li> <li>\u5c06\u9884\u5904\u7406\u540e\u7684\u4ee3\u7801\u7ffb\u8bd1\u4e3a\u6c47\u7f16\u4ee3\u7801\uff0c\u8fdb\u884c\u8bed\u6cd5\u5206\u6790\u3001\u8bed\u4e49\u5206\u6790\u548c\u4f18\u5316\u3002</li> <li> <p>\u751f\u6210\u6269\u5c55\u540d\u4e3a <code>.s</code> \u7684\u6c47\u7f16\u6587\u4ef6\u3002</p> </li> <li> <p>\u6c47\u7f16\uff08Assembly\uff09</p> </li> <li>\u5c06\u6c47\u7f16\u4ee3\u7801\u7ffb\u8bd1\u4e3a\u673a\u5668\u6307\u4ee4\uff0c\u751f\u6210\u76ee\u6807\u6587\u4ef6\uff08object file\uff09\uff0c\u6269\u5c55\u540d\u4e3a <code>.o</code> \u6216 <code>.obj</code>\u3002</li> <li> <p>\u6bcf\u4e2a\u6e90\u6587\u4ef6\u5bf9\u5e94\u4e00\u4e2a\u76ee\u6807\u6587\u4ef6\u3002</p> </li> <li> <p>\u94fe\u63a5\uff08Linking\uff09</p> </li> <li>\u5c06\u591a\u4e2a\u76ee\u6807\u6587\u4ef6\u548c\u5e93\u6587\u4ef6\u5408\u5e76\uff0c\u89e3\u51b3\u7b26\u53f7\u5f15\u7528\uff0c\u5206\u914d\u5185\u5b58\u5730\u5740\uff0c\u751f\u6210\u53ef\u6267\u884c\u6587\u4ef6\u6216\u5e93\u6587\u4ef6\uff08\u5982 <code>.exe</code>\u3001<code>.so</code>\u3001<code>.dll</code>\uff09\u3002</li> <li>\u7531\u94fe\u63a5\u5668\uff08\u5982 <code>ld</code>\uff09\u5b8c\u6210\u3002</li> </ol>","tags":["\u9762\u8bd5","c/c++"]},{"location":"interview/19.interview-bagu-cpp/#gdb","title":"gdb\u5e38\u7528\u547d\u4ee4","text":"<p>gcc\u7f16\u8bd1\u7684\u65f6\u5019\uff0c\u8981\u5e26\u4e0a<code>-g</code>\u53c2\u6570\uff0c\u8868\u793a\u7f16\u8bd1\u65f6\u751f\u6210\u8c03\u8bd5\u4fe1\u606f\uff0c\u8fd9\u6837\u624d\u80fd\u5728gdb\u4e2d\u8c03\u8bd5\u3002</p> <p>GDB\uff08GNU Debugger\uff09\u662fLinux\u4e0b\u5e38\u7528\u7684C/C++\u8c03\u8bd5\u5de5\u5177\uff0c\u5e38\u7528\u547d\u4ee4\u5982\u4e0b\uff1a</p> <ul> <li><code>gdb ./a.out</code>  \u542f\u52a8gdb\u5e76\u52a0\u8f7d\u53ef\u6267\u884c\u6587\u4ef6</li> <li><code>file [\u6587\u4ef6\u540d]</code>  \u52a0\u8f7d\u6307\u5b9a\u7684\u53ef\u6267\u884c\u6587\u4ef6</li> <li><code>kill</code>          \u7ec8\u6b62\u5f53\u524d\u8c03\u8bd5\u7684\u7a0b\u5e8f</li> <li><code>run [\u53c2\u6570]</code>    \u542f\u52a8\u7a0b\u5e8f\u5e76\u4f20\u9012\u53c2\u6570</li> <li><code>break [file:]\u4f4d\u7f6e</code>  \u8bbe\u7f6e\u65ad\u70b9\uff08\u5982<code>break main</code>\u3001<code>break 23</code>\uff09</li> <li><code>info breakpoints</code>  \u67e5\u770b\u6240\u6709\u65ad\u70b9</li> <li><code>delete [\u7f16\u53f7]</code>    \u5220\u9664\u65ad\u70b9</li> <li><code>disable/enable [\u7f16\u53f7]</code>  \u7981\u7528/\u542f\u7528\u65ad\u70b9</li> <li><code>next</code>/<code>n</code>        \u5355\u6b65\u6267\u884c\uff08\u4e0d\u8fdb\u5165\u51fd\u6570\uff09</li> <li><code>step</code>/<code>s</code>        \u5355\u6b65\u6267\u884c\uff08\u8fdb\u5165\u51fd\u6570\uff09</li> <li><code>continue</code>/<code>c</code>    \u7ee7\u7eed\u8fd0\u884c\u76f4\u5230\u4e0b\u4e00\u4e2a\u65ad\u70b9</li> <li><code>finish</code>          \u8fd0\u884c\u5230\u5f53\u524d\u51fd\u6570\u8fd4\u56de</li> <li><code>print [\u53d8\u91cf/\u8868\u8fbe\u5f0f]</code>  \u6253\u5370\u53d8\u91cf\u6216\u8868\u8fbe\u5f0f\u7684\u503c</li> <li><code>display [\u53d8\u91cf]</code>  \u6bcf\u6b21\u505c\u4e0b\u65f6\u81ea\u52a8\u663e\u793a\u53d8\u91cf\u503c</li> <li><code>set var x=5</code>     \u4fee\u6539\u53d8\u91cf\u503c</li> <li><code>backtrace</code>/<code>bt</code>  \u6253\u5370\u8c03\u7528\u6808</li> <li><code>info locals</code>     \u67e5\u770b\u5f53\u524d\u51fd\u6570\u7684\u6240\u6709\u5c40\u90e8\u53d8\u91cf</li> <li><code>info args</code>       \u67e5\u770b\u5f53\u524d\u51fd\u6570\u7684\u53c2\u6570</li> <li><code>list [\u4f4d\u7f6e]</code>     \u67e5\u770b\u6e90\u7801</li> <li><code>quit</code>/<code>q</code>        \u9000\u51fagdb</li> </ul>","tags":["\u9762\u8bd5","c/c++"]},{"location":"interview/19.interview-bagu-cpp/#_17","title":"\u5176\u4ed6\u95ee\u9898","text":"<p>memset\u5982\u4f55\u5b9e\u73b0</p> <p>\u501f\u52a9simd\u6307\u4ee4\uff0c\u5e76\u884c\u6267\u884c</p>","tags":["\u9762\u8bd5","c/c++"]},{"location":"interview/52.interview-bagu-general/","title":"\u9762\u8bd5\u516b\u80a1-\u901a\u7528","text":"","tags":["\u9762\u8bd5"]},{"location":"interview/52.interview-bagu-general/#_1","title":"\u7cfb\u7edf","text":"","tags":["\u9762\u8bd5"]},{"location":"interview/52.interview-bagu-general/#_2","title":"\u57fa\u7840","text":"<p>\u4ec0\u4e48\u662f\u534f\u7a0b</p> <p>\u534f\u7a0b\u662f\u4e00\u79cd\u8fd0\u884c\u5728\u7528\u6237\u6001\u7684\u5e76\u53d1\u673a\u5236\uff0c\u7c7b\u4f3c\u4e8e\u4e00\u79cd\u8f7b\u91cf\u7ea7\u7684\u7528\u6237\u6001\u7ebf\u7a0b\uff0c\u534f\u7a0b\u4e00\u822c\u8fd0\u884c\u5728\u5185\u6838\u6001\u7ebf\u7a0b\u4e4b\u4e0a\uff08\u4f8b\u5982\uff0c\u53ef\u4ee5\u6309\u7167n:m\u6a21\u578b\u8c03\u5ea6\uff0c\u5373n\u4e2a\u7528\u6237\u6001\u534f\u7a0b\u8fd0\u884c\u5728m\u4e2a\u5185\u6838\u6001\u7ebf\u7a0b\u4e0a\uff09\u3002</p> <p>\u534f\u7a0b\u5206\u4e3a\u6709\u6808\u548c\u65e0\u6808\u534f\u7a0b\uff0c\u6709\u6808\u534f\u7a0b\u662f\u6307\u534f\u7a0b\u6709\u81ea\u5df1\u6808\u7a7a\u95f4\uff0c\u7c7b\u4f3c\u7ebf\u7a0b\u4e00\u6837\uff0c\u65e0\u6808\u534f\u7a0b\u662f\u6307\u534f\u7a0b\u6ca1\u6709\u81ea\u5df1\u7684\u6808\u7a7a\u95f4\uff0c\u6240\u6709\u534f\u7a0b\u5171\u4eab\u4e00\u4e2a\u6808\u7a7a\u95f4\u3002golang\u7684goroutine\u662f\u5178\u578b\u7684\u6709\u6808\u534f\u7a0b\uff0cC++\u7684coroutine\u662f\u65e0\u6808\u534f\u7a0b\u3002</p> <p>\u8fdb\u7a0b\u548c\u7ebf\u7a0b\u7684\u533a\u522b</p> <ul> <li>\u8fdb\u7a0b\u662f\u8d44\u6e90\u5206\u914d\u7684\u57fa\u672c\u5355\u4f4d\uff0c\u7ebf\u7a0b\u662f\u8c03\u5ea6\u7684\u57fa\u672c\u5355\u4f4d</li> <li>\u8fdb\u7a0b\u95f4\u76f8\u4e92\u9694\u79bb\uff0c\u4e0d\u5171\u4eab\u8d44\u6e90\uff0c\u4e00\u4e2a\u6302\u4e86\u4e0d\u5f71\u54cd\u5176\u4ed6\u7684\uff0c\u7ebf\u7a0b\u5171\u4eab\u8fdb\u7a0b\u8d44\u6e90\uff0c\u4e00\u4e2a\u7ebf\u7a0b\u6302\u4e86\u6574\u4e2a\u8fdb\u7a0b\u5168\u6302</li> <li>\u7ebf\u7a0b\u8fd0\u884c\u5728\u8fdb\u7a0b\u5185\u90e8\uff0c\u4e00\u4e2a\u8fdb\u7a0b\u5305\u542b\u591a\u4e2a\u7ebf\u7a0b</li> <li>\u8fdb\u7a0b\u5b58\u5728\u7236\u5b50\u5173\u7cfb\uff0c\u7ebf\u7a0b\u4e0d\u5b58\u5728</li> <li>\u8fdb\u7a0b\u4e0a\u4e0b\u6587\u5207\u6362\u5f00\u9500\u6bd4\u7ebf\u7a0b\u5927</li> <li>\u8fdb\u7a0b\u95f4\u901a\u4fe1\u65b9\u5f0f\u548c\u7ebf\u7a0b\u4e0d\u540c</li> </ul> <p>\u6b7b\u9501\u7684\u56db\u4e2a\u6761\u4ef6</p> <ol> <li>\u4e92\u65a5\uff0c\u8d44\u6e90\u5177\u6709\u6392\u4ed6\u6027\uff0c\u4e00\u4e2a\u8d44\u6e90\u53ea\u80fd\u88ab\u4e00\u4e2a\u8fdb\u7a0b/\u7ebf\u7a0b\u5360\u7528</li> <li>\u4e0d\u53ef\u5265\u593a\uff0c\u8d44\u6e90\u53ea\u80fd\u7531\u6301\u6709\u65b9\u4e3b\u52a8\u91ca\u653e\uff0c\u4e0d\u80fd\u5f3a\u884c\u5265\u593a</li> <li>\u6301\u6709\u4e14\u7b49\u5f85\uff0c\u4e00\u4e2a\u8fdb\u7a0b/\u7ebf\u7a0b\u6301\u6709\u8d44\u6e90\u7684\u540c\u65f6\u53c8\u8bf7\u6c42\u5176\u4ed6\u8d44\u6e90</li> <li>\u5faa\u73af\u7b49\u5f85\uff0c\u8d44\u6e90\u7b49\u5f85\u94fe\u591f\u5f62\u6210\u73af\u5f62</li> </ol> <p>\u8fdb\u7a0b/\u7ebf\u7a0b\u8c03\u5ea6</p> <p>\u62a2\u5360\u5f0f\u8c03\u5ea6\uff0c\u64cd\u4f5c\u7cfb\u7edf\u53ef\u4ee5\u5f3a\u5236\u6682\u505c\u6b63\u5728\u8fd0\u884c\u7684\u8fdb\u7a0b/\u7ebf\u7a0b\uff0c\u5c06CPU\u8ba9\u51fa\uff0c\u73b0\u4ee3\u901a\u7528\u64cd\u4f5c\u7cfb\u7edf\u57fa\u672c\u90fd\u662f\u62a2\u5360\u5f0f\u8c03\u5ea6\uff08\u4f8b\u5982Windows\u3001Linux\u7b49\uff09\uff0c\u901a\u5e38\u57fa\u4e8e\u65f6\u95f4\u7247\u5b9e\u73b0\uff0c\u62a2\u5360\u5f0f\u8c03\u5ea6\u7531\u8f6f\u4e2d\u65ad\u548c\u786c\u4e2d\u65ad\u914d\u5408\u5b9e\u73b0\u3002</p> <p>\u975e\u62a2\u5360\u5f0f\u8c03\u5ea6\uff0cCPU\u8d44\u6e90\u53ea\u80fd\u7531\u8fdb\u7a0b\u4e3b\u52a8\u8ba9\u51fa</p> <p>\u8c03\u5ea6\u7b97\u6cd5</p> <ol> <li>\u5148\u6765\u5148\u670d\u52a1\uff0c\u5bf9\u957f\u4f5c\u4e1a\u6709\u5229\uff0c\u4f46\u662f\u5bf9\u77ed\u4f5c\u4e1a\u4e0d\u5229</li> <li>\u6700\u77ed\u4f5c\u4e1a\u4f18\u5148\uff0c\u4f1a\u53d1\u751f\u9965\u997f\u73b0\u8c61</li> <li>\u9ad8\u54cd\u5e94\u6bd4\u4f18\u5148\uff0c\u7efc\u5408\u8003\u8651\u6267\u884c\u65f6\u95f4\u548c\u7b49\u5f85\u65f6\u95f4\uff0c\u54cd\u5e94\u6bd4=\uff08\u7b49\u5f85\u65f6\u95f4+\u6267\u884c\u65f6\u95f4\uff09/\u6267\u884c\u65f6\u95f4\uff0c\u7167\u987e\u5230\u4e86\u957f\u8fdb\u7a0b</li> <li>\u6700\u9ad8\u4f18\u5148\u7ea7\u8c03\u5ea6\uff0c\u6bcf\u6b21\u9009\u62e9\u4f18\u5148\u7ea7\u6700\u9ad8\u7684\u8fdb\u7a0b\u8c03\u5ea6\u6267\u884c\uff0c\u4f18\u5148\u7ea7\u53ef\u4ee5\u662f\u9759\u6001\u7684\u548c\u52a8\u6001\u7684</li> <li>\u591a\u7ea7\u53cd\u9988\u961f\u5217\u8c03\u5ea6<ol> <li>\u7cfb\u7edf\u8bbe\u7f6e\u591a\u4e2a\u5c31\u7eea\u961f\u5217\uff0c\u6bcf\u4e2a\u961f\u5217\u6709\u4e0d\u540c\u7684\u4f18\u5148\u7ea7\u548c\u65f6\u95f4\u7247\u957f\u5ea6\u3002\u9ad8\u4f18\u5148\u7ea7\u961f\u5217\u65f6\u95f4\u7247\u77ed\uff0c\u4f4e\u4f18\u5148\u7ea7\u961f\u5217\u65f6\u95f4\u7247\u957f\u3002</li> <li>\u65b0\u5230\u8fbe\u7684\u8fdb\u7a0b\u901a\u5e38\u5148\u8fdb\u5165\u6700\u9ad8\u4f18\u5148\u7ea7\u961f\u5217\uff0c\u83b7\u5f97\u8f83\u9ad8\u7684\u54cd\u5e94\u901f\u5ea6\u3002</li> <li>\u5982\u679c\u8fdb\u7a0b\u5728\u9ad8\u4f18\u5148\u7ea7\u961f\u5217\u7684\u65f6\u95f4\u7247\u5185\u6ca1\u6709\u5b8c\u6210\uff0c\u4f1a\u88ab\u964d\u5230\u4e0b\u4e00\u7ea7\u961f\u5217\u3002\u53cd\u4e4b\uff0c\u5982\u679c\u4f4e\u4f18\u5148\u7ea7\u961f\u5217\u7684\u8fdb\u7a0b\u957f\u65f6\u95f4\u672a\u88ab\u8c03\u5ea6\uff0c\u4e5f\u53ef\u4ee5\u63d0\u5347\u5176\u4f18\u5148\u7ea7\uff0c\u9632\u6b62\u9965\u997f\u3002</li> <li>\u603b\u662f\u4f18\u5148\u8c03\u5ea6\u9ad8\u4f18\u5148\u7ea7\u961f\u5217\u4e2d\u7684\u8fdb\u7a0b\uff0c\u53ea\u6709\u9ad8\u4f18\u5148\u7ea7\u961f\u5217\u7a7a\u95f2\u65f6\u624d\u8c03\u5ea6\u4f4e\u4f18\u5148\u7ea7\u961f\u5217\u3002</li> </ol> </li> <li>\u65f6\u95f4\u7247\u8f6e\u8f6c</li> </ol> <p>\u9875\u9762\u7f6e\u6362\u7b56\u7565</p> <p>\u9875\u9762\u7f6e\u6362\u7b56\u7565\uff0c\u4e5f\u5c31\u662f\u7f13\u5b58\u6dd8\u6c70\u7b56\u7565</p> <ol> <li>\u5148\u8fdb\u5148\u51fa</li> <li>\u6700\u8fd1\u6700\u4e45\u672a\u4f7f\u7528\uff08LRU\uff09\uff0c\u901a\u5e38\u7528\u4e00\u4e2a\u53cc\u5411\u94fe\u8868\u7ef4\u62a4\u7f13\u5b58\u9875\u9762\u4fe1\u606f\uff0c\u6bcf\u5f53\u7531\u9875\u9762\u88ab\u8bbf\u95ee\u65f6\uff0c\u5c06\u5176\u79fb\u52a8\u5230\u94fe\u8868\u5934\u90e8\uff0c\u8fd9\u6837\uff0c\u94fe\u8868\u5c3e\u90e8\u7684\u9875\u9762\u5c31\u662f\u6700\u8fd1\u6700\u4e45\u672a\u4f7f\u7528\u7684\u9875\u9762\uff0c\u6bcf\u6b21\u6dd8\u6c70\u65f6\u9009\u62e9\u94fe\u8868\u5c3e\u90e8\u7684\u9875\u9762\u3002</li> <li>\u6700\u4e0d\u5e38\u7528\uff08LFU\uff09\uff0c\u4e3a\u6bcf\u4e2a\u9875\u9762\u7ef4\u62a4\u4e00\u4e2a\u8bbf\u95ee\u8ba1\u6570\u5668\uff0c\u6bcf\u6b21\u6dd8\u6c70\u8bbf\u95ee\u6b21\u6570\u6700\u5c0f\u7684\u9875\u9762\u3002</li> <li>\u65f6\u949f\u9875\u9762\u7f6e\u6362\uff0c\u5bf9\u6bcf\u4e2a\u5185\u5b58\u9875\u52a0\u4e2a\u8bbf\u95ee\u4f4d\uff0c\u88ab\u8bbf\u95ee\u5230\u7f6e\u4f4d1\uff0c\u65b0\u9875\u9762\u4e3a0\uff0c\u9875\u9762\u7f6e\u6362\u65f6\u626b\u63cf\uff0c\u5c06\u8bbf\u95ee\u4f4d\u4e3a0\u65f6\u6362\u51fa\uff0c\u8bbf\u95ee\u4f4d\u4e3a1\u7684\u91cd\u7f6e\u4e3a0\u3002</li> <li>\u6700\u4f73\u9875\u9762\u7f6e\u6362\uff0c\u6700\u7406\u60f3\u7684\u9875\u9762\u7f6e\u6362\uff0c\u662f\u4e00\u4e2a\u6982\u5ff5\uff0c\u4e0d\u662f\u67d0\u4e2a\u5177\u4f53\u7684\u7b97\u6cd5\u3002</li> </ol> <p>\u7cfb\u7edf\u8c03\u7528\u7684\u6267\u884c\u8fc7\u7a0b</p> <ol> <li>\u5e94\u7528\u7a0b\u5e8f\u5728\u7528\u6237\u6001\u901a\u8fc7\u5e93\u51fd\u6570\uff08\u5982read\u3001write\u3001open\u7b49\uff09\u53d1\u8d77\u7cfb\u7edf\u8c03\u7528\u8bf7\u6c42\u3002</li> <li>\u7cfb\u7edf\u8c03\u7528\u4f1a\u89e6\u53d1\u4e00\u6b21\u8f6f\u4e2d\u65ad\uff08\u5982x86\u4e0a\u7684int 0x80\u6216syscall\u6307\u4ee4\uff09\uff0cCPU\u4ece\u7528\u6237\u6001\u5207\u6362\u5230\u5185\u6838\u6001\uff0c\u8fdb\u5165\u64cd\u4f5c\u7cfb\u7edf\u5185\u6838\u3002</li> <li>\u7cfb\u7edf\u8c03\u7528id\u548c\u53c2\u6570\u901a\u8fc7\u5bc4\u5b58\u5668\u6216\u6808\u4f20\u9012\u7ed9\u5185\u6838\uff0c\u5185\u6838\u6839\u636e\u7cfb\u7edf\u8c03\u7528id\u627e\u5230\u5bf9\u5e94\u7684\u5185\u6838\u670d\u52a1\u4f8b\u7a0b\u3002</li> <li>\u5185\u6838\u6839\u636e\u8bf7\u6c42\u6267\u884c\u76f8\u5e94\u7684\u64cd\u4f5c\uff08\u5982\u6587\u4ef6\u8bfb\u5199\u3001\u8fdb\u7a0b\u7ba1\u7406\u3001\u5185\u5b58\u5206\u914d\u7b49\uff09\uff0c\u8bbf\u95ee\u786c\u4ef6\u6216\u5185\u6838\u8d44\u6e90\u3002</li> <li>\u5185\u6838\u5c06\u6267\u884c\u7ed3\u679c\u8fd4\u56de\u7ed9\u7528\u6237\u7a0b\u5e8f\uff0cCPU\u4ece\u5185\u6838\u6001\u5207\u6362\u56de\u7528\u6237\u6001\uff0c\u5e94\u7528\u7a0b\u5e8f\u7ee7\u7eed\u8fd0\u884c\u3002</li> </ol> <p>\u8f6f\u4e2d\u65ad\u662f\u4e2d\u65ad\u7684\u8f6f\u4ef6\u5b9e\u73b0\uff0c\u548c\u786c\u4e2d\u65ad\u76f8\u5bf9\uff0c\u8f6f\u4e2d\u65ad\u53ef\u4ee5\u8ba9cpu\u4ece\u7528\u6237\u6001\u5207\u6362\u5230\u5185\u6838\u6001\uff0c\u4e3b\u8981\u7528\u4e8e\u5b9e\u73b0\u7cfb\u7edf\u8c03\u7528\u548c\u5185\u6838\u4efb\u52a1\u8c03\u5ea6\u7b49\u3002</p> <p>\u8fdb\u7a0b\u63a7\u5236\u5757\uff08PCB, Process Control Block\uff09\u548c\u7ebf\u7a0b\u63a7\u5236\u5757\uff08TCB, Thread Control Block\uff09\u662f\u64cd\u4f5c\u7cfb\u7edf\u7528\u6765\u7ba1\u7406\u8fdb\u7a0b\u548c\u7ebf\u7a0b\u7684\u6838\u5fc3\u6570\u636e\u7ed3\u6784\u3002\u5b83\u4eec\u5206\u522b\u4fdd\u5b58\u5982\u4e0b\u5185\u5bb9\uff1a</p> <p>\u8fdb\u7a0b\u63a7\u5236\u5757\uff08PCB\uff09\u4e3b\u8981\u5185\u5bb9\uff1a - \u8fdb\u7a0b\u6807\u8bc6\u4fe1\u606f\uff1a\u8fdb\u7a0bID\uff08PID\uff09\u3001\u7236\u8fdb\u7a0bID\u3001\u7528\u6237ID\u7b49 - \u8fdb\u7a0b\u72b6\u6001\uff1a\u5c31\u7eea\u3001\u8fd0\u884c\u3001\u963b\u585e\u7b49 - \u7a0b\u5e8f\u8ba1\u6570\u5668\uff08PC\uff09\uff1a\u6307\u5411\u4e0b\u4e00\u6761\u5c06\u8981\u6267\u884c\u7684\u6307\u4ee4\u5730\u5740 - CPU\u5bc4\u5b58\u5668\u5185\u5bb9\uff1a\u4e0a\u4e0b\u6587\u5207\u6362\u65f6\u4fdd\u5b58/\u6062\u590d - \u5176\u5b83\u5185\u5bb9</p> <p>\u7ebf\u7a0b\u63a7\u5236\u5757\uff08TCB\uff09\u4e3b\u8981\u5185\u5bb9\uff1a - \u7ebf\u7a0b\u6807\u8bc6\u4fe1\u606f\uff1a\u7ebf\u7a0bID\u3001\u6240\u5c5e\u8fdb\u7a0bID - \u7ebf\u7a0b\u72b6\u6001\uff1a\u5c31\u7eea\u3001\u8fd0\u884c\u3001\u963b\u585e\u7b49 - \u7a0b\u5e8f\u8ba1\u6570\u5668\uff08PC\uff09\uff1a\u7ebf\u7a0b\u5f53\u524d\u6267\u884c\u4f4d\u7f6e - CPU\u5bc4\u5b58\u5668\u5185\u5bb9\uff1a\u7ebf\u7a0b\u4e0a\u4e0b\u6587 - \u6808\u6307\u9488\u548c\u6808\u7a7a\u95f4\u4fe1\u606f\uff1a\u6bcf\u4e2a\u7ebf\u7a0b\u6709\u72ec\u7acb\u7684\u6808 - \u7ebf\u7a0b\u8c03\u5ea6\u4fe1\u606f\uff1a\u4f18\u5148\u7ea7\u3001\u8c03\u5ea6\u961f\u5217\u6307\u9488\u7b49 - \u7ebf\u7a0b\u5c40\u90e8\u5b58\u50a8\uff08TLS\uff09\u4fe1\u606f - \u5176\u4ed6\uff1a\u5982\u4fe1\u53f7\u63a9\u7801\u3001\u7ebf\u7a0b\u79c1\u6709\u6570\u636e\u7b49</p>","tags":["\u9762\u8bd5"]},{"location":"interview/52.interview-bagu-general/#_3","title":"\u7a0b\u5e8f\u5185\u5b58\u5e03\u5c40","text":"<p>\u8fdb\u7a0b\u7684\u5185\u5b58\u5e03\u5c40\u5927\u6982\u5206\u4e3a\u4ee5\u4e0b5\u79cd\u5185\u5b58\u533a\u57df - \u4ee3\u7801\u533a - Data\u533a\uff0c\u5df2\u521d\u59cb\u5316\u7684\u5168\u5c40\u53d8\u91cf\u533a - BSS\u533a\uff0c\u672a\u521d\u59cb\u5316\u7684\u5168\u5c40\u53d8\u91cf\u533a\uff0c\u4f1a\u5728\u7a0b\u5e8f\u542f\u52a8\u540e\u81ea\u52a8\u6e05\u96f6\u3002 - \u5806\u533a - \u6808\u533a</p> <p>data\u533a\u5b58\u653e\u7684\u6570\u636e\u662f\u521d\u59cb\u5316\u8fc7\u7684\u5168\u5c40\u53d8\u91cf\uff0c\u5373\u7f16\u8bd1\u671f\u53ef\u4ee5\u786e\u5b9a\u503c\u7684\u53d8\u91cf</p> <p>bss\u533a\u5b58\u653e\u7684\u662f\u672a\u521d\u59cb\u5316\u7684\u5168\u5c40\u53d8\u91cf\uff0c\u7a0b\u5e8f\u542f\u52a8\u65f6\u4f1a\u5c06\u8fd9\u5757\u5185\u5b58\u533a\u57df\u6e050</p> <p>\u7a0b\u5e8f\u7684\u5185\u5b58\u5e03\u5c40\u662f\u7f16\u8bd1\u671f\u51b3\u5b9a\u7684\uff0c\u7f16\u8bd1\u5b8c\u6210\u540e\uff0c\u5185\u5b58\u5e03\u5c40\u4fe1\u606f\u5c31\u4f1a\u5199\u5165\u5230\u7f16\u51fa\u6765\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\u4e2d</p> <p>\u53ef\u4ee5\u901a\u8fc7\u4e00\u4e9b\u5de5\u5177\u67e5\u770b\u53ef\u6267\u884c\u6587\u4ef6\uff08exe\uff0cdll\uff0cso\u7b49\uff09\u7684\u5185\u5b58\u5e03\u5c40\uff0cwindows\u5e73\u53f0\u4e0b\u53ef\u4ee5\u7528vs\u81ea\u5e26\u7684dumpbin\u6216\u8005PE explorer\u548cPE explorer v2\u67e5\u770b\uff0clinux\u4e0b\u53ef\u4ee5\u7528readelf\u67e5\u770b</p> <p>windows\u548clinux\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\u683c\u5f0f\u4e0d\u4e00\u6837\uff0cwindows\u662fpe\u683c\u5f0f\uff0clinux\u662felf\u683c\u5f0f</p> <p>\u5b9e\u9645\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\u4e2d\u4f1a\u6709\u5f88\u591a\u5185\u5b58\u533a\u57df\uff0c\u4e0a\u9762\u63d0\u5230\u7684\u5176\u5b9e\u662f\u7406\u8bba\u4e0a\u76845\u7c7b\u5185\u5b58\u533a\u57df</p>","tags":["\u9762\u8bd5"]},{"location":"interview/52.interview-bagu-general/#_4","title":"\u5185\u5b58\u7ba1\u7406","text":"<p>\u865a\u62df\u5185\u5b58\u548c\u7269\u7406\u5185\u5b58</p> <p>\u865a\u62df\u5185\u5b58\u662f\u64cd\u4f5c\u7cfb\u7edf\u4e3a\u6bcf\u4e2a\u8fdb\u7a0b\u63d0\u4f9b\u7684\u3001\u770b\u8d77\u6765\u8fde\u7eed\u4e14\u72ec\u7acb\u7684\u5185\u5b58\u7a7a\u95f4\uff0c\u53c8\u79f0\u903b\u8f91\u5185\u5b58\u7a7a\u95f4\u3002\u6bcf\u4e2a\u8fdb\u7a0b\u90fd\u8ba4\u4e3a\u81ea\u5df1\u62e5\u6709\u5b8c\u6574\u7684\u3001\u72ec\u7acb\u7684\u5185\u5b58\uff0c\u4e0d\u4f1a\u4e0e\u5176\u4ed6\u8fdb\u7a0b\u51b2\u7a81\u3002\u865a\u62df\u5185\u5b58\u7684\u5927\u5c0f\u901a\u5e38\u5927\u4e8e\u5b9e\u9645\u7269\u7406\u5185\u5b58\uff0c\u4f9d\u8d56\u4e8e\u78c1\u76d8\u7a7a\u95f4\uff08\u5982\u4ea4\u6362\u5206\u533a\u6216\u9875\u9762\u6587\u4ef6\uff09\u8fdb\u884c\u6269\u5c55\u3002</p> <p>\u7269\u7406\u5185\u5b58\u6307\u7684\u662f\u8ba1\u7b97\u673a\u5b9e\u9645\u5b89\u88c5\u7684\u5185\u5b58\u6761\uff08RAM\uff09\uff0c\u662f\u6240\u6709\u8fdb\u7a0b\u548c\u64cd\u4f5c\u7cfb\u7edf\u5171\u4eab\u7684\u771f\u5b9e\u786c\u4ef6\u8d44\u6e90\u3002</p> <p>\u865a\u62df\u5185\u5b58\u548c\u7269\u7406\u5185\u5b58\u7684\u6620\u5c04\u7531\u64cd\u4f5c\u7cfb\u7edf\u548c\u786c\u4ef6\uff08MMU\uff0c\u5185\u5b58\u7ba1\u7406\u5355\u5143\uff09\u5171\u540c\u5b8c\u6210\u3002\u64cd\u4f5c\u7cfb\u7edf\u5c06\u865a\u62df\u5730\u5740\u7a7a\u95f4\u5212\u5206\u4e3a\u9875\uff08Page\uff09\uff0c\u901a\u8fc7\u9875\u8868\uff08Page Table\uff09\u8bb0\u5f55\u865a\u62df\u9875\u4e0e\u7269\u7406\u9875\u7684\u5bf9\u5e94\u5173\u7cfb\u3002\u5f53\u8fdb\u7a0b\u8bbf\u95ee\u865a\u62df\u5730\u5740\u65f6\uff0cMMU \u4f1a\u6839\u636e\u9875\u8868\u5c06\u865a\u62df\u5730\u5740\u8f6c\u6362\u4e3a\u7269\u7406\u5730\u5740\uff0c\u5b9e\u73b0\u865a\u62df\u5185\u5b58\u5230\u7269\u7406\u5185\u5b58\u7684\u6620\u5c04\u3002\u5982\u679c\u8bbf\u95ee\u7684\u865a\u62df\u9875\u4e0d\u5728\u7269\u7406\u5185\u5b58\u4e2d\uff0c\u4f1a\u89e6\u53d1\u7f3a\u9875\u4e2d\u65ad\uff0c\u64cd\u4f5c\u7cfb\u7edf\u5c06\u6240\u9700\u6570\u636e\u4ece\u78c1\u76d8\u8c03\u5165\u7269\u7406\u5185\u5b58\u3002</p> <p>\u603b\u7ed3\uff1a</p> <p>\u865a\u62df\u5185\u5b58\uff1a\u8fdb\u7a0b\u770b\u5230\u7684\u903b\u8f91\u5185\u5b58\u7a7a\u95f4 \u7269\u7406\u5185\u5b58\uff1a\u5b9e\u9645\u7684\u786c\u4ef6\u5185\u5b58 \u6620\u5c04\u65b9\u5f0f\uff1a\u901a\u8fc7\u9875\u8868\u548cMMU\u5c06\u865a\u62df\u5730\u5740\u6620\u5c04\u5230\u7269\u7406\u5730\u5740</p> <p>\u5185\u5b58\u788e\u7247</p> <p>\u5185\u5b58\u788e\u7247\u662f\u6307\u5728\u5185\u5b58\u5206\u914d\u548c\u91ca\u653e\u8fc7\u7a0b\u4e2d\uff0c\u5185\u5b58\u7a7a\u95f4\u88ab\u5206\u5272\u6210\u8bb8\u591a\u96f6\u6563\u7684\u5c0f\u5757\uff0c\u5bfc\u81f4\u65e0\u6cd5\u6709\u6548\u5229\u7528\uff0c\u65e0\u6cd5\u5206\u914d\u5927\u5757\u8fde\u7eed\u5185\u5b58</p> <p>\u5982\u4f55\u5904\u7406\u5185\u5b58\u788e\u7247</p> <p>\u901a\u8fc7\u5185\u5b58\u5206\u914d\u7b97\u6cd5\u4f18\u5316\u5185\u5b58\u5206\u914d\uff0c\u5c3d\u91cf\u51cf\u5c11\u5185\u5b58\u788e\u7247\u4ea7\u751f\uff0c\u4f8b\u5982\u6700\u4f73\u9002\u5e94\u7b97\u6cd5\uff08Best Fit\uff09\uff0c\u67e5\u627e\u6700\u5c0f\u7684\u6ee1\u8db3\u8bf7\u6c42\u7684\u7a7a\u95f2\u5757\uff0c\u53ef\u80fd\u5bfc\u81f4\u5185\u5b58\u788e\u7247\u66f4\u5c0f\uff0c\u4f46\u901f\u5ea6\u6162\u3002</p> <p>\u5185\u5b58\u7d27\u7f29\uff08Compaction\uff09\uff0c\u5c06\u5185\u5b58\u4e2d\u5206\u6563\u7684\u5c0f\u5757\u7a7a\u95f2\u7a7a\u95f4\u6574\u7406\u6210\u5927\u5757\u8fde\u7eed\u7a7a\u95f4\uff08\u4e3b\u8981\u7528\u4e8e\u5916\u90e8\u788e\u7247\uff0c\u5e38\u89c1\u4e8e\u65e9\u671f\u64cd\u4f5c\u7cfb\u7edf\uff09\u3002</p> <p>\u5206\u9875\u548c\u5206\u6bb5\u673a\u5236\uff0c\u901a\u8fc7\u865a\u62df\u5185\u5b58\u7684\u5206\u9875\uff08Page\uff09\u548c\u5206\u6bb5\uff08Segment\uff09\u6280\u672f\uff0c\u5c06\u7269\u7406\u5185\u5b58\u5206\u4e3a\u56fa\u5b9a\u5927\u5c0f\u7684\u9875\u6216\u6bb5\uff0c\u6709\u6548\u907f\u514d\u6216\u51cf\u5c11\u5916\u90e8\u788e\u7247\u3002</p>","tags":["\u9762\u8bd5"]},{"location":"interview/52.interview-bagu-general/#linux","title":"linux\u4f7f\u7528","text":"<ul> <li><code>ps</code>\uff0c\u67e5\u770b\u8fdb\u7a0b\u72b6\u6001</li> <li>ps\u547d\u4ee4\u53c2\u6570\u5206\u4e09\u79cd\u98ce\u683c\uff0c\u5e26\u201c-\u201d\u7684\u662funix\u98ce\u683c\uff0c\u4e0d\u5e26\u7684\u662fbsd\u98ce\u683c\uff0c\u201c--\u201d\u662fGNU\u98ce\u683c\uff0c\u6700\u5751\u7684\u662f\u4e0d\u540c\u98ce\u683c\u7684\u8f93\u51fa\u4e0d\u4e00\u6837     &gt; \u6bd4\u5982\uff0cps -aux \u548c ps aux\u5176\u5b9e\u5b8c\u5168\u4e0d\u4e00\u6837\uff0c-aux\u662f\u60f3\u6253\u5370\u7528\u6237x\u7684\u6240\u6709\u8fdb\u7a0b\uff0c\u5982\u679c\u7528\u6237x\u4e0d\u5b58\u5728\uff0cps\u4f1a\u5e2e\u4f60\u628a\u547d\u4ee4\u6539\u5199\u6210ps aux</li> <li>\u67e5\u770b\u6240\u6709\u8fdb\u7a0b<ul> <li>ps -e\uff0cps -ef\uff0cps -eF\uff0cps -ely</li> <li>ps aux\uff0cps ax</li> </ul> </li> <li>\u67e5\u770b\u8fdb\u7a0b\u6811\uff0cps -ejH\uff0cps axjf</li> <li><code>ps aux</code>\uff0c<code>x</code>\u5217\u51fa\u6ca1\u6709\u63a7\u5236\u7ec8\u7aef\u7684\u8fdb\u7a0b\uff0c<code>u</code>\u5217\u51fa\u66f4\u591a\u4fe1\u606f\uff08\u7528\u6237\u3001CPU\u3001\u5185\u5b58\u7b49\uff09\u3001<code>a</code>\u5217\u51fa\u6240\u6709\u7528\u6237\u7684\u8fdb\u7a0b</li> <li>ps aux\u5b57\u6bb5\u542b\u4e49     <code>USER          \u8fdb\u7a0b\u6240\u6709\u8005\u7684\u7528\u6237\u540d     PID           \u8fdb\u7a0bID\uff08Process ID\uff09     START         \u8fdb\u7a0b\u6fc0\u6d3b\u65f6\u95f4     %CPU          \u8fdb\u7a0b\u7684cpu\u5360\u7528\u7387     %MEM          \u8fdb\u7a0b\u4f7f\u7528\u5185\u5b58\u7684\u767e\u5206\u6bd4     VSZ           \u8fdb\u7a0b\u4f7f\u7528\u7684\u865a\u62df\u5185\u5b58\u5927\u5c0f\uff0c\u4ee5K\u4e3a\u5355\u4f4d     RSS           \u9a7b\u7559\u7a7a\u95f4\u7684\u5927\u5c0f\u3002\u663e\u793a\u5f53\u524d\u5e38\u9a7b\u5185\u5b58\u7684\u7a0b\u5e8f\u7684K\u5b57\u8282\u6570\u3002     TTY           \u4e0e\u8fdb\u7a0b\u5173\u8054\u7684\u7ec8\u7aef\uff08tty\uff09     STAT          \u8fdb\u7a0b\u72b6\u6001\uff0c\u5305\u62ec\u4e0b\u9762\u7684\u72b6\u6001\uff1a            D    \u4e0d\u53ef\u4e2d\u65ad\u7684sleep\uff0c\u901a\u5e38\u5728IO           R    \u6b63\u5728\u8fd0\u884c\uff0c\u6216\u5728\u53ef\u8fd0\u884c\u961f\u5217\u4e2d\u7684\u8fdb\u7a0b           S    \u53ef\u4e2d\u65ad\u7684sleep\u72b6\u6001\uff0c\u901a\u5e38\u662f\u5728\u7b49\u5f85\u4e8b\u4ef6\u5c06\u5176\u5524\u9192           T    \u6682\u505c\u72b6\u6001\uff08ctrl+z\uff09\uff0c\u5373\u8fdb\u7a0b\u6302\u8d77\u72b6\u6001           t    \u7531\u4e8e\u8c03\u8bd5\u5668\u8ddf\u8e2a\u800c\u6682\u505c           Z    \u50f5\u5c38\u8fdb\u7a0b\uff0c\u8fdb\u7a0b\u5df2\u6267\u884c\u5b8c\u6bd5\uff0c\u4f46\u7236\u8fdb\u7a0b\u6ca1\u6709\u56de\u6536\u5176\u9000\u51fa\u72b6\u6001\uff0c\u8fd9\u65f6\u5019\u8fdb\u7a0b\u4f1a\u6210\u4e3a\u50f5\u5c38\u8fdb\u7a0b                  \u548c\u5b64\u513f\u8fdb\u7a0b\u4e0d\u540c\uff0c\u5b64\u513f\u8fdb\u7a0b\u662f\u6307\u7236\u8fdb\u7a0b\u5df2\u7ed3\u675f\uff0c\u7531init\u8fdb\u7a0b\u63a5\u7ba1\u7684\u8fdb\u7a0b           W    \u8fdb\u5165\u5185\u5b58\u4ea4\u6362\uff08\u4ece\u5185\u68382.6\u5f00\u59cb\u65e0\u6548\uff09           X    \u6b63\u5728\u88ab\u9500\u6bc1\uff08\u975e\u5e38\u77ed\u6682\uff0c\u51e0\u4e4e\u4e0d\u53ef\u80fd\u88ab\u770b\u5230\uff09       \u72b6\u6001\u63cf\u8ff0           &lt;    \u9ad8\u4f18\u5148\u7ea7           N    \u4f4e\u4f18\u5148\u7ea7           L    \u6709\u4e9b\u9875\u88ab\u9501\u8fdb\u5185\u5b58           s    session leader\uff08\u4f1a\u8bdd\u9996\u8fdb\u7a0b\uff09           +    \u5728\u524d\u53f0\u8fdb\u7a0b\u7ec4\u4e2d           l    \u591a\u7ebf\u7a0b\uff0c\u514b\u9686\u7ebf\u7a0b     TIME          \u8fdb\u7a0b\u4f7f\u7528\u7684\u603bCPU\u65f6\u95f4     COMMAND       \u88ab\u6267\u884c\u7684\u547d\u4ee4\u884c     NI            \u8fdb\u7a0b\u7684\u4f18\u5148\u7ea7\u503c\uff0c\u8f83\u5c0f\u7684\u6570\u5b57\u610f\u5473\u7740\u5360\u7528\u8f83\u5c11\u7684CPU\u65f6\u95f4     PRI           \u8fdb\u7a0b\u4f18\u5148\u7ea7\u3002     PPID          \u7236\u8fdb\u7a0bID     WCHAN         \u8fdb\u7a0b\u7b49\u5f85\u7684\u5185\u6838\u4e8b\u4ef6\u540d</code>     &gt;linux\u4e2d\u7684\u865a\u62df\u5185\u5b58\u4e0d\u662f\u6307swap\uff0c\u662f\u6307\u8fdb\u7a0b\u7684\u903b\u8f91\u5730\u5740\u7a7a\u95f4\uff0c\u53ea\u6709\u5b9e\u9645\u8bbf\u95ee\u5230\u7684\u5185\u5b58\u4f1a\u88ab\u6620\u5c04\u5230\u7269\u7406\u5185\u5b58\uff0c\u8fd9\u90e8\u5206\u7269\u7406\u5185\u5b58\u53eb\u5e38\u9a7b\u5185\u5b58\u3002</li> <li><code>grep</code>\uff0c\u6587\u672c\u641c\u7d22\uff0c<code>-c</code>\uff1a\u4ec5\u663e\u793a\u627e\u5230\u7684\u884c\u6570\uff0c<code>-n</code>\uff1a\u663e\u793a\u884c\u53f7\uff0c<code>-i</code>\uff1a\u5ffd\u7565\u5927\u5c0f\u5199\uff0c<code>-v</code>\uff1a\u53cd\u5411\u641c\u7d22\uff08\u641c\u7d22\u4e0d\u5305\u542b\u6307\u5b9a\u5b57\u7b26\u4e32\u7684\u884c\uff09</li> <li><code>crontab</code>\uff0c\u5b9a\u65f6\u4efb\u52a1\uff0c\u683c\u5f0f\uff0c\u201c\u5206 \u65f6 \u65e5 \u6708 \u661f\u671f \u547d\u4ee4\u201d</li> <li><code>free</code>\uff0c\u67e5\u770b\u5185\u5b58\uff0c\u9ed8\u8ba4\u6309KB\u67e5\u770b\uff0c-b\uff0c\u6309\u5b57\u8282\u5c55\u793a\uff0c-k\uff0c\u6309KB\u5c55\u793a\uff0c-m\uff0c\u6309MB\u5c55\u793a\uff0c-g\uff0c\u6309GB\u5c55\u793a\uff0c-h\uff0c\u6309\u9002\u5f53\u7684\u5355\u4f4d\u5c55\u793a\uff0c-s N\uff0c\u9694N\u79d2\u8f93\u51fa\u4e00\u6b21</li> <li>\u7b2c\u4e00\u884c\u662f\u5185\u5b58\uff0c\u7b2c\u4e8c\u884c\u662fswap</li> <li>total\u662f\u603b\u5185\u5b58\uff0cused\u662f\u5df2\u4f7f\u7528\u7684\u5185\u5b58\uff0cfree\u662f\u672a\u4f7f\u7528\u7684\u5185\u5b58\uff0cshared\u662f\u5171\u4eab\u4f7f\u7528\u7684\u5185\u5b58\uff0cbuff/cache\u662fbuffer\u548ccache\u4f7f\u7528\u7684\u5185\u5b58\uff0cavailable\u662f\u5e94\u7528\u7a0b\u5e8f\u53ef\u7528\u7684\u5185\u5b58\u3002</li> <li>\u548cfree\u76f8\u6bd4\uff0cavailable\u7b97\u5165\u4e86page cache     &gt;buffer\u662f\u6307buffer cache\uff0cbuffer cache\u662f\u5b58\u50a8\u5728\u5185\u5b58\u4e2d\u7684\u6587\u4ef6\u5757\uff08\u4e00\u4e2a\u6587\u4ef6\u5757\u5927\u5c0f\u4e0d\u80fd\u8d85\u8fc7\u5185\u5b58\u9875\u5927\u5c0f\uff09     &gt;     &gt;cache\u662f\u6307page cache\uff0c\u4e00\u822c\u7ffb\u8bd1\u6210\u9875\u9ad8\u901f\u7f13\u5b58\uff0c\u662f\u7528\u5185\u5b58\u505a\u78c1\u76d8\u7f13\u5b58\uff0c\u5305\u542b\u5bf9\u666e\u901a\u6587\u4ef6\u3001\u5757\u8bbe\u5907\u6587\u4ef6\u3001\u5185\u5b58\u6620\u5c04\u6587\u4ef6\u7684\u7f13\u5b58\u3002\u5bf9\u5757\u8bbe\u5907\u6587\u4ef6\u7684\u7f13\u5b58\u5c31\u662fbuffer cache\u3002</li> <li>free\u547d\u4ee4\u6765\u81ea<code>/proc/meminfo</code>\u6587\u4ef6\uff0c\u76f4\u63a5\u67e5\u770b\u8fd9\u4e2a\u6587\u4ef6\u4e5f\u884c</li> <li><code>top</code>\uff0c\u5b9e\u65f6\u67e5\u770b\u5f53\u524d\u7cfb\u7edf\u4e2d\u7684\u8fdb\u7a0b\u72b6\u6001</li> <li>\u7b2c\u4e00\u90e8\u5206\uff0c\u7cfb\u7edf\u603b\u4f53\u72b6\u51b5<ul> <li>\u7b2c\u4e00\u884c\uff0c\u5f53\u524d\u65f6\u95f4\uff0c\u8fd0\u884c\u65f6\u95f4\uff08up 2 day\uff09\uff0c\u5f53\u524d\u7528\u6237\u6570\u91cf\uff0c\u7cfb\u7edf\u5728\u4e4b\u524d1\u5206\u949f\u30015\u5206\u949f\u300115\u5206\u949f\u7684\u5e73\u5747\u8d1f\u8f7d</li> <li>\u7b2c\u4e8c\u884c\uff08\u8fdb\u7a0b\u4fe1\u606f\uff09\uff0c\u7cfb\u7edf\u4e2d\u7684\u8fdb\u7a0b\u603b\u6570\uff0c\u6b63\u5728\u8fd0\u884c\u7684\u8fdb\u7a0b\u6570\uff0c\u7761\u7720\u7684\u8fdb\u7a0b\u6570\uff0c\u6b63\u5728\u505c\u6b62\u7684\u8fdb\u7a0b\u6570\uff0c\u50f5\u5c38\u8fdb\u7a0b\u6570\u3002</li> <li>\u7b2c\u4e09\u884c\uff08cpu\u5360\u7528\uff09\uff0c\u7528\u6237\u6a21\u5f0f\uff0c\u7cfb\u7edf\u6a21\u5f0f...</li> <li>\u7b2c\u56db\u3001\u4e94\u884c\uff08\u5185\u5b58\u4fe1\u606f\uff0c\u548cfree\u547d\u4ee4\u5dee\u4e0d\u591a\uff09</li> </ul> </li> <li>\u7b2c\u4e8c\u90e8\u5206\uff0c\u5404\u4e2a\u8fdb\u7a0b\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u4ee5\u4e0b\u662f\u5404\u5b57\u6bb5\u542b\u4e49     <code>PID \u2014 \u8fdb\u7a0bid     USER \u2014 \u8fdb\u7a0b\u6240\u6709\u8005     PR \u2014 \u8fdb\u7a0b\u4f18\u5148\u7ea7\uff0c\u503c\u8d8a\u5c0f\u4f18\u5148\u7ea7\u8d8a\u9ad8     NI \u2014 nice\u503c\u3002\u9759\u6001\u4f18\u5148\u7ea7\uff0c\u503c\u8d8a\u5c0f\u4f18\u5148\u7ea7\u8d8a\u9ad8     VIRT \u2014 \u8fdb\u7a0b\u4f7f\u7528\u7684\u865a\u62df\u5185\u5b58\u603b\u91cf\uff0c\u5355\u4f4dkb\u3002     RES \u2014 \u5e38\u9a7b\u5185\u5b58\u5927\u5c0f\uff0c\u5355\u4f4dkb\u3002     SHR \u2014 \u5171\u4eab\u5185\u5b58\u5927\u5c0f\uff0c\u5355\u4f4dkb     S \u2014\u8fdb\u7a0b\u72b6\u6001\u3002     %CPU \u2014 cpu\u5360\u7528     %MEM \u2014 \u5185\u5b58\u5360\u7528     TIME+ \u2014 \u8fdb\u7a0b\u4f7f\u7528\u7684CPU\u65f6\u95f4\u603b\u8ba1\uff0c\u6700\u5c0f\u5355\u4f4d\u662f\u79d2     COMMAND \u2014 \u547d\u4ee4</code></li> <li><code>tar</code>\uff0c\u538b\u7f29\u548c\u6253\u5305\u547d\u4ee4</li> <li><code>netstat</code>\uff0c\u67e5\u770b\u7f51\u7edc\u72b6\u6001</li> <li>\u6309\u57df\u67e5\u770b\uff0c-4\uff0c-6\uff0c-A &lt;\u57df&gt;\uff0c--\u57df\uff0c\u5177\u4f53\u7684\u57df\u6709inet\uff08ipv4\uff09\u3001inet6\uff08ipv6\uff09\u7b49\u7b49</li> <li>\u6309socket\u67e5\u770b\uff0c-t\uff0c--tcp\uff0c-u\uff0c--udp\uff0c-x\uff0c--unix\uff0c-w\uff0c--raw\u7b49\u7b49</li> <li>-a\uff0c\u67e5\u770b\u6240\u6709socket\uff08\u9ed8\u8ba4\u53ea\u663e\u793a\u5efa\u7acb\u8fde\u63a5\u7684\uff09\uff0c-n\uff0c\u663e\u793aip\u800c\u4e0d\u662f\u57df\u540d\uff0c-p\uff0c\u663e\u793apid\uff08\u53ea\u6709\u5f53\u524d\u7528\u6237\u7684\u8fdb\u7a0b\u53f7\uff09\uff0c-o\uff0c\u663e\u793atimers\uff0c-l\uff0c\u53ea\u663e\u793a\u76d1\u542c\uff0c-e\uff0c\u663e\u793a\u7528\u6237\u548cinode</li> <li>-r\uff0c\u67e5\u770b\u8def\u7531\u8868\uff0c-i\uff0c\u67e5\u770b\u7f51\u5361\uff0c-s\uff0c\u67e5\u770b\u7f51\u7edc\u8fde\u63a5\u7edf\u8ba1\u6570\u636e</li> <li>-c\uff0c\u6301\u7eed\u8f93\u51fa</li> <li><code>ping</code>\uff0c\u7528\u4e8e\u68c0\u6d4b\u548c\u76ee\u6807\u4e3b\u673a\u7684\u7f51\u7edc\u8fde\u63a5</li> <li>\u5229\u7528icmp\u534f\u8bae\u7684echo\u4fe1\u606f\u68c0\u67e5\u76ee\u7684\u4e3b\u673a\u7684\u53ef\u8fbe\u6027\u3001\u5ef6\u8fdf\u3001\u62a5\u6587\u4e22\u5931\u60c5\u51b5     &gt;icmp\u534f\u8bae\uff08\u7f51\u7edc\u63a7\u5236\u62a5\u6587\u534f\u8bae\uff09\u662f\u4e00\u79cd\u5dee\u9519\u62a5\u544a\u548c\u4fe1\u606f\u67e5\u8be2\u534f\u8bae\uff0c\u5f53\u6570\u636e\u4f20\u8f93\u51fa\u73b0\u9519\u8bef\u65f6\uff0c\u5229\u7528icmp\u534f\u8bae\u901a\u77e5\u6e90\u4e3b\u673a\u6570\u636e\u4f20\u8f93\u51fa\u9519\uff0c\u4e5f\u53ef\u4ee5\u5229\u7528icmp\u67e5\u8be2\u4e00\u4e9b\u4fe1\u606f\u3002     &gt;     &gt;icmp\u62a5\u6587\u653e\u5728ip\u62a5\u6587\u7684\u6570\u636e\u90e8\u5206\u4e2d\uff0c\u4ece\u62a5\u6587\u7ed3\u6784\u4e0a\u6765\u770b\uff0cicmp\u662fip\u7684\u4e0a\u5c42\u534f\u8bae\uff0c\u4f46\u662ficmp\u627f\u62c5\u4e86ip\u5c42\u7684\u4efb\u52a1\uff0c\u56e0\u6b64\u6211\u4eec\u5c06icmp\u89c6\u4e3aip\u5c42\u534f\u8bae</li> <li><code>traceroute</code>\uff0c\u7528\u4e8e\u67e5\u770b\u5230\u76ee\u7684\u4e3b\u673a\u7684\u8def\u7531\u8def\u5f84</li> <li>traceroute\u6709\u4e09\u79cd\u5b9e\u73b0\uff0cicmp\u3001udp\u3001tcp</li> <li>udp\uff0c<code>traceroute xxx</code>\u6216<code>traceroute -T xxx</code>\uff0ctraceroute\u9ed8\u8ba4\u4f7f\u7528udp\u3002\u5411\u76ee\u7684\u4e3b\u673a\u53d1\u9001\u5f88\u591a\u4e0d\u540cTTL\u7684UDP\u62a5\u6587\uff0c\u5e76\u8bbf\u95ee\u4e00\u4e2a\u5927\u4e8e30000\u7684\u7aef\u53e3\u53f7\uff0c\u5982\u679c\u5728\u4f20\u8f93\u5230\u67d0\u4e2a\u8def\u7531\u5668\u65f6TTL\u7684\u503c\u51cf\u4e3a0\uff0c\u5219\u8def\u7531\u5668\u56de\u9001\u4e00\u4e2a\u8d85\u65f6\u7684ICMP\u62a5\u6587\uff0c\u5982\u679c\u62a5\u6587\u5230\u8fbe\u4e86\u76ee\u7684\u4e3b\u673a\uff0c\u5219\u76ee\u7684\u4e3b\u673a\u4f1a\u56de\u9001\u4e00\u4e2a\u7aef\u53e3\u4e0d\u53ef\u8fbe\u7684ICMP\u62a5\u6587\u3002</li> <li>icmp\uff0c<code>traceroute -I xxx</code>\u3002\u5229\u7528icmp echo\u5b9e\u73b0\uff0c\u5411\u76ee\u7684\u4e3b\u673a\u53d1\u9001\u5f88\u591a\u4e0d\u540cTTL\u7684ICMP echo\u8bf7\u6c42\u62a5\u6587\uff0c\u5982\u679c\u5728\u4f20\u8f93\u5230\u67d0\u4e2a\u8def\u7531\u5668\u65f6TTL\u7684\u503c\u51cf\u4e3a0\uff0c\u5219\u8def\u7531\u5668\u56de\u9001\u4e00\u4e2a\u8d85\u65f6\u7684ICMP\u62a5\u6587\uff0c\u5982\u679c\u62a5\u6587\u5230\u8fbe\u4e86\u76ee\u7684\u4e3b\u673a\uff0c\u5219\u76ee\u7684\u4e3b\u673a\u4f1a\u56de\u9001\u4e00\u4e2aICMP echo\u54cd\u5e94\u62a5\u6587\u3002     &gt;TTL\u901a\u5e38\u662f\u6307\u201c\u62a5\u6587\u6700\u5927\u751f\u5b58\u65f6\u95f4\u201d\uff0c\u4f46\u662f\u5728icmp\u91cc\uff0cTTL\u5c31\u662f\u6307\u8def\u7531\u5668\u7684\u8df3\u6570</li> <li>tcp\uff0c<code>traceroute -T xxx</code></li> <li>\u95ee\u9898<ul> <li>\u4f7f\u7528\u65f6\u770b\u4e0d\u5230\u76ee\u7684\u4e3b\u673a\uff0c\u4f7f\u7528udp\u534f\u8bae\u65f6\u53ef\u80fd\u4f1a\u51fa\u73b0\u8fd9\u79cd\u60c5\u51b5\uff0c\u539f\u56e0\u662f\u76ee\u7684\u4e3b\u673a\u6ca1\u5f00\u653eudp\u670d\u52a1\uff0c\u56de\u9001\u4e0d\u4e86\u201c\u7aef\u53e3\u4e0d\u53ef\u8fbe\u201dicmp\u62a5\u6587</li> <li>\u4f7f\u7528\u65f6\u770b\u4e0d\u5230\u4e2d\u95f4\u8def\u7531\u5668\uff0c\u53ef\u80fd\u662f\u56e0\u4e3a\u4e2d\u95f4\u8def\u7531\u5668\u4e0d\u652f\u6301\u56de\u9001\u8d85\u65f6icmp\u62a5\u6587</li> </ul> </li> <li>windows\u4e0b\u7684tracert\u4f7f\u7528icmp\u5b9e\u73b0</li> <li><code>kill</code>\uff0c\u6309\u8fdb\u7a0bid\u53d1\u4fe1\u53f7</li> <li>kill -l \u53ef\u4ee5\u67e5\u770b\u6240\u6709\u4fe1\u53f7\u7684\u7f16\u53f7</li> <li>kill\u9ed8\u8ba4\u53d1\u9001\u7684\u662fTERM\u4fe1\u53f7\uff08\u7f16\u53f715\uff09\uff0c\u4f1a\u8981\u6c42\u8fdb\u7a0b\u9000\u51fa\uff0c\u8fdb\u7a0b\u5728\u9000\u51fa\u524d\u53ef\u4ee5\u505a\u4e00\u4e9b\u5584\u540e\u5de5\u4f5c</li> <li>kill -9 \u53d1\u9001\u7684\u662fKILL\u4fe1\u53f7\uff0c\u8ba9\u8fdb\u7a0b\u5f3a\u5236\u9000\u51fa\uff0c\u4e0d\u7ed9\u8fdb\u7a0b\u5584\u540e\u7684\u673a\u4f1a</li> <li><code>killall</code>\uff0c\u6309\u8fdb\u7a0b\u540d\u5b57\u53d1\u4fe1\u53f7</li> <li><code>pkill</code>\uff0c\u7b5b\u9009\u8fdb\u7a0b\u5e76\u53d1\u4fe1\u53f7</li> <li><code>pgrep</code>\uff0c\u7b5b\u9009\u8fdb\u7a0b</li> <li>linux\u7684\u786c\u8fde\u63a5\u548c\u8f6f\u8fde\u63a5</li> <li>\u4e00\u4e2alinux\u6587\u4ef6\u5143\u4fe1\u606f\u5206\u4e3a\u4e24\u90e8\u5206\uff0c\u4e00\u90e8\u5206\u662f\u6587\u4ef6\u540d\uff0c\u53e6\u4e00\u90e8\u5206\u662finode\uff0cinode\u5b58\u653e\u4e86\u6587\u4ef6\u7684\u5c5e\u6027\u3001\u6570\u636e\u5757\u6307\u9488\u7b49</li> <li>\u8f6f\u8fde\u63a5\uff0c\u8f6f\u8fde\u63a5\u7c7b\u4f3c\u4e8ewindows\u4e2d\u7684\u5feb\u6377\u65b9\u5f0f\uff0c\u8f6f\u8fde\u63a5\u4e0d\u4f1a\u5bf9inode\u6709\u771f\u6b63\u7684\u5f15\u7528</li> <li>\u786c\u8fde\u63a5\u662f\u5bf9inode\u7684\u771f\u6b63\u5f15\u7528\uff0c\u53ea\u6709\u628a\u786c\u8fde\u63a5\u5168\u90e8\u5220\u9664\uff0c\u6587\u4ef6\u624d\u4f1a\u88ab\u5220\u6389</li> </ul>","tags":["\u9762\u8bd5"]},{"location":"interview/52.interview-bagu-general/#linuxio","title":"linux\u7684\u4e94\u79cdI/O\u6a21\u578b","text":"<ul> <li>\u963b\u585e\u5f0fI/O</li> <li>\u666e\u901a\u7684IO\u64cd\u4f5c\u90fd\u662f\u963b\u585e\u5f0fI/O</li> <li>\u963b\u585e\u5f0fI/O\u53ef\u80fd\u4f1a\u88ab\u6c38\u4e45\u963b\u585e\uff0c\u6bd4\u5982\u7f51\u7edc\u8fde\u63a5\u4e00\u76f4\u6ca1\u6709\u6570\u636e\u8fc7\u6765</li> <li>\u975e\u963b\u585e\u5f0fI/O</li> <li>\u5982\u679cI/O\u64cd\u4f5c\u56e0\u4e3a\u4e0d\u6ee1\u8db3\u6761\u4ef6\u800c\u65e0\u6cd5\u5b8c\u6210\uff0c\u8c03\u7528\u4f1a\u7acb\u5373\u51fa\u9519\u8fd4\u56de</li> <li>\u8bef\u533a1\uff0c\u963b\u585e\u5f0fI/O\u548c\u5f02\u6b65I/O\u6df7\u4e3a\u4e00\u8c08<ul> <li>\u975e\u963b\u585e\u662f\u5f3a\u8c03\u4e0d\u4f1a\u8fdb\u5165\u963b\u585e\u72b6\u6001\uff0c\u8c03\u7528\u4e00\u65e6\u8fd4\u56de\uff0c\u8fd9\u6b21\u8c03\u7528\u5c31\u5df2\u7ecf\u5b8c\u6210\u4e86\u3002</li> <li>\u5f02\u6b65I/O\u5f3a\u8c03\u7684\u662fI/O\u64cd\u4f5c\u548c\u8c03\u7528\u65b9\u5e76\u884c\uff0c\u5f02\u6b65\u8c03\u7528\u53d1\u8d77\u540e\u7acb\u5373\u8fd4\u56de\u7684\u4e0d\u662f\u6700\u7ec8\u7ed3\u679c\uff0c\u800c\u662f\u544a\u8bc9\u8c03\u7528\u8005\u4e00\u4e2a\u201c\u5df2\u6536\u5230\u201d\u4fe1\u606f\uff0c\u6700\u7ec8\u6267\u884c\u5b8c\u6210\u540e\u901a\u8fc7\u67d0\u79cd\u624b\u6bb5\u901a\u77e5\u8c03\u7528\u65b9\u6267\u884c\u7ed3\u679c\u3002</li> </ul> </li> <li>\u8bef\u533a2\uff0c\u975e\u963b\u585e\u5f0fI/O\u4f1a\u9020\u6210\u8fdb\u7a0b\u6216\u7ebf\u7a0b\u4e00\u76f4\u5360\u7528CPU<ul> <li>\u5360\u7528CPU\u7684\u4e0d\u662f\u975e\u963b\u585e\u5f0fI/O\uff0c\u800c\u662f\u7a0b\u5e8f\u5458\u8f6e\u8be2\u975e\u963b\u585e\u5f0fI/O\u9020\u6210\u7684\uff08\u6bd4\u5982\u5199\u4e2a\u6b7b\u5faa\u73af\u4e0d\u505c\u5730\u8c03\u7528\u975e\u963b\u585e\u5f0fI/O\uff0c\u76f4\u5230\u6210\u529f\u4e3a\u6b62\uff09</li> </ul> </li> <li>\u4fe1\u53f7\u9a71\u52a8I/O</li> <li>\u5185\u6838\u7528SIGIO\u8fd9\u4e2a\u4fe1\u53f7\u901a\u77e5\u8fdb\u7a0b\u6709\u4e8b\u4ef6\u5230\u8fbe\uff0c\u662f\u4e00\u79cd\u5f02\u6b65\u901a\u77e5\u673a\u5236</li> <li>\u4e00\u822c\u662fUDP\u901a\u4fe1\u4f1a\u4f7f\u7528\u8fd9\u4e2aI/O\u6a21\u578b\uff0c\u539f\u56e0\u662f\u7cfb\u7edf\u7edf\u4e00\u4f7f\u7528SIGIO\u8fd9\u4e00\u4e2a\u4fe1\u53f7\u8868\u793aI/O\u4e8b\u4ef6\uff0cUDP\u53ea\u6709\u4e24\u4e2a\u4e8b\u4ef6\u4f1a\u53d1\u51fa\u8fd9\u4e2a\u4fe1\u53f7\uff08\u6570\u636e\u5230\u8fbe\u548c\u53d1\u751f\u9519\u8bef\uff09\uff0c\u6bd4\u8f83\u5bb9\u6613\u5224\u65ad\u548c\u5904\u7406\uff0c\u800cTCP\u6709\u4e00\u5806\u4e8b\u4ef6\u4f1a\u53d1\u51fa\u8fd9\u4e2a\u4fe1\u53f7\uff0c\u800c\u4e14\u4fe1\u53f7\u53d1\u51fa\u8fc7\u4e8e\u9891\u7e41\uff0c\u6ca1\u6cd5\u91c7\u7528\u8fd9\u4e2aI/O\u6a21\u578b</li> <li>I/O\u591a\u8def\u590d\u7528</li> <li>\u540c\u65f6\u4ece\u591a\u4e2a\u6587\u4ef6\u63cf\u8ff0\u7b26\u91cc\u8bfb\u6570\u636e\uff0c\u53ef\u4ee5\u5728\u540c\u4e00\u4e2a\u7ebf\u7a0b\u5185\u4e00\u4e2a\u5faa\u73af\u641e\u5b9a\uff0c\u964d\u4f4e\u7a0b\u5e8f\u590d\u6742\u5ea6</li> <li>\u901a\u8fc7 I/O \u590d\u7528\u51fd\u6570\u5411\u5185\u6838\u6ce8\u518c\u4e00\u7ec4\u6587\u4ef6\u63cf\u8ff0\u7b26\uff0c\u5f53\u67d0\u4e2a\u6587\u4ef6\u63cf\u8ff0\u7b26\u51c6\u5907\u597d\u6570\u636e\u65f6\uff0cI/O \u590d\u7528\u51fd\u6570\u628a\u5176\u4e2d\u5c31\u7eea\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\u8fd4\u56de\u7ed9\u7528\u6237\u7a0b\u5e8f\uff0c\u7528\u6237\u7a0b\u5e8f\u53ea\u9700\u8981\u8f6e\u8be2I/O\u590d\u7528\u51fd\u6570\u5373\u53ef\uff0cI/O\u590d\u7528\u51fd\u6570\u662f\u963b\u585e\u5f0f\u7684\uff0c\u56e0\u6b64\u8f6e\u8be2\u5e76\u4e0d\u4f1a\u5360\u7528cpu\u8d44\u6e90</li> <li>\u5f02\u6b65I/O</li> <li>\u4ee5\u4e0a\u56db\u79cdI/O\u6a21\u578b\uff0c\u6700\u591a\u53ea\u80fd\u5b9e\u73b0\u5f02\u6b65\u5f62\u5f0f\u7684\u901a\u77e5\uff0c\u800c\u6700\u91cd\u8981\u7684\u6570\u636e\u4f20\u8f93\u90fd\u662f\u540c\u6b65\u7684\uff0c\u5373\u6570\u636e\u4f20\u8f93\u90fd\u8981\u7531\u7528\u6237\u7ebf\u7a0b\u6216\u8fdb\u7a0b\u4eb2\u81ea\u5b8c\u6210\u3002</li> <li>\u5f02\u6b65I/O\u6570\u636e\u4f20\u8f93\u7531\u5185\u6838\u63a5\u7ba1\uff0c\u7528\u6237\u8fdb\u7a0b\u53ea\u9700\u8981\u53d1\u8d77I/O\u8bf7\u6c42\u548c\u7b49\u5f85\u5b8c\u6210\u901a\u77e5\u5373\u53ef</li> </ul>","tags":["\u9762\u8bd5"]},{"location":"interview/52.interview-bagu-general/#linux-io","title":"linux I/O\u591a\u8def\u590d\u7528","text":"<ul> <li>linux\u7684IO\u591a\u8def\u590d\u7528\uff0c\u591a\u8def\u662f\u6307\u591a\u4e2a\u6587\u4ef6\u63cf\u8ff0\u7b26\uff0c\u590d\u7528\u662f\u6307\u5355\u7ebf\u7a0b\u6216\u5355\u8fdb\u7a0b\u53ef\u4ee5\u540c\u65f6\u76d1\u542c\u591a\u4e2a\u6587\u4ef6\u63cf\u8ff0\u7b26</li> <li>I/O\u591a\u8def\u590d\u7528\u662flinux\u7684\u4e94\u79cdI/O\u6a21\u578b\u4e2d\u7684\u4e00\u79cd\uff0c\u662f\u4e3a\u4e86\u89e3\u51b3\u5728\u540c\u4e00\u4e2a\u7528\u6237\u8fdb\u7a0b\u5185\u540c\u65f6\u8bfb\u5199\u591a\u4e2a\u6587\u4ef6\u63cf\u8ff0\u7b26\u7684\u95ee\u9898</li> <li>\u4e09\u79cd\uff0cselect/pselect\u3001poll\u3001epoll</li> <li>\u901a\u8fc7 I/O \u590d\u7528\u51fd\u6570\u5411\u5185\u6838\u6ce8\u518c\u4e00\u7ec4\u6587\u4ef6\u63cf\u8ff0\u7b26\uff0c\u5f53\u67d0\u4e2a\u6587\u4ef6\u63cf\u8ff0\u7b26\u51c6\u5907\u597d\u6570\u636e\u65f6\uff0cI/O \u590d\u7528\u51fd\u6570\u628a\u5176\u4e2d\u5c31\u7eea\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\u8fd4\u56de\u7ed9\u7528\u6237\u7a0b\u5e8f\uff0c\u7528\u6237\u7a0b\u5e8f\u53ea\u9700\u8981\u8f6e\u8be2I/O\u590d\u7528\u51fd\u6570\u5373\u53ef\u3002I/O\u590d\u7528\u51fd\u6570\u662f\u963b\u585e\u5f0f\u7684\uff0c\u56e0\u6b64\u5faa\u73af\u8c03\u7528\u5e76\u4e0d\u4f1a\u5360\u7528cpu\u8d44\u6e90\u3002</li> <li>I/O\u590d\u7528\u51fd\u6570\u5b9e\u9645\u4e0a\u662f\u628a\u6587\u4ef6\u63cf\u8ff0\u7b26\u7684\u72b6\u6001\u68c0\u67e5\u4ea4\u7ed9\u5185\u6838\u53bb\u63a5\u7ba1\uff0c\u7528\u6237\u8fdb\u7a0b\u53ea\u9700\u8981\u8bfb\u5199\u6570\u636e\u3002</li> <li>I/O\u591a\u8def\u590d\u7528\u901a\u8fc7\u8d85\u65f6\u65f6\u95f4\u6765\u63a7\u5236\u6587\u4ef6\u63cf\u8ff0\u7b26\u7684\u963b\u585e\u65f6\u95f4</li> <li>select</li> <li>\u4f20\u7ed9\u5185\u6838\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\u96c6\u7528\u4e00\u4e2a\u4f4d\u56fe\u6765\u8868\u793a\uff0c\u540c\u65f6\u8981\u4f20\u5165\u4e00\u4e2a\u6700\u5927\u6587\u4ef6\u63cf\u8ff0\u7b26+1\u8fd9\u4e2a\u4e00\u4e2a\u503c\uff0c\u544a\u8bc9\u5185\u6838\u4f20\u5165\u7684\u63cf\u8ff0\u7b26\u6570\uff0c\u5185\u6838\u5e38\u91cfFD_SETSIZE\u8868\u793a\u8fd9\u4e2a\u503c\u7684\u6700\u5927\u503c\uff081024\uff09\u3002</li> <li>select\u8fd4\u56de\u51c6\u5907\u597d\u7684\u63cf\u8ff0\u7b26\u6570\uff0c\u5e76\u4e14\u4f1a\u6839\u636e\u51c6\u5907\u597d\u7684\u63cf\u8ff0\u7b26\u96c6\u8986\u5199\u7528\u6237\u4f20\u5165\u7684\u4f4d\u56fe\u3002\u7b49\u4e8e\u8bf4\u662fselect\u8fd4\u56de\u4ee5\u540e\uff0c\u7528\u6237\u8fd8\u5f97\u81ea\u5df1\u53bb\u904d\u5386\u4f20\u5165\u7684\u4f4d\u56fe\uff0c\u4e0b\u4e00\u6b21\u8c03\u7528select\u7684\u65f6\u5019\u518d\u91cd\u65b0\u8bbe\u7f6e\u4f4d\u56fe\u3002</li> <li>\u6309\u4e8b\u4ef6\u7c7b\u578b\u5c06\u6587\u4ef6\u63cf\u8ff0\u7b26\u96c6\u5206\u4e3a\u53ef\u8bfb\u3001\u53ef\u5199\u548c\u5f02\u5e38\u4e09\u4e2a\u6587\u4ef6\u63cf\u8ff0\u7b26\u96c6\uff0c\u53ef\u4ee5\u6839\u636e\u9700\u8981\u4f20\u5165\u4e00\u4e2a\u6216\u591a\u4e2a\u6587\u4ef6\u63cf\u8ff0\u7b26\u96c6\u3002</li> <li>select\u7684\u53d8\u4f53pselect\uff0c\u8c03\u7528\u7684\u65f6\u5019\u53ef\u4ee5\u989d\u5916\u6307\u5b9a\u4e00\u4e2a\u4fe1\u53f7\u5c4f\u853d\u5b57</li> <li>poll</li> <li>poll\u4e0d\u50cfselect\u4e00\u6837\u4e3a\u6bcf\u4e2a\u6761\u4ef6\u5206\u522b\u6784\u9020\u4e00\u4e2a\u63cf\u8ff0\u7b26\u96c6\uff0c\u800c\u662f\u91c7\u7528\u4e00\u4e2a\u6570\u7ec4\uff0c\u6bcf\u4e2a\u5143\u7d20\u90fd\u662f\u4e00\u4e2a\u7ed3\u6784\u4f53\uff0c\u6307\u5b9a\u4e86\u6587\u4ef6\u63cf\u8ff0\u7b26\u548c\u4e8b\u4ef6\u7c7b\u578b\u3002\u4e8b\u4ef6\u7c7b\u578b\u6709\u4e24\u4e2a\uff0c\u4e00\u4e2a\u7531\u7528\u6237\u5199\u5165\uff0c\u4f5c\u4e3a\u53c2\u6570\uff0c\u4e00\u4e2a\u7531\u5185\u6838\u5199\u5165\uff0c\u4f5c\u4e3a\u8fd4\u56de\u3002</li> <li>poll\u7a81\u7834\u4e86\u6587\u4ef6\u63cf\u8ff0\u7b261024\u4e0a\u9650\u7684\u9650\u5236</li> <li>epoll</li> <li>epoll\u7531linux 2.6\u7248\u672c\u5f15\u5165</li> <li>epoll\u6709\u4e09\u4e2a\u51fd\u6570<ul> <li>epoll_create\uff0c\u521b\u5efaepoll\u53e5\u67c4\uff08\u4e5f\u662f\u4e00\u4e2a\u6587\u4ef6\u63cf\u8ff0\u7b26\uff09</li> <li>epoll_ctl\uff0c\u6ce8\u518c\u6587\u4ef6\u63cf\u8ff0\u7b26\u548c\u4e8b\u4ef6</li> <li>epoll_wait\uff0c\u7b49\u5f85\u4e8b\u4ef6\u53d1\u751f</li> </ul> </li> <li>\u76f8\u6bd4select\u548cpoll\uff0cepoll\u89e3\u51b3\u4e86\u4ec0\u4e48\u95ee\u9898<ol> <li>\u89e3\u51b3\u4e86select\u6587\u4ef6\u63cf\u8ff0\u7b26\u4e0a\u9650\u662f1024\u8fd9\u4e2a\u95ee\u9898</li> <li>\u5bf9\u4e8eselect\u548cpoll\uff0c\u5185\u6838\u901a\u8fc7\u8f6e\u8be2\u6765\u68c0\u67e5\u6587\u4ef6\u63cf\u8ff0\u7b26\u7684\u72b6\u6001\uff0c\u6587\u4ef6\u63cf\u8ff0\u7b26\u8d8a\u591a\uff0c\u6548\u7387\u8d8a\u4f4e</li> <li>select\u548cpoll\u7684\u6bcf\u6b21\u8c03\u7528\u662f\u4e0d\u76f8\u5173\u7684\uff0c\u6bcf\u6b21\u8c03\u7528\u90fd\u8981\u91cd\u65b0\u6784\u9020\u53c2\u6570\uff0c\u6bcf\u6b21\u8c03\u7528\u90fd\u4f1a\u53d1\u751f\u4ece\u7528\u6237\u6001\u5230\u5185\u6838\u6001\u7684\u5185\u5b58\u62f7\u8d1d</li> </ol> </li> <li>epoll\u7684\u539f\u7406<ul> <li>epoll\u80cc\u540e\u6709\u4e00\u5957\u6570\u636e\u7ed3\u6784\u5728\u505a\u652f\u6491\uff0c\u56e0\u6b64\u4e0d\u9700\u8981\u6bcf\u6b21\u8c03\u7528epoll_wait\u4e4b\u524d\u90fd\u91cd\u65b0\u6ce8\u518c\u6587\u4ef6\u63cf\u8ff0\u7b26\uff0c\u51cf\u5c11\u4e86\u5185\u5b58\u62f7\u8d1d</li> <li>epoll\u4e0d\u662f\u901a\u8fc7\u8f6e\u8be2\u6765\u68c0\u67e5\u6587\u4ef6\u63cf\u8ff0\u7b26\u7684\u72b6\u6001\uff0c\u800c\u662f\u7ed9\u6bcf\u4e2a\u6587\u4ef6\u63cf\u8ff0\u7b26\u6ce8\u518c\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\uff0c\u4e00\u65e6\u6709\u6ce8\u518c\u4e8b\u4ef6\u53d1\u751f\uff0c\u5c31\u4f1a\u8c03\u7528\u56de\u8c03\u51fd\u6570\u628a\u6587\u4ef6\u63cf\u8ff0\u7b26\u52a0\u5165\u4e00\u4e2a\u5c31\u7eea\u5217\u8868\uff0cepoll_wait\u51fd\u6570\u53ea\u662f\u628a\u8fd9\u4e2a\u5c31\u7eea\u5217\u8868\u8fd4\u56de\u7ed9\u7528\u6237\uff0c\u6548\u7387\u5927\u5927\u63d0\u5347\u3002</li> <li>epoll\u6709\u4e24\u79cd\u5de5\u4f5c\u6a21\u5f0fLT\uff08level-trigger, \u6c34\u5e73\u89e6\u53d1\uff0c\u9ed8\u8ba4\uff09\u548cET\uff08edge-trigger, \u8fb9\u7f18\u89e6\u53d1\uff09</li> <li>LT\u662f\u5982\u679c\u4e00\u4e2a\u6587\u4ef6\u63cf\u8ff0\u7b26\u5904\u4e8e\u5c31\u7eea\u72b6\u6001\uff0c\u5185\u6838\u5c31\u4f1a\u901a\u77e5\u4f60\u64cd\u4f5c\uff0c\u5373\u4f7f\u4f60\u6bcf\u6b21\u90fd\u4e0d\u505a\u64cd\u4f5c\uff0c\u5185\u6838\u8fd8\u662f\u6bcf\u6b21\u90fd\u4f1a\u901a\u77e5\u4f60\u3002LT\u540c\u65f6\u652f\u6301\u963b\u585e\u5f0fI/O\u548c\u975e\u963b\u585e\u5f0fI/O</li> <li>ET\u662f\u5185\u6838\u53ea\u6709\u5728\u6587\u4ef6\u63cf\u8ff0\u7b26\u53d1\u751f\u53d8\u5316\u7684\u65f6\u5019\u624d\u4f1a\u901a\u77e5\u4f60\uff0c\u5982\u679c\u6587\u4ef6\u63cf\u8ff0\u7b26\u5c31\u7eea\u4e86\uff0c\u4f60\u6ca1\u6709\u505a\u4efb\u4f55\u64cd\u4f5c\u6216\u8005\u6570\u636e\u6ca1\u8bfb\u5b8c\uff0c\u4e0b\u6b21\u5185\u6838\u5c31\u4e0d\u4f1a\u7ee7\u7eed\u901a\u77e5\u4f60\u4e86\uff0c\u56e0\u4e3a\u6587\u4ef6\u63cf\u8ff0\u7b26\u7684\u72b6\u6001\u6ca1\u6709\u53d8\u3002</li> </ul> </li> </ul>","tags":["\u9762\u8bd5"]},{"location":"interview/52.interview-bagu-general/#linux_1","title":"linux\u8fdb\u7a0b","text":"<ul> <li>fork\u662f\u4e00\u79cdcopy-on-write\u673a\u5236</li> <li>\u5b64\u513f\u8fdb\u7a0b\uff0c\u7236\u8fdb\u7a0b\u7ed3\u675f\u7684\u8fdb\u7a0b\uff0c\u7531init\u8fdb\u7a0b\u63a5\u7ba1\uff0c\u7236\u8fdb\u7a0b\u53d8\u4e3ainit\u8fdb\u7a0b</li> <li>\u50f5\u5c38\u8fdb\u7a0b\uff0c\u8fdb\u7a0b\u7ed3\u675f\u6267\u884c\u540e\uff0c\u5176\u8fdb\u7a0b\u63a7\u5236\u5757\uff08task_struct\uff09\u4e00\u76f4\u6ca1\u88ab\u7236\u8fdb\u7a0b\u56de\u6536\uff0c\u5904\u4e8e\u8fd9\u4e2a\u72b6\u6001\u7684\u8fdb\u7a0b\u53eb\u505a\u50f5\u5c38\u8fdb\u7a0b\u3002</li> <li>\u8fdb\u7a0b\u63a7\u5236\u5757\u901a\u5e38\u662f\u7531\u7236\u8fdb\u7a0b\u8c03\u7528wait\u51fd\u6570\u6765\u56de\u6536\uff0c\u4ee5\u83b7\u53d6\u5b50\u8fdb\u7a0b\u7684\u8fd4\u56de\u7801\uff0c\u8fd0\u884c\u72b6\u6001\u7b49\u4fe1\u606f\u3002</li> <li>\u89e3\u51b3\u529e\u6cd5\uff0ckill\u6389\u5176\u7236\u8fdb\u7a0b\uff0c\u50f5\u5c38\u8fdb\u7a0b\u4f1a\u88abinit\u8fdb\u7a0b\u63a5\u7ba1\u5e76\u56de\u6536\u3002</li> <li>\u8fdb\u7a0b\u7ec4</li> <li>\u6bcf\u4e2a\u8fdb\u7a0b\u90fd\u5c5e\u4e8e\u4e00\u4e2a\u8fdb\u7a0b\u7ec4</li> <li>\u6bcf\u4e2a\u8fdb\u7a0b\u7ec4\u6709\u4e00\u4e2a\u7ec4\u957f\u8fdb\u7a0b\uff0c\u7ec4\u957f\u8fdb\u7a0b\u7684\u8fdb\u7a0bid\u548c\u8fdb\u7a0b\u7ec4\u4e00\u81f4</li> <li>fork\u7684\u5b50\u8fdb\u7a0b\u9ed8\u8ba4\u52a0\u5165\u7236\u8fdb\u7a0b\u7684\u8fdb\u7a0b\u7ec4</li> <li>\u4f1a\u8bdd\uff08session\uff09</li> <li>\u4f1a\u8bdd\u548c\u4e00\u4e2a\u63a7\u5236\u7ec8\u7aef\u76f8\u5173\u8054\uff0c\u4e00\u4e2a\u4f1a\u8bdd\u5305\u542b\u591a\u4e2a\u8fdb\u7a0b\u7ec4\uff0c\u5176\u4e2d\u6709\u4e00\u4e2a\u662f\u524d\u53f0\u8fdb\u7a0b\u7ec4\uff0c\u5176\u4ed6\u7684\u662f\u540e\u53f0\u8fdb\u7a0b\u7ec4</li> <li>\u4f1a\u8bdd\u9996\u8fdb\u7a0b\u662f\u63a7\u5236\u8fdb\u7a0b\uff0c\u6ca1\u6709\u7ec8\u7aef\uff0c\u4f1a\u8bdd\u9996\u8fdb\u7a0b\u6210\u4e3a\u4e00\u4e2a\u65b0\u8fdb\u7a0b\u7ec4\u7684\u7ec4\u957f</li> <li>\u7528\u6237\u5728shell\u4e2d\u542f\u52a8\u7684\u4e00\u4e2a\u8fdb\u7a0b\u7ec4\u79f0\u4e3a\u4e00\u4e2a\u4f5c\u4e1a</li> <li>\u53ea\u6709\u524d\u53f0\u4f5c\u4e1a\u80fd\u63a5\u53d7\u7ec8\u7aef\u8f93\u5165</li> <li>\u5b64\u513f\u8fdb\u7a0b\u7ec4</li> <li>\u5982\u679c\u4e00\u4e2a\u7ec4\u7684\u67d0\u4e2a\u8fdb\u7a0b\u7684\u7236\u8fdb\u7a0b\u662f\u540c\u4e00\u4f1a\u8bdd\u4e2d\u7684\u53e6\u4e00\u4e2a\u7ec4\u7684\u8fdb\u7a0b\uff0c\u90a3\u4e48\u8fd9\u4e2a\u7ec4\u5c31\u4e0d\u662f\u5b64\u513f\u8fdb\u7a0b\u7ec4\uff0c\u5426\u5219\u5b83\u662f\u5b64\u513f\u8fdb\u7a0b\u7ec4</li> <li>\u6362\u4e2a\u8bf4\u6cd5\uff0c\u4e00\u4e2a\u7ec4\u7684\u6240\u6709\u8fdb\u7a0b\u7684\u7236\u8fdb\u7a0b\u8981\u4e48\u662f\u7ec4\u5185\u7684\u4e00\u4e2a\u8fdb\u7a0b\uff0c\u8981\u4e48\u662f\u4f1a\u8bdd\u5916\u7684\u4e00\u4e2a\u8fdb\u7a0b\u3002</li> <li>\u5bf9\u4e8e\u5b64\u513f\u8fdb\u7a0b\u7ec4\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4f1a\u7ed9\u5b83\u4eec\u4e2d\u7684\u505c\u6b62\u8fdb\u7a0b\u53d1\u9001SIGHUP\uff08\u6302\u65ad\uff09\u4fe1\u53f7\u3002</li> <li>\u5b88\u62a4\u8fdb\u7a0b</li> <li>\u5b88\u62a4\u8fdb\u7a0b\u662f\u4e00\u79cd\u957f\u671f\u5728\u7cfb\u7edf\u540e\u53f0\u8fd0\u884c\u7684\u8fdb\u7a0b</li> <li>\u5185\u6838\u5b88\u62a4\u8fdb\u7a0b<ul> <li>ps\u547d\u4ee4\u8f93\u51fa\u7684\u65b9\u62ec\u53f7\u4e2d\u7684\u8fdb\u7a0b\u662f\u5185\u6838\u5b88\u62a4\u8fdb\u7a0b</li> <li>\u6240\u6709\u7684\u5185\u6838\u8fdb\u7a0b\u75312\u53f7\u8fdb\u7a0bkthreadd\u521b\u5efa\uff0ckthreadd\u4e5f\u662f\u4e00\u4e2a\u5185\u6838\u8fdb\u7a0b\u3002</li> <li>\u6bd4\u5982kswapd\uff0c\u8d1f\u8d23\u5185\u5b58\u6362\u9875</li> </ul> </li> <li>\u7528\u6237\u5b88\u62a4\u8fdb\u7a0b<ul> <li>\u75311\u53f7\u8fdb\u7a0binit\u521b\u5efa\uff0cinit\u662f\u7528\u6237\u6001\u8fdb\u7a0b(init\u8fdb\u7a0b\u662f\u4f20\u7edf\u7684linux\u521d\u59cb\u5316\u8fdb\u7a0b\uff0csystemd\u662f\u8f83\u65b0\u7684Linux\u521d\u59cb\u5316\u8fdb\u7a0b\uff0cpid\u4e5f\u662f1)</li> <li>\u6bd4\u5982inetd\u670d\u52a1\uff0c\u8d1f\u8d23\u4fa6\u542c\u7cfb\u7edf\u7f51\u7edc\u7aef\u53e3</li> </ul> </li> </ul>","tags":["\u9762\u8bd5"]},{"location":"interview/52.interview-bagu-general/#linuxipc","title":"linux\u8fdb\u7a0b\u95f4\u901a\u4fe1\uff08IPC\uff09","text":"<ul> <li>\u4fe1\u53f7\uff0c\u4fe1\u53f7\u662f\u4e00\u79cd\u8f6f\u4e2d\u65ad\u673a\u5236</li> <li>\u8fdb\u7a0b\u53ef\u4ee5\u7ed9\u4e00\u4e2a\u4fe1\u53f7\u6ce8\u518c\u4e00\u4e2a\u5904\u7406\u51fd\u6570\uff0c\u4e00\u65e6\u63a5\u6536\u5230\u4fe1\u53f7\uff0c\u5c31\u6267\u884c\u8fd9\u4e2a\u5904\u7406\u51fd\u6570</li> <li>\u5982\u4f55\u53d1\u4fe1\u53f7<ul> <li>\u7528\u6237\u6309\u4e0b\u67d0\u4e9b\u7ec8\u7aef\u6309\u952e\uff0c\u5982ctrl+c</li> <li>\u7528\u6237\u4f7f\u7528\u67d0\u4e9b\u7279\u6b8a\u547d\u4ee4\uff0c\u5982kill</li> <li>\u51fd\u6570\u8c03\u7528\uff0c\u5982kill\u3001raise\u3001alarm</li> </ul> </li> <li>\u4f5c\u4e1a\u63a7\u5236\u4fe1\u53f7<ul> <li>SIGINT\uff0c\u4e2d\u65ad\u4fe1\u53f7\uff08ctrl+c\uff09\uff0c\u503c\u4e3a2\uff0c\u5141\u8bb8\u7a0b\u5e8f\u5728\u9000\u51fa\u524d\u6e05\u7406\u8d44\u6e90</li> <li>SIGABRT\uff0c\u5f02\u5e38\u7ec8\u6b62\u4fe1\u53f7</li> <li>SIGQUIT\uff0c\u9000\u51fa\uff08ctrl+\\\uff09</li> <li>SIGTSTP\uff0c\u6682\u505c\uff08ctrl+z\uff09\uff0c\u53ef\u4ee5\u5ffd\u89c6</li> <li>SIGSTOP\uff0c\u6682\u505c\uff0c\u4e0d\u80fd\u5ffd\u89c6</li> <li>SIGCONT\uff0c\u7ee7\u7eed\u6267\u884c\u4fe1\u53f7</li> <li>SIGHUP\u4fe1\u53f7\uff0c\u6302\u65ad\u4f1a\u8bdd</li> </ul> </li> <li>\u5176\u4ed6\u4fe1\u53f7<ul> <li>SIGTERM\uff0c\u8bf7\u6c42\u9000\u51fa</li> <li>SIGKILL\uff0c\u5f3a\u5236\u9000\u51fa\uff0c\u503c\u4e3a9\uff0c\u7a0b\u5e8f\u4f1a\u7acb\u5373\u88ab\u7ec8\u6b62\uff0c\u65e0\u6cd5\u8fdb\u884c\u4efb\u4f55\u6e05\u7406\u6216\u8d44\u6e90\u91ca\u653e</li> <li>SIGIO\uff0cIO\u4e8b\u4ef6</li> </ul> </li> <li>\u7ba1\u9053</li> <li>\u53ea\u80fd\u5728\u6709\u516c\u5171\u7956\u5148\u7684\u8fdb\u7a0b\u95f4\u901a\u4fe1\uff0c\u6bd4\u5982\u7236\u5b50\u8fdb\u7a0b</li> <li>\u8c03\u7528pipe\u51fd\u6570\u521b\u5efa\u7ba1\u9053\uff0c\u8fd4\u56de\u4e24\u4e2a\u6587\u4ef6\u63cf\u8ff0\u7b26\uff0c\u5bf9\u5e94\u7ba1\u9053\u7684\u4e24\u7aef</li> <li>\u901a\u5e38\u7684\u505a\u6cd5\u662f\u5728\u7236\u8fdb\u7a0b\u521b\u5efa\u7ba1\u9053\uff0c\u7136\u540efork\u5b50\u8fdb\u7a0b\uff0c\u8fd9\u6837\u5b50\u8fdb\u7a0b\u4e5f\u62e5\u6709\u4e86\u8fd9\u4e2a\u7ba1\u9053\u3002\u8fdb\u7a0b\u628a\u81ea\u5df1\u4e0d\u7528\u7684\u90a3\u7aef\u5173\u6389\u3002</li> <li>\u534f\u540c\u8fdb\u7a0b\uff0c\u73b0\u5728\u6709\u4e00\u4e2a\u7a0b\u5e8fP\uff0c\u5b83\u4ece\u6807\u51c6\u8f93\u5165\u8bfb\uff0c\u5199\u5230\u6807\u51c6\u8f93\u51fa\uff0c\u5982\u679c\u6709\u4e00\u4e2a\u8fdb\u7a0bA\uff0c\u5229\u7528\u7ba1\u9053\u5199P\u7684\u6807\u51c6\u8f93\u5165\uff0c\u8bfbP\u7684\u6807\u51c6\u8f93\u51fa\uff0c\u90a3\u4e48\u6267\u884cP\u7684\u8fdb\u7a0b\u5c31\u662fA\u7684\u534f\u540c\u8fdb\u7a0b\u3002<ul> <li>\u5177\u4f53\u5b9e\u73b0\uff0cA fork \u8fdb\u7a0bB\uff0c\u521b\u5efa\u4e24\u4e2a\u7ba1\u9053p1\u548cp2\uff0cp1\u7684\u65b9\u5411\u662f\u4eceA\u5230B\uff0cp2\u7684\u65b9\u5411\u76f8\u53cd\uff0c\u7136\u540e\u5728\u8fdb\u7a0bB\u4e2d\u6267\u884c\u7a0b\u5e8fP\uff0c\u5e76\u5c06P\u7684\u6807\u51c6\u8f93\u5165\u6539\u4e3ap1\u7684\u8bfb\u7aef\uff0c\u5c06P\u7684\u6807\u51c6\u8f93\u51fa\u6539\u4e3ap2\u7684\u5199\u7aef\uff0c\u8fd9\u6837\u5c31\u5b9e\u73b0\u4e86A\u8f93\u51fa\u5230P\u7684\u6807\u51c6\u8f93\u5165\uff0cA\u4eceP\u7684\u6807\u51c6\u8f93\u5165\u8bfb\uff0c\u6b64\u65f6\uff0cB\u662fA\u7684\u534f\u540c\u8fdb\u7a0b\u3002</li> </ul> </li> <li>FIFO\uff0c\u53c8\u79f0\u547d\u540d\u7ba1\u9053</li> <li>\u548c\u7ba1\u9053\u4e0d\u540c\uff0cFIFO\u53ef\u4ee5\u5728\u4e24\u4e2a\u4e0d\u76f8\u5173\u7684\u8fdb\u7a0b\u4e4b\u95f4\u4f7f\u7528</li> <li>FIFO\u521b\u5efa\u5728\u6587\u4ef6\u7cfb\u7edf\u4e2d\uff0c\u6709\u8def\u5f84\u540d</li> <li>\u4e09\u79cdXSI IPC\uff08XSI\u662fPOSIX.1\u4e2d\u7684X/Open\u7cfb\u7edf\u63a5\u53e3\u7684\u7b80\u5199\uff0c\u5c5e\u4e8e\u4e00\u79cdUnix\u89c4\u8303\uff09</li> <li>\u6d88\u606f\u961f\u5217<ul> <li>\u662f\u5185\u6838\u4e2d\u7684\u4e00\u4e2a\u94fe\u8868\uff0c\u7531\u6d88\u606f\u961f\u5217\u6807\u8bc6\u7b26\u6807\u8bc6</li> <li>\u6d88\u606f\u961f\u5217\u53ef\u4ee5\u5b9e\u73b0\u5168\u53cc\u5de5\u901a\u4fe1</li> <li>\u6d88\u606f\u961f\u5217\u6700\u521d\u7684\u8bbe\u8ba1\u76ee\u7684\u662f\u63d0\u4f9b\u5168\u53cc\u5de5\u7684\u9ad8\u901f\u901a\u4fe1\uff0c\u4f46\u968f\u7740\u540e\u6765\u5f88\u591a\u65b0\u7684IPC\u673a\u5236\u7684\u63d0\u51fa\uff0c\u6d88\u606f\u961f\u5217\u7684\u6027\u80fd\u4f18\u52bf\u5df2\u7ecf\u4e0d\u590d\u5b58\u5728\uff0c\u5e76\u4e14\u7531\u4e8e\u5b83\u5b58\u5728\u7684\u4e00\u4e9b\u95ee\u9898\uff0c\u65b0\u7684\u7a0b\u5e8f\u91cc\u5df2\u7ecf\u4e0d\u63a8\u8350\u4f7f\u7528\u6d88\u606f\u961f\u5217\u4e86\u3002</li> <li>\u7f3a\u9677\uff0c\u6ca1\u6709\u5f15\u7528\u8ba1\u6570</li> </ul> </li> <li>\u4fe1\u53f7\u91cf\uff0c\u662f\u4e00\u4e2a\u8ba1\u6570\u5668\uff0c\u7528\u6765\u63a7\u5236\u5bf9\u4e34\u754c\u8d44\u6e90\u7684\u8bbf\u95ee<ul> <li>\u7f3a\u9677\uff0c\u4fe1\u53f7\u91cf\u4e0d\u662f\u4e00\u4e2a\u5355\u4e2a\u975e\u8d1f\u503c\uff0c\u800c\u662f\u4e00\u4e2a\u4fe1\u53f7\u91cf\u503c\u7684\u96c6\u5408\uff1b\u4fe1\u53f7\u91cf\u7684\u5b9a\u4e49\u548c\u521d\u59cb\u5316\u4e0d\u662f\u539f\u5b50\u7684\uff1b\u65e0\u7aef\u589e\u52a0\u7a0b\u5e8f\u7684\u590d\u6742\u6027</li> </ul> </li> <li>\u5171\u4eab\u5185\u5b58<ul> <li>\u5171\u4eab\u5185\u5b58\u5141\u8bb8\u591a\u4e2a\u8fdb\u7a0b\u5171\u4eab\u4e00\u6bb5\u5185\u5b58\u7a7a\u95f4\uff0c\u6570\u636e\u4e0d\u9700\u8981\u6765\u56de\u62f7\u8d1d\uff0c\u6240\u4ee5\u5171\u4eab\u5185\u5b58\u662f\u4e00\u79cd\u6700\u5feb\u7684IPC</li> <li>\u5171\u4eab\u5185\u5b58\u6bb5\u8981\u5148\u7533\u8bf7\uff0c\u7136\u540e\u8fde\u63a5\u5230\u8fdb\u7a0b\u81ea\u5df1\u7684\u5185\u5b58\u5730\u5740\u7a7a\u95f4</li> </ul> </li> <li>XSI IPC\u7684\u7edf\u4e00\u7f3a\u9677<ul> <li>\u5b83\u4eec\u5728\u5185\u6838\u4e2d\u662f\u5168\u5c40\u7684\uff0c\u6ca1\u6709\u5f15\u7528\u8ba1\u6570\uff0c\u4e0d\u4f1a\u81ea\u52a8\u56de\u6536\uff0c\u5fc5\u987b\u624b\u52a8\u91ca\u653e</li> <li>XSI IPC\u7684\u8d44\u6e90\u4e0d\u662f\u6587\u4ef6\u63cf\u8ff0\u7b26\u7684\u5f62\u5f0f\uff0c\u800c\u662f\u5404\u81ea\u4e13\u7528\u7684\u6807\u8bc6\u7b26</li> </ul> </li> <li>posix\u4fe1\u53f7\u91cf</li> <li>\u89e3\u51b3\u4e86XSI\u4fe1\u53f7\u91cf\u7684\u4e0d\u5c11\u95ee\u9898\uff0c\u6027\u80fd\u66f4\u9ad8\uff0c\u6ca1\u6709\u4fe1\u53f7\u91cf\u96c6\u7684\u8bbe\u5b9a\uff0c\u4e0d\u9700\u8981\u624b\u52a8\u7ba1\u7406</li> <li>\u63a8\u8350\u7528\u8fd9\u4e2a</li> <li>\u5185\u5b58\u6620\u5c04/\u5b58\u50a8\u6620\u5c04\uff08memory-mapped I/O mmap\uff09</li> <li>\u628a\u4e00\u4e2a\u6587\u4ef6\u76f4\u63a5\u6620\u5c04\u4e3a\u4e00\u6bb5\u5185\u5b58\u5730\u5740\uff0c\u8bfb\u5199\u8fd9\u6bb5\u5185\u5b58\u5730\u5740\u5c31\u76f8\u5f53\u4e8e\u5bf9\u8fd9\u4e2a\u6587\u4ef6I/O</li> <li>\u5229\u7528mmap\u5b9e\u73b0</li> <li>socket</li> <li>tcp\u3001udp\u3001unix\u57df</li> <li>\u8bb0\u5f55\u9501</li> <li>\u5bf9\u6587\u4ef6\u4e0a\u9501\uff0c\u53ef\u4ee5\u53ea\u5bf9\u6587\u4ef6\u7684\u4e00\u90e8\u5206\u4e0a\u9501</li> <li>\u4e09\u79cd\u64cd\u4f5c\uff1a\u5171\u4eab\u8bfb\u3001\u72ec\u5360\u5199\u3001\u89e3\u9501</li> <li>\u8bb0\u5f55\u9501\u53ea\u80fd\u7528\u4e8e\u591a\u8fdb\u7a0b\uff0c\u4e0d\u80fd\u7528\u4e8e\u591a\u7ebf\u7a0b</li> </ul>","tags":["\u9762\u8bd5"]},{"location":"interview/52.interview-bagu-general/#linux_2","title":"linux\u7ebf\u7a0b\u540c\u6b65","text":"<ul> <li>\u7ebf\u7a0b\u57fa\u672c\u64cd\u4f5c</li> <li>\u521b\u5efa\uff0cpthread_create</li> <li>\u7ec8\u6b62\uff0cpthread_exit</li> <li>\u7b49\u5f85\u5176\u4ed6\u7ebf\u7a0b\u6267\u884c\u5b8c\u6bd5\uff0cpthread_join</li> <li>\u8bf7\u6c42\u53d6\u6d88\u53e6\u5916\u4e00\u4e2a\u7ebf\u7a0b\uff0cpthread_cancel\uff0c\u53d6\u6d88\u662f\u4e00\u79cd\u975e\u6b63\u5e38\u9000\u51fa</li> <li>\u5206\u79bb\uff0cpthread_detach\uff0cjoin\u64cd\u4f5c\u4e0d\u80fd\u7b49\u5f85\u5206\u79bb\u7ebf\u7a0b</li> <li>\u7ebf\u7a0b\u5176\u4ed6\u64cd\u4f5c</li> <li>\u83b7\u53d6\u7ebf\u7a0bid</li> <li>\u6ce8\u518c\u7ebf\u7a0b\u6e05\u7406\u51fd\u6570</li> <li>\u7ebf\u7a0b\u540c\u6b65</li> <li>\u6240\u6709\u9501\u90fd\u53ef\u4ee5\u8bbe\u7f6e\u963b\u585e\u65f6\u95f4</li> <li>\u4e92\u65a5\u91cfmutex</li> <li>\u8bfb\u5199\u9501</li> <li>\u6761\u4ef6\u53d8\u91cf<ul> <li>\u548c\u4e92\u65a5\u91cf\u914d\u5408\u4f7f\u7528</li> <li>\u4f7f\u7528\u6b65\u9aa4</li> <li>\u7528\u6237\u8bbe\u5b9a\u4e00\u4e2a\u6761\u4ef6</li> <li>\u4e00\u4e2a\u7ebf\u7a0b\u56e0\u7b49\u5f85\u6761\u4ef6\u6210\u7acb\u800c\u963b\u585e\uff0c<code>pthread_cond_wait()</code></li> <li>\u53e6\u5916\u4e00\u4e2a\u7ebf\u7a0b\u4f7f\u6761\u4ef6\u6210\u7acb\uff0c<code>pthread_cond_broadcast()</code>\u6216<code>pthread_cond_signal()</code></li> <li>\u6761\u4ef6\u53d8\u91cf\u5206\u4e3a\u4e24\u90e8\u5206: \u6761\u4ef6\u548c\u53d8\u91cf\u3002\u6761\u4ef6\u672c\u8eab\u662f\u7531\u4e92\u65a5\u91cf\u4fdd\u62a4\u7684\uff0c\u7ebf\u7a0b\u5728\u6539\u53d8\u6761\u4ef6\u72b6\u6001\u524d\u5148\u8981\u9501\u4f4f\u4e92\u65a5\u91cf\u3002\u5177\u4f53\u8fc7\u7a0b\u662f\u8fd9\u6837\u7684\uff1a\u7ebf\u7a0b\u8fdb\u5165wait\u524d\uff0c\u7531\u7528\u6237\u52a0\u9501mutex\uff0c\u7ebf\u7a0b\u8fdb\u5165wait\u540e\u91ca\u653emutex\uff0c\u4fdd\u8bc1wait\u8fc7\u7a0b\u662f\u539f\u5b50\u64cd\u4f5c\uff1b\u5524\u9192\u4e5f\u4e00\u6837\uff0c\u5524\u9192\u524d\u5148\u52a0\u9501\uff0c\u5524\u9192\u540e\u89e3\u9501\uff1b</li> <li>\u6761\u4ef6\u53d8\u91cf\u7c7b\u4f3c\u4e8e\u4e00\u4e2a\u4fe1\u53f7\uff0c\u7ebf\u7a0b\u672c\u8d28\u4e0a\u7b49\u5f85\u7684\u662f\u4fe1\u53f7\u72b6\u6001\u7684\u6539\u53d8</li> </ul> </li> <li>\u81ea\u65cb\u9501\uff0c\u4e0d\u4f1a\u8ba9\u7ebf\u7a0b\u8fdb\u5165\u963b\u585e\u72b6\u6001\uff0c\u800c\u662f\u8fdb\u5165\u5fd9\u7b49\u5f85\u72b6\u6001\uff0c\u4e00\u76f4\u5360\u7528cpu\u8d44\u6e90</li> <li>\u5c4f\u969c\uff0c\u5404\u4e2a\u7ebf\u7a0b\u5728\u5404\u81ea\u7684\u67d0\u4e2a\u4f4d\u7f6e\u8bbe\u7f6e\u4e00\u4e2a\u5c4f\u969c\uff0c\u5148\u6267\u884c\u5230\u5c4f\u969c\u7684\u7ebf\u7a0b\u505c\u4e0b\u6765\u7b49\u5f85\uff0c\u7b49\u8db3\u591f\u591a\u7684\u7ebf\u7a0b\u6267\u884c\u5230\u5c4f\u969c\u4f4d\u7f6e\uff0c\u5927\u5bb6\u518d\u4e00\u8d77\u5f80\u4e0b\u6267\u884c\u3002pthread_join\u5c31\u662f\u4e00\u79cd\u5c4f\u969c\uff0c\u53ea\u4e0d\u8fc7\u53ea\u6709\u4e00\u4e2a\u7ebf\u7a0b\u5728\u7b49\u5f85\u3002</li> </ul>","tags":["\u9762\u8bd5"]},{"location":"interview/52.interview-bagu-general/#linux_3","title":"linux\u5185\u6838","text":"<ul> <li>linux\u5185\u6838\u4e3b\u8981\u8d1f\u8d23</li> <li>\u5185\u5b58\u7ba1\u7406</li> <li>\u8fdb\u7a0b\u548c\u7ebf\u7a0b\u7ba1\u7406</li> <li>\u8bbe\u5907\u9a71\u52a8</li> <li>\u5185\u6838\u6001\u548c\u7528\u6237\u6001</li> <li>\u5185\u6838\u6001\u662f\u5185\u6838\u7a0b\u5e8f\u8fd0\u884c\u7684\u7a7a\u95f4</li> <li>\u7528\u6237\u6001\u662f\u7528\u6237\u7a0b\u5e8f\u8fd0\u884c\u7684\u7a7a\u95f4</li> <li>\u7cfb\u7edf\u8c03\u7528\uff0c\u5185\u6838\u6001\u5bf9\u7528\u6237\u6001\u63d0\u4f9b\u7684\u8bbf\u95ee\u63a5\u53e3</li> <li>\u5185\u5b58\u7ba1\u7406</li> <li>\u5b58\u50a8\u5c42\u6b21\uff0cCPU\u3001\u7f13\u5b58\u3001\u5185\u5b58\u3001\u5916\u5b58</li> <li>\u6bb5\u9875\u5f0f\u5185\u5b58\u7ba1\u7406<ul> <li>\u628a\u5185\u5b58\u5212\u5206\u4e3a\u5927\u7684\u6bb5\uff0c\u5728\u6bb5\u5185\u90e8\u5206\u9875</li> <li>\u4e00\u4e2a\u5730\u5740\u7684\u9ad8\u4f4d\u662f\u6bb5\u5730\u5740\uff0c\u5730\u4f4d\u662f\u9875\u5730\u5740</li> <li>\u6bb5\u8868\u76f8\u5f53\u4e8e\u662f\u9875\u8868\u7684\u7d22\u5f15</li> </ul> </li> <li>\u5feb\u8868\uff08TLB\uff09\u548c\u9875\u8868\uff0c\u5757\u8868\u662f\u9875\u8868\u7684\u7f13\u5b58</li> <li>numa\uff0c\u73b0\u4ee3\u591a\u6838cpu\u901a\u5e38\u662fnuma\u7ed3\u6784\uff0c\u6bcf\u4e2a\u6838\u5fc3\u90fd\u6709\u81ea\u5df1\u7684cache\uff0c\u53ef\u8bbf\u95ee\u5185\u5b58\u533a\u57df\u7b49\uff0c\u6784\u6210\u4e86\u6bcf\u4e2a\u6838\u5fc3\u7684\u5185\u5b58\u8bbf\u95ee\u5b50\u7cfb\u7edf</li> </ul> <p>Linux\u5185\u6838\u7684\u4e24\u79cd\u5185\u5b58\u5206\u914d\u51fd\u6570kmalloc \u548c vmalloc\uff0c\u4f46\u53ea\u9002\u7528\u4e8e\u5185\u6838\u6a21\u5757\u548c\u9a71\u52a8\u6a21\u5757\uff0c\u4e0d\u80fd\u518d\u7528\u6237\u6001\u7a0b\u5e8f\u4e2d\u4f7f\u7528\uff1a</p>","tags":["\u9762\u8bd5"]},{"location":"interview/52.interview-bagu-general/#kmalloc","title":"kmalloc","text":"<ul> <li>\u5206\u914d\u7269\u7406\u4e0a\u8fde\u7eed\u7684\u5185\u5b58\u533a\u57df\uff0c\u865a\u62df\u5730\u5740\u548c\u7269\u7406\u5730\u5740\u4e00\u4e00\u5bf9\u5e94\u3002</li> <li>\u5206\u914d\u901f\u5ea6\u5feb\uff0c\u9002\u5408\u5206\u914d\u5c0f\u5757\u5185\u5b58\uff08\u901a\u5e38\u5c0f\u4e8e\u51e0\u767e KB\uff09\u3002</li> <li>\u5e38\u7528\u4e8e\u9700\u8981 DMA\uff08\u76f4\u63a5\u5185\u5b58\u8bbf\u95ee\uff09\u7b49\u5bf9\u7269\u7406\u8fde\u7eed\u6027\u6709\u8981\u6c42\u7684\u573a\u666f\uff0c\u5982\u9a71\u52a8\u5f00\u53d1\u3001\u5185\u6838\u6a21\u5757\u4e2d\u7f13\u5b58\u3001\u961f\u5217\u7b49\u3002</li> </ul>","tags":["\u9762\u8bd5"]},{"location":"interview/52.interview-bagu-general/#vmalloc","title":"vmalloc","text":"<ul> <li>\u5206\u914d\u865a\u62df\u5730\u5740\u8fde\u7eed\u4f46\u7269\u7406\u5730\u5740\u4e0d\u4e00\u5b9a\u8fde\u7eed\u7684\u5185\u5b58\u533a\u57df\u3002</li> <li>\u9002\u5408\u5206\u914d\u5927\u5757\u5185\u5b58\uff08\u5927\u4e8e kmalloc \u80fd\u5206\u914d\u7684\u6700\u5927\u5757\uff09\uff0c\u5982\u51e0\u767e KB \u751a\u81f3 MB \u7ea7\u522b\u3002</li> <li>\u9002\u7528\u4e8e\u5bf9\u7269\u7406\u8fde\u7eed\u6027\u65e0\u8981\u6c42\uff0c\u4f46\u9700\u8981\u8f83\u5927\u5185\u5b58\u7684\u5185\u6838\u6a21\u5757\u3002</li> </ul>","tags":["\u9762\u8bd5"]},{"location":"interview/52.interview-bagu-general/#_5","title":"\u7f51\u7edc","text":"","tags":["\u9762\u8bd5"]},{"location":"interview/52.interview-bagu-general/#_6","title":"\u57fa\u7840","text":"<ul> <li>\u7f51\u7edc\u4f53\u7cfb\u7ed3\u6784</li> <li>OSI\u4e03\u5c42\uff1a\u7269\u7406\u5c42\uff0c\u6570\u636e\u94fe\u8def\u5c42\uff0c\u7f51\u7edc\u5c42\uff0c\u4f20\u8f93\u5c42\uff0c\u4f1a\u8bdd\u5c42\uff0c\u8868\u793a\u5c42\uff0c\u5e94\u7528\u5c42<ul> <li>\u4f1a\u8bdd\u5c42\u60f3\u8981\u89e3\u51b3\u4e24\u4e2a\u5e94\u7528\u7a0b\u5e8f\u4e4b\u95f4\u7684\u4f1a\u8bdd\u7ba1\u7406\u95ee\u9898</li> <li>\u8868\u793a\u5c42\u60f3\u8981\u89e3\u51b3\u7684\u662f\u4e24\u4e2a\u5e94\u7528\u7a0b\u5e8f\u4e4b\u95f4\u901a\u4fe1\u7684\u8bed\u6cd5\u8bed\u4e49\u95ee\u9898\uff0c\u6570\u636e\u8f6c\u6362\u95ee\u9898\uff08\u7f16\u7801\u89e3\u7801\uff0c\u538b\u7f29\u548c\u89e3\u538b\u7f29\uff09</li> </ul> </li> <li>\u4e94\u5c42\uff1a\u7269\u7406\u5c42\uff0c\u6570\u636e\u94fe\u8def\u5c42\uff0c\u7f51\u7edc\u5c42\uff0c\u4f20\u8f93\u5c42\uff0c\u5e94\u7528\u5c42</li> <li>TCP/IP\u56db\u5c42\uff1a\u7f51\u7edc\u63a5\u53e3\u5c42\uff0c\u7f51\u7edc\u5c42\uff0c\u4f20\u8f93\u5c42\uff0c\u5e94\u7528\u5c42</li> <li>\u6570\u636e\u94fe\u8def\u5c42\u534f\u8bae\uff0cCSMA/CD\u3001PPP\u3001PPPoE </li> <li>\u7f51\u7edc\u5c42\u534f\u8bae\uff0cIP\u3001ARP\u3001RARP\u3001OSPF\u3001RIP\u3001BGP</li> <li>\u8def\u7531\u534f\u8bae\uff0cOSPF\u3001RIP\u3001BGP\uff0c\u5185\u90e8\u7f51\u5173\u534f\u8baeIGP\u662f\u4e00\u7c7b\u534f\u8bae</li> <li>OSPF\uff0c\u662f\u4e00\u79cd\u5185\u90e8\u7f51\u5173\u534f\u8bae\uff0c\u5f00\u653e\u6700\u77ed\u8def\u5f84\u4f18\u5148\u534f\u8bae\uff0c\u57fa\u4e8eIP</li> <li>RIP\uff0c\u662f\u4e00\u79cd\u5185\u90e8\u7f51\u5173\u534f\u8bae\uff0c\u8ddd\u79bb\u77e2\u91cf\uff0c\u57fa\u4e8eUDP</li> <li>BGP\uff0c\u8fb9\u754c\u7f51\u5173\u534f\u8bae\uff0c\u8ddd\u79bb\u77e2\u91cf\uff0c\u57fa\u4e8eTCP</li> <li>\u4f20\u8f93\u5c42\u534f\u8bae\uff0cTCP\u3001UDP</li> <li>\u54ea\u4e9b\u57fa\u4e8eUDP\uff0cRIP\u3001DNS\u3001DHCP</li> <li>http\u72b6\u6001\u7801</li> <li>1\u5f00\u5934\uff0c\u4fe1\u606f\u6027\u72b6\u6001\u7801\uff0c\u63a5\u53d7\u7684\u8bf7\u6c42\u6b63\u5728\u5904\u7406</li> <li>2\u5f00\u5934\uff0c\u6210\u529f</li> <li>3\u5f00\u5934\uff0c\u91cd\u5b9a\u5411</li> <li>4\u5f00\u5934\uff0c\u5ba2\u6237\u7aef\u9519\u8bef</li> <li>5\u5f00\u5934\uff0c\u670d\u52a1\u7aef\u9519\u8bef</li> <li>HTTP 1.0 \u4e3a\u77ed\u8fde\u63a5\uff0cHTTP 1.1 \u652f\u6301\u957f\u8fde\u63a5</li> </ul>","tags":["\u9762\u8bd5"]},{"location":"interview/52.interview-bagu-general/#tcp","title":"TCP\u62a5\u6587\u7ed3\u6784","text":"<pre><code>TCP\u62a5\u6587\u7ed3\u6784\uff0820\u5b57\u8282\u5b9a\u957f\u9996\u90e8 + \u53ef\u9009\u9996\u90e8 + \u6570\u636e\u90e8\u5206\uff09\n\u4e0b\u9762\u662f20\u5b57\u8282\u5b9a\u957f\u9996\u90e8\u7684\u7ed3\u6784\u793a\u610f\u56fe\uff1a\n\n  0      4       8      12      16      20      24      28      32\n  +-------+-------+-------+-------+-------+-------+-------+-------+\n  |        \u6e90\u7aef\u53e3\uff0816\u4f4d\uff09         |      \u76ee\u7684\u7aef\u53e3\uff0816\u4f4d\uff09         |\n  +-------------------------------+-------------------------------+\n  |                        \u5e8f\u53f7\uff0832\u4f4d\uff09                          |\n  +---------------------------------------------------------------+\n  |                     \u786e\u8ba4\u53f7\uff0832\u4f4d\uff09                           |\n  +---------------------------------------------------------------+\n  | \u6570\u636e\u504f\u79fb | \u4fdd\u7559 | \u63a7\u5236\u4f4d |        \u7a97\u53e3\uff0816\u4f4d\uff09                |\n  |  (4\u4f4d)  | (6\u4f4d)| (6\u4f4d)  |                                    |\n  +-------------------------------+-------------------------------+\n  |         \u6821\u9a8c\u548c\uff0816\u4f4d\uff09        |    \u7d27\u6025\u6307\u9488\uff0816\u4f4d\uff09            |\n  +-------------------------------+-------------------------------+\n  |           \u9009\u9879\uff08\u53ef\u53d8\uff09        |           \u586b\u5145\uff08\u53ef\u53d8\uff09         |\n  +---------------------------------------------------------------+\n  |                        \u6570\u636e\u90e8\u5206\uff08\u53ef\u53d8\uff09                       |\n  +---------------------------------------------------------------+\n\n</code></pre> <p>\u8bf4\u660e\uff1a - \u5e8f\u53f7\uff0c4\u5b57\u8282\uff0c\u62a5\u6587\u5e8f\u53f7 - \u786e\u8ba4\u53f7\uff0c4\u5b57\u8282\uff0c\u671f\u671b\u4e0b\u6b21\u6536\u5230\u62a5\u6587\u7684\u5e8f\u53f7 - \u6570\u636e\u504f\u79fb\uff1a4\u4f4d\uff0cTCP\u9996\u90e8\u957f\u5ea6\uff08\u4ee54\u5b57\u8282\u4e3a\u5355\u4f4d\uff09\uff0c\u56e0\u6b64TCP\u9996\u90e8\u6700\u957f60\u5b57\u8282 - \u4fdd\u7559\uff1a6\u4f4d\uff0c\u4fdd\u7559\u672a\u7528 - \u63a7\u5236\u4f4d\uff1a6\u4f4d\uff08URG, ACK, PSH, RST, SYN, FIN\uff09     - \u7d27\u6025\u5b57\u6bb5URG\uff0c\u5f53URG=1\u65f6\uff0c\u4ee3\u8868\u6b64\u62a5\u6587\u6bb5\u4e2d\u6709\u7d27\u6025\u6570\u636e\uff0c\u5e94\u5c3d\u5feb\u4f20\u9001\u3002     - \u786e\u8ba4\u5b57\u6bb5ACK\uff0c\u5f53ACK=1\u65f6\uff0c\u8868\u793a\u786e\u8ba4\uff0c\u4e14\u786e\u8ba4\u53f7\u6709\u6548\uff1b\u5f53ACK=0\u65f6\uff0c\u786e\u8ba4\u53f7\u5b57\u6bb5\u65e0\u6548\u3002     - \u63a8\u9001\u5b57\u6bb5PSH\uff0c\u5f53PSH=1\u65f6\uff0c\u5219\u62a5\u6587\u6bb5\u4f1a\u88ab\u5c3d\u5feb\u5730\u4ea4\u4ed8\u7ed9\u76ee\u7684\u65b9\uff0c\u4e0d\u4f1a\u5bf9\u8fd9\u6837\u7684\u62a5\u6587\u6bb5\u4f7f\u7528\u7f13\u5b58\u7b56\u7565\u3002     - \u590d\u4f4d\u5b57\u6bb5RST\uff0c\u5f53RST\u4e3a1\u65f6\uff0c\u8868\u660eTCP\u8fde\u63a5\u4e2d\u51fa\u73b0\u4e86\u4e25\u91cd\u7684\u5dee\u9519\uff0c\u5fc5\u987b\u91ca\u653e\u8fde\u63a5\uff0c\u7136\u540e\u518d\u91cd\u65b0\u5efa\u7acb\u8fde\u63a5\u3002     - \u540c\u6b65\u5b57\u6bb5SYN\uff0c\u5f53SYN=1\u65f6\uff0c\u8868\u793a\u53d1\u8d77\u4e00\u4e2a\u8fde\u63a5\u8bf7\u6c42\u3002     - \u7ec8\u6b62\u5b57\u6bb5FIN\uff0c\u7528\u6765\u91ca\u653e\u8fde\u63a5\u3002\u5f53FIN=1\u65f6\uff0c\u8868\u660e\u6b64\u62a5\u6587\u6bb5\u7684\u53d1\u9001\u7aef\u7684\u6570\u636e\u5df2\u53d1\u9001\u5b8c\u6210\uff0c\u5e76\u8981\u6c42\u91ca\u653e\u8fde\u63a5\u3002 - \u7a97\u53e3\uff1a2\u5b57\u8282\uff0c\u63a5\u6536\u7a97\u53e3\u5927\u5c0f - \u6821\u9a8c\u548c\uff1a2\u5b57\u8282\uff0c\u9996\u90e8\u548c\u6570\u636e\u7684\u6821\u9a8c - \u7d27\u6025\u6307\u9488\uff1a2\u5b57\u8282\uff0c\u7d27\u6025\u6570\u636e\u7684\u504f\u79fb\u91cf - \u9009\u9879\u548c\u586b\u5145\uff1a\u53ef\u9009\u5b57\u6bb5\uff0c\u9996\u90e8\u957f\u5ea6\u5927\u4e8e20\u5b57\u8282\u65f6\u5b58\u5728 - \u6570\u636e\u90e8\u5206\uff1a\u5b9e\u9645\u4f20\u8f93\u7684\u6570\u636e\u5185\u5bb9</p>","tags":["\u9762\u8bd5"]},{"location":"interview/52.interview-bagu-general/#tcp_1","title":"TCP\u4e09\u6b21\u63e1\u624b\u56db\u6b21\u6325\u624b","text":"<pre><code>================ TCP\u4e09\u6b21\u63e1\u624b\u4ea4\u4e92 ==================\n\nClient                                          Server\n\n            |                                |  CLOSED\nCLOSED      |                                |  LISTEN\n            | ---- SYN(seq=x) -------------&gt; |  \nSYN-SENT    |                                |  \n            | &lt;--- SYN(seq=y),ACK(ack=x+1) - |\n            |                                |  SYN-RCVD\n            | ---- ACK(ack=y+1) ------------&gt;|  \nESTABLISHED |                                |  ESTABLISHED\n\n================ TCP\u56db\u6b21\u6325\u624b\u4ea4\u4e92 ==================\n\nClient                                         Server\n\nESTABLISHED |                               |  ESTABLISHED\n            | ---- FIN(seq=u) -------------&gt;|  \nFIN-WAIT-1  |                               |  \n            | &lt;--- ACK(ack=u+1) ------------|  \nFIN-WAIT-2  |                               |  CLOSE-WAIT\n            | &lt;--- FIN(seq=v) --------------|  \n            |                               |  LAST-ACK\n            | ---- ACK(ack=v+1) -----------&gt;|  \nTIME-WAIT   |                               |  CLOSED\nCLOSED      |                               |\n\n</code></pre> <p>\u4e09\u6b21\u63e1\u624b</p> <ul> <li>\u5ba2\u6237\u7aef\u72b6\u6001\u53d8\u8fc1\uff1aCLOSED,SYN-SENT,ESTABLISHED</li> <li>\u670d\u52a1\u7aef\u72b6\u6001\u53d8\u8fc1\uff1aCLOSED,LISTEN,SYN-RCVD,ESTABLISHED</li> <li>\u8fc7\u7a0b</li> <li>\u670d\u52a1\u7aef\u4eceCLOSED\u53d8\u4e3aLISTEN</li> <li>\u5ba2\u6237\u7aef\u53d1\u9001 SYN,seq=x,\u4eceCLOSED\u53d8\u4e3aSYN-SENT\uff0cx\u662f\u5ba2\u6237\u7aef\u8bbe\u5b9a\u7684\u521d\u59cb\u5e8f\u53f7</li> <li>\u670d\u52a1\u7aef\u53d1\u9001 SYN,ACK,seq=y,ack=x+1\uff0c\u4eceLISTEN\u53d8\u4e3aSYN-RCVD</li> <li>\u5ba2\u6237\u7aef\u53d1\u9001 ACK,seq=x+1,ack=y+1,\u4eceSYN-SENT\u53d8\u4e3aESTABLISHED</li> <li>\u670d\u52a1\u7aef\u8fdb\u5165ESTABLISHED</li> </ul> <p>\u4e3a\u4ec0\u4e48\u4e0d\u80fd\u4e24\u6b21\u63e1\u624b</p> <ul> <li>\u4e24\u6b21\u63e1\u624b\u7684\u8bdd\uff0c\u670d\u52a1\u7aef\u53ea\u6709\u4e24\u4e2a\u72b6\u6001\uff0c\u76d1\u542c\u548c\u5efa\u7acb\u8fde\u63a5\uff0c\u670d\u52a1\u7aef\u5f88\u6709\u53ef\u80fd\u56e0\u4e3a\u4e00\u4e2a\u5ef6\u8fdf\u6536\u5230\u7684\u8fde\u63a5\u8bf7\u6c42\u5355\u65b9\u9762\u8fdb\u5165\u8fde\u63a5\u72b6\u6001\uff0c\u6d6a\u8d39\u8d44\u6e90\u3002\u6bd4\u5982\u5ba2\u6237\u7aef\u5411\u670d\u52a1\u7aef\u53d1\u8d77\u8fde\u63a5\uff0c\u5ba2\u6237\u7aef\u91cd\u8bd5\u4e86\u4e00\u6b21\uff0c\u7b2c\u4e8c\u6b21\u6210\u529f\u5efa\u7acb\u4e86\u94fe\u63a5\uff0c\u7b49\u8fde\u63a5\u91ca\u653e\u540e\uff0c\u670d\u52a1\u7aef\u624d\u63a5\u6536\u5230\u7b2c\u4e00\u6b21\u8fde\u63a5\u8bf7\u6c42\uff0c\u5f53\u65b9\u9762\u8fdb\u5165\u4e86\u8fde\u63a5\u72b6\u6001\uff0c\u800c\u5ba2\u6237\u7aef\u5e76\u6ca1\u6709\u8fdb\u5165\u8fde\u63a5\uff0c\u767d\u767d\u6d6a\u8d39\u4e86\u5ba2\u6237\u7aef\u8d44\u6e90\u3002</li> <li>\u800c\u5ba2\u6237\u7aef\u6ca1\u6709\u8fd9\u4e2a\u95ee\u9898\uff0c\u56e0\u4e3a\u5ba2\u6237\u7aef\u662f\u4e3b\u52a8\u53d1\u8d77\u8fde\u63a5\u7684\u4e00\u65b9\uff0c\u53ea\u8981\u5ba2\u6237\u7aef\u4e0d\u60f3\u8fdb\u5165\u8fde\u63a5\uff0c\u4e0d\u7ba1\u4ed6\u63a5\u6536\u5230\u4ec0\u4e48\u6570\u636e\uff0c\u90fd\u4e0d\u4f1a\u5f71\u54cd\u5ba2\u6237\u7aef\u3002</li> <li>\u52a0\u4e86\u7b2c\u4e09\u6b21\u63e1\u624b\u4ee5\u540e\uff0c\u91cd\u8bd5\u7684\u8fde\u63a5\u8bf7\u6c42\u53ea\u80fd\u5bfc\u81f4\u5ba2\u6237\u7aef\u8fdb\u5165SYN-RCVD\u72b6\u6001\uff0c\u4e0d\u4f1a\u5bfc\u81f4\u8fdb\u5165\u8fde\u63a5\u72b6\u6001</li> </ul> <p>\u56db\u6b21\u6325\u624b</p> <ul> <li>\u4e00\u65b9\u4e3b\u52a8\u65ad\u5f00</li> <li>\u4e3b\u52a8\u65ad\u5f00\u65b9A\u72b6\u6001\u53d8\u5316\uff0cESTABLISHED,FIN-WAIT-1,FIN-WAIT-2,TIME-WAIT,CLOSED</li> <li>\u88ab\u52a8\u65ad\u5f00\u65b9B\u72b6\u6001\u53d8\u5316\uff0cESTABLISHED,CLOSE-WAIT,LAST-ACK,CLOSED</li> <li>A\u53d1\u9001 FIN,seq=x\uff0cA\u4eceESTABLISHED\u53d8\u4e3aFIN-WAIT-1</li> <li>B\u53d1\u9001 ACK,ack=x+1\uff0cB\u4eceESTABLISHED\u53d8\u4e3aCLOSED-WAIT</li> <li>A\u4eceFIN-WAIT-1\u53d8\u4e3aFIN-WAIT-2</li> <li>B\u53d1\u9001 FIN,ACK,seq=y,ack=x+1\uff0cB\u4eceCLOSED-WAIT\u53d8\u4e3aLAST-ACK</li> <li>A\u53d1\u9001ACK,seq=x+1,ack=y+1,A\u4eceFIN-WAIT-2\u53d8\u4e3aTIME-WAIT\uff08\u7b49\u5f852MSL\uff09\uff0c\u6700\u540e\u53d8\u4e3aCLOSED</li> <li>B\u4eceLAST-ACK\u53d8\u4e3aCLOSED</li> <li>\u4e24\u65b9\u540c\u65f6\u65ad\u5f00</li> <li>\u53cc\u65b9\u540c\u65f6\u5411\u5bf9\u65b9\u53d1\u9001FIN\uff0c\u540c\u65f6\u56de\u590dACK\uff0c\u5206\u522b\u8fdb\u884c\u4e24\u6b21\u6325\u624b\uff0c\u540c\u65f6\u91ca\u653e\u8fde\u63a5</li> </ul> <p>\u4e3a\u4ec0\u4e48\u8981\u56db\u6b21\u6325\u624b</p> <p>\u8ba9\u88ab\u52a8\u65ad\u5f00\u7684\u4e00\u65b9\u628a\u5269\u4f59\u6570\u636e\u4f20\u8f93\u5b8c\u6bd5</p> <p>\u4e3b\u52a8\u65ad\u5f00\u7684\u4e00\u65b9\u4e3a\u4ec0\u4e48\u8981\u7b49\u5f852MSL</p> <p>MSL\u662f\u62a5\u6587\u5728\u7f51\u7edc\u4e2d\u7684\u6700\u5927\u751f\u5b58\u65f6\u95f4\uff0c2MSL\u6b63\u597d\u662f\u62a5\u6587\u4e00\u6b21\u5f80\u8fd4\u7684\u65f6\u95f4\uff0c\u8fd9\u662f\u4e3a\u4e86\u786e\u4fdd\u5bf9\u65b9\u6536\u5230\u4e86\u6700\u540e\u7684ACK\uff0c\u907f\u514d\u5bf9\u65b9ACK\u4e22\u5931\u91cd\u53d1FIN\u65f6\u4e3b\u52a8\u5173\u95ed\u65b9\u6536\u4e0d\u5230\uff0c\u4ece\u800c\u65e0\u6cd5\u5173\u95ed\u8fde\u63a5\u3002</p> <p>\u540c\u65f6\u4e5f\u662f\u4e3a\u4e86\u9632\u6b62\u65b0\u8fde\u63a5\u6536\u5230\u7f51\u7edc\u4e0a\u9057\u7559\u7684\u4e0a\u6b21\u8fde\u63a5\u7684\u65e7\u6570\u636e\u5305\u3002</p>","tags":["\u9762\u8bd5"]},{"location":"interview/52.interview-bagu-general/#tcp_2","title":"TCP\u5982\u4f55\u4fdd\u8bc1\u53ef\u9760\u4f20\u8f93","text":"<ul> <li>\u5e8f\u5217\u53f7\u548c\u786e\u8ba4\u53f7   \u6bcf\u4e2aTCP\u62a5\u6587\u6bb5\u90fd\u6709\u4e00\u4e2a\u5e8f\u5217\u53f7\uff0c\u7528\u4e8e\u6807\u8bc6\u6570\u636e\u7684\u987a\u5e8f\uff1b\u63a5\u6536\u65b9\u901a\u8fc7\u786e\u8ba4\u53f7\u6765\u544a\u8bc9\u53d1\u9001\u65b9\u81ea\u5df1\u5df2\u7ecf\u6536\u5230\u7684\u6570\u636e\u3002</li> <li>\u9009\u62e9\u786e\u8ba4\uff08SACK\uff09\uff0c\u573a\u666f\uff1a\u63a5\u6536\u65b9\u6536\u5230\u4e86\u4e00\u4e9b\u6570\u636e\uff0c\u4f46\u53e6\u4e00\u4e9b\u6570\u636e\u6ca1\u6709\u6536\u5230\uff08\u6216\u672a\u6309\u5e8f\u5230\u8fbe\uff09\uff0c\u63a5\u6536\u65b9\u5e0c\u671b\u53d1\u9001\u65b9\u6709\u9009\u62e9\u5730\u91cd\u4f20\uff0c\u800c\u4e0d\u662f\u91cd\u4f20\u6574\u4e2a\u7a97\u53e3\u7684\u6570\u636e\u3002</li> <li>\u8d85\u65f6\u91cd\u4f20   \u53d1\u9001\u65b9\u5728\u89c4\u5b9a\u7684\u65f6\u95f4\u5185\u6ca1\u6709\u6536\u5230\u786e\u8ba4\u5e94\u7b54\uff0c\u4f1a\u81ea\u52a8\u91cd\u4f20\u672a\u88ab\u786e\u8ba4\u7684\u6570\u636e\u5305</li> <li>\u6709\u5e8f\u4f20\u8f93   \u63a5\u6536\u65b9\u4f1a\u6839\u636e\u5e8f\u53f7\u5c06\u4e71\u5e8f\u5230\u8fbe\u7684\u6570\u636e\u91cd\u65b0\u6392\u5e8f\u540e\u4ea4\u7ed9\u5e94\u7528\u5c42</li> <li>\u6821\u9a8c\u548c   TCP\u62a5\u6587\u6bb5\u5305\u542b\u4e00\u4e2a\u6821\u9a8c\u548c\u5b57\u6bb5\uff0c\u7528\u4e8e\u68c0\u6d4b\u6570\u636e\u5728\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u662f\u5426\u53d1\u751f\u4e86\u9519\u8bef\u3002</li> </ul>","tags":["\u9762\u8bd5"]},{"location":"interview/52.interview-bagu-general/#tcp_3","title":"TCP\u6d41\u91cf\u63a7\u5236","text":"<p>\u6d41\u91cf\u63a7\u5236\u662f\u6307\u8ba9\u53d1\u9001\u65b9\u53d1\u9001\u4e0d\u8981\u592a\u5feb\uff0c\u8ba9\u63a5\u6536\u65b9\u6765\u5f97\u53ca\u63a5\u6536\uff0c\u4e3b\u8981\u5229\u7528\u6ed1\u52a8\u7a97\u53e3\u6765\u5b9e\u73b0\u6d41\u91cf\u63a7\u5236\u3002</p> <p>\u4ec0\u4e48\u662f\u6ed1\u52a8\u7a97\u53e3</p> <ul> <li>\u53d1\u9001\u7a97\u53e3\u548c\u63a5\u6536\u7a97\u53e3</li> <li>\u53d1\u9001\u7a97\u53e3\u4e2d\u662f\u5141\u8bb8\u53d1\u9001\u7684\u5b57\u8282\uff0c\u53d1\u9001\u7a97\u53e3\u4e4b\u524d\u662f\u5df2\u53d1\u9001\u5e76\u5f97\u5230\u786e\u8ba4\u7684\u5b57\u8282\uff0c\u53d1\u9001\u7a97\u53e3\u4e4b\u540e\u662f\u4e0d\u5141\u8bb8\u53d1\u9001\u7684\u5b57\u8282</li> <li>\u63a5\u6536\u7a97\u53e3\u4e2d\u662f\u5141\u8bb8\u63a5\u6536\u7684\u5b57\u8282\uff0c\u63a5\u6536\u7a97\u53e3\u4e4b\u524d\u662f\u5df2\u7ecf\u6536\u5230\u5e76\u786e\u8ba4\u8fc7\u7684\u5b57\u8282\uff0c\u63a5\u6536\u7a97\u53e3\u4e4b\u540e\u662f\u4e0d\u5141\u8bb8\u63a5\u6536\u7684\u5b57\u8282</li> <li>\u53d1\u9001\u7a97\u53e3\u662f\u53d1\u9001\u65b9\u7684\u53d1\u9001\u7f13\u5b58\u7684\u4e00\u90e8\u5206\uff1b\u63a5\u6536\u7a97\u53e3\u662f\u63a5\u6536\u65b9\u7684\u63a5\u6536\u7f13\u5b58\u7684\u4e00\u90e8\u5206</li> <li>\u7a97\u53e3\u4e2d\u7684\u6bcf\u4e2a\u5b57\u8282\u90fd\u6709\u5e8f\u53f7   \u53d1\u9001\u7a97\u53e3\u7684\u5e8f\u53f7\u662f\u53d1\u9001\u65b9\u7684\u5e8f\u53f7\uff0c\u63a5\u6536\u7a97\u53e3\u7684\u5e8f\u53f7\u662f\u63a5\u6536\u65b9\u7684\u5e8f\u53f7\uff0c\u76f8\u4e92\u72ec\u7acb\uff0c\u5404\u662f\u5404\u7684</li> <li>\u53d1\u9001\u65b9\u548c\u63a5\u6536\u65b9</li> <li>\u6bcf\u4e00\u65b9\u90fd\u6709\u81ea\u5df1\u7684\u53d1\u9001\u7a97\u53e3\u548c\u63a5\u6536\u7a97\u53e3\uff1b\u56e0\u6b64A\u7684\u53d1\u9001\u7a97\u53e3\u548cB\u7684\u63a5\u6536\u7a97\u53e3\u662f\u4e00\u5bf9\uff0c\u53cd\u4e4b\u662f\u53e6\u5916\u4e00\u5bf9</li> </ul> <p>\u5982\u4f55\u5229\u7528\u6ed1\u52a8\u7a97\u53e3\u63a7\u5236\u6d41\u91cf</p> <p>B\u4f1a\u5728\u6bcf\u4e2aTCP\u62a5\u6587\u91cc\u5e26\u4e0a\u81ea\u5df1\u5f53\u524d\u7684\u63a5\u6536\u7a97\u53e3\u5927\u5c0f\uff0c\u5c06\u81ea\u5df1\u7684\u63a5\u6536\u7a97\u53e3\u5927\u5c0f\u53d1\u9001\u7ed9A\uff0cA\u4f1a\u6839\u636e\u63a5\u6536\u7a97\u53e3\u7684\u5927\u5c0f\u786e\u5b9a\u81ea\u5df1\u53d1\u9001\u7a97\u53e3\u7684\u5927\u5c0f\uff0c\u56e0\u6b64\u53d1\u9001\u7a97\u53e3\u4e00\u5b9a\u4e0d\u4f1a\u5927\u4e8e\u63a5\u6536\u7a97\u53e3</p> <p>\u5f53\u63a5\u6536\u65b9\u611f\u89c9\u53d1\u9001\u901f\u7387\u8fc7\u5feb\u65f6\uff0c\u51cf\u5c0f\u63a5\u6536\u7a97\u53e3\uff0c\u5e76\u5c06\u65b0\u7684\u7a97\u53e3\u503c\u53d1\u9001\u7ed9\u53d1\u9001\u65b9\u3002</p> <p>\u96f6\u7a97\u53e3\u65f6\uff08\u63a5\u6536\u7a97\u53e3\u964d\u4e3a0\u65f6\uff09\uff0c\u53d1\u9001\u65b9\u542f\u52a8\u4e00\u4e2a\u8ba1\u65f6\u5668\uff0c\u6bcf\u9694\u4e00\u6bb5\u65f6\u95f4\u53d1\u9001\u4e00\u4e2a\u63a2\u6d4b\u62a5\u6587\uff0c\u53bb\u83b7\u5f97\u5f53\u524d\u6700\u65b0\u7684\u7a97\u53e3\u503c\uff1b\u9632\u6b62\u63a5\u6536\u65b9\u53d1\u51fa\u7684\u7a97\u53e3\u503c\u66f4\u65b0\u62a5\u6587\u6ede\u7559\u5728\u7f51\u7edc\u4e2d\u3002</p>","tags":["\u9762\u8bd5"]},{"location":"interview/52.interview-bagu-general/#tcp_4","title":"TCP\u62e5\u585e\u63a7\u5236","text":"<p>\u62e5\u585e\u63a7\u5236\u7684\u76ee\u7684\u662f\u9632\u6b62\u5927\u91cf\u7684\u62a5\u6587\u8fdb\u5165\u7f51\u7edc\u4e2d\uff0c\u628a\u8d1f\u8f7d\u63a7\u5236\u5728\u7f51\u7edc\u53ef\u627f\u53d7\u7684\u8303\u56f4\u5185\u3002</p> <p>\u62e5\u585e\u7a97\u53e3\uff0c\u53d1\u9001\u65b9\u6839\u636e\u7f51\u7edc\u72b6\u6001\u81ea\u5df1\u8ba1\u7b97\u51fa\u7684\u4e00\u4e2a\u7a97\u53e3\uff1b\u53ef\u4ee5\u7406\u89e3\u4e3a\u53d1\u9001\u7a97\u53e3=min\uff08\u62e5\u585e\u7a97\u53e3cwnd\uff0c\u63a5\u6536\u7a97\u53e3rwnd\uff09</p> <p>\u6709\u56db\u79cd\u62e5\u585e\u63a7\u5236\u7b97\u6cd5\uff0c\u5206\u522b\u662f\u6162\u5f00\u59cb\uff0c\u62e5\u585e\u907f\u514d\uff0c\u5feb\u91cd\u4f20\u548c\u5feb\u6062\u590d\uff0c\u8fd9\u56db\u79cd\u7b97\u6cd5\u901a\u8fc7\u8c03\u6574\u62e5\u585e\u7a97\u53e3\u7684\u5927\u5c0f\u6765\u63a7\u5236\u7f51\u7edc\u7684\u62e5\u585e\u3002</p> <ul> <li>\u6162\u5f00\u59cb\uff1a</li> <li>\u53d1\u9001\u65b9\u9010\u6e10\u589e\u52a0\u62e5\u585e\u7a97\u53e3\uff0c\u800c\u4e0d\u662f\u4e00\u4e0b\u5b50\u589e\u5927\u62e5\u585e\u7a97\u53e3\u3002</li> <li>\u53d1\u9001\u65b9\u5c06\u62e5\u585e\u7a97\u53e3cwnd\u8bbe\u7f6e\u4e3a1\uff0c\u53731\u4e2a\u62a5\u6587\u6bb5\u7684\u5927\u5c0f\uff08MSS\uff09\uff0c\u6bcf\u6536\u5230\u4e00\u4e2a\u786e\u8ba4\uff0c\u5c31\u628a\u62e5\u585e\u7a97\u53e3\u589e\u59271\u4e2a\u62a5\u6587\u6bb5\u7684\u5927\u5c0f\uff08MSS\uff09\uff0c\u76f4\u5230\u8fbe\u5230\u4e00\u4e2a\u95e8\u9650\u503cssthresh\u3002\u6ce8\u610f\uff0c\u62e5\u585e\u7a97\u53e3\u5b9e\u9645\u662f\u6309\u4e58\u6cd5\u589e\u52a0\u7684\uff08\u6bcf\u6b21\u7ffb\u500d\uff09\uff0c\u56e0\u4e3a\u62e5\u585e\u7a97\u53e3\u589e\u52a0\u540e\uff0c\u53d1\u9001\u65b9\u80fd\u53d1\u51fa\u66f4\u591a\u7684\u62a5\u6587\uff0c\u80fd\u6536\u5230\u66f4\u591a\u7684\u786e\u8ba4\uff0c\u62e5\u585e\u7a97\u53e3\u4f1a\u589e\u52a0\u901f\u5ea6\u4f1a\u8d8a\u6765\u8d8a\u5feb\u3002</li> <li>\u62e5\u585e\u907f\u514d\uff1a</li> <li>\u6162\u5f00\u59cb\u548c\u62e5\u585e\u907f\u514d\u8fd9\u4e24\u4e2a\u8fc7\u7a0b\u4e4b\u95f4\u6709\u4e00\u4e2a\u95e8\u9650\u503cssthresh\uff0c\u62e5\u585e\u7a97\u53e3\u8fc7\u4e86\u8fd9\u4e2a\u95e8\u9650\u503c\u4ee5\u540e\u5207\u6362\u4e3a\u62e5\u585e\u907f\u514d\u7b97\u6cd5\u3002</li> <li>\u62e5\u585e\u907f\u514d\u7b97\u6cd5\u628a\u62e5\u585e\u7a97\u53e3\u7684\u4e58\u6cd5\u589e\u5927\u6539\u4e3a\u52a0\u6cd5\u589e\u5927\uff0c\u4e0d\u518d\u6309\u6536\u5230\u7684ack\u56de\u590d\u589e\u5927\uff0c\u800c\u662f\u6bcf\u9694\u4e00\u4e2a\u5f80\u8fd4\u65f6\u95f4RTT\u5c31\u589e\u5927\u4e00\u4e2a\u62a5\u6587\u6bb5\u7684\u5927\u5c0f\uff08MSS\uff09</li> <li>\u53d1\u751f\u8d85\u65f6\u540e\uff0c\u628a\u95e8\u9650\u503c\u8bbe\u4e3a\u5f53\u524d\u62e5\u585e\u7a97\u53e3\u7684\u4e00\u534a\uff0ccwnd\u91cd\u7f6e\u4e3a1\uff0c\u4ece\u6162\u5f00\u59cb\u7b97\u6cd5\u91cd\u65b0\u5f00\u59cb\u3002</li> <li>\u5feb\u91cd\u4f20</li> <li>\u5feb\u91cd\u4f20\u662f\u4e3a\u4e86\u907f\u514d\u53d1\u9001\u65b9\u8bef\u4ee5\u4e3a\u7f51\u7edc\u53d1\u751f\u4e86\u62e5\u585e\u4ece\u800c\u964d\u4f4e\u4f20\u8f93\u6548\u7387\uff1b\uff0c</li> <li>\u5f53\u63a5\u6536\u65b9\u6536\u5230\u4e00\u4e2a\u5931\u5e8f\u7684\u6570\u636e\u5305\uff08\u5373\u6536\u5230\u4e86\u540e\u7eed\u7684\u6570\u636e\uff0c\u4f46\u4e2d\u95f4\u67d0\u4e2a\u6570\u636e\u5305\u4e22\u5931\uff09\u65f6\uff0c\u4f1a\u5bf9\u6700\u540e\u4e00\u4e2a\u6309\u5e8f\u6536\u5230\u7684\u6570\u636e\u5305\u7684\u786e\u8ba4\u53f7\u8fdb\u884c\u91cd\u590d\u786e\u8ba4\uff0c\u53d1\u9001\u65b9\u4e00\u65e6\u6536\u5230\u8fde\u7eed\u4e09\u4e2a\u91cd\u590d\u786e\u8ba4\uff0c\u5c31\u77e5\u9053\u6709\u6570\u636e\u4e22\u5931\u4e86\uff0c\u9a6c\u4e0a\u91cd\u4f20\u6570\u636e\uff0c\u800c\u4e0d\u8fdb\u5165\u8d85\u65f6\u7b49\u5f85\uff1b</li> <li>\u5feb\u6062\u590d</li> <li>\u53d1\u9001\u65b9\u73b0\u5728\u77e5\u9053\u4e86\u53ea\u662f\u4e22\u5931\u4e86\u4e2a\u522b\u6570\u636e\uff0c\u56e0\u6b64\u91cd\u4f20\u7684\u65f6\u5019\u4e0d\u6267\u884c\u6162\u5f00\u59cb\uff0c\u628a\u53d1\u9001\u7a97\u53e3\u589e\u5927\u5230\u95e8\u9650\u503c\u540e\u76f4\u63a5\u8fdb\u5165\u62e5\u585e\u907f\u514d\u7b97\u6cd5\uff1b</li> </ul>","tags":["\u9762\u8bd5"]},{"location":"interview/52.interview-bagu-general/#unix","title":"unix\u5957\u63a5\u5b57","text":"<ul> <li>\u6982\u5ff5</li> <li>\u8fdb\u7a0b\uff0c\u662f\u4e00\u4e2a\u901a\u4fe1\u5b9e\u4f53</li> <li>ip:port\uff0c\u662f\u4e00\u79cd\u901a\u4fe1\u5730\u5740\u8d44\u6e90</li> <li>unix\u5957\u63a5\u5b57\uff0c\u662f\u5bf9\u4e00\u4e2a\u901a\u4fe1\u7aef\u70b9\u7684\u62bd\u8c61</li> <li>\u5957\u63a5\u5b57\u7c7b\u578b\uff08\u53ef\u4ee5\u770b\u4f5c\u662f\u5bf9\u4f20\u8f93\u7279\u6027\u7684\u63cf\u8ff0\uff09<ul> <li>SOCK_DGRAM\uff0c\u56fa\u5b9a\u957f\u5ea6\u3001\u65e0\u8fde\u63a5\u3001\u4e0d\u53ef\u9760\u7684\u62a5\u6587\u4f20\u8f93</li> <li>SOCK_STREAM\uff0c\u9762\u5411\u8fde\u63a5\u3001\u6709\u5e8f\u3001\u53ef\u9760\u7684\u5b57\u8282\u6d41\u4f20\u8f93</li> <li>SOCK_RAW\uff0cIP\u534f\u8bae\u7684\u6570\u636e\u62a5\u63a5\u53e3</li> <li>SOCK_SEQPACKET\uff0c\u56fa\u5b9a\u957f\u5ea6\u3001\u9762\u5411\u8fde\u63a5\u3001\u6709\u5e8f\u3001\u53ef\u9760\u7684\u62a5\u6587\u4f20\u8f93</li> </ul> </li> <li>\u57df\u7c7b\u578b<ul> <li>AF_INET\uff0cIPv4\u57df</li> <li>AF_INET6\uff0cIPv6\u57df</li> <li>AF_UNIX\uff0cunix\u57df</li> <li>AF_UNSPEC\uff0c\u672a\u6307\u5b9a</li> </ul> </li> <li>\u5957\u63a5\u5b57\u548c\u57df\u7684\u7ec4\u5408\u51b3\u5b9a\u4e86\u534f\u8bae\uff0c\u4e00\u4e2a\u7ec4\u5408\u53ef\u4ee5\u5bf9\u5e94\u591a\u4e2a\u534f\u8bae\uff0c\u5728IPv4\u57df\u4e2d\uff0cSOCK_STREAM\u9ed8\u8ba4\u5bf9\u5e94TCP\u534f\u8bae\uff0cSOCK_DGRAM\u9ed8\u8ba4\u5bf9\u5e94UDP\u534f\u8bae</li> <li>\u64cd\u4f5c</li> <li>socket\uff0c\u521b\u5efa\u4e00\u4e2a\u5957\u63a5\u5b57</li> <li>bind\uff0c\u7ed1\u5b9a\u4e00\u4e2aip:port</li> <li>\u670d\u52a1\u7aef<ul> <li>listen\uff0c\u76d1\u542c\u8bf7\u6c42\uff0c\u76d1\u542c\u8bf7\u6c42\u7684\u5957\u63a5\u5b57\u79f0\u4e3a\u539f\u59cb\u5957\u63a5\u5b57</li> <li>accept\uff0c\u83b7\u5f97\u4e00\u4e2a\u8fde\u63a5\u8bf7\u6c42\u5e76\u5efa\u7acb\u8fde\u63a5\uff0c\u6bcf\u4e2a\u8fde\u63a5\u5bf9\u5e94\u4e00\u4e2a\u65b0\u5957\u63a5\u5b57\uff0c\u5b83\u4eec\u7684\u5730\u5740\u548c\u539f\u59cb\u5957\u63a5\u5b57\u76f8\u540c</li> </ul> </li> <li>\u5ba2\u6237\u7aef<ul> <li>connect\uff0c\u548c\u670d\u52a1\u7aef\u5efa\u7acb\u8fde\u63a5</li> </ul> </li> <li>close\uff0c\u5173\u95ed\u5957\u63a5\u5b57</li> <li>\u4e00\u4e2aip:port\u53ef\u4ee5\u5efa\u7acb\u591a\u4e2atcp\u8fde\u63a5\u5417\uff1f</li> <li>\u8fde\u63a5\u662f\u901a\u8fc7\u5957\u63a5\u5b57\u5efa\u7acb\u7684\uff0c\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u4e00\u4e2aip:port\u53ea\u80fd\u7ed1\u5b9a\u5230\u4e00\u4e2a\u5957\u63a5\u5b57\u4e0a\uff0c\u5982\u679cip:port\u88ab\u5360\u7528\uff0c\u53c8\u8bd5\u56fe\u53bb\u7528\u53e6\u5916\u4e00\u4e2a\u5957\u63a5\u5b57\u7528\u8fd9\u4e2a\u5730\u5740\u901a\u4fe1\uff0c\u5c31\u4f1a\u51fa\u73b0\u7aef\u53e3\u51b2\u7a81\u3002</li> <li>\u5bf9\u4e8e\u670d\u52a1\u7aef\uff0c\u539f\u59cb\u5957\u63a5\u5b57\u8d1f\u8d23\u76d1\u542c\uff0c\u6bcf\u5efa\u7acb\u4e00\u4e2a\u8fde\u63a5\uff0c\u5c31\u521b\u5efa\u4e00\u4e2a\u65b0\u5957\u63a5\u5b57\u8d1f\u8d23\u6570\u636e\u4f20\u8f93\uff0c\u539f\u59cb\u5957\u63a5\u5b57\u548c\u65b0\u5957\u63a5\u5b57\u5171\u7528\u4e00\u4e2a\u5730\u5740\u3002\u56e0\u6b64\uff0c\u5bf9\u4e8e\u670d\u52a1\u7aef\uff0c\u4e00\u4e2aip:port\u53ef\u4ee5\u901a\u8fc7\u539f\u59cb\u5957\u63a5\u5b57\u5efa\u7acb\u591a\u4e2atcp\u8fde\u63a5\u3002\u6216\u8005\u8bf4\uff0c\u53ea\u80fd\u6709\u4e00\u4e2a\u5957\u63a5\u5b57\u76d1\u542c\u4e00\u4e2aip:port\uff0c\u4f46\u662f\u53ef\u4ee5\u548c\u591a\u4e2a\u5ba2\u6237\u7aef\u5efa\u7acb\u8fde\u63a5\u3002</li> <li>\u5bf9\u4e8e\u5ba2\u6237\u7aef\uff0c\u6ca1\u6709\u539f\u59cb\u5957\u63a5\u5b57\u7684\u6982\u5ff5\uff0c\u4e00\u4e2a\u5957\u63a5\u5b57\u53ea\u80fd\u5efa\u7acb\u4e00\u4e2atcp\u8fde\u63a5\uff0c\u56e0\u800c\uff0c\u5bf9\u4e8e\u5ba2\u6237\u7aef\uff0c\u4e00\u4e2aip:port\u53ea\u80fd\u5efa\u7acb\u4e00\u4e2atcp\u8fde\u63a5\u3002</li> </ul>","tags":["\u9762\u8bd5"]},{"location":"interview/52.interview-bagu-general/#_7","title":"\u7cfb\u7edf\u8bbe\u8ba1","text":"","tags":["\u9762\u8bd5"]},{"location":"interview/52.interview-bagu-general/#restful-api","title":"restful api","text":"<ul> <li>\u628a\u63a5\u53e3\u89c6\u4e3a\u8d44\u6e90</li> <li>\u7528HTTP\u65b9\u6cd5\u8868\u793a\u64cd\u4f5c\uff0cGET\u3001POST\u3001PUT\u3001DELETE\uff0c\u8bfb\u53d6\u3001\u65b0\u589e\u3001\u4fee\u6539\u3001\u5220\u9664</li> <li>\u7528URL\u8868\u793a\u8d44\u6e90\uff0c\u800c\u4e0d\u662f\u901a\u8fc7\u53c2\u6570\u8868\u793a\u8d44\u6e90</li> <li>\u63a5\u53e3\u547d\u540d\uff08\u547d\u540d\u4e2d\u53ea\u5305\u542b\u8d44\u6e90\uff0c\u4e0d\u80fd\u5305\u542b\u64cd\u4f5c\uff09</li> </ul>","tags":["\u9762\u8bd5"]},{"location":"interview/52.interview-bagu-general/#_8","title":"\u8bbe\u8ba1\u6a21\u5f0f","text":"<ul> <li>\u5355\u4f8b\u6a21\u5f0f\uff0c\u9759\u6001\u5168\u5c40\u53d8\u91cf\uff0c\u79c1\u6709\u6784\u9020\u51fd\u6570\uff0c\u9759\u6001\u65b9\u6cd5\u83b7\u53d6\u5168\u5c40\u53d8\u91cf</li> <li>\u61d2\u6c49\u5f0f\uff0c\u83b7\u53d6\u65f6\u521d\u59cb\u5316\u5355\u4f8b\uff08\u5b58\u5728\u7ebf\u7a0b\u5b89\u5168\u95ee\u9898\uff09</li> <li>\u997f\u6c49\u5f0f\uff0c\u76f4\u63a5\u521d\u59cb\u5316\u5355\u4f8b</li> <li>\u5de5\u5382\u6a21\u5f0f</li> <li>\u7b80\u5355\u5de5\u5382\uff0c\u6839\u636e\u53c2\u6570\u8fd4\u56de\u7279\u6027\u5bf9\u8c61</li> <li>\u62bd\u8c61\u5de5\u5382\uff0c\u6839\u636e\u53c2\u6570\u8fd4\u56de\u7279\u5b9a\u5de5\u5382</li> <li>\u6a21\u677f\u6a21\u5f0f</li> </ul>","tags":["\u9762\u8bd5"]},{"location":"interview/52.interview-bagu-general/#_9","title":"\u6027\u80fd\u5206\u6790","text":"<p>\u76d1\u63a7\u548c\u544a\u8b66</p> <p>\u770b\u54ea\u4e9b\u6307\u6807\u4e0b\u964d\uff0c\u5305\u62ec\u673a\u5668\u548c\u670d\u52a1\u4e24\u79cd\u76d1\u63a7</p> <p>\u673a\u5668\u76d1\u63a7\u4e3b\u8981\u770b\u673a\u5668\u8d44\u6e90\uff08cpu idle\u3001memory idle\uff0c\u7f51\u7edc\u5e26\u5bbd\u60c5\u51b5\uff09\uff0c\u670d\u52a1\u76d1\u63a7\u4e3b\u8981\u770b\u670d\u52a1\u72b6\u6001\uff08\u7a33\u5b9a\u6027\uff0c\u8017\u65f6\uff0c\u6d41\u91cf\uff09</p> <p>\u65e5\u5fd7\u5206\u6790</p> <p>\u5206\u6790\u5168\u94fe\u8def\u7ebf\u4e0a\u65e5\u5fd7\uff0c\u6309\u7167\u5173\u6ce8\u7684\u65e5\u5fd7\u9879\uff0c\u4f7f\u7528grep\u3001tail\u3001wc\u7b49\u547d\u4ee4\u5206\u6790\u8bf7\u6c42\u6267\u884c\u60c5\u51b5</p> <p>\u538b\u529b\u6d4b\u8bd5+\u6027\u80fd\u5206\u6790\u5de5\u5177</p> <p>gperf + brpc\u706b\u7130\u56fe\uff0c\u5206\u6790\u70ed\u70b9\u51fd\u6570</p> <p>\u4ee3\u7801\u5ba1\u67e5</p> <p>\u6839\u636e\u7a0b\u5e8f\u67b6\u6784\uff0c\u627e\u5230\u53ef\u80fd\u6027\u8f83\u5927\u7684\u74f6\u9888\u70b9\uff0c\u5206\u6790\u6267\u884c\u8017\u65f6\u70b9\uff0c\u5185\u5b58\u5206\u914d\u548c\u91ca\u653e\u95ee\u9898</p>","tags":["\u9762\u8bd5"]},{"location":"interview/53.interview-bagu-distribute-system/","title":"\u9762\u8bd5\u516b\u80a1-\u5206\u5e03\u5f0f\u7cfb\u7edf","text":"","tags":["\u9762\u8bd5","\u5206\u5e03\u5f0f\u7cfb\u7edf"]},{"location":"interview/53.interview-bagu-distribute-system/#mysql","title":"mysql","text":"","tags":["\u9762\u8bd5","\u5206\u5e03\u5f0f\u7cfb\u7edf"]},{"location":"interview/53.interview-bagu-distribute-system/#_1","title":"\u7d22\u5f15","text":"<ul> <li>\u4ec0\u4e48\u662f\u7d22\u5f15</li> <li>\u7d22\u5f15\u662f\u4e00\u79cd\u80fd\u5b9e\u73b0\u5bf9\u8868\u4e2d\u67d0\u4e00\u5217\u6216\u591a\u5217\u7684\u503c\u5feb\u901f\u67e5\u627e\u7684\u6570\u636e\u7ed3\u6784\uff0c\u5e38\u89c1\u7684\u662f B+\u6811</li> <li>B+\u6811\u662f\u4e00\u79cd\u591a\u53c9\u641c\u7d22\u6811\uff0c\u53f6\u8282\u70b9\u662f\u6570\u636e\u8282\u70b9\uff0c\u5b58\u653e\u7740\u6307\u5411\u884c\u6570\u636e\u7684\u6307\u9488\uff0c\u53f6\u8282\u70b9\u4e4b\u95f4\u987a\u5e8f\u94fe\u63a5</li> <li>\u6ca1\u6709\u7d22\u5f15\u7684\u65f6\u5019\uff0c\u6570\u636e\u7684\u7269\u7406\u5b58\u50a8\u662f\u6309\u63d2\u5165\u987a\u5e8f\u5b58\u50a8\u7684\uff0c\u67e5\u627e\u6570\u636e\u65f6\u8981\u9010\u884c\u67e5\u627e</li> <li>\u7d22\u5f15\u7684\u4f18\u7f3a\u70b9</li> <li>\u4f18\u70b9\uff1a<ul> <li>\u52a0\u5feb\u67e5\u8be2\u901f\u5ea6</li> <li>\u7f29\u5c0f\u9501\u7684\u8303\u56f4\uff08\u6bd4\u5982 gap lock \u548c next key lock\uff09</li> </ul> </li> <li>\u7f3a\u70b9\uff1a\u7ef4\u62a4\u7d22\u5f15\u8981\u8017\u8d39\u65f6\u95f4\u548c\u7a7a\u95f4\uff0c\u4f1a\u964d\u4f4e\u5199\u5165\u901f\u5ea6</li> <li>mysql \u7d22\u5f15\u5206\u7c7b</li> <li>\u666e\u901a\u7d22\u5f15\u3001\u552f\u4e00\u7d22\u5f15\u3001\u4e3b\u952e\u7d22\u5f15<ul> <li>\u666e\u901a\u7d22\u5f15\u5141\u8bb8\u91cd\u590d\u503c\u548c\u7a7a\u503c</li> <li>\u552f\u4e00\u7d22\u5f15\u4e0d\u5141\u8bb8\u91cd\u590d\u503c\uff0c\u4f46\u5141\u8bb8\u7a7a\u503c</li> <li>\u4e3b\u952e\u7d22\u5f15\u65e2\u4e0d\u5141\u8bb8\u91cd\u590d\u503c\uff0c\u53c8\u4e0d\u5141\u8bb8\u7a7a\u503c</li> </ul> </li> <li>\u5355\u5217\u7d22\u5f15\u548c\u7ec4\u5408\u7d22\u5f15<ul> <li>\u7ec4\u5408\u7d22\u5f15\u662f\u5728\u591a\u5217\u4e0a\u6784\u5efa\u7684\u7d22\u5f15\uff0c\u67e5\u8be2\u6761\u4ef6\u5fc5\u987b\u6ee1\u8db3\u4e24\u4e2a\u6761\u4ef6\uff1a\uff081\uff09\u7b26\u5408\u7ec4\u5408\u7d22\u5f15\u7684\u6700\u5de6\u524d\u7f00\u539f\u5219\uff082\uff09\u7528 and \u8fde\u63a5\u65f6\u624d\u4f1a\u89e6\u53d1\u7ec4\u5408\u7d22\u5f15</li> <li>\u4ec0\u4e48\u662f\u6700\u5de6\u524d\u7f00\u539f\u5219\u5462\uff1f\u5c31\u662f\u67e5\u8be2\u65f6\uff0c\u5fc5\u987b\u6309\u521b\u5efa\u7d22\u5f15\u65f6\u5b57\u6bb5\u7684\u987a\u5e8f\u53bb\u7528and\u8fde\u63a5\uff0c\u6bd4\u5982\u5bf9\u4e09\u4e2a\u5b57\u6bb5\u521b\u5efa\u4e86\u4e00\u4e2a\u7ec4\u5408\u7d22\u5f15\uff0c<code>Index index1 (name,age,city)</code>\uff0c\u67e5\u8be2\u7684\u65f6\u5019\u53ea\u80fd\u4ee5<code>name=\"swj\" and age=30</code> \u6216\u8005 <code>name=\"swj\" and age=30 and city='tianjin'</code>\u8fd9\u4e24\u79cd\u65b9\u5f0f\u53bb\u67e5\u8be2\uff0c\u4e0d\u80fd\u8df3\u8fc7age\uff0c\u76f4\u63a5\u4ee5name\u548ccity\u53bb\u67e5\u8be2\uff0c\u76f8\u5f53\u4e8e\u521b\u5efa\u4e86\u4e24\u4e2a\u7d22\u5f15<code>(name,age)</code>\u548c<code>(name,age,city)</code></li> </ul> </li> <li>\u5168\u6587\u7d22\u5f15<ul> <li>\u53ef\u4ee5\u5728\u5217\u4e0a\u8fdb\u884c\u5168\u6587\u641c\u7d22</li> </ul> </li> <li>\u600e\u4e48\u5224\u65ad\u8981\u4e0d\u8981\u52a0\u7d22\u5f15</li> <li>\u52a0<ul> <li>\u5728\u9891\u7e41\u8fdb\u884c\u6761\u4ef6\u5224\u65ad\u3001\u5206\u7ec4\u3001\u6392\u5e8f\u7684\u5217\u4e0a\u521b\u5efa\u7d22\u5f15</li> <li>\u591a\u8bfb\u5c11\u5199\u6216\u8005\u5bf9\u8bfb\u64cd\u4f5c\u8017\u65f6\u8981\u6c42\u9ad8\u65f6\u52a0\u7d22\u5f15</li> </ul> </li> <li>\u4e0d\u52a0<ul> <li>\u5199\u591a\u8bfb\u5c11\u65f6\u4e0d\u8981\u52a0\u6240\u7d22\u5f15</li> <li>\u4e0d\u505a\u6761\u4ef6\u5224\u65ad\u7684\u5217\u4e0d\u8981\u52a0\u7d22\u5f15</li> <li>\u6570\u636e\u5927\u91cf\u91cd\u590d\u65f6\u4e5f\u4e0d\u5e94\u8be5\u52a0\u7d22\u5f15</li> </ul> </li> <li>\u7d22\u5f15\u547d\u4e2d\u548c\u5931\u6548</li> <li>\u4e0d\u7b26\u5408\u5de6\u524d\u7f00\u539f\u5219\u4f1a\u5bfc\u81f4\u7ec4\u5408\u7d22\u5f15\u5931\u6548</li> <li>where \u6761\u4ef6\u4e0d\u7528 and \u8fde\u63a5\u4f1a\u5bfc\u81f4\u7ec4\u5408\u7d22\u5f15\u5931\u6548</li> <li>\u5728\u7d22\u5f15\u5217\u4e0a\u505a\u8ba1\u7b97\u3001\u51fd\u6570\u8c03\u7528\u3001\u4e0d\u7b49\u4e8e\u6bd4\u8f83\u4f1a\u5bfc\u81f4\u7d22\u5f15\u5931\u6548</li> <li>\u53ef\u4ee5\u7528 explain \u8bed\u53e5\u67e5\u770b\u662f\u5426\u547d\u4e2d\u7d22\u5f15\uff0cexplain \u8bed\u53e5\u662f\u7528\u6765\u67e5\u770b sql \u6267\u884c\u8ba1\u5212\u7684</li> <li>\u7d22\u5f15\u5b9e\u73b0\u4e0a\u5206\u4e3a\u805a\u96c6\u7d22\u5f15\u548c\u975e\u805a\u96c6\u7d22\u5f15</li> <li>\u4e00\u4e2a\u8868\u53ea\u80fd\u6709\u4e00\u4e2a\u805a\u96c6\u7d22\u5f15\uff0c\u4e4b\u6240\u4ee5\u53eb\u805a\u96c6\u7d22\u5f15\uff0c\u662f\u56e0\u4e3a\u6570\u636e\u7684\u7269\u7406\u5b58\u50a8\u987a\u5e8f\u5c31\u662f\u6309\u805a\u96c6\u7d22\u5f15\u7684\u6392\u5e8f\u5b58\u50a8\u7684\uff0c\u4e5f\u662f\u56e0\u4e3a\u8fd9\u4e2a\u539f\u56e0\uff0c\u4e00\u4e2a\u8868\u53ea\u80fd\u6709\u4e00\u4e2a\u805a\u96c6\u7d22\u5f15\u3002InnoDB \u7684\u805a\u96c6\u7d22\u5f15\u53f6\u8282\u70b9\u5b58\u50a8\u5b8c\u6574\u7684\u6570\u636e\u8bb0\u5f55\u3002</li> <li>\u5176\u4ed6\u7d22\u5f15\u90fd\u5c5e\u4e8e\u975e\u805a\u96c6\u7d22\u5f15\uff0c\u975e\u805a\u96c6\u7d22\u5f15\u4e5f\u53eb\u4e8c\u7ea7\u7d22\u5f15\u6216\u8005\u8f85\u52a9\u7d22\u5f15\uff0c\u975e\u805a\u96c6\u7d22\u5f15\u6709\u4e24\u79cd\u60c5\u51b5<ol> <li>\u6570\u636e\u8282\u70b9\u4e0d\u662f\u76f4\u63a5\u6307\u5411\u6570\u636e\u8bb0\u5f55\uff0c\u800c\u662f\u4fdd\u5b58\u4e00\u4e2a\u805a\u96c6\u7d22\u5f15\u7684 key\uff0c\u6bcf\u6b21\u5bf9\u975e\u805a\u96c6\u7d22\u5f15\u7684\u67e5\u627e\u90fd\u8981\u5230\u805a\u96c6\u7d22\u5f15\u4e0a\u67e5\u4e00\u6b21\u6570\u636e\uff0c\u8fd9\u53eb\u201c\u56de\u8868\u201d\u3002\uff08mysql \u7684 InnoDB \u5f15\u64ce\uff09</li> <li>\u53f6\u8282\u70b9\u76f4\u63a5\u6307\u5411\u5bf9\u5e94\u7684\u6570\u636e\u5757\u3002\uff08mysql \u7684 MyISAM\uff09</li> </ol> </li> <li>mysql InnoDB \u5f15\u64ce\u4e00\u5b9a\u4f1a\u6784\u5efa\u4e00\u4e2a\u805a\u96c6\u7d22\u5f15\uff0c\u9ed8\u8ba4\u4f1a\u5c06\u4e3b\u952e\u7d22\u5f15\u4f5c\u4e3a\u805a\u96c6\u7d22\u5f15\uff0c\u5982\u679c\u6ca1\u6709\u4e3b\u952e\u7d22\u5f15\uff0c\u4f1a\u5c06\u7b2c\u4e00\u4e2a\u6ca1\u6709\u7a7a\u503c\u7684\u552f\u4e00\u7d22\u5f15\u4f5c\u4e3a\u805a\u96c6\u7d22\u5f15\uff0c\u5426\u5219\u4f1a\u5728\u4e00\u4e2a\u9690\u85cf\u7684 ROWID \u4e0a\u6784\u5efa\u805a\u96c6\u7d22\u5f15\uff0cROWID \u662f\u884c\u7684\u552f\u4e00\u6807\u8bc6</li> <li>\u7ec4\u5408\u7d22\u5f15\u662f\u4ee5\u591a\u4e2a\u5217\u7684\u7ec4\u5408\u4f5c\u4e3a key\uff0c\u4f8b\u5982\"(2,3)\"</li> </ul>","tags":["\u9762\u8bd5","\u5206\u5e03\u5f0f\u7cfb\u7edf"]},{"location":"interview/53.interview-bagu-distribute-system/#2kw","title":"2kw \u662f\u6570\u636e\u91cf\u4e0a\u9650\u8fd9\u4e2a\u8bf4\u6cd5\u4ece\u4f55\u800c\u6765","text":"<ul> <li>\u6211\u4eec\u901a\u5e38\u8ba4\u4e3a B+\u6811\u8d85\u8fc7\u4e09\u5c42\u6027\u80fd\u4f1a\u4e0b\u964d</li> <li>mysql innodb \u4e00\u4e2a B+\u6811\u8282\u70b9 16KB\uff0c\u53ef\u7528\u7a7a\u95f4 15KB</li> <li>\u5047\u8bbe key \u662f bigint \u7c7b\u578b\uff088B\uff09\uff0ckey \u52a0\u6307\u9488\uff084B\uff09\u4e00\u5171 12B</li> <li>\u56e0\u6b64\u7b2c\u4e8c\u5c42\u6709 1280 \u4e2a\u8282\u70b9\uff0c\u7b2c\u4e09\u5c42\u6709 1280*1280 \u4e2a\u8282\u70b9</li> <li>\u5047\u8bbe\u5355\u884c\u6570\u636e 1KB\uff0c\u90a3\u4e09\u5c42 B+\u6811\u652f\u6301\u7684\u6570\u636e\u91cf\u662f 1280*1280*15KB/1KB=24576000\uff0c\u4e5f\u5c31\u662f 2kw+</li> <li>2kw \u53ea\u662f\u4e2a\u53c2\u8003\u503c\uff0c\u5355\u884c\u6570\u636e\u91cf\u5982\u679c\u4e0d\u662f 1KB\uff0c\u6570\u636e\u91cf\u4e0a\u9650\u5c31\u4e0d\u662f 2kw \u4e86\u3002\u673a\u5668\u7684\u786c\u4ef6\u914d\u7f6e\u4e5f\u4f1a\u5f71\u54cd mysql \u7684\u6027\u80fd\uff0c\u6bd4\u5982\u7528 ssd \u4ee3\u66ff\u673a\u68b0\u786c\u76d8\u3001\u4f7f\u7528\u5927\u5185\u5b58\u90fd\u4f1a\u63d0\u9ad8 mysql \u7684\u6027\u80fd\u3002</li> </ul>","tags":["\u9762\u8bd5","\u5206\u5e03\u5f0f\u7cfb\u7edf"]},{"location":"interview/53.interview-bagu-distribute-system/#_2","title":"\u4e8b\u52a1","text":"<p>\u4e8b\u52a1\uff08transaction\uff09\u7684\u76ee\u7684\u662f\u8981\u4fdd\u8bc1\u4e00\u8fde\u4e32\u6570\u636e\u64cd\u4f5c\u7684\u539f\u5b50\u6027\uff0c\u5e76\u80fd\u591f\u652f\u6301\u64cd\u4f5c\u56de\u6eda</p> <ul> <li>ACID \u7279\u6027\uff08\u539f\u5b50\u6027\u3001\u4e00\u81f4\u6027\u3001\u9694\u79bb\u6027\u3001\u6301\u4e45\u6027\uff09</li> <li>\u539f\u5b50\u6027\uff1a\u4e00\u8fde\u4e32\u64cd\u4f5c\u8981\u4e48\u5168\u5b8c\u6210\uff0c\u8981\u4e48\u5168\u4e0d\u5b8c\u6210</li> <li>\u4e00\u81f4\u6027\uff1a\u4e8b\u52a1\u6267\u884c\u524d\u540e\uff0c\u6570\u636e\u5904\u4e8e\u4e00\u81f4\u7684\u72b6\u6001\uff0c\u6570\u636e\u4e0d\u4f1a\u88ab\u7834\u574f</li> <li>\u9694\u79bb\u6027\uff1a\u5e76\u53d1\u6267\u884c\u7684\u4e8b\u52a1\u4e4b\u95f4\u4e92\u4e0d\u5e72\u6270</li> <li>\u6301\u4e45\u6027\uff1a\u4e00\u65e6\u4e8b\u52a1\u63d0\u4ea4\uff0c\u6570\u636e\u5c31\u4f1a\u88ab\u6c38\u4e45\u4fdd\u5b58\u5230\u6570\u636e\u5e93\u4e2d</li> <li>InnoDB \u5982\u4f55\u5b9e\u73b0\u4e8b\u52a1\u7684 ACID \u7279\u6027</li> <li>\u539f\u5b50\u6027\uff0c\u901a\u8fc7 undo log \uff08\u56de\u6eda\u65e5\u5fd7\uff09\u56de\u6eda\uff0c\u4e8b\u52a1\u6267\u884c\u524d\u4f1a\u8bb0\u5f55\u64cd\u4f5c\u524d\u7684\u6570\u636e\u5230 undo \u65e5\u5fd7\uff0c\u82e5\u4e8b\u52a1\u5931\u8d25\u6216\u56de\u6eda\uff0c\u53ef\u4ee5\u5229\u7528 undo \u65e5\u5fd7\u6062\u590d\u5230\u539f\u59cb\u72b6\u6001\u3002</li> <li>\u4e00\u81f4\u6027</li> <li>\u9694\u79bb\u6027<ul> <li>\u901a\u8fc7\u9501\u4fdd\u8bc1\u9694\u79bb\u6027\uff0c\u4e8b\u52a1\u5728\u4fee\u6539\u6570\u636e\u4e4b\u524d\u5148\u5bf9\u6570\u636e\u4e0a\u9501\u3002\u9501\u6309\u7167\u7c92\u5ea6\u5206\u4e3a\u8868\u9501\u548c\u884c\u9501\u3002</li> <li>\u4f7f\u7528 MVCC\uff08\u591a\u7248\u672c\u5e76\u53d1\u63a7\u5236\uff09\u4fdd\u8bc1\u9694\u79bb\u6027</li> <li>mysql\u652f\u6301\u56db\u79cd\u9694\u79bb\u7ea7\u522b</li> </ul> </li> <li>\u6301\u4e45\u6027\uff0c\u6570\u636e\u843d\u76d8\u4e4b\u524d\u5148\u8981\u653e\u5230 buffer pool\uff0cbuffer pool \u7684\u6570\u636e\u4f1a\u5b9a\u671f\u5237\u5230\u78c1\u76d8\u4e0a\u53bb\uff0c\u5199\u5165 buffer pool \u4e4b\u524d\u5148\u5199\u5230 redo log \u4e2d\uff0c\u4fdd\u8bc1\u6570\u636e\u4e0d\u4f1a\u56e0\u5b95\u673a\u4e22\u5931</li> </ul>","tags":["\u9762\u8bd5","\u5206\u5e03\u5f0f\u7cfb\u7edf"]},{"location":"interview/53.interview-bagu-distribute-system/#_3","title":"\u4e8b\u52a1\u7684\u5e76\u53d1\u95ee\u9898","text":"<ol> <li>\u810f\u8bfb\uff1a\u5f53\u524d\u4e8b\u52a1\u53ef\u4ee5\u8bfb\u53d6\u5230\u5176\u4ed6\u4e8b\u52a1\u672a\u63d0\u4ea4\u7684\u6570\u636e</li> <li>\u4e0d\u53ef\u91cd\u590d\u8bfb\uff1a\u5f53\u524d\u4e8b\u52a1\u524d\u540e\u4e24\u6b21\u4f7f\u7528\u76f8\u540c\u7684\u67e5\u8be2\u8bed\u53e5\u67e5\u5230\u4e86\u4e0d\u540c\u7684\u6570\u636e\uff0c\u539f\u56e0\u662f\u5728\u4e8b\u52a1\u6267\u884c\u8fc7\u7a0b\u4e2d\uff0c\u6709\u5176\u4ed6\u4e8b\u52a1\u5bf9\u8fd9\u6279\u6570\u636e\u505a\u4e86\u589e\u5220\u6539\u64cd\u4f5c\u3002\u5982\u679c\u5f53\u524d\u4e8b\u52a1\u7684\u4e24\u6b21\u8bfb\u64cd\u4f5c\u5206\u522b\u53d1\u751f\u5728\u5176\u4ed6\u4e8b\u52a1\u5f00\u59cb\u524d\u548c\u63d0\u4ea4\u540e\uff0c\u8bfb\u5230\u7684\u6570\u636e\u4e0d\u4e00\u81f4\uff0c\u8fd9\u5c31\u4e0d\u7b97\u810f\u8bfb\uff0c\u5c5e\u4e8e\u4e0d\u53ef\u91cd\u590d\u8bfb\u95ee\u9898\u3002</li> <li>\u5e7b\u8bfb\uff1a\u4e8b\u52a1\u8fdb\u884c\u8bfb\u64cd\u4f5c\u53d1\u73b0\u6570\u636e\u4e0d\u5b58\u5728\uff0c\u8bd5\u56fe\u63d2\u5165\u6570\u636e\uff0c\u4f46\u662f\u63d2\u5165\u5931\u8d25\uff0c\u6216\u8005\u4e8b\u52a1\u53d1\u73b0\u6570\u636e\u5b58\u5728\uff0c\u8bd5\u56fe\u66f4\u65b0\u6570\u636e\uff0c\u4f46\u66f4\u65b0\u5931\u8d25\uff0c\u539f\u56e0\u662f\u4e8b\u52a1\u8bfb\u6570\u636e\u540e\uff0c\u6709\u5176\u4ed6\u4e8b\u52a1\u5bf9\u6570\u636e\u505a\u4e86\u589e\u5220\u64cd\u4f5c\u3002\u5373\u4f7f\u6570\u636e\u5e93\u80fd\u591f\u4fdd\u8bc1\u4e0d\u53d1\u751f\u810f\u8bfb\u548c\u4e0d\u53ef\u91cd\u590d\u8bfb,\u4ecd\u6709\u53ef\u80fd\u53d1\u751f\u5e7b\u8bfb\uff0c\u73b0\u8c61\u662f\u6bcf\u6b21\u8bfb\u6570\u636e\u7ed3\u679c\u90fd\u662f\u4e0d\u5b58\u5728\uff0c\u4f46\u5c31\u662f\u4e0d\u80fd\u63d2\u5165\u6570\u636e\uff0c\u6216\u8005\u662f\u6bcf\u6b21\u8bfb\u6570\u636e\u7ed3\u679c\u90fd\u662f\u5b58\u5728\uff0c\u4f46\u5c31\u662f\u66f4\u65b0\u4e0d\u4e86\u3002</li> </ol> <p>\u4e0d\u53ef\u91cd\u590d\u8bfb\u548c\u5e7b\u8bfb\u662f\u7c7b\u4f3c\u7684\u95ee\u9898\uff0c\u90fd\u662f\u7531\u4e8e\u4e8b\u52a1\u6267\u884c\u8fc7\u7a0b\u4e2d\u5176\u4ed6\u4e8b\u52a1\u628a\u6570\u636e\u6539\u4e86\u9020\u6210\u7684\u3002</p>","tags":["\u9762\u8bd5","\u5206\u5e03\u5f0f\u7cfb\u7edf"]},{"location":"interview/53.interview-bagu-distribute-system/#innodb","title":"InnoDB \u7684\u9501","text":"<ul> <li>InnoDB \u7684\u9501\u6309\u7c92\u5ea6\u5206\u4e3a</li> <li>\u884c\u9501\u548c\u8868\u9501</li> <li>\u610f\u5411\u9501\u548c\u975e\u610f\u5411\u9501</li> <li>\u6309\u5e76\u53d1\u63a7\u5236\u5206\u4e3a\u5171\u4eab\u9501\u548c\u6392\u4ed6\u9501</li> <li>\u5171\u4eab\u9501\uff1a\u53ef\u4ee5\u5bf9\u6570\u636e\u4e0a\u591a\u4e2a\u5171\u4eab\u9501\uff0c\u4f46\u4e0d\u80fd\u540c\u65f6\u4e0a\u5171\u4eab\u9501\u548c\u6392\u4ed6\u9501\uff08\u6709\u70b9\u50cf\u5e76\u53d1\u7f16\u7a0b\u7684\u8bfb\u9501\uff09</li> <li>\u6392\u4ed6\u9501\uff1a\u53ea\u80fd\u5bf9\u6570\u636e\u4e0a\u4e00\u4e2a\u6392\u4ed6\u9501\uff08\u6709\u70b9\u50cf\u5e76\u53d1\u7f16\u7a0b\u7684\u5199\u9501\uff09</li> <li>\u610f\u5411\u9501\u53ea\u80fd\u662f\u8868\u7ea7\uff0c\u975e\u610f\u5411\u9501\u53ef\u4ee5\u662f\u8868\u7ea7\u7684\u4e5f\u53ef\u4ee5\u662f\u884c\u7ea7\u7684\uff0c\u56e0\u6b64\u4e00\u5171\u6709 6 \u79cd\u7ec4\u5408</li> <li>\u8868\u7ea7\u7684\u6392\u4ed6\u9501</li> <li>\u8868\u7ea7\u7684\u5171\u4eab\u9501</li> <li>\u884c\u7ea7\u7684\u6392\u4ed6\u9501</li> <li>\u884c\u7ea7\u7684\u5171\u4eab\u9501</li> <li>\u8868\u7ea7\u7684\u6392\u4ed6\u610f\u5411\u9501</li> <li>\u8868\u7ea7\u7684\u5171\u4eab\u610f\u5411\u9501</li> <li>\u7533\u8bf7\u884c\u7ea7\u9501\u4e4b\u524d\u8981\u5148\u7533\u8bf7\u8868\u7ea7\u7684\u610f\u5411\u9501\uff08\u610f\u5411\u9501\u76f8\u5f53\u4e8e\u662f\u884c\u9501\u5728\u8868\u8fd9\u4e2a\u7ea7\u522b\u7684\u4ee3\u8868\uff09</li> <li>\u8868\u7ea7\u9501\u4e92\u65a5\u6027\uff08X-\u6392\u4ed6\u9501\uff0cS-\u5171\u4eab\u9501\uff0cI-\u610f\u5411\u9501\uff09   ||X|IX|S|IS|   |---|---|---|---|---|   |X|\u00d7|\u00d7|\u00d7|\u00d7|   |IX|\u00d7|\u221a|\u00d7|\u221a|   |S|\u00d7|\u00d7|\u221a|\u221a|   |IS|\u00d7|\u221a|\u221a|\u221a|</li> <li>\u884c\u9501\u6709\u4e09\u79cd</li> <li>record lock\uff0c\u5355\u884c\u9501</li> <li>gap lock\uff0c\u9501\u4f4f\u4e24\u4e2a\u7d22\u5f15\u503c\u4e4b\u95f4\u7684\u7a7a\u9699\uff08\u7a7a\u9699\u662f\u6307\u8fd8\u6ca1\u6709\u63d2\u5165\u503c\uff09\uff0c\u76ee\u7684\u662f\u4e3a\u4e86\u9632\u6b62\u5e7b\u8bfb\uff0c\u6ce8\u610f\uff0c\u5982\u679c\u6ca1\u6709\u547d\u4e2d\u7d22\u5f15\uff0cgap \u9501\u4f1a\u9501\u5168\u8868\u3002</li> <li>next-key lock\uff0c\u4ee5\u4e0a\u4e24\u79cd\u9501\u7684\u7ed3\u5408\uff0c\u4e5f\u662f\u4e3a\u4e86\u9632\u6b62\u5e7b\u8bfb\u3002</li> </ul>","tags":["\u9762\u8bd5","\u5206\u5e03\u5f0f\u7cfb\u7edf"]},{"location":"interview/53.interview-bagu-distribute-system/#_4","title":"\u5982\u4f55\u52a0\u9501","text":"<p>\u5728 mysql \u4e2d\uff0c\u6709\u4e9bSQL\u8bed\u53e5\u4f1a\u81ea\u52a8\u52a0\u9501\uff0c\u6709\u4e9b\u9501\u9700\u8981\u624b\u52a8\u6307\u5b9a</p> <ol> <li>\u4fee\u6539\u8868\u4f1a\u81ea\u52a8\u52a0\u9501</li> <li>\u53ef\u4ee5\u624b\u52a8\u4e3a\u8868\u7ea7\u64cd\u4f5c\u52a0\u8868\u9501\uff0c\u8868\u9501\u5206\u4e3a\u8bfb\u5199\u9501\uff0c</li> <li>\u8bfb\u9501\uff08\u5171\u4eab\u9501\uff09\uff1a<code>LOCK TABLES table_name READ</code>\uff0c<code>UNLOCK TABLES</code></li> <li>\u5199\u9501\uff08\u6392\u4ed6\u9501\uff09\uff1a<code>LOCK TABLES table_name WRITE</code>\uff0c<code>UNLOCK TABLES</code></li> <li>\u5199\u5165\u6570\u636e\u7684\u64cd\u4f5c\uff08Insert\uff0cUpdate\uff0cDelete\uff09\u4f1a\u81ea\u52a8\u52a0\u6392\u4ed6\u9501</li> <li>\u666e\u901a\u7684select\u8bed\u53e5\u4e0d\u4f1a\u52a0\u9501</li> <li><code>SELECT ... FOR UPDATE</code> \u4f1a\u52a0\u6392\u4ed6\u9501</li> <li><code>SELECT ... LOCK IN SHARE MODE</code> \u4f1a\u52a0\u5171\u4eab\u9501</li> <li>\u5728\u4e8b\u52a1\u4e2d\u4f7f\u7528\u9501\uff0c\u9501\u5b9a\u65f6\u95f4\u4f1a\u6301\u7eed\u5230\u4e8b\u52a1\u7ed3\u675f</li> </ol>","tags":["\u9762\u8bd5","\u5206\u5e03\u5f0f\u7cfb\u7edf"]},{"location":"interview/53.interview-bagu-distribute-system/#innodb-mvcc","title":"InnoDB MVCC","text":"<p>MVCC \u7684\u5168\u79f0\u662f\u591a\u7248\u672c\u5e76\u53d1\u63a7\u5236\uff0c\u76ee\u7684\u662f\u63d0\u9ad8\u6570\u636e\u5e93\u7684\u5e76\u53d1\u6027\u80fd\uff0c\u5b9e\u73b0\u8bfb-\u5199\u51b2\u7a81\u4e0d\u52a0\u9501</p> <p>\u6570\u636e\u5e93\u5e76\u53d1\u573a\u666f   - \u8bfb-\u8bfb\uff1a\u4e0d\u9700\u8981\u5e76\u53d1\u63a7\u5236   - \u8bfb-\u5199\uff1a\u5b58\u5728\u810f\u8bfb\u3001\u4e0d\u53ef\u91cd\u590d\u8bfb\u3001\u5e7b\u8bfb\u95ee\u9898   - \u5199-\u5199\uff1a\u5b58\u5728\u5199\u5165\u810f\u6570\u636e\u95ee\u9898</p> <p>\u7248\u672c\u94fe</p> <p>MySQL \u4e3a\u6bcf\u4e00\u884c\u6570\u636e\u7ef4\u62a4\u4e00\u4e2a\u7248\u672c\u94fe\uff0c\u5176\u4e2d\u5305\u542b\u4e86\u8be5\u884c\u6570\u636e\u7684\u591a\u4e2a\u7248\u672c\u3002\u6bcf\u4e2a\u7248\u672c\u90fd\u6709\u4e00\u4e2a\u521b\u5efa\u65f6\u95f4\u548c\u4e00\u4e2a\u5220\u9664\u65f6\u95f4</p> <p>\u5f53\u4e00\u4e2a\u4e8b\u52a1\u5bf9\u67d0\u884c\u6570\u636e\u8fdb\u884c\u4fee\u6539\u65f6\uff0c\u6570\u636e\u5e93\u7cfb\u7edf\u4f1a\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u7248\u672c\uff0c\u5e76\u5c06\u5176\u63d2\u5165\u5230\u7248\u672c\u94fe\u4e2d\uff0c\u5e76\u8bb0\u5f55\u4e8b\u52a1\u7684 ID \u548c\u4fee\u6539\u65f6\u95f4\u3002</p> <p>\u4e8b\u52a1\u53ef\u89c1\u6027\u5224\u65ad</p> <p>\u5f53\u4e00\u4e2a\u4e8b\u52a1\u8bfb\u53d6\u67d0\u884c\u6570\u636e\u65f6\uff0c\u6570\u636e\u5e93\u7cfb\u7edf\u4f1a\u6839\u636e\u8be5\u4e8b\u52a1\u7684\u5f00\u59cb\u65f6\u95f4\u548c\u7248\u672c\u94fe\u4e2d\u7684\u7248\u672c\u4fe1\u606f\uff0c\u786e\u5b9a\u8be5\u4e8b\u52a1\u80fd\u591f\u770b\u5230\u7684\u7248\u672c</p> <p>\u4e00\u81f4\u6027\u89c6\u56fe</p> <p>\u5728 <code>REPEATABLE READ</code> \u548c <code>SERIALIZABLE</code> \u9694\u79bb\u7ea7\u522b\u4e0b\uff0cInnoDB \u4f1a\u4e3a\u6bcf\u4e2a\u4e8b\u52a1\u521b\u5efa\u4e00\u4e2a\u4e00\u81f4\u6027\u8bfb\u89c6\u56fe\uff0c\u786e\u4fdd\u4e8b\u52a1\u6267\u884c\u671f\u95f4\uff0c\u591a\u6b21\u8bfb\u64cd\u4f5c\u770b\u5230\u7684\u6570\u636e\u662f\u4e00\u81f4\u7684\u3002</p>","tags":["\u9762\u8bd5","\u5206\u5e03\u5f0f\u7cfb\u7edf"]},{"location":"interview/53.interview-bagu-distribute-system/#mysql_1","title":"MySQL\u7684\u9694\u79bb\u7ea7\u522b","text":"<ol> <li>\u8bfb\u672a\u63d0\u4ea4\uff08Read Uncommitted\uff09\uff1a\u6700\u4f4e\u7ea7\u522b\uff0c\u4e0d\u505a\u4efb\u4f55\u4fdd\u8bc1\uff0c\u4f1a\u51fa\u73b0\u810f\u8bfb\u3001\u4e0d\u53ef\u91cd\u590d\u8bfb\u548c\u5e7b\u8bfb\u95ee\u9898</li> <li>\u8bfb\u5df2\u63d0\u4ea4\uff08Read Committed\uff09\uff1a\u89e3\u51b3\u810f\u8bfb\u95ee\u9898</li> <li>\u53ef\u91cd\u590d\u8bfb\uff08Repeatable Read\uff09\uff1a\u9ed8\u8ba4\u7ea7\u522b\uff0c\u901a\u8fc7\u4e00\u81f4\u6027\u8bfb\u89c6\u56fe\u89e3\u51b3\u4e0d\u53ef\u91cd\u590d\u8bfb\u95ee\u9898\uff0c\u4f46\u8fd8\u662f\u4f1a\u5e7b\u8bfb</li> <li>\u4e32\u884c\u5316\uff08Serializable\uff09\uff1a\u6700\u9ad8\u7ea7\u522b\uff0c\u901a\u8fc7\u52a0\u9501\u7684\u65b9\u5f0f\u6765\u4fdd\u8bc1\u4e8b\u52a1\u7684\u4e32\u884c\u6267\u884c\uff0c\u907f\u514d\u4e86\u6240\u6709\u7684\u5e76\u53d1\u95ee\u9898\uff0c\u4f46\u4f1a\u4e25\u91cd\u5f71\u54cd\u6570\u636e\u5e93\u7684\u6027\u80fd\u3002</li> </ol>","tags":["\u9762\u8bd5","\u5206\u5e03\u5f0f\u7cfb\u7edf"]},{"location":"interview/53.interview-bagu-distribute-system/#_5","title":"\u4f18\u5316","text":"<ul> <li>\u8868\u4f18\u5316</li> <li>\u5efa\u7d22\u5f15\u3001\u53bb\u6389\u4e0d\u8be5\u6709\u7684\u7d22\u5f15</li> <li>\u62c6\u5206\u8868\uff0c\u62c6\u51fa\u9891\u7387\u4f4e\u7684\u5b57\u6bb5\uff0c\u5197\u4f59\u591a\u7684\u5b57\u6bb5</li> <li>\u5206\u8868\u5206\u5e93</li> <li>\u4f18\u5316\u5b57\u6bb5\u7c7b\u578b<ul> <li>\u7528\u6574\u578b\u4ee3\u66ff\u5b57\u7b26\u4e32\u7c7b\u578b</li> </ul> </li> <li>SQL \u4f18\u5316</li> <li>\u4e0d\u7528 select *\uff0c\u51cf\u5c11\u201c\u56de\u8868\u201d\uff0c\u51cf\u5c11\u7f51\u7edc\u4f20\u8f93</li> <li>\u4fee\u6539\u4e0d\u547d\u4e2d\u7d22\u5f15\u7684\u5199\u6cd5<ul> <li>explain \u547d\u4ee4\u67e5\u770b sql \u7684\u6267\u884c\u8ba1\u5212\uff0c\u53ef\u4ee5\u770b\u5230\u662f\u5426\u547d\u4e2d\u7d22\u5f15</li> <li>\u4e0d\u7b49\u4e8e\u6bd4\u8f83\uff0c\u5b57\u6bb5\u4e0a\u8fdb\u884c\u51fd\u6570\u8c03\u7528\uff0c\u5bf9\u5b57\u6bb5\u505a\u8ba1\u7b97\uff0c\u4f7f\u7528like\u5339\u914d\u5b57\u7b26\u4e32</li> <li>\u7ec4\u5408\u7d22\u5f15\u4e0d\u7b26\u5408\u6700\u5de6\u524d\u7f00\u539f\u5219\uff0c\u4f7f\u7528or\u8fde\u63a5\u6761\u4ef6</li> </ul> </li> <li>\u7528\u8054\u7ed3\u67e5\u8be2\u4ee3\u66ff\u5b50\u67e5\u8be2</li> <li>\u7528\u547d\u4e2d\u7d22\u5f15\u7684\u8303\u56f4\u67e5\u8be2\u4ee3\u66ff\u504f\u79fb\u91cf\u975e\u5e38\u5927\u7684limit\u8bed\u53e5</li> <li>\u5229\u7528\u6162\u67e5\u8be2\u65e5\u5fd7\u67e5\u770b\u6267\u884c\u7684\u6bd4\u8f83\u6162\u7684\u8bed\u53e5</li> </ul>","tags":["\u9762\u8bd5","\u5206\u5e03\u5f0f\u7cfb\u7edf"]},{"location":"interview/53.interview-bagu-distribute-system/#log","title":"log","text":"<ul> <li>bin log\uff0c\u8bb0\u5f55\u6240\u6709\u5bf9\u6570\u636e\u7684\u4fee\u6539\u64cd\u4f5c</li> <li>redo log\uff0c\u7528\u4e8e\u6570\u636e\u7684\u6301\u4e45\u5316\uff0c\u9632\u6b62\u6570\u636e\u56e0\u5b95\u673a\u4e22\u5931</li> <li>undo log\uff0c\u7528\u4e8e\u56de\u6eda\u6570\u636e</li> </ul>","tags":["\u9762\u8bd5","\u5206\u5e03\u5f0f\u7cfb\u7edf"]},{"location":"interview/53.interview-bagu-distribute-system/#_6","title":"\u5176\u4ed6","text":"<p>mysql \u7684\u4e3b\u4ece\u540c\u6b65\uff0c\u5229\u7528\u4e3b\u670d\u52a1\u7684 binlog \u548c\u4ece\u670d\u52a1\u7684 relay log \u5b9e\u73b0</p>","tags":["\u9762\u8bd5","\u5206\u5e03\u5f0f\u7cfb\u7edf"]},{"location":"interview/53.interview-bagu-distribute-system/#redis","title":"redis","text":"","tags":["\u9762\u8bd5","\u5206\u5e03\u5f0f\u7cfb\u7edf"]},{"location":"interview/53.interview-bagu-distribute-system/#redis_1","title":"redis\u7684\u529f\u80fd","text":"<ul> <li>redis \u662f\u4ec0\u4e48</li> <li>redis \u662f\u4e00\u79cd\u5185\u5b58\u578b kv \u6570\u636e\u5e93\uff0c\u6027\u80fd\u9ad8\uff0c\u5b83\u7684\u9ad8\u6027\u80fd\u6765\u6e90\u4e8e\u5185\u5b58\u5b58\u50a8\u548c kv \u578b\u5b58\u50a8\uff0c\u6570\u636e\u7ed3\u6784\u7b80\u5355</li> <li>\u901a\u5e38\u7528\u6765\u505a\u7f13\u5b58</li> <li>redis \u7684 5 \u79cd\u4e3b\u8981\u6570\u636e\u7c7b\u578b</li> <li>string\uff0c<code>set key value</code>, <code>get key</code>,<code>mget</code>, <code>mset</code></li> <li>hash\uff0ckey\u5bf9\u5e94\u4e00\u4e2avalue\u6620\u5c04\u8868\uff0c\u9002\u5408\u5b58\u50a8\u5bf9\u8c61\uff0c<code>hset hashkey field value</code>,<code>hget hashkey field</code>, <code>hmset</code>, <code>hmget</code>, <code>hgetall</code></li> <li>list\uff0c\u652f\u6301\u961f\u5217\u548c\u6808\u64cd\u4f5c\uff0c<code>lpush key element1 element2</code>\uff0c\u63d2\u5165\u5230\u5217\u8868\u5934\u90e8</li> <li>set\uff0c\u65e0\u5e8f\u96c6\u5408\uff0c\u652f\u6301\u96c6\u5408\u8fd0\u7b97\uff08\u4ea4\u3001\u5e76\u3001\u5dee\uff09\uff0c\u67e5\u627e\u65f6\u95f4O(1)</li> <li>zset\uff0c\u6709\u5e8f\u96c6\u5408\uff0c\u67e5\u627e\u65f6\u95f4O(1)\uff0c\u6bcf\u4e2a\u5143\u7d20\u5173\u8054\u4e00\u4e2a\u5206\u6570\uff0c\u9760\u5206\u6570\u6392\u5e8f</li> <li>redis\u7684\u5355\u7ebf\u7a0b\u6a21\u578b</li> <li>redis\u7684\u547d\u4ee4\u6267\u884c\u662f\u5355\u7ebf\u7a0b\u7684\uff0c\u4e0d\u5b58\u5728\u5e76\u53d1\u95ee\u9898</li> <li>redis6.0\u5bf9\u7f51\u7edcio\u5f15\u5165\u4e86\u591a\u7ebf\u7a0b\uff0c\u4f46\u662f\u6838\u5fc3\u7684\u547d\u4ee4\u6267\u884c\u4ecd\u7136\u662f\u5355\u7ebf\u7a0b\u7684</li> <li>redis\u5229\u7528\u961f\u5217\u628a\u7f51\u7edc\u8fde\u63a5\u548c\u6570\u636e\u5904\u7406\u505a\u4e86\u89e3\u8026</li> <li>redis\u4e3a\u4ec0\u4e48\u9ad8\u6027\u80fd</li> <li>\u9ad8\u6027\u80fd\u6765\u81ea\u5185\u5b58\u5b58\u50a8\u548ckey-value\u6570\u636e\u7ed3\u6784</li> <li>\u9ad8\u5e76\u53d1\u6765\u81ea\u57fa\u4e8eepoll\u7684I/O\u591a\u8def\u590d\u7528</li> </ul> <p>redis\u4e2d\u7684\u539f\u5b50\u6027   - redis\u4e2d\u7ecf\u5e38\u4f1a\u63d0\u5230\u201c\u539f\u5b50\u6027\u201d\u8fd9\u4e2a\u8bcd\uff0credis\u4e2d\u7684\u539f\u5b50\u6027\u662f\u6307\u4e24\u6761\u547d\u4ee4\u4e4b\u95f4\u4e0d\u4f1a\u63d2\u5165\u5176\u4ed6\u547d\u4ee4\uff0c\u53ef\u4ee5\u4fdd\u8bc1\u4e25\u683c\u7684\u524d\u540e\u76f8\u90bb\u987a\u5e8f\uff0c\u4f46\u662f\u5e76\u4e0d\u4fdd\u8bc1\u5168\u90e8\u6267\u884c\u6210\u529f\uff0c\u4e5f\u4e0d\u4f1a\u56de\u6eda\uff0c\u4f1a\u51fa\u73b0\u6307\u4ee4\u5168\u90e8\u6267\u884c\u5b8c\u6bd5\u540e\uff0c\u4e00\u90e8\u5206\u6267\u884c\u6210\u529f\uff0c\u53e6\u4e00\u90e8\u5206\u5931\u8d25   - \u54ea\u4e9b\u529f\u80fd\u80fd\u4fdd\u8bc1\u539f\u5b50\u6027     - \u5355\u6761\u547d\u4ee4     - \u4e8b\u52a1     - lua\u811a\u672c   - \u54ea\u4e9b\u4fdd\u8bc1\u4e0d\u4e86     - pipeline\uff0cpipeline\u662f\u5ba2\u6237\u7aef\u7684\u884c\u4e3a\uff0c\u5bf9redis\u662f\u900f\u660e\u7684 - redis\u7684\u4e8b\u52a1   - redis\u7684\u4e8b\u52a1\u5b9e\u9645\u4e0a\u5c31\u662f\u4e00\u7ec4\u987a\u5e8f\u6267\u884c\u7684\u547d\u4ee4\u96c6\u5408\u3002   - redis\u4fdd\u8bc1\u4e8b\u52a1\u6267\u884c\u7684\u539f\u5b50\u6027\u3002   - \u7531\u4e8eredis\u7684\u5355\u7ebf\u7a0b\u6a21\u578b\uff0credis\u4e0d\u5b58\u5728\u547d\u4ee4\u7684\u5e76\u53d1\uff0c\u4e5f\u4e0d\u5b58\u5728\u9694\u79bb\u7ea7\u522b\u3002   - redis\u7684lua\u811a\u672c\u4f1a\u4ee5\u4e8b\u52a1\u7684\u65b9\u5f0f\u6267\u884c - redis\u7684watch\u547d\u4ee4   - \u548c\u4e8b\u52a1\u914d\u5408\u4f7f\u7528   - watch\u547d\u4ee4\u7528\u6765\u76d1\u63a7\u4e00\u4e2a\u6216\u591a\u4e2a\u6307\u5b9a\u7684key\uff0c\u5982\u679c\u5728\u4e8b\u52a1\u6267\u884c\u4e4b\u524d\uff0c\u88ab\u76d1\u63a7\u7684key\u88ab\u4fee\u6539\uff0c\u5219\u4e8b\u52a1\u53d6\u6d88\u6267\u884c\u3002   - \u7c7b\u4f3c\u4e00\u79cd\u4e50\u89c2\u9501\u673a\u5236\uff0c\u9632\u6b62\u591a\u4e2a\u5ba2\u6237\u7aef\u4e4b\u95f4\u51fa\u73b0\u5e76\u53d1\u51b2\u7a81\u3002 - redis\u7684setnx\u547d\u4ee4   - key\u4e0d\u5b58\u5728\u65f6\u624d\u4f1a\u5199\u5165\uff0c\u5199\u5165\u6210\u529f\u8fd4\u56de0\uff0c\u5199\u5165\u5931\u8d25\u8fd4\u56de1</p>","tags":["\u9762\u8bd5","\u5206\u5e03\u5f0f\u7cfb\u7edf"]},{"location":"interview/53.interview-bagu-distribute-system/#redis_2","title":"redis\u7684\u7f13\u5b58\u6dd8\u6c70\u7b56\u7565","text":"<ul> <li>redis\u4e2d\u5206\u4e3a\u4e24\u4e2a\u6570\u636e\u5b57\u5178\uff0c\u4e00\u4e2a\u5b57\u5178\u5b58\u6240\u6709\u7684key-value\uff0c\u4e00\u4e2a\u5b57\u5178\u5b58key\u548c\u5bf9\u5e94\u7684expire\uff08\u79f0\u4e3aexpire\u5b57\u5178\uff0c\u53ea\u6709\u914d\u7f6e\u4e86\u8fc7\u671f\u65f6\u95f4\u7684key\u624d\u4f1a\u5728\u8fd9\u91cc\u9762\uff09</li> <li>redis\u7684\u7f13\u5b58\u6dd8\u6c70\u7b56\u7565</li> <li>\u4e0d\u6dd8\u6c70\u4efb\u4f55\u952e\uff0c\u76f4\u63a5\u8fd4\u56de\u9519\u8bef</li> <li>\u5728\u6240\u6709key\u4e2d\u968f\u673a\u5220\u9664</li> <li>\u5728\u6240\u6709key\u4e2d\u4f7f\u7528LRU\u7b97\u6cd5\u5220\u9664\uff08\u6700\u8fd1\u6700\u5c11\u4f7f\u7528\uff09</li> <li>\u5728\u6240\u6709key\u4e2d\u4f7f\u7528LFU\u7b97\u6cd5\u5220\u9664\uff08\u4f7f\u7528\u9891\u7387\u6700\u4f4e\uff09</li> <li>\u5728expire\u5b57\u5178\u4e2d\u968f\u673a\u5220\u9664key</li> <li>\u5728expire\u5b57\u5178\u4e2d\u5220\u9664\u9a6c\u4e0a\u5feb\u8fc7\u671f\u7684</li> <li>\u5728expire\u5b57\u5178\u4e2d\u4f7f\u7528LRU\u7b97\u6cd5\u5220\u9664</li> <li>\u5728expire\u5b57\u5178\u4e2d\u4f7f\u7528LFU\u7b97\u6cd5\u5220\u9664</li> <li>redis\u7684key\u8fc7\u671f\u7b56\u7565</li> <li>\u60f0\u6027\u5220\u9664\uff0c\u5f53\u5ba2\u6237\u8bbf\u95eekey\u7684\u65f6\u5019\u5224\u65adkey\u662f\u5426\u8fc7\u671f\uff0c\u8fc7\u671f\u5c31\u5220\u9664</li> <li>\u5b9a\u671f\u5220\u9664\uff0c\u5728expire\u5b57\u5178\u4e2d\u968f\u673a\u91c7\u6837\uff0c\u53d620\u4e2akey\uff0c\u5220\u6389\u91cc\u9762\u8fc7\u671f\u7684key\uff0c\u5982\u679c\u8fc7\u671fkey\u5360\u6bd4\u8d85\u8fc71/4\uff0c\u5c31\u91cd\u590d\u8fd9\u4e2a\u8fc7\u7a0b</li> </ul>","tags":["\u9762\u8bd5","\u5206\u5e03\u5f0f\u7cfb\u7edf"]},{"location":"interview/53.interview-bagu-distribute-system/#kafka","title":"kafka","text":"<p>mq\u7684\u4f5c\u7528 - \u524a\u5cf0\u586b\u8c37 - \u89e3\u8026 - \u5f02\u6b65</p>","tags":["\u9762\u8bd5","\u5206\u5e03\u5f0f\u7cfb\u7edf"]},{"location":"interview/53.interview-bagu-distribute-system/#kafka_1","title":"kafka\u7684\u7279\u70b9","text":"<ul> <li>\u9ad8\u541e\u5410\u91cf</li> <li>\u6d88\u606f\u53ef\u6301\u4e45\u6027\u5b58\u50a8</li> <li>\u5206\u5e03\u5f0f\uff0c\u652f\u6301\u6a2a\u5411\u6269\u5c55</li> <li>\u7a33\u5b9a\u6027\u4f4e\uff0c\u5bb9\u6613\u4e22\u6570\u636e\uff0c\u5bb9\u6613\u51fa\u73b0\u6570\u636e\u91cd\u590d</li> </ul>","tags":["\u9762\u8bd5","\u5206\u5e03\u5f0f\u7cfb\u7edf"]},{"location":"interview/53.interview-bagu-distribute-system/#kafka_2","title":"kafka\u539f\u7406","text":"<ul> <li>kafka\u662fpull\u6a21\u578b\uff0c\u4e0d\u662fpush\u6a21\u578b\uff0c\u6d88\u8d39\u8005\u8981\u4e3b\u52a8\u62c9\u53d6\u6570\u636e\u3002</li> <li>kafka\u5206\u4e3aqueue\u6a21\u5f0f\u548ctopic\u6a21\u5f0f</li> <li>queue\u6a21\u5f0f\uff0c\u6d88\u606f\u662f\u6309\u987a\u5e8f\u6d88\u8d39\u7684\uff0c\u6d88\u8d39\u8005\u4e3b\u52a8\u62c9\u53d6\u6d88\u606f\uff0c\u6bcf\u4e2a\u6d88\u606f\u53ea\u80fd\u88ab\u4e00\u4e2a\u6d88\u8d39\u8005\u6d88\u8d39\uff0c\u5e76\u4e14\u53ea\u80fd\u6d88\u8d39\u4e00\u6b21\u3002</li> <li>topic\u6a21\u5f0f\uff0c\u53d1\u5e03\u8ba2\u9605\u6a21\u5f0f\uff0c\u4e00\u4e2atopic\u5206\u591a\u4e2apartition\uff0c\u6d88\u8d39\u8005\u7ec4\u6210\u6d88\u8d39\u8005\u7ec4\uff0ctopic\u7531\u6d88\u8d39\u8005\u7ec4\u8ba2\u9605\u3002<ul> <li>\u540c\u4e00\u4e2atopic\u4e2d\uff0c\u540c\u4e00\u4e2apartition\u5185\u7684\u6d88\u606f\u662f\u6709\u5e8f\u7684\uff0c\u4e0d\u540cpaitition\u4e4b\u95f4\u7684\u6d88\u606f\u662f\u65e0\u5e8f\u7684\u3002</li> <li>\u65e0\u8bba\u6d88\u4e0d\u6d88\u8d39\uff0c\u6d88\u606f\u90fd\u4e0d\u4f1a\u88ab\u5220\u9664\uff0c\u76f4\u5230\u8fc7\u671f\u3002 </li> <li>\u4e00\u4e2a\u6d88\u8d39\u8005\u7ec4\u8ba2\u9605\u4e00\u4e2atopic\uff0c\u6d88\u606f\u88ab\u5747\u8861\u5730\u9001\u7ed9\u6bcf\u4e2a\u6d88\u8d39\u8005\uff0c\u5206\u914d\u7ed9\u5404\u6d88\u8d39\u8005\u7684partition\u4e92\u4e0d\u76f8\u540c\uff08\u4e0d\u5b58\u5728\u4e24\u4e2a\u6d88\u8d39\u8005\u6d88\u8d39\u540c\u4e00\u4e2apartition\u7684\u60c5\u51b5\uff09\u3002\u6d88\u8d39\u8005\u6570\u91cf\u5927\u4e8epartition\u6570\u91cf\u65f6\uff0c\u4f1a\u6709\u6d88\u8d39\u8005\u7a7a\u95f2\u3002</li> <li>\u751f\u4ea7\u8005\u548c\u6d88\u8d39\u8005\u90fd\u53ef\u4ee5\u6307\u5b9a\u56fa\u5b9a\u7684\u8ba2\u9605\u5206\u533a</li> <li>rebalance\uff0c\u91cd\u5e73\u8861\uff0c\u6d88\u8d39\u8005\u7ec4\u5185\u6d88\u8d39\u8005\u6570\u91cf\u53d1\u751f\u53d8\u5316\u65f6\uff0c\u5206\u533a\u4f1a\u91cd\u65b0\u5206\u914d\uff0c\u8fd9\u53ebrebalance\uff0c\u6d88\u8d39\u8005\u5b9a\u671f\u5411partition\u53d1\u9001\u5fc3\u8df3\u6765\u8bc1\u660e\u81ea\u5df1\u5b58\u6d3b\u3002</li> <li>\u4e00\u4e2atopic\u53ef\u4ee5\u7531\u591a\u4e2a\u6d88\u8d39\u8005\u7ec4\u8ba2\u9605\uff0c\u5e76\u4e14\u8fd9\u4e9b\u6d88\u8d39\u8005\u7ec4\u6d88\u8d39\u5230\u7684\u6d88\u606f\u662f\u5b8c\u5168\u76f8\u540c\u7684\u3002\u5982\u679c\u60f3\u8ba9\u4e0d\u540c\u7684\u6d88\u8d39\u8005\u6d88\u8d39\u540c\u4e00\u4e2apartition\uff0c\u5c31\u8981\u628a\u5b83\u4eec\u5206\u5230\u4e0d\u540c\u7684\u7ec4\u4e2d\u3002\u4e3a\u4e86\u652f\u6301\u540c\u4e00\u4e2a\u6d88\u606f\u80fd\u88ab\u591a\u4e2a\u6d88\u8d39\u8005\u6d88\u8d39\uff0ckafka\u4f1a\u8bb0\u5f55partition\u4e2d\u4e0d\u540c\u6d88\u8d39\u8005\u5404\u81ea\u7684\u6d88\u8d39\u4f4d\u7f6e\u3002</li> <li>\u6bcf\u4e2apartition\u53c8\u6709\u591a\u4e2a\u526f\u672c\uff0c\u5176\u4e2d\u4e00\u4e2a\u662fleader\u526f\u672c\uff0c\u5176\u4f59\u7684\u662ffollower\u526f\u672c\uff0cleader\u8d1f\u8d23\u6536\u53d1\u6d88\u606f\uff0cfollower\u662f\u5907\u4efd\uff0cleader\u548cfollower\u5206\u5e03\u5728\u4e0d\u540c\u7684\u8282\u70b9\u4e0a\u3002</li> <li>kafka\u7684\u8282\u70b9\u79f0\u4e3abroker</li> </ul> </li> <li>\u751f\u4ea7\u8005\u540c\u6b65\u53d1\u9001\u548c\u5f02\u6b65\u53d1\u9001\u6a21\u5f0f</li> <li><code>producer.type</code>\u53c2\u6570\u6307\u5b9a\u4e86\u751f\u4ea7\u8005\u662f\u540c\u6b65\u53d1\u9001\u8fd8\u662f\u5f02\u6b65\u53d1\u9001\uff0c\u503c\u4e3aasnyc\u65f6\u4e3a\u5f02\u6b65\u53d1\u9001\uff0c\u503c\u4e3async\u65f6\u4e3a\u540c\u6b65\u53d1\u9001\u3002\u7528\u6237\u8c03\u7528<code>send()</code>\u65b9\u6cd5\u65f6\uff0ckafka\u4f1a\u6839\u636eproducer.type\u53c2\u6570\u51b3\u5b9a\u6d88\u606f\u7684\u53d1\u9001\u65b9\u5f0f\uff0c\u5982\u679c\u662f\u540c\u6b65\u53d1\u9001\uff0c\u5c31\u4f1a\u76f4\u63a5\u53d1\u9001\u6d88\u606f\uff0c\u5982\u679c\u662f\u5f02\u6b65\u53d1\u9001\uff0c\u4f1a\u5148\u628a\u6d88\u606f\u653e\u5165\u4e00\u4e2a\u672c\u5730\u7f13\u5b58\uff0c\u7136\u540e\u542f\u52a8\u4e00\u4e2a\u53d1\u9001\u7ebf\u7a0b\uff0c\u5f53\u7f13\u5b58\u4e2d\u7684\u6d88\u606f\u6ee1\u8db3\u4e00\u5b9a\u6761\u4ef6\u65f6\uff0c\u53d1\u9001\u7ebf\u7a0b\u6279\u91cf\u53d1\u9001\u6d88\u606f\u3002</li> <li>\u4e0d\u7ba1\u540c\u6b65\u8fd8\u662f\u5f02\u6b65\u6a21\u5f0f\uff0c\u6d88\u606f\u90fd\u662f\u6309\u5e8f\u53d1\u9001\u7684\uff0c\u53ea\u6709\u53d1\u9001\u5931\u8d25\u65f6\uff0c\u624d\u53ef\u80fd\u7834\u574f\u53d1\u9001\u6d88\u606f\u7684\u987a\u5e8f\u3002</li> <li>send\u51fd\u6570\u672c\u8eab\u7684\u8c03\u7528\u65b9\u5f0f\u662f\u5f02\u6b65\u8c03\u7528\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u4e0d\u7ba1\u53d1\u9001\u6a21\u5f0f\u662f\u540c\u6b65\u8fd8\u662f\u5f02\u6b65\uff0csend\u90fd\u4f1a\u7acb\u5373\u8fd4\u56de\u3002</li> <li><code>send().get()</code>\u53ea\u662f\u5c06\u51fd\u6570\u7684\u8c03\u7528\u65b9\u5f0f\u4ece\u5f02\u6b65\u6539\u6210\u540c\u6b65\uff0c\u5e76\u4e0d\u4f1a\u6539\u53d8producer\u7684\u53d1\u9001\u6a21\u5f0f\u3002</li> <li>kafka\u5982\u4f55\u5b9e\u73b0\u4e09\u79cd\u6d88\u606f\u4f20\u9012\u8bed\u4e49</li> <li>at most once\uff0c\u6700\u591a\u4e00\u6b21\uff0c\u6d88\u606f\u4e0d\u4f1a\u91cd\u590d\uff0c\u4f46\u6709\u53ef\u80fd\u4e22 <ul> <li>ack=0\u5c31\u662fat most once</li> </ul> </li> <li>at least once\uff0c\u81f3\u5c11\u4e00\u6b21\uff0c\u6d88\u606f\u4e0d\u4f1a\u4e22\uff0c\u4f46\u6709\u53ef\u80fd\u91cd\u590d<ul> <li>ack=1\u6216\u8005ack=all\uff0c\u914d\u5408retries</li> </ul> </li> <li>exaclty once\uff0c\u4e0d\u591a\u4e0d\u5c11\u6b63\u597d\u4e00\u6b21<ul> <li>ack=all\u914d\u5408retries\uff0c\u4fdd\u8bc1\u4e0d\u4e22\u6570\u636e</li> <li>\u542f\u7528kafka\u7684\u5e42\u7b49\u914d\u7f6e\uff0c<code>enable.idempotence</code>\uff0c\u4fdd\u8bc1\u91cd\u8bd5\u4e0d\u4f1a\u5bfc\u81f4\u6d88\u606f\u91cd\u590d</li> <li>\u6d88\u8d39\u8005\u5904\u7406\u5b8c\u6d88\u606f\u4e4b\u540e\u518d\u624b\u52a8\u63d0\u4ea4offset\uff0c\u4fdd\u8bc1\u6d88\u8d39</li> </ul> </li> <li>\u6d88\u8d39\u8005\u81ea\u52a8\u3001\u540c\u6b65\u3001\u5f02\u6b65\u63d0\u4ea4</li> <li>\u6d88\u8d39\u8005\u53ef\u4ee5\u914d\u7f6e\u81ea\u52a8\u63d0\u4ea4offset\uff08<code>auto.commit.enable</code>\u53c2\u6570\uff09\uff0c\u81ea\u52a8\u63d0\u4ea4\u548c\u6d88\u8d39\u6d88\u606f\u662f\u5f02\u6b65\u7684\uff0c\u6d88\u8d39\u8005\u4f1a\u5b9a\u671f\u5411kafka\u63d0\u4ea4offset\u3002\u81ea\u52a8\u63d0\u4ea4\u53ef\u80fd\u4f1a\u9020\u6210\u6d88\u606f\u4e22\u5931\uff0c\u5373\u63d0\u4ea4\u6210\u529f\u4f46\u662f\u6d88\u8d39\u5931\u8d25</li> <li>\u624b\u52a8\u540c\u6b65\u63d0\u4ea4\uff0c\u9664\u4e86\u4f1a\u963b\u585e\uff0c\u6ca1\u4ec0\u4e48\u95ee\u9898</li> <li>\u624b\u52a8\u5f02\u6b65\u63d0\u4ea4\uff0c\u5f02\u6b65\u63d0\u4ea4\u4e0d\u4f1a\u53d1\u751f\u963b\u585e\uff0c\u4f46\u662fkafka\u6ca1\u7ed9\u5f02\u6b65\u63d0\u4ea4\u63d0\u4f9b\u91cd\u8bd5\u673a\u5236\uff08\u9632\u6b62\u91cd\u8bd5\u5bfc\u81f4\u65e7\u7684\u63d0\u4ea4\u8986\u76d6\u65b0\u7684\u63d0\u4ea4\uff09\u3002\uff08\u4f46\u662f\u63d0\u4ea4\u5931\u8d25\u672c\u8eab\u4e5f\u4f1a\u5bfc\u81f4\u91cd\u590d\u6d88\u8d39\uff09</li> <li>kafka\u4e8b\u52a1</li> <li>\u4e8b\u52a1\u573a\u666f<ul> <li>\u53d1\u9001\u591a\u6761\u6d88\u606f\u5230\u4e00\u4e2atopic</li> <li>\u53d1\u9001\u5230\u591a\u4e2atopic\u3001\u591a\u4e2apartition\uff08\u5178\u578b\u7684\u5206\u5e03\u5f0f\u4e8b\u52a1\uff09</li> <li>\u6d88\u8d39-\u5904\u7406-\u53d1\u9001</li> </ul> </li> <li>\u4fdd\u8bc1\u591a\u4e2a\u6d88\u606f\u3001\u591a\u4e2a\u64cd\u4f5c\u7684\u539f\u5b50\u6027\uff0c\u5373\u540c\u65f6\u6210\u529f\uff0c\u540c\u65f6\u5931\u8d25\uff0c\u5931\u8d25\u4f1a\u56de\u6eda\u3002</li> </ul>","tags":["\u9762\u8bd5","\u5206\u5e03\u5f0f\u7cfb\u7edf"]},{"location":"interview/53.interview-bagu-distribute-system/#kafka_3","title":"kafka\u5982\u4f55\u4fdd\u8bc1\u987a\u5e8f\u6d88\u8d39","text":"<ul> <li>topic\u7aef\uff0c\u8ba9\u751f\u4ea7\u8005\u548c\u6d88\u8d39\u8005\u6307\u5b9a\u540c\u4e00\u4e2apartition\uff0c\u5e76\u4e14\u4fdd\u8bc1\u5206\u533a\u6709\u8db3\u591f\u591a\u7684\u526f\u672c\uff0c\u9632\u6b62partition\u6302\u6389\u3002</li> <li>\u751f\u4ea7\u7aef\uff0c\u5355\u7ebf\u7a0b\u53d1\u9001\u6d88\u606f</li> <li>\u6d88\u606f\u4e22\u5931\u4f1a\u7834\u574f\u6d88\u606f\u987a\u5e8f\uff0c\u6240\u4ee5\u8981\u914d\u7f6eack=1\u6216ack=all\u5e76\u914d\u7f6e\u91cd\u8bd5</li> <li>\u540c\u65f6\u53d1\u51fa\u591a\u6b21\u6d88\u606f\u65f6\u53ef\u80fd\u4f1a\u7834\u574f\u6d88\u606f\u7684\u987a\u5e8f\u6027\uff08\u5f02\u6b65\u53d1\u9001\u7684\u4e00\u6279\u6570\u636e\u7b97\u4e00\u6b21\uff09\uff0c\u56e0\u6b64\uff0c\u8981\u5c06<code>max.in.flight.requests.per.connection</code>\u53c2\u6570\u8bbe\u7f6e\u4e3a1\uff08\u8fd9\u4e2a\u53c2\u6570\u89c4\u5b9a\u4e86\u751f\u4ea7\u8005\u80fd\u540c\u65f6\u53d1\u9001\u591a\u5c11\u6761\u672a\u7ecf\u786e\u8ba4\u7684\u6d88\u606f\uff09\uff0c\u8fd8\u8981\u914d\u7f6eack=1\u6216ack=all\u80fd\u8ba9broker\u786e\u8ba4\u6d88\u606f\u3002</li> <li>\u6d88\u8d39\u7aef\uff0c\u5355\u7ebf\u7a0b\u6d88\u8d39\u6d88\u606f</li> </ul>","tags":["\u9762\u8bd5","\u5206\u5e03\u5f0f\u7cfb\u7edf"]},{"location":"interview/53.interview-bagu-distribute-system/#kafka_4","title":"kafka\u5982\u4f55\u9632\u6b62\u6d88\u606f\u4e22\u5931","text":"<ul> <li>\u751f\u4ea7\u8005\u4e22\u6d88\u606f</li> <li>kafka\u5ba2\u6237\u7aef\u652f\u6301\u5f02\u6b65\u53d1\u9001\u6d88\u606f\uff0c\u751f\u4ea7\u8005\u4e22\u5931\u6d88\u606f\u4f1a\u53d1\u751f\u5728\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\uff0c\u53ef\u80fd\u4f1a\u7531\u4e8e\u7f51\u7edc\u539f\u56e0\u6216\u8005\u6570\u636e\u592a\u5927\u7b49\u539f\u56e0\u53d1\u9001\u5931\u8d25</li> <li>\u89e3\u51b3\u65b9\u6cd5<ol> <li>\u914d\u7f6eretries\uff0c\u6d88\u606f\u53d1\u9001\u5931\u8d25\u5c31\u91cd\u8bd5</li> <li>\u7ed9\u53d1\u9001\u65b9\u6cd5\u52a0\u56de\u8c03\u51fd\u6570\uff0c\u6d88\u606f\u53d1\u9001\u5931\u8d25\u65f6\u8fdb\u884c\u7279\u6b8a\u5904\u7406\uff08\u4f8b\u5982\u91cd\u8bd5\u3001\u8bb0\u5f55\u65e5\u5fd7\u5e76\u6839\u636e\u65e5\u5fd7\u5f02\u6b65\u91cd\u8bd5\uff09</li> </ol> </li> <li>broker\u4e22\u6d88\u606f</li> <li>leader\u5206\u533a\u6bcf\u6536\u5230\u4e00\u6761\u6d88\u606f\u90fd\u8981\u540c\u6b65\u5230follower\uff0c\u5982\u679c\u6570\u636e\u8fd8\u6ca1\u843d\u76d8\u6216\u8005\u6ca1\u7b49\u540c\u6b65\u5b8cleader\u5c31\u6302\u4e86\uff0c\u67d0\u4e00\u4e2afollower\u6210\u4e3a\u4e86\u65b0\u7684leader\uff0c\u5c31\u4f1a\u5bfc\u81f4\u6d88\u606f\u4e22\u5931\u3002</li> <li>\u89e3\u51b3\u529e\u6cd5\uff0c\u5229\u7528ack\u673a\u5236\u89e3\u51b3<ul> <li>ack\u673a\u5236\u662f\u6307kafka\u63a5\u6536\u5230\u6d88\u606f\u540e\u4f1a\u5411\u751f\u4ea7\u8005\u53d1\u9001\u786e\u8ba4\uff0cack\u53c2\u6570\u5f71\u54cd\u4e86kafka\u7684\u6d88\u606f\u6301\u4e45\u6027\uff0cack\u53c2\u6570\u6709\u4e09\u79cd\uff08<code>request.required.acks</code>\u53c2\u6570\uff09</li> <li>ack = 0\uff0c \u751f\u4ea7\u8005\u4e0d\u4f1a\u7b49\u5f85broker\u53d1\u9001ack\uff0c\u8fd9\u79cd\u60c5\u51b5\u65e0\u6cd5\u4fdd\u8bc1\u4e0d\u4e22\u6570\u636e\u3002\uff08\u751f\u4ea7\u8005\u7684retries\u53c2\u6570\u8fd9\u65f6\u4e5f\u662f\u5931\u6548\u7684\uff09</li> <li>ack = 1\uff0cleader\u5206\u533a\u63a5\u6536\u5230\u6570\u636e\u540e\uff0c\u5411\u751f\u4ea7\u8005\u8fd4\u56deack\uff0c\u5982\u679c\u6d88\u606f\u6ca1\u6709\u540c\u6b65\u5230follower\u4e2d\uff0c\u5c31\u4f1a\u5bfc\u81f4\u6570\u636e\u4e22\u5931\u3002\uff08kafka\u9ed8\u8ba4\u7684\u662fack=1\uff09</li> <li>ack = all\uff0c\u7b49leader\u5411\u6240\u6709follower\u540c\u6b65\u5b8c\u6570\u636e\uff0c\u624d\u4f1a\u8fd4\u56deack\u3002</li> <li>\u53ef\u4ee5\u5229\u7528ack=all\u914d\u5408retries\u53c2\u6570\u8ba9\u751f\u4ea7\u8005\u5931\u8d25\u91cd\u8bd5\uff0c\u4fdd\u8bc1\u6570\u636e\u4e0d\u4e22\u5931\u3002\uff08<code>message.send.max.retries</code>\u53c2\u6570\u7528\u6765\u8bbe\u7f6e\u53d1\u9001\u7aef\u91cd\u8bd5\u6b21\u6570\uff09</li> </ul> </li> <li>\u6d88\u8d39\u8005\u4e22\u6d88\u606f</li> <li>\u6d88\u8d39\u8005\u53ef\u4ee5\u914d\u7f6e\u81ea\u52a8\u63d0\u4ea4offset\uff08<code>auto.commit.enable</code>\u53c2\u6570\uff09\uff0c\u81ea\u52a8\u63d0\u4ea4\u548c\u6d88\u8d39\u6d88\u606f\u662f\u5f02\u6b65\u7684\uff0c\u6d88\u8d39\u8005\u4f1a\u5b9a\u671f\u5411kafka\u63d0\u4ea4offset\uff0c\u5982\u679coffset\u5df2\u7ecf\u63d0\u4ea4\uff0c\u800c\u6d88\u606f\u6d88\u8d39\u5931\u8d25\uff0c\u5c31\u4f1a\u4e22\u5931\u6d88\u606f</li> <li>\u89e3\u51b3\u529e\u6cd5\uff0c\u5c06\u81ea\u52a8\u63d0\u4ea4offset\u6539\u4e3a\u624b\u52a8\u63d0\u4ea4\uff0c\u6d88\u606f\u6d88\u8d39\u5b8c\u6210\u540e\u518d\u63d0\u4ea4offset</li> </ul>","tags":["\u9762\u8bd5","\u5206\u5e03\u5f0f\u7cfb\u7edf"]},{"location":"interview/53.interview-bagu-distribute-system/#kafka_5","title":"kafka\u5982\u4f55\u9632\u6b62\u6d88\u606f\u91cd\u590d","text":"<ul> <li>\u6d88\u606f\u91cd\u590d\u7684\u60c5\u51b5</li> <li>\u751f\u4ea7\u8005\u5931\u8d25\u91cd\u8bd5\u5bfc\u81f4\u7684\u6d88\u606f\u91cd\u590d</li> <li>\u6d88\u8d39\u8005\u672a\u63d0\u4ea4offset\u5bfc\u81f4\u7684\u6d88\u606f\u91cd\u590d<ul> <li>\u6d88\u606f\u5904\u7406\u5b8c\u6210\uff0c\u6d88\u8d39\u8005\u7a81\u7136\u6302\u4e86\uff0c\u672a\u80fd\u6210\u529f\u63d0\u4ea4offset</li> <li>\u6d88\u606f\u6b63\u5728\u5904\u7406\uff0cpartition\u53d1\u751f\u4e86\u91cd\u5e73\u8861</li> </ul> </li> <li>\u4e0a\u6e38\u4e1a\u52a1\u53d1\u9001\u4e86\u91cd\u590d\u7684\u6d88\u606f</li> <li>\u89e3\u51b3\u529e\u6cd5</li> <li>\u5bf9\u4e8e\u7b2c\u4e00\u79cd\u60c5\u51b5\uff0c\u542f\u7528kafka\u5e42\u7b49\u914d\u7f6e\uff0c\u91cd\u8bd5\u4e0d\u4f1a\u5bfc\u81f4\u6d88\u606f\u91cd\u590d</li> <li>\u5bf9\u4e8e\u540e\u4e24\u79cd\u60c5\u51b5\uff0c\u9700\u8981\u5728\u4e1a\u52a1\u5c42\u9762\u5b9e\u73b0\u63a5\u53e3\u7684\u5e42\u7b49\u6027</li> </ul>","tags":["\u9762\u8bd5","\u5206\u5e03\u5f0f\u7cfb\u7edf"]},{"location":"interview/53.interview-bagu-distribute-system/#_7","title":"\u5206\u5e03\u5f0f\u7cfb\u7edf","text":"","tags":["\u9762\u8bd5","\u5206\u5e03\u5f0f\u7cfb\u7edf"]},{"location":"interview/53.interview-bagu-distribute-system/#_8","title":"\u6982\u5ff5","text":"<p>CAP\u539f\u7406</p> <p>\u4e00\u81f4\u6027\u3001\u53ef\u7528\u6027\u3001\u5206\u533a\u5bb9\u9519\u6027\u4e09\u8005\u4e0d\u53ef\u517c\u5f97</p> <ul> <li>\u4e00\u81f4\u6027\uff08Consistency\uff09\uff0c\u662f\u6307\u6570\u636e\u4e00\u81f4\u6027\uff0c\u4efb\u4f55\u65f6\u523b\uff0c\u6240\u6709\u8282\u70b9\u7684\u6570\u636e\u90fd\u662f\u4e00\u81f4\u7684</li> <li>\u53ef\u7528\u6027\uff08Availability\uff09\uff0c\u662f\u6307\u7cfb\u7edf\u80fd\u5728\u6709\u9650\u65f6\u95f4\u5185\u54cd\u5e94\u6bcf\u4e2a\u8bf7\u6c42</li> <li>\u5206\u533a\u5bb9\u9519\u6027\uff08Partition Tolerance\uff09\uff0c\u662f\u6307\u7cfb\u7edf\u80fd\u5728\u7f51\u7edc\u5206\u533a\u7684\u60c5\u51b5\u4e0b\uff0c\u7ee7\u7eed\u63d0\u4f9b\u670d\u52a1\uff08\u7f51\u7edc\u5206\u533a\u662f\u6307\u67d0\u4e9b\u8282\u70b9\u4e4b\u95f4\u7684\u7f51\u7edc\u8fde\u63a5\u4e2d\u65ad\uff0c\u5bfc\u81f4\u7cfb\u7edf\u7684\u7f51\u7edc\u5206\u6210\u597d\u51e0\u4e2a\u5b50\u5206\u533a\uff09</li> </ul> <p>BASE\u539f\u7406</p> <p>BASE\u539f\u7406\uff0c\u662f\u5728\u6ee1\u8db3\u5206\u533a\u5bb9\u9519\u6027\u7684\u524d\u63d0\u4e0b\uff0c\u5728\u4e00\u81f4\u6027\u548c\u53ef\u7528\u6027\u4e4b\u95f4\u505a\u7684\u6743\u8861\uff0c\u662f\u6307\u5206\u5e03\u5f0f\u7cfb\u7edf\u53ef\u4ee5\u540c\u65f6\u6ee1\u8db3\u57fa\u672c\u53ef\u7528\u6027\u3001\u8f6f\u72b6\u6001\u548c\u6700\u7ec8\u4e00\u81f4\u6027\u3002</p> <ul> <li>\u57fa\u672c\u53ef\u7528\u6027\uff08Basically Available\uff09\uff0c\u7cfb\u7edf\u5728\u51fa\u73b0\u6545\u969c\u65f6\uff0c\u5141\u8bb8\u635f\u5931\u90e8\u5206\u53ef\u7528\u6027\uff08\u5982\u54cd\u5e94\u65f6\u95f4\u5ef6\u957f\u3001\u90e8\u5206\u529f\u80fd\u964d\u7ea7\uff09\uff0c\u4f46\u6574\u4f53\u670d\u52a1\u4ecd\u53ef\u7528\u3002</li> <li>\u8f6f\u72b6\u6001\uff08Soft State\uff09\uff0c\u7cfb\u7edf\u4e2d\u7684\u6570\u636e\u72b6\u6001\u53ef\u4ee5\u6709\u4e00\u6bb5\u65f6\u95f4\u7684\u4e0d\u4e00\u81f4\uff0c\u5141\u8bb8\u5b58\u5728\u4e2d\u95f4\u72b6\u6001\uff0c\u6570\u636e\u540c\u6b65\u548c\u4e00\u81f4\u6027\u53ef\u4ee5\u5ef6\u540e\u3002</li> <li>\u6700\u7ec8\u4e00\u81f4\u6027\uff08Eventual Consistency\uff09\uff0c\u7cfb\u7edf\u5728\u7ecf\u8fc7\u4e00\u6bb5\u65f6\u95f4\u540e\uff0c\u6240\u6709\u8282\u70b9\u7684\u6570\u636e\u4f1a\u8fbe\u5230\u4e00\u81f4\u72b6\u6001\u3002</li> </ul> <p>\u8111\u88c2\u95ee\u9898</p> <p>\u5206\u5e03\u5f0f\u7cfb\u7edf\u53d1\u751f\u5206\u533a\u9519\u8bef\u540e\uff0c\u5404\u5206\u533a\u9009\u4e3e\u51fa\u5404\u81ea\u65b0\u7684master\u5bfc\u81f4\u5206\u5e03\u5f0f\u7cfb\u7edf\u4e2d\u5b58\u5728\u591a\u4e2amaster\u7684\u60c5\u51b5</p>","tags":["\u9762\u8bd5","\u5206\u5e03\u5f0f\u7cfb\u7edf"]},{"location":"interview/53.interview-bagu-distribute-system/#raftpaxos","title":"RAFT\u7b97\u6cd5\u548cPaxos\u7b97\u6cd5","text":"","tags":["\u9762\u8bd5","\u5206\u5e03\u5f0f\u7cfb\u7edf"]},{"location":"interview/53.interview-bagu-distribute-system/#_9","title":"\u5206\u5e03\u5f0f\u9501","text":"<p>\u5206\u5e03\u5f0f\u9501\u8981\u89e3\u51b3\u4ee5\u4e0b\u95ee\u9898</p> <ol> <li>\u4e92\u65a5\uff0c\u53ea\u6709\u4e00\u4e2a\u5b9e\u4f8b\u80fd\u83b7\u53d6\u5230\u9501</li> <li>\u6b7b\u9501\uff0c\u5b9e\u4f8b\u5d29\u6e83\u6216\u8005\u56e0\u4e3a\u7f51\u7edc\u539f\u56e0\u5bfc\u81f4\u6ca1\u4eba\u91ca\u653e\u9501\uff0c\u4ea7\u751f\u6b7b\u9501</li> <li>\u9501\u5931\u6548<ul> <li>\u9501\u7684\u8d85\u65f6\u65f6\u95f4\u8fc7\u77ed\uff0c\u9501\u63d0\u524d\u91ca\u653e\uff0c\u5bfc\u81f4\u5176\u4ed6\u5b9e\u4f8b\u83b7\u53d6\u5230\u9501</li> <li>\u5b9e\u4f8b\u8bf7\u6c42\u5904\u7406\u65f6\u95f4\u8fc7\u957f\uff0c\u9501\u63d0\u524d\u91ca\u653e\uff0c\u5bfc\u81f4\u5176\u4ed6\u5b9e\u4f8b\u83b7\u53d6\u5230\u9501</li> <li>\u9501\u88ab\u5176\u4ed6\u5b9e\u4f8b\u8bef\u91ca\u653e</li> <li>\u7f51\u7edc\u5206\u533a\u5bfc\u81f4\u591a\u4e2a\u5b9e\u4f8b\u540c\u65f6\u83b7\u53d6\u5230\u9501</li> </ul> </li> <li>\u53ef\u91cd\u5165\u95ee\u9898\uff0c\u540c\u4e00\u4e2a\u5b9e\u4f8b\uff0c\u8981\u80fd\u53cd\u590d\u83b7\u53d6\u540c\u4e00\u4e2a\u9501</li> </ol> <p>\u5982\u4f55\u89e3\u51b3\u4ee5\u4e0a\u95ee\u9898</p> <ol> <li>\u4e92\u65a5<ul> <li>\u4f7f\u7528\u4e00\u4e2a\u552f\u4e00\u6807\u8bc6\u8868\u793a\u9501\uff0c\u4f8b\u5982\u4e00\u4e2aUUID\uff0c\u53ea\u8981\u8fd9\u4e2a\u9501\u5b58\u5728\uff0c\u5c31\u8868\u793a\u9501\u88ab\u83b7\u53d6\u4e86</li> <li>\u4fdd\u8bc1\u52a0\u89e3\u9501\u64cd\u4f5c\u7684\u539f\u5b50\u6027</li> </ul> </li> <li>\u6b7b\u9501\uff0c\u8bbe\u7f6e\u9501\u7684\u8fc7\u671f\u65f6\u95f4\uff0c\u8fc7\u671f\u540e\u81ea\u52a8\u91ca\u653e\u9501</li> <li>\u9501\u5931\u6548<ul> <li>\u8bbe\u7f6e\u5408\u7406\u7684\u9501\u8fc7\u671f\u65f6\u95f4\uff0c\u8fc7\u671f\u65f6\u95f4\u8981\u5927\u4e8e\u5b9e\u4f8b\u5904\u7406\u8bf7\u6c42\u7684\u6700\u5927\u65f6\u95f4</li> <li>\u83b7\u53d6\u5230\u9501\u7684\u5b9e\u4f8b\u81ea\u52a8\u7eed\u7ea6\u9501\u8d85\u65f6\u65f6\u95f4</li> <li>\u7ed9\u9501\u5e26\u4e0a\u5b9e\u4f8b\u7684\u552f\u4e00\u6807\u8bc6\uff0c\u786e\u4fdd\u4e0d\u4f1a\u88ab\u5176\u4ed6\u5b9e\u4f8b\u8bef\u91ca\u653e</li> <li>redlock\u7b97\u6cd5\uff0c\u907f\u514d\u7f51\u7edc\u5206\u533a\u95ee\u9898</li> </ul> </li> <li>\u53ef\u91cd\u5165\u95ee\u9898<ul> <li>\u7ed9\u9501\u5e26\u4e0a\u5b9e\u4f8b\u7684\u552f\u4e00\u6807\u8bc6\uff0c\u52a0\u9501\u524d\u5148\u68c0\u67e5\u5f53\u524d\u5b9e\u4f8b\u662f\u5426\u5df2\u7ecf\u6301\u6709\u9501\uff0c\u5982\u679c\u6301\u6709\u5219\u76f4\u63a5\u8fd4\u56de\u6210\u529f</li> </ul> </li> </ol> <p>\u5229\u7528redis\u5b9e\u73b0\u5206\u5e03\u5f0f\u9501</p> <p>\u65b9\u68481</p> <p>\u5f80redis\u91cc\u5b58\u4e00\u4e2akey\uff0ckey\u662f\u9501\u7684\u6807\u8bc6\uff0cvalue\u662f\u5b9e\u4f8b\u6807\u8bc6\uff0c\u5e76\u8bbe\u7f6e\u8fc7\u671f\u65f6\u95f4\uff0c\u5f53key\u4e0d\u5b58\u5728\u65f6\uff0c\u8868\u793a\u53ef\u4ee5\u83b7\u53d6\u9501\uff0c\u5b58\u5728\u65f6\uff0c\u8868\u793a\u9501\u6b63\u5728\u88ab\u5176\u4ed6\u5b9e\u4f8b\u6301\u6709\u3002</p> <p>\u8bbe\u7f6ekey value\u7684\u4e24\u79cd\u65b9\u6cd5</p> <ol> <li>setnx + expire\uff0c\u7528\u4e8b\u52a1\u6216lua\u811a\u672c\u4fdd\u8bc1\u539f\u5b50\u6027<ul> <li>setnx\u662f\u4e2a\u547d\u4ee4\uff0c\u542b\u4e49\u662f\u201cset if not exists\u201d</li> <li>lua/\u4e8b\u52a1\u4fdd\u8bc1setnx+expire\u6210\u4e3a\u539f\u5b50\u64cd\u4f5c</li> </ul> </li> <li><code>set key value nx ex ...</code>\uff0cset\u547d\u4ee4\u81ea\u5e26nx\u548cex\uff0c\u5355\u6761\u547d\u4ee4\u5b9e\u73b0setnx + expire\u7684\u529f\u80fd</li> </ol> <p>\u65b9\u68482</p> <p>redlock\u7b97\u6cd5\uff0credis\u5b98\u65b9\u63d0\u51fa\u7684\u5206\u5e03\u5f0f\u9501\u7b97\u6cd5\uff0c\u5728redis\u96c6\u7fa4\u90e8\u7f72\u7684\u60c5\u51b5\u4e0b\u53ef\u4ee5\u4fdd\u8bc1\u9ad8\u7a33\u5b9a\u6027\u3002</p> <p>\u5047\u8bberedis\u6709n\u4e2a\u8282\u70b9\uff0c\u8be5\u7b97\u6cd5\u8ba4\u4e3a\uff0c\u53ea\u8981\u8d85\u8fc7\u4e00\u534a\u7684\u8282\u70b9\u52a0\u9501\u6210\u529f\uff0c\u5c31\u8ba4\u4e3a\u52a0\u9501\u6210\u529f\uff0c\u5982\u679c\u52a0\u9501\u7684\u65f6\u95f4\u8d85\u8fc7\u4e86\u8d85\u65f6\u65f6\u95f4\uff0c\u8ba4\u4e3a\u52a0\u9501\u5931\u8d25\u3002\u89e3\u9501\u65f6\u5bf9\u5168\u90e8\u8282\u70b9\u89e3\u9501\u3002</p>","tags":["\u9762\u8bd5","\u5206\u5e03\u5f0f\u7cfb\u7edf"]},{"location":"interview/53.interview-bagu-distribute-system/#id","title":"\u5206\u5e03\u5f0fid","text":"<p>\u4e3a\u4e00\u4e2a\u8d44\u6e90\u751f\u6210\u4e00\u4e2a\u5168\u5c40\u7684\u552f\u4e00id</p> <p>\u65b9\u6cd5</p> <ol> <li>\u5229\u7528\uff0c\u6570\u636e\u5e93\u81ea\u589eid\uff0c\u6bcf\u6b21\u521b\u5efa\u5206\u5e03\u5f0f\u9501\u4e4b\u524d\uff0c\u5148\u5230\u6570\u636e\u5e93\u751f\u6210\u4e00\u4e2a\u81ea\u589eid<ul> <li>\u4f18\u70b9\uff0c\u7b80\u5355\uff0c\u5bb9\u6613\u5b9e\u73b0</li> <li>\u7f3a\u70b9\uff0c\u6027\u80fd\u4f4e\uff0c\u5b58\u5728\u6570\u636e\u5e93\u5355\u70b9\u95ee\u9898\uff0c\u6570\u636e\u5e93\u8bbf\u95ee\u538b\u529b\u5927</li> </ul> </li> <li>UUID\u3001hash<ul> <li>\u4f18\u70b9\uff0c\u53ef\u4ee5\u672c\u5730\u751f\u6210\uff0c\u65e0\u7f51\u7edc\u6d88\u8017</li> <li>\u7f3a\u70b9\uff0c\u65e0\u5e8f\uff0c\u65e0\u6cd5\u5efa\u7acb\u7d22\u5f15</li> </ul> </li> <li>\u4ece\u6570\u636e\u5e93\u6279\u91cf\u7533\u8bf7\u81ea\u589eid\uff0c\u4e1a\u52a1\u670d\u52a1\u9884\u5148\u4ece\u6570\u636e\u5e93\u6279\u91cf\u7533\u8bf7\u4e00\u6bb5\u81ea\u589eid\uff0c\u7f13\u5b58\u5728\u672c\u5730\u4f7f\u7528\uff0c\u4e0d\u591f\u4e86\u518d\u53bb\u5230\u6570\u636e\u5e93\u7533\u8bf7<ul> <li>\u4f18\u70b9\uff0c\u7b80\u5355\uff0c\u5bb9\u6613\u5b9e\u73b0</li> <li>\u7f3a\u70b9\uff0c\u6027\u80fd\u4f4e\uff0c\u5b58\u5728\u6570\u636e\u5e93\u5355\u70b9\u95ee\u9898\uff0c\u6570\u636e\u5e93\u8bbf\u95ee\u538b\u529b\u5927</li> </ul> </li> <li>\u5229\u7528redis\u7684incr\u547d\u4ee4\u5b9e\u73b0id\u7684\u539f\u5b50\u6027\u81ea\u589e</li> <li>\u96ea\u82b1\u7b97\u6cd5\uff08snowflake\uff09<ul> <li>\u4f18\u70b9\uff0c\u53ef\u4ee5\u672c\u5730\u751f\u6210\uff0c\u4e0d\u9700\u8981\u4e00\u4e2a\u4e2d\u5fc3\u5316\u7684\u5206\u5e03\u5f0fid\u670d\u52a1</li> <li>\u539f\u7406\u5176\u5b9e\u5c31\u662f\u901a\u8fc7\u4e00\u4e9b\u7279\u5b9a\u6807\u8bc6\u7684\u62fc\u63a5\uff0c\u8ba9\u751f\u6210\u7684id\u4e0d\u91cd\u590d\u7684\u540c\u65f6\u8fd8\u80fd\u505a\u5230\u6709\u5e8f</li> </ul> </li> </ol>","tags":["\u9762\u8bd5","\u5206\u5e03\u5f0f\u7cfb\u7edf"]},{"location":"interview/53.interview-bagu-distribute-system/#_10","title":"\u7f13\u5b58\u51fb\u7a7f\u3001\u7a7f\u900f\u3001\u96ea\u5d29\u95ee\u9898","text":"<ol> <li>\u7f13\u5b58\u51fb\u7a7f\u95ee\u9898\uff0c\u9ad8\u5e76\u53d1\u573a\u666f\u4e0b\uff0c\u7f13\u5b58\u8fc7\u671f\u7684\u4e00\u77ac\u95f4\uff0c\u5927\u91cf\u8bf7\u6c42\u76f4\u63a5\u843d\u5230\u6570\u636e\u5e93\u7684\u95ee\u9898<ul> <li>\u9650\u6d41\uff0c\u4f8b\u5982\uff0c\u5bf9\u4e8e\u4e00\u4e2a\u503c\uff0c\u53ea\u5141\u8bb8\u4e00\u4e2a\u8bf7\u6c42\u8bbf\u95ee\u6570\u636e\u5e93\uff0c\u53ef\u4ee5\u4e3a\u8fd9\u4e2akey\u8bbe\u7f6e\u5206\u5e03\u5f0f\u9501\uff0c\u5176\u4ed6\u83b7\u53d6\u6570\u636e\u7684\u8bf7\u6c42\u7b49\u5f85\u9501\u91ca\u653e</li> <li>\u8bbe\u7f6e\u70ed\u70b9key\u7684\u7f13\u5b58\u65f6\u95f4\u4e3a\u4e00\u4e2a\u8f83\u957f\u7684\u65f6\u95f4</li> </ul> </li> <li>\u7f13\u5b58\u7a7f\u900f\u95ee\u9898\uff0c\u9ad8\u5e76\u53d1\u573a\u666f\u4e0b\uff0c\u5927\u91cf\u8bf7\u6c42\u67e5\u8be2\u4e00\u4e2a\u5728\u6570\u636e\u5e93\u548c\u7f13\u5b58\u4e2d\u90fd\u4e0d\u5b58\u5728\u7684\u503c\uff0c\u5bfc\u81f4\u5927\u91cf\u8bf7\u6c42\u4e0d\u505c\u5730\u843d\u5230\u6570\u636e\u5e93\u7684\u95ee\u9898<ul> <li>\u5141\u8bb8\u6570\u636e\u5e93\u5b58\u50a8null\u503c\uff0c\u6216\u8005\u5728\u7f13\u5b58\u4e2d\u5b58\u50a8\u7a7a\u503c</li> </ul> </li> <li>\u7f13\u5b58\u96ea\u5d29\u95ee\u9898\uff0c\u9ad8\u5e76\u53d1\u4e0b\u573a\u666f\u4e0b\uff0c\u7f13\u5b58\u4e2d\u5f88\u591a\u503c\u5728\u540c\u4e00\u65f6\u95f4\u8fc7\u671f\uff0c\u5bfc\u81f4\u5927\u91cf\u8bf7\u6c42\u76f4\u63a5\u843d\u5230\u6570\u636e\u5e93\u7684\u95ee\u9898<ul> <li>\u8bbe\u7f6e\u968f\u673a\u8fc7\u671f\u65f6\u95f4</li> </ul> </li> </ol>","tags":["\u9762\u8bd5","\u5206\u5e03\u5f0f\u7cfb\u7edf"]},{"location":"interview/53.interview-bagu-distribute-system/#_11","title":"\u7f13\u5b58\u548c\u6570\u636e\u5e93\u4e00\u81f4\u6027\u95ee\u9898","text":"<ul> <li>\u5206\u5e03\u5f0f\u7cfb\u7edf\u8981\u4fdd\u8bc1\u5206\u533a\u5bb9\u9519\u6027\u548c\u53ef\u7528\u6027\uff0c\u5c31\u6ca1\u529e\u6cd5\u4fdd\u8bc1\u6570\u636e\u7684\u5f3a\u4e00\u81f4\u6027\uff0c\u6700\u591a\u4fdd\u8bc1\u6700\u7ec8\u4e00\u81f4\u6027\uff0c\u751a\u81f3\u662f\u5f31\u4e00\u81f4\u6027\u3002</li> <li>\u65b9\u68481\uff1a\u5199\u5165\u547d\u4e2d\u7f13\u5b58\u65f6\uff0c\u65e2\u66f4\u65b0\u6570\u636e\u5e93\uff0c\u53c8\u66f4\u65b0\u7f13\u5b58\u3002</li> <li>\u95ee\u98981\uff1a\u5176\u4e2d\u4e00\u4e2a\u64cd\u4f5c\u5931\u8d25\u5bfc\u81f4\u6570\u636e\u4e0d\u4e00\u81f4</li> <li>\u95ee\u98982\uff1a\u4e0d\u7ba1\u662f\u5148\u5199\u7f13\u5b58\u8fd8\u662f\u540e\u5199\u7f13\u5b58\uff0c\u90fd\u4f1a\u5b58\u5728\u5199\u5e76\u53d1\u95ee\u9898\uff0c\u4f8b\u5982\u201cA\u5199\u7f13\u5b58X=1\uff0cB\u5199\u7f13\u5b58X=2\uff0cB\u5199\u6570\u636e\u5e93X=2\uff0cA\u5199\u6570\u636e\u5e93X=1\u201d\uff0c\u9020\u6210\u4e86\u6570\u636e\u4e0d\u4e00\u81f4\u3002</li> <li>\u65b9\u68482\uff1a\u5199\u5165\u65f6\u5220\u9664\u7f13\u5b58\uff0c\u5199\u6570\u636e\u5e93\u3002\u7531\u8bfb\u8bf7\u6c42\u5199\u7f13\u5b58\u3002</li> <li>\u95ee\u98981\uff1a\u5176\u4e2d\u4e00\u4e2a\u64cd\u4f5c\u5931\u8d25\u5bfc\u81f4\u6570\u636e\u4e0d\u4e00\u81f4</li> <li>\u95ee\u98982\uff1a\u4e0d\u5b58\u5728\u5199\u5e76\u53d1\u95ee\u9898\uff0c\u4f46\u5b58\u5728\u8bfb\u5199\u5e76\u53d1\u95ee\u9898\u3002</li> <li>\u65b9\u68481\u548c\u65b9\u68482\u90fd\u4f1a\u9047\u5230\u64cd\u4f5c\u5931\u8d25\u548c\u5e76\u53d1\u95ee\u9898\uff0c\u89e3\u51b3\u65b9\u6848</li> <li>\u5bf9\u4e8e\u5e76\u53d1\u95ee\u9898\uff0c\u4f7f\u7528\u5206\u5e03\u5f0f\u9501</li> <li>\u5bf9\u4e8e\u64cd\u4f5c\u5931\u8d25\u95ee\u9898<ol> <li>\u91cd\u8bd5\uff0c\u7f3a\u9677\u662f\u4f1a\u5360\u7528\u66f4\u591a\u8d44\u6e90\uff0c\u5e76\u4e14\u5373\u4f7f\u662f\u65e0\u9650\u91cd\u8bd5\u4e5f\u4e0d\u4e00\u5b9a100%\u6210\u529f</li> <li>\u5f02\u6b65\u91cd\u8bd5\uff0c\u5229\u7528\u6d88\u606f\u961f\u5217\u91cd\u8bd5\uff0c\u7f3a\u9677\u662f\u4f1a\u63d0\u9ad8\u7cfb\u7edf\u590d\u6742\u5ea6\uff0c\u8981\u89e3\u51b3\u6d88\u606f\u961f\u5217\u7684\u5931\u8d25\u95ee\u9898\u3002</li> <li>\u5229\u7528\u6570\u636e\u5e93\u7684\u53d8\u66f4\u65e5\u5fd7\u66f4\u65b0\u7f13\u5b58\uff08\u4f8b\u5982mysql\u7684binlog\uff09</li> </ol> </li> <li>\u4ece\u6574\u4f53\u590d\u6742\u5ea6\u6765\u8bb2\uff0c\u65b9\u68482\u66f4\u597d\u4e00\u4e9b\uff0c\u5bf9\u4e8e\u65b9\u68482\uff0c\u8fd8\u53ef\u4ee5\u91c7\u7528\u5199DB\u540e\u5ef6\u8fdf\u4e00\u6bb5\u65f6\u95f4\u5220\u9664\u7f13\u5b58\u7684\u7b56\u7565\uff0c\u5c3d\u91cf\u8ba9\u7f13\u5b58\u4e0d\u4f1a\u88ab\u5199\u56de\u65e7\u6570\u636e</li> <li>\u6b64\u5916\uff0c\u6570\u636e\u4e0d\u4e00\u81f4\u8fd8\u53ef\u80fd\u7531redis\u548c\u6570\u636e\u5e93\u5185\u90e8\u6570\u636e\u4e0d\u540c\u6b65\u5bfc\u81f4\u3002</li> <li>\u603b\u4e4b\uff0c\u5b9e\u73b0\u6570\u636e\u7684\u5f3a\u4e00\u81f4\u6027\u662f\u4e0d\u53ef\u80fd\u7684\uff0c\u6700\u7ec8\u4e00\u81f4\u6027\u4e5f\u4e0d\u80fd\u767e\u5206\u767e\u4fdd\u8bc1\uff0c\u56e0\u6b64\uff0c\u6700\u540e\uff0c\u5f15\u5165\u624b\u52a8\u8865\u507f\u673a\u5236\uff0c\u624b\u52a8\u4fee\u590d\u6781\u7aef\u60c5\u51b5\u4e0b\u7684\u4e0d\u4e00\u81f4\u6570\u636e</li> </ul>","tags":["\u9762\u8bd5","\u5206\u5e03\u5f0f\u7cfb\u7edf"]},{"location":"interview/53.interview-bagu-distribute-system/#_12","title":"\u5982\u4f55\u5b9e\u73b0\u63a5\u53e3\u7684\u5e42\u7b49\u6027","text":"<ul> <li>\u63a5\u53e3\u7684\u5e42\u7b49\u6027\u662f\u6307\u591a\u6b21\u8bf7\u6c42\u540c\u4e00\u4e2a\u8d44\u6e90\u548c\u53ea\u8bf7\u6c42\u4e00\u6b21\u4ea7\u751f\u540c\u6837\u7684\u6548\u679c</li> <li>\u63a5\u53e3\u9700\u8981\u6ee1\u8db3\u5e42\u7b49\u7684\u539f\u56e0\u662f\u5f88\u591a\u64cd\u4f5c\u6211\u4eec\u53ea\u5e0c\u671b\u53d1\u751f\u4e00\u6b21\uff0c\u6bd4\u5982\u4ed8\u6b3e\u3001\u521b\u5efa\u8ba2\u5355\u7b49\u7b49</li> <li>\u8bfb\u64cd\u4f5c\u5929\u7136\u5177\u5907\u5e42\u7b49\u6027</li> <li>\u5982\u4f55\u5b9e\u73b0\u5199\u5e42\u7b49\u6027</li> <li>\u63d2\u5165\u548c\u5220\u9664<ul> <li>\u5728\u6570\u636e\u5e93\u5c42\u9762\uff0c\u4f7f\u7528\u552f\u4e00key\u6807\u8bc6\u4e00\u4e2a\u8d44\u6e90\uff0c\u907f\u514d\u91cd\u590d\u63d2\u5165\u540c\u4e00\u4e2akey</li> </ul> </li> <li>\u66f4\u65b0<ul> <li>\u4e3a\u6bcf\u4e2a\u8d44\u6e90\u8bb0\u5f55\u4e00\u4e2a\u72b6\u6001\uff0c\u6839\u636e\u72b6\u6001\u5224\u65ad\u662f\u5426\u80fd\u6267\u884c\u64cd\u4f5c</li> <li>\u4f7f\u7528\u4e50\u89c2\u9501\u6216\u8005\u60b2\u89c2\u9501\u9632\u6b62\u64cd\u4f5c\u65f6\u51fa\u73b0\u7684\u5e7b\u8bfb\u95ee\u9898</li> </ul> </li> <li>\u9ad8\u5e76\u53d1\u4e0b\u53ef\u4ee5\u4f7f\u7528\u5206\u5e03\u5f0f\u9501\u9632\u6b62\u8bf7\u6c42\u76f4\u63a5\u843d\u5230\u6570\u636e\u5e93\u4e0a</li> </ul>","tags":["\u9762\u8bd5","\u5206\u5e03\u5f0f\u7cfb\u7edf"]},{"location":"interview/53.interview-bagu-distribute-system/#_13","title":"\u9ad8\u5e76\u53d1","text":"<ul> <li>\u6570\u636e\u5e93\u4e00\u4e3b\u591a\u4ece\uff0c\u8bfb\u5199\u5206\u79bb</li> <li>\u964d\u4f4e\u5355\u53f0\u6570\u636e\u5e93\u8d1f\u8f7d</li> <li>\u907f\u514d\u5199\u8bf7\u6c42\u963b\u585e</li> <li>\u63d0\u9ad8\u7cfb\u7edf\u7a33\u5b9a\u6027\uff08\u9ad8\u53ef\u7528\uff09</li> <li>\u5197\u4f59\uff08\u5206\u5e03\u5f0f\u90e8\u7f72\uff0c\u505a\u96c6\u7fa4\uff0c\u8bfb\u5199\u5206\u79bb\uff09</li> <li>\u8d85\u65f6+\u91cd\u8bd5</li> <li>\u5f02\u6b65</li> <li>\u7f13\u5b58</li> <li>\u9650\u6d41</li> <li>\u964d\u7ea7/\u7194\u65ad</li> <li>qps\uff0c\u6bcf\u79d2\u8bf7\u6c42\u6570</li> <li>\u5e76\u53d1\u548cqps\u6362\u7b97\uff1a\u5e76\u53d1\u6570 = qps*latency (\u5355\u4f4d:s)</li> </ul>","tags":["\u9762\u8bd5","\u5206\u5e03\u5f0f\u7cfb\u7edf"]},{"location":"interview/53.interview-bagu-distribute-system/#_14","title":"\u7cfb\u7edf\u5e76\u53d1\u91cf\u548c\u4ec0\u4e48\u56e0\u7d20\u6709\u5173","text":"<ul> <li>\u73af\u5883\u56e0\u7d20</li> <li>\u786c\u4ef6\u8d44\u6e90\uff0ccpu\u6838\u5fc3\u6570\uff0c\u5185\u5b58\uff0c\u7f51\u7edc\u5e26\u5bbd</li> <li>\u8bf7\u6c42\u5904\u7406\u8017\u65f6</li> <li>\u8bf7\u6c42\u5904\u7406\u7684\u8ba1\u7b97\u91cf</li> <li>\u8bf7\u6c42\u7684IO\u91cf</li> <li>\u4e0b\u6e38\u670d\u52a1\u7684\u8017\u65f6\uff0c\u5305\u62ec\u6570\u636e\u5e93\u3001\u7f13\u5b58\u3001\u6d88\u606f\u961f\u5217\u7684\u8017\u65f6\u4ee5\u53ca\u5176\u4ed6\u670d\u52a1\u7684\u8017\u65f6</li> <li>\u7f51\u7edc\u5ef6\u8fdf</li> <li>\u8d1f\u8f7d\u5747\u8861</li> </ul>","tags":["\u9762\u8bd5","\u5206\u5e03\u5f0f\u7cfb\u7edf"]},{"location":"interview/53.interview-bagu-distribute-system/#_15","title":"\u5982\u4f55\u63d0\u9ad8\u5e76\u53d1\u91cf","text":"<ul> <li>\u63d0\u9ad8\u786c\u4ef6\u8d44\u6e90/\u670d\u52a1\u6269\u5bb9</li> <li>\u51cf\u5c11\u8bf7\u6c42IO\u91cf</li> <li>\u4f18\u5316\u8bf7\u6c42\u8ba1\u7b97\u91cf</li> <li>\u4f7f\u7528\u9ad8\u6027\u80fd\u7684\u7f51\u7edc\u901a\u4fe1\u5e93</li> <li>\u5c3d\u91cf\u4f7f\u7528\u65e0\u9501\u6570\u636e\u7ed3\u6784</li> <li>\u4f18\u5316\u4e0b\u6e38\u670d\u52a1\u7684\u8017\u65f6</li> <li>\u51cf\u5c11\u7f51\u7edc\u5ef6\u8fdf</li> <li>\u4f18\u5316\u8d1f\u8f7d\u5747\u8861</li> </ul>","tags":["\u9762\u8bd5","\u5206\u5e03\u5f0f\u7cfb\u7edf"]},{"location":"interview/53.interview-bagu-distribute-system/#_16","title":"\u5982\u4f55\u6392\u67e5\u5e76\u53d1\u95ee\u9898","text":"<ol> <li>\u65e5\u5fd7\u5206\u6790\uff1a\u901a\u8fc7\u5206\u6790\u7cfb\u7edf\u65e5\u5fd7\uff0c\u627e\u51fa\u5e76\u53d1\u8bf7\u6c42\u7684\u6267\u884c\u8def\u5f84\u548c\u8017\u65f6\uff0c\u5b9a\u4f4d\u6027\u80fd\u74f6\u9888\u3002</li> <li>\u6027\u80fd\u76d1\u63a7\uff1a\u5229\u7528\u76d1\u63a7\u548c\u544a\u8b66\u7cfb\u7edf\uff0c\u5b9e\u65f6\u76d1\u63a7\u7cfb\u7edf\u6027\u80fd\uff0c\u7ed8\u5236\u6027\u80fd\u6307\u6807\u56fe\u8868\u3002</li> <li>\u538b\u529b\u6d4b\u8bd5\uff1a\u901a\u8fc7\u538b\u529b\u6d4b\u8bd5\u6a21\u62df\u9ad8\u5e76\u53d1\u573a\u666f\uff0c\u89c2\u5bdf\u7cfb\u7edf\u8868\u73b0\uff0c\u627e\u51fa\u6f5c\u5728\u95ee\u9898\u3002</li> <li>\u6027\u80fd\u5206\u6790\uff1a\u4f7f\u7528\u6027\u80fd\u5206\u6790\u5de5\u5177\u5206\u6790\u7a0b\u5e8f\u7684cpu\u548c\u5185\u5b58\u5360\u7528\u7b49\u3002</li> <li>\u4ee3\u7801\u5ba1\u67e5\uff1a\u5bf9\u5173\u952e\u4ee3\u7801\u8fdb\u884c\u5ba1\u67e5\uff0c\u68c0\u67e5\u662f\u5426\u5b58\u5728\u5e76\u53d1\u5b89\u5168\u95ee\u9898\u3002</li> </ol>","tags":["\u9762\u8bd5","\u5206\u5e03\u5f0f\u7cfb\u7edf"]},{"location":"interview/53.interview-bagu-distribute-system/#_17","title":"\u5e76\u53d1\u7f16\u7a0b\u673a\u5236","text":"","tags":["\u9762\u8bd5","\u5206\u5e03\u5f0f\u7cfb\u7edf"]},{"location":"interview/53.interview-bagu-distribute-system/#_18","title":"\u60b2\u89c2\u9501\u548c\u4e50\u89c2\u9501","text":"<p>\u60b2\u89c2\u9501\u548c\u4e50\u89c2\u9501\u662f\u5e7f\u6cdb\u5b58\u5728\u7684\u6982\u5ff5\uff0c\u662f\u4e24\u79cd\u89e3\u51b3\u5e76\u53d1\u51b2\u7a81\u95ee\u9898\u7684\u7b56\u7565\uff0c\u4e0d\u53ea\u5728\u6570\u636e\u5e93\u9886\u57df\u4e2d\u5b58\u5728</p> <p>\u60b2\u89c2\u9501\u662f\u6307\u5bf9\u6570\u636e\u5e76\u53d1\u6301\u60b2\u89c2\u6001\u5ea6\uff0c\u8ba4\u4e3a\u4e00\u5b9a\u4f1a\u51b2\u7a81\uff0c\u60b2\u89c2\u9501\u662f\u5728\u64cd\u4f5c\u6570\u636e\u4e4b\u524d\u5bf9\u6570\u636e\u4e0a\u9501</p> <p>\u4e50\u89c2\u9501\u662f\u6307\u5bf9\u6570\u636e\u5e76\u53d1\u6301\u4e50\u89c2\u6001\u5ea6\uff0c\u8ba4\u4e3a\u4e0d\u4e00\u5b9a\u4f1a\u51b2\u7a81\uff0c\u4e0d\u4f1a\u63d0\u524d\u5bf9\u6570\u636e\u4e0a\u9501\uff0c\u4e50\u89c2\u9501\u4e00\u822c\u4f1a\u5728\u66f4\u65b0\u6570\u636e\u524d\u505a\u4e00\u4e2a\u6821\u9a8c\uff0c\u6821\u9a8c\u901a\u8fc7\u4e86\u624d\u4f1a\u66f4\u65b0\uff0c\u5426\u5219\u91cd\u8bd5\uff0c\u4e50\u89c2\u9501\u4e00\u822c\u4f1a\u4f7f\u7528\u7248\u672c\u53f7\u673a\u5236\u6216 CAS \uff08Compare And Swap\uff09\u7b97\u6cd5\u5b9e\u73b0\uff0c\u4e50\u89c2\u9501\u9002\u5408\u8bfb\u591a\u5199\u5c11\u7684\u573a\u666f\uff0c\u5982\u679c\u5199\u591a\u7684\u8bdd\uff0c\u4f1a\u5bfc\u81f4\u5927\u91cf\u7684\u91cd\u8bd5\uff0c\u53cd\u800c\u66f4\u6d6a\u8d39\u8d44\u6e90</p> <p>\u7248\u672c\u53f7\u673a\u5236</p> <p>\u5b9a\u4e49\u4e00\u4e2a\u7248\u672c\u53f7\u5b57\u6bb5\uff0c\u4fee\u6539\u6570\u636e\u524d\uff0c\u5148\u67e5\u8be2\u7248\u672c\u53f7\uff0c\u66f4\u65b0\u6570\u636e\u4e4b\u524d\u68c0\u67e5\u7248\u672c\u53f7\u53d8\u6ca1\u53d8\uff0c\u5982\u679c\u6ca1\u53d8\u624d\u80fd\u66f4\u65b0\uff0c\u5982\u679c\u53d8\u4e86\uff0c\u8bf4\u660e\u88ab\u5176\u4ed6\u5e76\u53d1\u4efb\u52a1\u6539\u4e86\uff0c\u9700\u8981\u91cd\u8bd5\u3002\u5173\u952e\u70b9\u5728\u4e8e\uff0c\u66f4\u65b0+\u66f4\u65b0\u524d\u68c0\u67e5\u5fc5\u987b\u662f\u539f\u5b50\u64cd\u4f5c\uff0c\u53ef\u4ee5\u4f7f\u7528<code>update xxx where xxx</code>\u6765\u5b9e\u73b0\u8fd9\u4e00\u64cd\u4f5c\uff0c\u8fd9\u4e2a\u8bed\u53e5\u4f1a\u81ea\u52a8\u5bf9\u6570\u636e\u884c\u4e0a\u6392\u4ed6\u9501</p> <p>CAS</p> <p>Compare And Swap\uff0c\u662f\u4e00\u79cd\u4f9d\u8d56\u786c\u4ef6\u7684\u4e50\u89c2\u9501\u5b9e\u73b0\uff0cCAS\u9700\u8981\u4e09\u4e2a\u503c\u53c2\u4e0e\uff1a</p> <ol> <li>\u53d8\u91cf\u7684\u5185\u5b58\u5730\u5740</li> <li>\u53d8\u91cf\u7684\u9884\u671f\u503c</li> <li>\u8981\u66f4\u65b0\u7684\u65b0\u503c</li> </ol> <p>CAS\u4f1a\u5148\u5224\u65ad\u53d8\u91cf\u5185\u5b58\u5730\u5740\u4e2d\u7684\u503c\u548c\u9884\u671f\u503c\u662f\u5426\u4e00\u81f4\uff0c\u5982\u679c\u53d8\u91cf\u7684\u503c\u7b49\u4e8e\u9884\u671f\u503c\uff0c\u5219\u5c06\u53d8\u91cf\u7684\u503c\u66f4\u65b0\u4e3a\u65b0\u503c\uff0c\u5e76\u8fd4\u56de true</p> <p>CAS\u901a\u8fc7\u786c\u4ef6\u7684\u539f\u5b50\u64cd\u4f5c\u6765\u4fdd\u8bc1\u66f4\u65b0\u7684\u539f\u5b50\u6027\uff0cCAS\u64cd\u4f5c\u662f\u975e\u963b\u585e\u7684\uff0c\u4f1a\u907f\u514d\u7ebf\u7a0b\u963b\u585e\u548c\u4e0a\u4e0b\u6587\u5207\u6362\u7684\u5f00\u9500</p> <p>C++\u4e2d\u7684CAS\u673a\u5236\uff1a<code>atomic</code>\u7684\u4e24\u4e2aCAS\u64cd\u4f5c\uff0c<code>compare_exchange_weak</code>\u548c<code>compare_exchange_strong</code>\uff0catomic\u4e0d\u4fdd\u8bc1\u8de8\u8fdb\u7a0b\u539f\u5b50\u6027</p> <p>windows\u7684CAS\u673a\u5236\uff1a<code>InterlockedCompareExchange</code>\uff0c\u8fd9\u4e2a\u53ef\u4ee5\u8de8\u8fdb\u7a0b\u4f7f\u7528</p>","tags":["\u9762\u8bd5","\u5206\u5e03\u5f0f\u7cfb\u7edf"]},{"location":"interview/53.interview-bagu-distribute-system/#cowcopy-on-write","title":"COW(Copy On Write)","text":"<p>COW \u662f\u4e00\u79cd\u5ef6\u8fdf\u62f7\u8d1d\u7684\u4f18\u5316\u673a\u5236\uff0c\u5e38\u7528\u4e8e\u5185\u5b58\u7ba1\u7406\u548c\u8d44\u6e90\u5171\u4eab\u3002\u5176\u6838\u5fc3\u601d\u60f3\u662f\uff1a\u591a\u4e2a\u8fdb\u7a0b\u6216\u7ebf\u7a0b\u5171\u4eab\u540c\u4e00\u4efd\u6570\u636e\uff0c\u53ea\u6709\u5728\u6709\u5199\u64cd\u4f5c\u65f6\u624d\u8fdb\u884c\u771f\u6b63\u7684\u62f7\u8d1d\u3002</p> <ul> <li>\u539f\u7406\uff1a</li> <li>\u521d\u59cb\u65f6\uff0c\u591a\u4e2a\u5bf9\u8c61\uff08\u5982\u8fdb\u7a0b\u3001\u7ebf\u7a0b\uff09\u5171\u4eab\u540c\u4e00\u5757\u5185\u5b58\u533a\u57df\uff0c\u5f15\u7528\u8ba1\u6570+1\uff0c\u5185\u5b58\u4e3a\u53ea\u8bfb\u3002</li> <li>\u5f53\u6709\u5bf9\u8c61\u9700\u8981\u5199\u5165\u65f6\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4f1a\u4e3a\u8be5\u5bf9\u8c61\u5355\u72ec\u5206\u914d\u4e00\u4efd\u65b0\u7684\u5185\u5b58\uff08\u62f7\u8d1d\u539f\u6570\u636e\uff09\uff0c\u7136\u540e\u5199\u5165\uff0c\u5176\u4ed6\u5bf9\u8c61\u4ecd\u7136\u6307\u5411\u539f\u6765\u7684\u5185\u5b58\u3002</li> <li> <p>\u8fd9\u6837\uff0c\u53ea\u6709\u5728\u5199\u64cd\u4f5c\u53d1\u751f\u65f6\u624d\u4f1a\u771f\u6b63\u5206\u914d\u548c\u62f7\u8d1d\u5185\u5b58\uff0c\u8282\u7701\u4e86\u8d44\u6e90\uff0c\u63d0\u9ad8\u4e86\u6548\u7387\u3002</p> </li> <li> <p>\u5e94\u7528\u573a\u666f\uff1a</p> </li> <li>Linux \u7684 fork \u7cfb\u7edf\u8c03\u7528\uff0c\u7236\u5b50\u8fdb\u7a0b\u521d\u59cb\u5171\u4eab\u5185\u5b58\uff0c\u53ea\u6709\u5199\u65f6\u624d\u5206\u914d\u65b0\u9875\u3002</li> <li>\u67d0\u4e9b\u9ad8\u7ea7\u8bed\u8a00\u7684string\u5b9e\u73b0</li> </ul>","tags":["\u9762\u8bd5","\u5206\u5e03\u5f0f\u7cfb\u7edf"]},{"location":"interview/53.interview-bagu-distribute-system/#rcuread-copy-update-","title":"RCU\uff08Read Copy Update\uff0c\u8bfb-\u590d\u5236-\u66f4\u65b0\uff09","text":"<p>RCU \u662f\u4e00\u79cd\u9ad8\u6548\u7684\u5e76\u53d1\u8bfb\u4f18\u5316\u673a\u5236\uff0c\u5e38\u7528\u4e8e\u5185\u6838\u3001\u6570\u636e\u5e93\u7b49\u8bfb\u591a\u5199\u5c11\u7684\u573a\u666f\u3002\u5176\u6838\u5fc3\u601d\u60f3\u662f\uff1a\u8bfb\u64cd\u4f5c\u65e0\u9700\u52a0\u9501\uff0c\u5199\u64cd\u4f5c\u901a\u8fc7\u590d\u5236\u548c\u5ef6\u8fdf\u66f4\u65b0\u6765\u4fdd\u8bc1\u4e00\u81f4\u6027\u3002</p> <ul> <li>\u539f\u7406\uff1a</li> <li>\u8bfb\u64cd\u4f5c\uff1a\u76f4\u63a5\u8bbf\u95ee\u5171\u4eab\u6570\u636e\uff0c\u4e0d\u52a0\u9501\uff0c\u4fdd\u8bc1\u6781\u9ad8\u7684\u5e76\u53d1\u6027\u80fd\u3002</li> <li>\u5199\u64cd\u4f5c\uff1a\u5148\u590d\u5236\u4e00\u4efd\u6570\u636e\uff0c\u5728\u526f\u672c\u4e0a\u4fee\u6539\uff0c\u4fee\u6539\u5b8c\u6210\u540e\u7528\u539f\u5b50\u64cd\u4f5c\u5c06\u6307\u9488\u5207\u6362\u5230\u65b0\u6570\u636e\u3002</li> <li> <p>\u65e7\u6570\u636e\u4e0d\u4f1a\u7acb\u5373\u91ca\u653e\uff0c\u7b49\u6240\u6709\u6b63\u5728\u8fdb\u884c\u7684\u8bfb\u64cd\u4f5c\u7ed3\u675f\u540e\u518d\u91ca\u653e\uff08\u901a\u8fc7\u201c\u5bbd\u9650\u671f\u201d\u673a\u5236\u5224\u65ad\uff09\u3002</p> </li> <li> <p>\u4f18\u70b9\uff1a</p> </li> <li>\u8bfb\u64cd\u4f5c\u65e0\u9501\uff0c\u6781\u5927\u63d0\u5347\u8bfb\u6027\u80fd\u3002</li> <li> <p>\u5199\u64cd\u4f5c\u4e0d\u4f1a\u963b\u585e\u8bfb\u64cd\u4f5c\uff0c\u9002\u5408\u8bfb\u591a\u5199\u5c11\u7684\u573a\u666f\u3002</p> </li> <li> <p>\u672c\u8d28\u4e0a\u662f\u4e00\u79cddouble buffer\u673a\u5236</p> </li> </ul>","tags":["\u9762\u8bd5","\u5206\u5e03\u5f0f\u7cfb\u7edf"]},{"location":"interview/53.interview-bagu-distribute-system/#_19","title":"\u65e0\u9501\u7f16\u7a0b","text":"<p>\u53c2\u8003https://brpc.apache.org/zh/docs/rpc-in-depth/atomic-instructions/</p> <p>\u6838\u5fc3\u601d\u60f3\u662f\u5c3d\u91cf\u907f\u514d\u7ade\u4e89</p> <ol> <li>\u8bfb\u5199\u5206\u79bb\uff0c\u4f7f\u7528\u591a\u4e2a\u8bfb\u5199buffer\uff0c\u4f8b\u5982double buffer\u3001triple buffer\u3001\u73af\u5f62buffer</li> <li>\u4f7f\u7528\u539f\u5b50\u64cd\u4f5c\u907f\u514d\u9501\u5e26\u6765\u7684\u7ebf\u7a0b\u4e0a\u4e0b\u6587\u5207\u6362\u5f00\u9500</li> <li>\u4f7f\u7528\u7ebf\u7a0b\u5c40\u90e8\u53d8\u91cf\u907f\u514d\u591a\u7ebf\u7a0b\u7ade\u4e89\uff0c\u8fdb\u4e00\u6b65\u51cf\u5c11\u539f\u5b50\u53d8\u91cf\u548c\u9501\u7684\u4f7f\u7528</li> </ol> <p>\u9501\u7684\u6027\u80fd\u95ee\u9898</p> <p>\u9501\u4f1a\u5bfc\u81f4\u7ebf\u7a0b\u8fdb\u5165\u963b\u585e\u72b6\u6001\uff0c\u5bfc\u81f4cpu\u9700\u8981\u8fdb\u884c\u7ebf\u7a0b\u4e0a\u4e0b\u6587\u5207\u6362\uff0c\u800c\u4e0a\u4e0b\u6587\u5207\u6362\u662f\u5fae\u79d2\u7ea7\u7684</p> <p>\u539f\u5b50\u64cd\u4f5c\u80fd\u907f\u514d\u9501\u7684\u7ebf\u7a0b\u4e0a\u4e0b\u6587\u5207\u6362\u5f00\u9500</p> <p>\u4e24\u7c7b\u5185\u5b58\u53ef\u89c1\u6027\u95ee\u9898</p> <ol> <li>\u4e71\u5e8f\u6267\u884c\u95ee\u9898\uff0c\u4e71\u5e8f\u6267\u884c\u95ee\u9898\u662f\u5b9e\u73b0\u539f\u5b50\u64cd\u4f5c\u5fc5\u987b\u8981\u89e3\u51b3\u7684\u95ee\u9898</li> <li>\u7f13\u5b58\u4e00\u81f4\u6027\u95ee\u9898\uff0c\u7f13\u5b58\u4e00\u81f4\u6027\u95ee\u9898\u544a\u8bc9\u6211\u4eec\uff0c\u539f\u5b50\u64cd\u4f5c\u4e5f\u662f\u5b58\u5728\u6027\u80fd\u95ee\u9898\u7684\uff0c\u5982\u679c\u8ffd\u6c42\u9ad8\u6027\u80fd\uff0c\u6700\u597d\u60f3\u529e\u6cd5\u907f\u514d\u7ebf\u7a0b\u7ade\u4e89</li> </ol> <p>\u5185\u5b58\u53ef\u89c1\u6027\u95ee\u98981\u2014\u2014\u4e71\u5e8f\u6267\u884c\u95ee\u9898</p> <p>\u7f16\u8bd1\u5668\u6307\u4ee4\u91cd\u6392\u548ccpu\u4e71\u5e8f\u6267\u884c\u90fd\u4f1a\u5bfc\u81f4\u591a\u7ebf\u7a0b\u7684\u5185\u5b58\u64cd\u4f5c\u6267\u884c\u987a\u5e8f\u4e0d\u4e00\u81f4\uff0c\u5bfc\u81f4\u5e76\u53d1\u7ade\u4e89\u95ee\u9898\u3002</p> <p>\u5185\u5b58\u5c4f\u969c\u5c31\u662f\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u7684\u3002</p> <p>\u5185\u5b58\u53ef\u89c1\u6027\u95ee\u98982\u2014\u2014\u7f13\u5b58\u4e00\u81f4\u6027\u95ee\u9898</p> <p>\u7f13\u5b58\u4e00\u81f4\u6027\u95ee\u9898\u662f\u6307\u5728\u73b0\u4ee3\u591a\u6838CPU\u4e2d\uff0c\u4e00\u822c\u90fd\u91c7\u7528SMP\uff08Symmetrical Multi-Processing\uff09\u67b6\u6784\uff0c\u5373\u6bcf\u4e2a\u6838\u5fc3\u90fd\u6709\u81ea\u5df1\u7684\u7f13\u5b58\uff0c\u5bf9CPU\u6838\u5fc3\u6765\u8bf4\uff0c\u4ee3\u7801\u4e2d\u7684\u5185\u5b58\u64cd\u4f5c\u5176\u5b9e\u90fd\u662f\u5bf9\u7f13\u5b58\u7684\u64cd\u4f5c\u3002</p> <p>\u7531\u4e8e\u5404\u4e2a\u6838\u5fc3\u7684\u7f13\u5b58\u6570\u636e\u53ef\u80fd\u4e0d\u4e00\u81f4\uff0c\u9700\u8981\u7f13\u5b58\u4e00\u81f4\u6027\u534f\u8bae\u6765\u4fdd\u8bc1\u5404\u6838\u5fc3\u7684\u6570\u636e\u4e00\u81f4\u6027\uff0c\u4f46\u7f13\u5b58\u4e00\u81f4\u6027\u534f\u8bae\u53ea\u80fd\u4fdd\u8bc1\u6700\u7ec8\u4e00\u81f4\u6027\uff0c\u5e76\u4e0d\u80fd\u4fdd\u8bc1\u5f3a\u4e00\u81f4\u6027\u3002</p> <p>\u56e0\u6b64\uff0c\u5f53\u591a\u4e2a\u6838\u5fc3\u7ade\u4e89\u540c\u4e00\u4e2acacheline\u65f6\uff0c\u867d\u7136\u8fd9\u65f6\u8bfb\u5199\u662f\u539f\u5b50\u7684\uff0c\u4f46\u7531\u4e8e\u9700\u8981\u7b49\u5f85CPU\u5b8c\u6210\u4e00\u81f4\u6027\u540c\u6b65\uff0c\u4f1a\u5bfc\u81f4\u8bfb\u5199\u53d8\u6162\uff08\u7ade\u4e89\u6fc0\u70c8\u65f6\uff0c\u53ef\u80fd\u4f1a\u4f7f\u4e00\u4e2a\u5199\u5165\u64cd\u4f5c\u4ece\u51e0ns\u53d8\u6210\u51e0\u767ens\uff09\uff0c\u8fd9\u5c31\u662f\u539f\u5b50\u64cd\u4f5c\u7684\u74f6\u9888\u3002</p> <p>\u5185\u5b58\u5c4f\u969c</p> <p>\u5185\u5b58\u5c4f\u969c\u662f\u4e3a\u4e86\u89e3\u51b3 CPU \u7684\u4e71\u5e8f\u6267\u884c\u95ee\u9898\uff0c\u4fdd\u8bc1\u7279\u5b9a\u64cd\u4f5c\u7684\u6267\u884c\u987a\u5e8f\u3002</p> <p>\u539f\u5b50\u64cd\u4f5c\u4e00\u822c\u4f1a\u4f7f\u7528\u5185\u5b58\u5c4f\u969c\u6765\u5b9e\u73b0\uff0cC++11 \u7684atomic\u63d0\u4f9b\u4e86\u51e0\u79cd\u5185\u5b58\u5c4f\u969c\u7684\u8bed\u4e49\u3002</p> memory order \u4f5c\u7528\u8bf4\u660e memory_order_relaxed \u6ca1\u6709fencing\u4f5c\u7528 memory_order_consume \u540e\u9762\u4f9d\u8d56\u6b64\u539f\u5b50\u53d8\u91cf\u7684\u8bbf\u5b58\u6307\u4ee4\u52ff\u91cd\u6392\u81f3\u6b64\u6761\u6307\u4ee4\u4e4b\u524d memory_order_acquire \u540e\u9762\u8bbf\u5b58\u6307\u4ee4\u52ff\u91cd\u6392\u81f3\u6b64\u6761\u6307\u4ee4\u4e4b\u524d memory_order_release \u524d\u9762\u8bbf\u5b58\u6307\u4ee4\u52ff\u91cd\u6392\u81f3\u6b64\u6761\u6307\u4ee4\u4e4b\u540e\u3002\u5f53\u6b64\u6761\u6307\u4ee4\u7684\u7ed3\u679c\u5bf9\u5176\u4ed6\u7ebf\u7a0b\u53ef\u89c1\u540e\uff0c\u4e4b\u524d\u7684\u6240\u6709\u6307\u4ee4\u90fd\u53ef\u89c1 memory_order_acq_rel acquire + release\u8bed\u4e49 memory_order_seq_cst acq_rel\u8bed\u4e49\u5916\u52a0\u6240\u6709\u4f7f\u7528seq_cst\u7684\u6307\u4ee4\u6709\u4e25\u683c\u5730\u5168\u5e8f\u5173\u7cfb <p>\u539f\u5b50\u64cd\u4f5c</p> <p>\u539f\u5b50\u64cd\u4f5c\u7684\u539f\u5b50\u6027\u7531\u786c\u4ef6\u4fdd\u8bc1\uff0c\u5e76\u4e14\u5229\u7528\u5185\u5b58\u5c4f\u969c\u6765\u4fdd\u8bc1\u8bbf\u5b58\u6307\u4ee4\u7684\u6267\u884c\u987a\u5e8f\u3002</p> <p>\u539f\u5b50\u64cd\u4f5c\u76f8\u6bd4\u9501\u7684\u597d\u5904\u662f\u4e0d\u4f1a\u963b\u585e\u7ebf\u7a0b\uff0c\u907f\u514d\u4e86\u7ebf\u7a0b\u4e0a\u4e0b\u6587\u5207\u6362\u7684\u5f00\u9500\u3002</p> <p>\u4f46\u539f\u5b50\u64cd\u4f5c\u4ecd\u65e0\u6cd5\u907f\u514d\u7ade\u4e89\u95ee\u9898\uff0c\u5982cas\u64cd\u4f5c\u867d\u7136\u4e0d\u4f1a\u8ba9\u7ebf\u7a0b\u963b\u585e\uff0c\u4f46\u662f\u4f1a\u8ba9\u7ebf\u7a0b\u539f\u5730\u7a7a\u8f6c\uff0c\u5bfc\u81f4cpu\u8d44\u6e90\u6d6a\u8d39\u3002\u5e76\u4e14\u539f\u5b50\u64cd\u4f5c\u4f1a\u56e0\u4e3a\u7f13\u5b58\u4e00\u81f4\u6027\u95ee\u9898\u5bfc\u81f4\u6027\u80fd\u4e0b\u964d\u3002</p> <p>\u8bfb\u591a\u5199\u5c11\u573a\u666f</p> <p>\u4f7f\u7528 double buffer\uff0c\u8bfbbuffer\u548c\u5199buffer\u5206\u79bb</p> <p>\u65b9\u68481\uff0c\u4f7f\u7528\u539f\u5b50\u64cd\u4f5c\u4fdd\u62a4\u8bfb\u5199\u6307\u9488\uff0c\u5207\u6362\u8bfb\u5199\u6307\u9488\u7684\u65f6\u5019\u4f1a\u5b58\u5728\u8bfb\u5199\u7ade\u4e89</p> <p>\u65b9\u68482\uff08brpc\u65b9\u6848\uff09\uff0c\u6bcf\u4e2a\u8bfb\u7ebf\u7a0b\u6301\u6709\u4e00\u4e2a\u5c40\u90e8\u8bfb\u5199\u6307\u9488\uff0c\u5199\u7ebf\u7a0b\u5199\u5165\u5b8c\u6210\u540e\u4f1a\u53bb\u4f9d\u6b21\u4fee\u6539\u6240\u6709\u7ebf\u7a0b\u7684\u5c40\u90e8\u8bfb\u5199\u6307\u9488 - \u4e00\u6b21\u53ea\u963b\u585e\u4e00\u4e2a\u8bfb\u7ebf\u7a0b\uff0c\u907f\u514d\u4e86\u5168\u5c40\u9501\u7684\u5f00\u9500\u3002 - \u5199\u5ef6\u8fdf\u4f1a\u53d8\u9ad8 - \u8bfb\u7ebf\u7a0b\u4f1a\u5c06\u5c40\u90e8\u8bfb\u5199\u6307\u9488\u6ce8\u518c\u5230\u5168\u5c40\uff0c\u8fd9\u6837\u5199\u7ebf\u7a0b\u624d\u80fd\u4f9d\u6b21\u4fee\u6539\u8bfb\u5199\u6307\u9488\uff0c\u6ce8\u518c\u7ebf\u7a0b\u5c40\u90e8\u53d8\u91cf\u7684\u6210\u672c\u4e0d\u9ad8\uff0c\u53ea\u53d1\u751f\u5728\u7ebf\u7a0b\u521b\u5efa\u65f6</p> <p>RCU\uff08Read Copy Update\uff09\u673a\u5236\u5c31\u662f\u4e00\u79cd\u5178\u578b\u7684double buffer\u673a\u5236\uff0c\u7528\u4e8e\u89e3\u51b3\u8bfb\u591a\u5199\u5c11\u573a\u666f\u4e0b\u7684\u8bfb\u5199\u51b2\u7a81\u95ee\u9898\u3002</p> <p>\u5199\u591a\u8bfb\u5c11\u573a\u666f</p> <p>\u53c2\u8003brpc bvar\u5b9e\u73b0\uff0c\u5199\u7ebf\u7a0b\u53ea\u5199\u81ea\u5df1\u7684\u7ebf\u7a0b\u5c40\u90e8\u53d8\u91cf\uff0c\u7531\u8bfb\u7ebf\u7a0b\u5bf9\u7ebf\u7a0b\u5c40\u90e8\u53d8\u91cf\u505a\u6c47\u603b\uff0c\u5199\u64cd\u4f5c\u4e0d\u4f1a\u4e92\u76f8\u963b\u585e\uff0c\u8bfb\u7ebf\u7a0b\u6c47\u603b\u6570\u636e\u65f6\u53ea\u4f1a\u963b\u585e\u4e00\u4e2a\u5199\u7ebf\u7a0b\uff0c\u8bfb\u7ebf\u7a0b\u7684\u8bfb\u53d6\u4f1a\u53d8\u6162\u4e00\u4e9b</p>","tags":["\u9762\u8bd5","\u5206\u5e03\u5f0f\u7cfb\u7edf"]},{"location":"interview/53.interview-bagu-distribute-system/#brpc-rpc","title":"brpc-\u9ad8\u6027\u80fdrpc\u6846\u67b6","text":"<ul> <li>\u9ad8\u6027\u80fd\u7684\u65e0\u9501\u6570\u636e\u7ed3\u6784\uff0c\u4f8b\u5982iobuf\u3001bvar\u3001DoublyBufferedData\u7b49</li> <li>\u9ad8\u6548\u7ebf\u7a0b\u6a21\u578b\uff0cbthread\u7528\u6237\u6001\u7ebf\u7a0bm:n\u8c03\u5ea6\uff0c\u4e8b\u4ef6\u7b49\u5f85\u3001io\u3001\u8bf7\u6c42\u5904\u7406\u5168\u5e76\u53d1</li> <li>\u8d1f\u8f7d\u5747\u8861\u7b97\u6cd5\uff0cLocality-aware load balancing\uff0c \u89c4\u907f\u6309cpu idle\u5206\u914d\u6d41\u91cf\u7684\u6096\u8bba\uff0cLALB\u5c06\u5f53\u524dqps\u4e5f\u52a0\u5165\u4e86\u6743\u503c\u8ba1\u7b97\uff0c\u5f62\u6210\u4e86\u4e00\u79cd\u8d1f\u53cd\u9988\u673a\u5236<ul> <li>W = QPS/L\uff0cW\u4e3a\u6743\u503c\uff0cL\u4e3a\u8bf7\u6c42\u8017\u65f6\uff0c\u7efc\u5408\u8282\u70b9\u5f53\u524dQPS\u548c\u8bf7\u6c42\u5904\u7406\u8017\u65f6\u4f5c\u4e3a\u6743\u91cd</li> <li>\u57fa\u4e8eQPS\u548cLatency\u505a\u6743\u91cd\u4e0d\u9700\u8981\u4f9d\u8d56\u5bf9\u4e0b\u6e38\u8282\u70b9\u7684\u8d1f\u8f7d\u7edf\u8ba1</li> <li>\u5bf9\u6d41\u91cf\u505a\u5206\u6d41\u65f6\uff0c\u4f7f\u7528\u52a0\u6743\u968f\u673a\u9009\u62e9\u7b97\u6cd5\uff0c\u7528\u52a0\u6743\u524d\u7f00\u6811\u67e5\u627e\u6743\u91cd</li> </ul> </li> </ul>","tags":["\u9762\u8bd5","\u5206\u5e03\u5f0f\u7cfb\u7edf"]},{"location":"interview/53.interview-bagu-distribute-system/#iobuf","title":"iobuf","text":"<p>iobuf\u662fbrpc\u7684\u4e00\u4e2a\u9ad8\u6027\u80fd\u5185\u5b58\u7f13\u51b2\u533a\u5b9e\u73b0\uff0c\u4e3b\u8981\u7528\u4e8e\u7f51\u7edc\u901a\u4fe1\u548c\u6570\u636e\u4f20\u8f93\u3002</p> <p>iobuf\u4e92\u64cd\u4f5c\u65f6\u53ef\u4ee5\u505a\u5230\u96f6\u62f7\u8d1d\uff0c\u672c\u8d28\u4e0a\u901a\u8fc7\u9884\u5206\u914d\u5185\u5b58\u548c\u5f15\u7528\u8ba1\u6570\u5b9e\u73b0</p> <p>iobuf\u5206\u4e3a\u4e09\u5c42\uff0ciobuf\u3001blockRef\u548cblock</p> <ul> <li>iobuf\u662f\u4e00\u4e2a\u5185\u5b58\u7f13\u51b2\u533a\uff0c\u5305\u542b\u4e86\u4e00\u4e2a\u6216\u591a\u4e2ablockRef</li> <li>\u6bcf\u4e2ablockRef\u5f15\u7528\u67d0\u4e2ablock\u4e2d\u7684\u4e00\u90e8\u5206\u5185\u5b58\uff08blockRef\u5185\u90e8\u4f1a\u4fdd\u5b58\u6240\u5f15\u7528block\u7684\u5185\u5b58\u504f\u79fb\u91cf\uff09</li> <li>\u6bcf\u4e2ablock\u662f\u4e00\u4e2a\u56fa\u5b9a8KB\u5927\u5c0f\u7684\u5185\u5b58\u5757\uff0c\u5185\u90e8\u5305\u542b\u4e00\u4e2a\u5f15\u7528\u8ba1\u6570\uff0c\u8bb0\u5f55\u6709\u591a\u5c11blockRef\u5f15\u7528\u81ea\u5df1</li> <li>block\u4e4b\u95f4\u901a\u8fc7next\u6307\u9488\u8fde\u63a5\u6210\u4e00\u4e2a\u5355\u5411\u94fe\u8868</li> </ul>","tags":["\u9762\u8bd5","\u5206\u5e03\u5f0f\u7cfb\u7edf"]},{"location":"interview/53.interview-bagu-distribute-system/#doublybuffereddata","title":"DoublyBufferedData","text":"<p>\u662f\u4e00\u79cddouble buffer\u5b9e\u73b0\uff0c\u9002\u7528\u4e8e\u8bfb\u591a\u5199\u5c11\u7684\u573a\u666f\uff0cbrpc\u5bf9\u8bfb\u5199\u6307\u9488\u7684\u5207\u6362\u505a\u4e86\u4f18\u5316\uff0c\u5229\u7528thread local\u673a\u5236\u964d\u4f4e\u4e86\u8bfb\u5199\u6307\u9488\u5207\u6362\u65f6\u5bf9\u8bfb\u7ebf\u7a0b\u7684\u963b\u585e</p> <p>\u8fd9\u4e2a\u7ed3\u6784\u4f7f\u7528\u975e\u5e38\u5e7f\u6cdb\uff0c\u8d1f\u8f7d\u5747\u8861\u5668\u5c31\u91c7\u7528\u4e86\u8fd9\u4e2a\u5b9e\u73b0\uff0c\u8d1f\u8f7d\u5747\u8861\u5668\u9700\u8981\u5b9a\u671f\u66f4\u65b0\u4e0b\u6e38\u670d\u52a1\u7684\u53ef\u7528\u8282\u70b9\u5217\u8868\uff0c\u8fd9\u662f\u4e00\u4e2a\u5178\u578b\u7684\u591a\u8bfb\u5c11\u5199\u7684\u573a\u666f</p>","tags":["\u9762\u8bd5","\u5206\u5e03\u5f0f\u7cfb\u7edf"]},{"location":"interview/53.interview-bagu-distribute-system/#bvar","title":"bvar","text":"<p>\u7528\u4e8ebrpc\u5185\u90e8\u7684\u6570\u636e\u7edf\u8ba1\uff0c\u9488\u5bf9\u6570\u636e\u7edf\u8ba1\u8fd9\u79cd\u591a\u8bfb\u5c11\u5199\u7684\u573a\u666f\u8fdb\u884c\u4e86\u9488\u5bf9\u6027\u4f18\u5316\uff0c\u5177\u4f53\u6765\u8bf4\uff0c\u662f\u8ba9\u6bcf\u4e2a\u5199\u7ebf\u7a0b\u53ea\u5199\u81ea\u5df1\u7684\u7ebf\u7a0b\u5c40\u90e8\u53d8\u91cf\uff0c\u7531\u8bfb\u7ebf\u7a0b\u5bf9\u7ebf\u7a0b\u5c40\u90e8\u53d8\u91cf\u505a\u6c47\u603b\uff0c\u5199\u64cd\u4f5c\u4e0d\u4f1a\u4e92\u76f8\u963b\u585e\uff0c\u8bfb\u7ebf\u7a0b\u6c47\u603b\u6570\u636e\u65f6\u53ea\u4f1a\u963b\u585e\u4e00\u4e2a\u5199\u7ebf\u7a0b\uff0c\u8bfb\u7ebf\u7a0b\u7684\u8bfb\u53d6\u4f1a\u53d8\u6162\u4e00\u4e9b</p>","tags":["\u9762\u8bd5","\u5206\u5e03\u5f0f\u7cfb\u7edf"]},{"location":"interview/53.interview-bagu-distribute-system/#bthread","title":"bthread","text":"<p>m:n\u534f\u7a0b\u8c03\u5ea6\u6a21\u578b\uff0c\u7c7b\u4f3cgolang\u7684\u534f\u7a0b\uff0c\u6709\u72ec\u7acb\u7684\u534f\u7a0b\u6808\uff0c\u6709work stealing\u673a\u5236</p> <p>bthread\u5c5e\u4e8e\u7528\u6237\u6001\u7ebf\u7a0b\uff0c\u4e0a\u4e0b\u6587\u5207\u6362\u5f00\u9500\u5c0f</p> <p>brpc\u7684\u7ebf\u7a0b\u6a21\u578b\u5b8c\u5168\u57fa\u4e8ebthread\u5b9e\u73b0\uff0c\u53ef\u4ee5\u5b9e\u73b0event loop\u3001io\u3001\u8bf7\u6c42\u5904\u7406\u7b49\u5168\u5e76\u53d1</p> <p>\u4e00\u4e9b\u4f20\u7edf\u7684rpc\u6846\u67b6\u4f1a\u4f7f\u7528\u6709\u9650\u6570\u91cf\u7684\u5185\u6838\u7ebf\u7a0b\u4f5c\u4e3a\u5904\u7406\u7ebf\u7a0b\uff0c\u628a\u4e0d\u540c\u7684\u8bf7\u6c42\u6563\u5217\u5230\u8fd9\u4e9b\u7ebf\u7a0b\u4e0a\uff0c\u4e00\u65e6\u51fa\u73b0\u4e00\u4e2a\u957f\u5c3e\u8bf7\u6c42\uff0c\u5c31\u4f1a\u5c06\u5176\u6240\u5728\u7ebf\u7a0b\u4e0a\u7684\u6240\u6709\u4efb\u52a1\u5168\u90e8\u963b\u585e\uff0c\u800c\u4e00\u4e2atcp\u8fde\u63a5\u5bf9\u5e94\u4e00\u4e2a\u5185\u6838\u7ebf\u7a0b\u53c8\u4e0d\u592a\u5b9e\u9645\uff0c\u975e\u5e38\u6d6a\u8d39\u7cfb\u7edf\u8d44\u6e90</p> <p>bthread\u7684work stealing\u673a\u5236\u53ef\u4ee5\u8ba9\u4e00\u4e2a\u7ebf\u7a0b\u4ece\u5176\u4ed6\u7ebf\u7a0b\u5077\u53d6\u4efb\u52a1\u6765\u6267\u884c\uff0c\u907f\u514d\u4e86\u957f\u5c3e\u8bf7\u6c42\u963b\u585e\u6574\u4e2a\u7ebf\u7a0b\u7684\u95ee\u9898</p>","tags":["\u9762\u8bd5","\u5206\u5e03\u5f0f\u7cfb\u7edf"]},{"location":"interview/53.interview-bagu-distribute-system/#tlsthread-local-storage","title":"TLS\uff08Thread Local Storage\uff09","text":"<p>\u548cC++\u7684thread_local\u4e0d\u592a\u4e00\u6837</p> <p>\u9996\u5148\uff0cbthread\u91cc\u9762\u4e0d\u80fd\u7528thread_local\u5173\u952e\u5b57\uff0c\u56e0\u4e3athread_local\u662fC++\u6807\u51c6\u5e93\u7684\u7279\u6027\uff0c\u8fd0\u884c\u5728\u5185\u6838\u7ebf\u7a0b\u4e0a\uff0c\u800cbthread\u4f1a\u5728\u4e0d\u540c\u7684\u5185\u6838\u7ebf\u7a0b\u4e0a\u8c03\u5ea6\uff0c\u539f\u751f\u7684thread_local\u503c\u4f1a\u53d1\u751f\u53d8\u5316</p> <p>\u5176\u6b21\uff0cbthread\u7684TLS\u652f\u6301\u6ce8\u518c\u5230\u5168\u5c40\uff0c\u5176\u4ed6\u7ebf\u7a0b\u4e5f\u80fd\u8bbf\u95ee\u5230\u7ebf\u7a0b\u7684TLS\u53d8\u91cf\uff0c\u8fd9\u7ed9\u5f88\u591a\u6027\u80fd\u4f18\u5316\u65b9\u6848\u63d0\u4f9b\u4e86\u53ef\u80fd</p>","tags":["\u9762\u8bd5","\u5206\u5e03\u5f0f\u7cfb\u7edf"]},{"location":"interview/53.interview-bagu-distribute-system/#_20","title":"\u8d1f\u8f7d\u5747\u8861","text":"<p>Locality-aware load balancing\uff0c \u89c4\u907f\u6309cpu idle\u5206\u914d\u6d41\u91cf\u7684\u6096\u8bba\uff0cLALB\u5c06\u5f53\u524dqps\u4e5f\u52a0\u5165\u4e86\u6743\u503c\u8ba1\u7b97\uff0c\u5f62\u6210\u4e86\u4e00\u79cd\u8d1f\u53cd\u9988\u673a\u5236     - W = QPS/L\uff0cW\u4e3a\u6743\u503c\uff0cL\u4e3a\u8bf7\u6c42\u8017\u65f6\uff0c\u7efc\u5408\u8282\u70b9\u5f53\u524dQPS\u548c\u8bf7\u6c42\u5904\u7406\u8017\u65f6\u4f5c\u4e3a\u6743\u91cd     - \u57fa\u4e8eQPS\u548cLatency\u505a\u6743\u91cd\u4e0d\u9700\u8981\u4f9d\u8d56\u5bf9\u4e0b\u6e38\u8282\u70b9\u7684\u8d1f\u8f7d\u7edf\u8ba1     - \u5bf9\u6d41\u91cf\u505a\u5206\u6d41\u65f6\uff0c\u4f7f\u7528\u52a0\u6743\u968f\u673a\u9009\u62e9\u7b97\u6cd5\uff0c\u7528\u52a0\u6743\u524d\u7f00\u6811\u67e5\u627e\u6743\u91cd</p>","tags":["\u9762\u8bd5","\u5206\u5e03\u5f0f\u7cfb\u7edf"]},{"location":"interview/53.interview-bagu-distribute-system/#dockerk8s","title":"docker\u548ck8s","text":"<ul> <li>docker\u662f\u4e00\u79cd\u5bb9\u5668\u6280\u672f\uff0c\u5bb9\u5668\u662f\u4e00\u79cd\u8f7b\u91cf\u7684\u865a\u62df\u5316\u6280\u672f\uff0c\u5176\u6700\u5927\u7684\u597d\u5904\u662f\u80fd\u8ba9\u7a0b\u5e8f\u5728\u4e0d\u540c\u5e73\u53f0\u4e0a\u6709\u4e00\u81f4\u7684\u6267\u884c\u73af\u5883\u3002</li> <li>docker\u53ef\u4ee5\u7528\u6765\u521b\u5efa\u4e00\u4e2a\u5bb9\u5668\u3002\u5bb9\u5668\u662f\u6839\u636e\u914d\u7f6e\u6587\u4ef6\u5c06\u7a0b\u5e8f\u4f9d\u8d56\u7684\u5e93\u7b49\u5404\u79cd\u73af\u5883\u6253\u5305\u5728\u4e00\u8d77\uff0c\u5f62\u6210\u4e00\u4e2a\u72ec\u7acb\u7684\u8fd0\u884c\u73af\u5883\u3002</li> <li>docker\u57fa\u4e8e Linux \u5185\u6838\u7684 cgroup\uff0cnamespace\uff0c\u4ee5\u53ca Union FS \u6280\u672f\u5b9e\u73b0\u4e86\u5bb9\u5668\u4e4b\u95f4\u7684\u9694\u79bb</li> <li>docker\u7684\u4e09\u4e2a\u6982\u5ff5\uff0c\u955c\u50cf\u3001\u5bb9\u5668\u3001\u4ed3\u5e93</li> <li>\u955c\u50cf\u662f\u57fa\u4e8eUnionFS\u5b9e\u73b0\u7684\u4e2a\u7279\u6b8a\u7684\u6587\u4ef6\u7cfb\u7edf\uff0c\u91cc\u9762\u5305\u542b\u4e86\u7a0b\u5e8f\u6240\u9700\u8981\u7684\u6240\u6709\u73af\u5883\u3002</li> <li>\u5bb9\u5668\u662f\u955c\u50cf\u8fd0\u884c\u7684\u5b9e\u4f53\uff08\u8fd9\u4e2a\u6709\u70b9\u50cf\u8fdb\u7a0b\u548c\u7a0b\u5e8f\u7684\u5173\u7cfb\uff09\uff0c\u5bb9\u5668\u7684\u672c\u8d28\u5c31\u662f\u8fdb\u7a0b\uff0c\u4ed6\u6709\u81ea\u5df1\u7684namespace\uff0c\u53ea\u80fd\u8bbf\u95ee\u81ea\u5df1\u7684\u547d\u540d\u7a7a\u95f4\u91cc\u7684\u6587\u4ef6\uff0c\u9760\u8fd9\u4e2a\u5b9e\u73b0\u4e86\u6587\u4ef6\u7cfb\u7edf\u4e4b\u95f4\u7684\u9694\u79bb</li> <li>\u4ed3\u5e93\u662f\u4e00\u4e2a\u7528\u6765\u5206\u53d1\u955c\u50cf\u7684\u7cfb\u7edf\u3002</li> <li>k8s</li> <li>\u5bb9\u5668\u7f16\u6392\u670d\u52a1</li> <li>\u901a\u5e38\u79f0\u4f5ck8s\u96c6\u7fa4\uff0c\u4e3b\u8981\u662f\u7ba1\u7406\u5bb9\u5668\u751f\u547d\u5468\u671f\uff0c\u5bf9\u670d\u52a1\u505a\u6269\u7f29\u5bb9</li> </ul>","tags":["\u9762\u8bd5","\u5206\u5e03\u5f0f\u7cfb\u7edf"]},{"location":"linux/41.linux-so-dynamic-load/","title":"linux \u52a8\u6001\u5e93so\u6587\u4ef6 \u52a8\u6001\u52a0\u8f7d","text":"","tags":["c/c++","linux"]},{"location":"linux/41.linux-so-dynamic-load/#_1","title":"\u6982\u5ff5","text":"<p>\u9996\u5148\u8981\u660e\u786e\u51e0\u4e2a\u6982\u5ff5\uff1a</p> <ul> <li>\u9759\u6001\u94fe\u63a5\uff1a\u94fe\u63a5.a\u5e93</li> <li>\u52a8\u6001\u94fe\u63a5\uff1a\u7f16\u8bd1\u540e\u7acb\u5373\u94fe\u63a5.so\uff0c\u4e3b\u7a0b\u5e8f\u542f\u52a8\u65f6\u5373\u52a0\u8f7d.so</li> <li>\u52a8\u6001\u52a0\u8f7d\uff1a\u7f16\u8bd1\u540e\u4e0d\u7acb\u5373\u94fe\u63a5.so\uff0c\u4e3b\u7a0b\u5e8f\u8c03\u7528dlopen\u65f6\u94fe\u63a5\u5e76\u52a0\u8f7d.so</li> </ul>","tags":["c/c++","linux"]},{"location":"linux/41.linux-so-dynamic-load/#demo","title":"demo","text":"<ul> <li>\uff08main.cpp\uff09\u4e3b\u7a0b\u5e8f</li> </ul> <p>```cpp     #include      #include  <pre><code>int main()\n{\n    void * handle;\n    char * error;\n    //\u94fe\u63a5\u5e76\u52a0\u8f7d\n    handle = dlopen (\"./libshared.so\", RTLD_LAZY);  \n    if (!handle) {  \n        std::cerr&lt;&lt;dlerror()&lt;&lt;std::endl;\n        exit(1);  \n    }\n    //\u83b7\u53d6\u7b26\u53f7\n    void(*print)() =(void(*)())dlsym(handle, \"print\");\n    //\u6267\u884c\u51fd\u6570\n    print();\n    if ((error = dlerror()) != NULL)  {  \n        std::cerr&lt;&lt;error&lt;&lt;std::endl;\n        exit(1);  \n    }\n    //\u5173\u95ed\u52a8\u6001\u5e93\n    dlclose(handle); \n    return 0;\n}\n</code></pre> <p>```</p> <ul> <li> <p>\uff08shared.h\uff09.so</p> <p>```cpp</p> </li> <li> <p>makefile   \u6ce8\u610f\uff0c\uff081\uff09\u4e3b\u7a0b\u5e8f\u94fe\u63a5\u53c2\u6570\u8981\u52a0\u4e0a<code>-ldl</code>\uff0c\u4e0d\u8981\u94fe\u63a5\u52a8\u6001\u5e93\uff0c\u5426\u5219\u5c31\u4e0d\u662f\u52a8\u6001\u52a0\u8f7d\u4e86\uff082\uff09\u4e3b\u7a0b\u5e8f\u7684\u7f16\u8bd1\u53c2\u6570\u901a\u5e38\u8981\u52a0\u4e0a<code>-rdynamic</code>\uff08\u4e0d\u77e5\u9053\u4e3a\u4ec0\u4e48\uff09\u3002</p> <p>```makefile</p> </li> </ul>","tags":["c/c++","linux"]},{"location":"linux/41.linux-so-dynamic-load/#pragma-once","title":"pragma once","text":"<p>int global =5; //\u8fd9\u91cc\u597d\u50cf\u4e00\u5b9a\u8981\u52a0\u4e0aextern \"C\"\uff0c\u5426\u5219\u4e3b\u7a0b\u5e8f\u8c03\u7528\u52a8\u6001\u5e93\u91cc\u7684\u51fd\u6570\u65f6\u603b\u662f\u627e\u4e0d\u5230\u7b26\u53f7 extern \"C\" { void print(); } ```</p>","tags":["c/c++","linux"]},{"location":"linux/41.linux-so-dynamic-load/#_2","title":"\u52a8\u6001\u5e93","text":"<p>$(Shared_Name): $(Shared_Cpp_Object)     $(CXX) -shared $^ -o $@ $(Shared_Cpp_Object):%.o:%.cpp     $(CXX) -fPIC $(Cpp_Compile_Flags) -c $&lt; -o $@</p>","tags":["c/c++","linux"]},{"location":"linux/41.linux-so-dynamic-load/#_3","title":"\u53ef\u6267\u884c\u6587\u4ef6","text":"<p>$(App_Name): $(App_Cpp_Object)     $(CXX) -ldl $^ -o $@ $(App_Cpp_Object):%.o:%.cpp     $(CXX) $(Cpp_Compile_Flags) -rdynamic -c $&lt; -o $@ ```</p>","tags":["c/c++","linux"]},{"location":"linux/42.linux-jiu-gai-zhe-me-xue-note/","title":"\u300alinux\u5c31\u8be5\u8fd9\u4e48\u5b66\u300b\u7b14\u8bb0","text":"<p>\u53c2\u8003\u300aLinux\u5c31\u8be5\u8fd9\u4e48\u5b66\u300b\uff0c\u8fd9\u672c\u4e66\u7f16\u5f97\u633a\u4e71\uff0c\u770b\u5b8cshell\u811a\u672c\u5c31\u6ca1\u518d\u770b\u4e86\u3002</p>","tags":["linux"]},{"location":"linux/42.linux-jiu-gai-zhe-me-xue-note/#linux","title":"linux\u7684\u4e00\u4e9b\u7ea6\u5b9a","text":"","tags":["linux"]},{"location":"linux/42.linux-jiu-gai-zhe-me-xue-note/#_1","title":"\u547d\u4ee4\u683c\u5f0f","text":"<p>Linux\u7684\u547d\u4ee4\u53c2\u6570\u5206\u957f\u683c\u5f0f\u548c\u77ed\u683c\u5f0f\uff0c\u4f8b\u5982<code>--help</code>\u548c<code>-h</code>\uff0c\u5176\u4e2d\uff0c\u957f\u683c\u5f0f\u7684\u53c2\u6570\u4e0d\u80fd\u5408\u5e76\uff0c\u77ed\u683c\u5f0f\u7684\u53c2\u6570\u53ef\u4ee5\u5408\u5e76\uff0c\u4f8b\u5982<code>$ ps -a -u -x</code>\u53ef\u4ee5\u5199\u6210<code>$ ps -aux</code>\u3002</p>","tags":["linux"]},{"location":"linux/42.linux-jiu-gai-zhe-me-xue-note/#_2","title":"\u4e00\u4e9b\u7279\u6b8a\u7684\u6587\u4ef6","text":"<ul> <li>/dev/null</li> <li>/dev/zero</li> </ul>","tags":["linux"]},{"location":"linux/42.linux-jiu-gai-zhe-me-xue-note/#linux_1","title":"\u914d\u7f6eLinux\u73af\u5883","text":"","tags":["linux"]},{"location":"linux/42.linux-jiu-gai-zhe-me-xue-note/#_3","title":"\u5305\u7ba1\u7406\u5668","text":"<p>RPM\u548cYum\uff1a</p> <p>RPM\u662fRHEL\u7cfb\u5217\u53d1\u884c\u7248\uff08\u5305\u62ecRHEL\u3001CentOS\u7b49\uff09\u7684\u5305\u7ba1\u7406\u5668 Yum\u662fRHEL\u7cfb\u5217\u53d1\u884c\u7248\u7684\u8f6f\u4ef6\u4ed3\u5e93 yum\u7684\u8f6f\u4ef6\u6e90\u914d\u7f6e\u6587\u4ef6\u5728\u8fd9\u91cc\uff1a/etc/yum.repos.d/</p> <p>Yum\u5e38\u7528\u547d\u4ee4\uff1a</p> <ul> <li><code>yum install [-y] \u8f6f\u4ef6\u5305\u540d</code> \u9009\u9879\u201c-y\u201d\u4f1a\u4f7f\u5b89\u88c5\u8fc7\u7a0b\u5bf9\u6240\u6709\u7684\u8be2\u95ee\u90fd\u9009\u62e9\u201cyes\u201d  </li> <li><code>yum update \u8f6f\u4ef6\u5305\u540d</code> </li> <li><code>yum remove \u8f6f\u4ef6\u5305\u540d</code> </li> <li><code>yum search \u8f6f\u4ef6\u5305\u540d</code> \u5728\u8f6f\u4ef6\u4ed3\u5e93\u4e2d\u641c\u7d22\u8fd9\u4e2a\u8f6f\u4ef6  </li> <li><code>yum repolist</code> \u67e5\u770b\u7cfb\u7edf\u4e2d\u6240\u6709\u7684\u8f6f\u4ef6\u6e90  </li> </ul>","tags":["linux"]},{"location":"linux/42.linux-jiu-gai-zhe-me-xue-note/#systemd","title":"\u7cfb\u7edf\u521d\u59cb\u5316\u8fdb\u7a0bsystemd","text":"<p>linux\u7684\u5f00\u673a\u8fc7\u7a0b\u662f\u8fd9\u6837\u7684\uff0c\u4eceBIOS\u5f00\u59cb\uff0c\u7136\u540e\u8fdb\u5165Boot Loader\uff0c\u518d\u52a0\u8f7d\u7cfb\u7edf\u5185\u6838\uff0c\u5185\u6838\u521d\u59cb\u5316\uff0c\u6700\u540e\u542f\u52a8\u7cfb\u7edf\u7684\u521d\u59cb\u5316\u8fdb\u7a0b\u3002\u7cfb\u7edf\u521d\u59cb\u5316\u8fdb\u7a0b\u662f\u7cfb\u7edf\u542f\u52a8\u540e\u7684\u7b2c\u4e00\u4e2a\u8fdb\u7a0b\uff0ccentos7\u4f7f\u7528systemd\u4ee3\u66ff\u539f\u6765\u7684System V init\u4f5c\u4e3a\u65b0\u7684\u7cfb\u7edf\u521d\u59cb\u5316\u8fdb\u7a0b\u3002</p> <p>systemd\u4f7f\u7528target\u4ee3\u66ff\u4e86System V inti\u4e2d\u7684\u8fd0\u884c\u7ea7\u522b\u3002</p> <p>centos7\u4f7f\u7528<code>systemctl</code>\u547d\u4ee4\u7ba1\u7406\u670d\u52a1\uff0c\u539f\u6765\u662f\u7528<code>service</code>\u3001<code>chkconfig</code>\u7b49\u547d\u4ee4</p>","tags":["linux"]},{"location":"linux/42.linux-jiu-gai-zhe-me-xue-note/#systemctl","title":"\u670d\u52a1\u7ba1\u7406\u547d\u4ee4systemctl","text":"<ul> <li><code>system start \u670d\u52a1\u540d</code> </li> <li><code>system restart \u670d\u52a1\u540d</code> </li> <li><code>system stop \u670d\u52a1\u540d</code> </li> <li><code>system status \u670d\u52a1\u540d</code>\uff0c\u67e5\u770b\u670d\u52a1\u72b6\u6001  </li> <li><code>system reload \u670d\u52a1\u540d</code>\uff0c\u91cd\u65b0\u52a0\u8f7d\u914d\u7f6e\u6587\u4ef6\uff08\u4e0d\u7ec8\u6b62\u670d\u52a1\uff09</li> </ul>","tags":["linux"]},{"location":"linux/42.linux-jiu-gai-zhe-me-xue-note/#linux_2","title":"Linux\u5e38\u7528\u547d\u4ee4","text":"","tags":["linux"]},{"location":"linux/42.linux-jiu-gai-zhe-me-xue-note/#man","title":"man\u547d\u4ee4","text":"\u529f\u80fd \u6309\u952e \u5411\u4e0b\u7ffb\u9875 Page Down\uff0c\u7a7a\u683c \u5411\u4e0a\u7ffb\u9875 Page Up\uff0cb \u56de\u5230\u9996\u9875 Home \u7ffb\u5230\u6700\u540e\u4e00\u9875 End \u641c\u7d22\uff08\u4ece\u4e0a\u5f80\u4e0b\uff09 /\u5173\u952e\u5b57 \u641c\u7d22\uff08\u4ece\u4e0b\u5f80\u4e0a\uff09 ?\u5173\u952e\u5b57 \u67e5\u770b\u4e0b\u4e00\u4e2a\u641c\u5230\u7684\u5173\u952e\u5b57 n \u67e5\u770b\u4e0a\u4e00\u4e2a\u641c\u5230\u7684\u5173\u952e\u5b57 N","tags":["linux"]},{"location":"linux/42.linux-jiu-gai-zhe-me-xue-note/#_4","title":"\u5e38\u7528\u547d\u4ee4","text":"echo - \u529f\u80fd \u5728\u7ec8\u7aef\u6253\u5370\u6587\u672c \u7528\u6cd5 <code>$ echo [\u5b57\u7b26\u4e32/$\u53d8\u91cf]</code> \u8bf4\u660e \u5b57\u7b26\u4e32\u53ef\u4ee5\u7528\u6210\u5bf9\u7684\u5355\u5f15\u53f7\u6216\u53cc\u5f15\u53f7\u5305\u56f4\u8d77\u6765\uff1b\u53d8\u91cf\u53ef\u4ee5\u7528{}\u5305\u56f4\u8d77\u6765 \u4f8b\u5b50 <code>$ echo abc\"erf\"df</code> \u8f93\u51fa abcerfdf\uff0c<code>$ echo abc\"e'rf\"df</code> \u8f93\u51fa abce'rfdf date - \u529f\u80fd \u663e\u793a\u7cfb\u7edf\u65f6\u95f4\u6216\u65e5\u671f \u7528\u6cd5 <code>$ date [\u53c2\u6570] [date\u5b57\u7b26\u4e32/+\u683c\u5f0f]</code> \u53c2\u6570 <code>-s</code>\u662f\u8bbe\u7f6e\u7cfb\u7edf\u65f6\u95f4\uff1b<code>-d</code>\u662f\u663e\u793adate\u5b57\u7b26\u4e32\u6240\u8868\u793a\u65e5\u671f\u7684\u8be6\u7ec6\u4fe1\u606f \u4f8b\u5b50 <code>$ date</code>\uff0c<code>$ date \"+%Y-%m-%d %H:%M:%S\"</code>\uff0c<code>$ date -d \"2020\"</code>\uff0c<code>$ date -d \"now\"</code>\uff0c<code>date -s \"20170901 8:30:00\"</code> reboot - \u529f\u80fd \u91cd\u542f\u7cfb\u7edf \u7528\u6cd5 <code>$ reboot</code> poweroff - \u529f\u80fd \u5173\u673a \u7528\u6cd5 <code>$ poweroff</code> wget - \u529f\u80fd \u901a\u8fc7URL\u4e0b\u8f7d\u6587\u4ef6 \u7528\u6cd5 <code>$ wget [\u53c2\u6570] \u4e0b\u8f7d\u5730\u5740</code> \u53c2\u6570 <code>-b</code>\u540e\u53f0\u4e0b\u8f7d\uff1b<code>-P</code>\u4e0b\u8f7d\u5230\u6307\u5b9a\u76ee\u5f55\uff1b<code>-p</code>\u4e0b\u8f7d\u9875\u9762\u5185\u6240\u6709\u8d44\u6e90\uff1b<code>-r</code>\u9012\u5f52\u4e0b\u8f7d\uff1b<code>-O</code>\u8f93\u51fa\u6587\u4ef6\u540d \u4f8b\u5b50 <code>$ wget -r -p http://www.linuxprobe.com</code> ps - \u529f\u80fd \u67e5\u770b\u7cfb\u7edf\u8fdb\u7a0b \u7528\u6cd5 <code>$ ps [\u53c2\u6570]</code> \u53c2\u6570 <code>-a</code>\u5217\u51fa\u6240\u6709\u8fdb\u7a0b\uff08\u5305\u62ec\u5176\u4ed6\u7528\u6237\u7684\uff0c\u5305\u62ecroot\u7b49\u7528\u6237\uff09\uff1b<code>-u</code>\u663e\u793a\u7528\u6237\u53ca\u5176\u4ed6\u4fe1\u606f\uff1b<code>-x</code>\u5217\u51fa\u6ca1\u6709\u7528\u6237\u7ec8\u7aef\u7684\u8fdb\u7a0b \u4f8b\u5b50 <code>$ ps -axu</code> <code>-u</code>\u53c2\u6570\u8f93\u51fa\u7684\u5b57\u6bb5 USER\uff1a\u7528\u6237\u3001PID\uff1a\u8fdb\u7a0bID\u3001%CPU\uff1aCPU\u5360\u7528\u7387\u3001%MEM\uff1a\u5185\u5b58\u5360\u7528\u7387\u3001VSZ\uff1a\u865a\u62df\u5185\u5b58\u5360\u7528\uff08KB\uff09\u3001RSS\uff1a\u5e38\u9a7b\u5185\u5b58\u5360\u7528\uff08KB\uff09\uff0cTTY\uff1a\u6240\u5728\u7ec8\u7aef\uff0cSTAT\uff1a\u8fdb\u7a0b\u72b6\u6001\uff0cSTART\uff1a\u542f\u52a8\u65f6\u95f4\uff0cTIME\uff1a\u5b9e\u9645\u7684CPU\u5360\u7528\u65f6\u95f4\uff0cCOMMAND\uff1a\u547d\u4ee4 <p>linux\u8fdb\u7a0b\u72b6\u6001\u7801\uff1a   - R\uff1a\u6b63\u5728\u8fd0\u884c\u6216\u53ef\u8fd0\u884c\uff08\u5728\u8fd0\u884c\u961f\u5217\u4e2d\uff09   - S\uff1a\u53ef\u4e2d\u65ad\u7684\u7761\u7720\u72b6\u6001\uff08\u901a\u5e38\u662f\u5728\u7b49\u5f85\u4e8b\u4ef6\uff09   - D\uff1a\u4e0d\u53ef\u4e2d\u65ad\u7684\u7761\u7720\u72b6\u6001\uff08\u901a\u5e38\u662f\u5728I/O\uff09   - T\uff1a\u6682\u505c\uff08ctrl+z\uff09   - t\uff1a\u88ab\u8ddf\u8e2a\uff08debug\uff09   - Z\uff1a\u50f5\u5c38\u8fdb\u7a0b\uff08\u7a0b\u5e8f\u6267\u884c\u5b8c\u6bd5\uff0ctask_struct\u8fd8\u7559\u7740\uff0c\u91cc\u9762\u4fdd\u5b58\u7a0b\u5e8f\u7684\u9000\u51fa\u7801\u548c\u5176\u4ed6\u7edf\u8ba1\u4fe1\u606f\uff09   - X\uff1a\u6b63\u5728\u88ab\u9500\u6bc1\uff08\u975e\u5e38\u77ed\u6682\uff09   - W\uff1a\u6b63\u5728\u6362\u9875\uff082.6\u5185\u6838\u4ee5\u540e\u5df2\u7ecf\u5f03\u7528\u4e86\uff09</p> <p>\u72b6\u6001\u63cf\u8ff0\u4fe1\u606f   - &lt;\uff1a\u9ad8\u4f18\u5148\u7ea7   - N\uff1a\u4f4e\u4f18\u5148\u7ea7   - L\uff1a\u6709\u9875\u88ab\u9501\u5b9a\u5728\u5185\u5b58\u4e2d\uff08\u5b9e\u65f6\u548c\u5b9a\u6307I/O\uff09   - s\uff1asession leader   - l\uff1a\u591a\u7ebf\u7a0b   - +\uff1a\u5728\u524d\u53f0\u8fdb\u7a0b\u7ec4\u4e2d</p> top - \u529f\u80fd \u52a8\u6001\u5730\u76d1\u89c6\u8fdb\u7a0b\u6d3b\u52a8\u4e0e\u7cfb\u7edf\u8d1f\u8f7d\u7b49\u4fe1\u606f \u7528\u6cd5 <code>$ top</code> \u8f93\u51fa\u4fe1\u606f - \u5f00\u5934\u51e0\u884c\u662f\u7cfb\u7edf\u603b\u7684\u4fe1\u606f - PR\uff1a\u4f18\u5148\u7ea7 - VIRT\uff1a\u865a\u62df\u5185\u5b58\u4f7f\u7528\u91cf - RES\uff1a\u5e38\u9a7b\u5185\u5b58\u5927\u5c0f - SHR\uff1a\u5171\u4eab\u5185\u5b58\u5927\u5c0f pidof - \u529f\u80fd \u67e5\u770b\u7cfb\u7edf\u8fdb\u7a0b \u7528\u6cd5 <code>$ pidof \u8fdb\u7a0b\u540d</code> \u4f8b\u5b50 <code>$ pidof wget</code> kill - \u529f\u80fd \u6740\u6b7b\u8fdb\u7a0b \u7528\u6cd5 <code>$ kill [\u53c2\u6570] \u8fdb\u7a0bID</code> \u4f8b\u5b50 <code>$ kill 9821</code> killall - \u529f\u80fd \u7ec8\u6b62\u67d0\u4e2a\u6307\u5b9a\u540d\u79f0\u7684\u670d\u52a1\u6240\u5bf9\u5e94\u7684\u5168\u90e8\u8fdb\u7a0b \u7528\u6cd5 <code>$ killall [\u53c2\u6570] \u8fdb\u7a0b\u540d</code> \u8bf4\u660e \u5982\u679c\u7528<code>pidof</code>\u80fd\u67e5\u51fa\u597d\u591a\u8fdb\u7a0bID\uff0c\u5c31\u53ef\u4ee5\u7528killall\u6740\u6b7b\u8fd9\u4e9b\u8fdb\u7a0b","tags":["linux"]},{"location":"linux/42.linux-jiu-gai-zhe-me-xue-note/#_5","title":"\u7cfb\u7edf\u72b6\u6001\u68c0\u6d4b","text":"<p>ifconfig</p> uname - - \u529f\u80fd \u67e5\u770b\u5185\u6838\u4fe1\u606f \u7528\u6cd5 <code>$ uname -a</code> \u8f93\u51fa\u5168\u90e8\u4fe1\u606f\uff0c\u6309\u4ee5\u4e0b\u987a\u5e8f\u6392\u5217 \u5185\u6838\u540d <code>$ uname -s</code> Linux \u4e3b\u673a\u540d\uff08\u8282\u70b9\u540d\uff09 <code>$ uname -n</code> linuxtest \u5185\u6838\u53d1\u884c\u7248\u672c <code>$ uname -r</code> 3.10.0-862.el7.x86_64 \u5185\u6838\u7248\u672c <code>$ uname -v</code> #1 SMP Fri Apr 20 16:44:24 UTC 2018 \u673a\u5668\u786c\u4ef6\u540d <code>$ uname -m</code> x86_64 \u5904\u7406\u5668\u7c7b\u578b <code>$ uname -p</code> x86_64 \u786c\u4ef6\u5e73\u53f0 <code>$ uname -i</code> x86_64 \u64cd\u4f5c\u7cfb\u7edf <code>$ uname -o</code> GNU/Linux <p>\u67e5\u770b\u7cfb\u7edf\u53d1\u884c\u7248\u4fe1\u606f - <code>$ lsb_release -a</code> - <code>$ cat /etc/redhat-release</code></p> <p>uptime\uff1a\u67e5\u770b\u7cfb\u7edf\u8d1f\u8f7d \u663e\u793a\u7cfb\u7edf\u5728\u6700\u8fd11\u5206\u949f\u30015\u5206\u949f\u300110\u5206\u949f\u5185\u7684\u538b\u529b\u60c5\u51b5\uff0c\u6570\u503c\u8d8a\u5c0f\u538b\u529b\u8d8a\u5c0f free\uff1a\u67e5\u770b\u7cfb\u7edf\u5185\u5b58\u4f7f\u7528\u60c5\u51b5 who\uff1a\u67e5\u770b\u5f53\u524d\u767b\u5f55\u7cfb\u7edf\u7684\u6240\u6709\u7528\u6237   \u8f93\u51fa\u987a\u5e8f\uff1a\u7528\u6237\u540d \u7ec8\u7aef \u767b\u5f55\u65f6\u95f4 last\uff1a\u67e5\u770b\u7cfb\u7edf\u7684\u6240\u6709\u767b\u5f55\u8bb0\u5f55 </p> history - \u529f\u80fd \u67e5\u770b\u7528\u6237\u7684\u5386\u53f2\u547d\u4ee4 \u7528\u6cd5 <code>$ history [-c]</code> \u8bf4\u660e \u53c2\u6570<code>-c</code>\u53ef\u4ee5\u6e05\u7a7a\u5386\u53f2\u8bb0\u5f55\uff0c\u5386\u53f2\u8bb0\u5f55\u88ab\u4fdd\u5b58\u5728\u7528\u6237\u76ee\u5f55\u4e0b\u7684.hash_history\u6587\u4ef6\u4e2d\uff0c/etc/profile\u4e2d\u7684HISTSIZE\u53d8\u91cf\u5b9a\u4e49\u4e86\u6700\u591a\u80fd\u4fdd\u5b58\u591a\u5c11\u6761\u5386\u53f2\u547d\u4ee4 <code>$ cat ~/.bash_history</code> \u76f4\u63a5\u67e5\u770b\u65e5\u5fd7\u6587\u4ef6\uff0c\u4f46\u662f\u8fd9\u4e2a\u6587\u4ef6\u4e2d\u7684\u65e5\u5fd7\u53ef\u80fd\u4e0d\u662f\u6700\u65b0\u7684\uff0c\u4e0d\u5982history\u547d\u4ee4\u9760\u8c31 <code>$ !\u6570\u5b57\u7f16\u53f7</code> \u518d\u6b21\u6267\u884c\u5bf9\u5e94history\u7f16\u53f7\u7684\u5386\u53f2\u547d\u4ee4","tags":["linux"]},{"location":"linux/42.linux-jiu-gai-zhe-me-xue-note/#_6","title":"\u76ee\u5f55\u547d\u4ee4","text":"<p>\u7565</p>","tags":["linux"]},{"location":"linux/42.linux-jiu-gai-zhe-me-xue-note/#_7","title":"\u6587\u4ef6\u7f16\u8f91","text":"cat - \u529f\u80fd \u67e5\u770b\u6587\u672c\u6587\u4ef6 \u7528\u6cd5 <code>$ cat [\u9009\u9879] \u6587\u4ef6</code> \u8bf4\u660e \u9009\u9879<code>-n</code>\u8868\u793a\u8f93\u51fa\u6587\u4ef6\u65f6\u663e\u793a\u884c\u53f7 more\uff1a\u67e5\u770b\u957f\u6587\u672c\u6587\u4ef6 \u7a7a\u683c\u952e\u7ffb\u9875\uff0c\u56de\u8f66\u952e\u770b\u4e0b\u4e00\u884c head\u548ctail - \u529f\u80fd \u67e5\u770b\u6587\u4ef6\u6587\u4ef6\u7684\u5f00\u5934\u82e5\u5e72\u884c\u548c\u7ed3\u5c3e\u82e5\u5e72\u884c \u7528\u6cd5 <code>$ head -n 20 \u6587\u4ef6</code>\u3001<code>$ head -10 \u6587\u4ef6</code>\u3001<code>$ tail -n 5 \u6587\u4ef6</code>\u3001<code>$ tail -5 \u6587\u4ef6</code> \u7528\u6cd52 <code>$ tail -f \u6587\u4ef6</code>\u53ef\u4ee5\u5b9e\u65f6\u663e\u793a\u6587\u4ef6\u7684\u66f4\u65b0 tr - \u529f\u80fd \u5c06\u5b57\u7b26\u66ff\u6362\u540e\u8f93\u51fa\u66ff\u6362\u540e\u7684\u6587\u672c\u3002\u6709\u4e24\u79cd\u6a21\u5f0f\uff0c\u4ea4\u4e92\u6a21\u5f0f\u548c\u975e\u4ea4\u4e92\u6a21\u5f0f \u7528\u6cd51 <code>$ tr [a-z] [A-Z]</code> \u7528\u6cd52 <code>$ echo \"Hello World\" | tr [a-z] [A-Z]</code>\u3001<code>$ cat test.txt | tr [a-z] [A-Z]</code> \u8bf4\u660e \u7528\u6cd51\u4f1a\u8fdb\u5165\u4ea4\u4e92\u6a21\u5f0f\uff0c\u7528\u6237\u9700\u8981\u8f93\u5165\u4e00\u884c\u5b57\u7b26\uff0ctr\u4f1a\u8f93\u51fa\u4e00\u884c\u8f6c\u6362\u7ed3\u679c\u3002\u7528\u6cd52\u4e2dtr\u4f1a\u76f4\u63a5\u5c06\u8f6c\u6362\u540e\u7684\u5b57\u7b26\u8f93\u51fa wc - \u529f\u80fd \u7edf\u8ba1\u6587\u672c\u7684\u884c\u6570\u3001\u5355\u8bcd\u6570\u3001\u5b57\u8282\u6570 \u7528\u6cd5 <code>$ wc [\u9009\u9879] [\u6587\u4ef6]</code> \u4f8b\u5982 <code>$ wc -l test.txt</code> \u8bf4\u660e \u9009\u9879<code>-l</code>\u7edf\u8ba1\u6587\u4ef6\u7684\u884c\u6570\uff0c\u9009\u9879<code>-w</code>\u7edf\u8ba1\u6587\u4ef6\u7684\u5355\u8bcd\u6570\uff0c\u9009\u9879<code>-c</code>\u7edf\u8ba1\u6587\u4ef6\u7684\u5b57\u8282\u6570\u3002\u53ef\u4ee5\u5229\u7528<code>-l</code>\u7edf\u8ba1\u4e00\u4e9b\u7cfb\u7edf\u4fe1\u606f <p>stat\uff1a\u663e\u793a\u6587\u4ef6\u8be6\u7ec6\u4fe1\u606f   \u8f93\u51fa\u67d0\u4e2a\u6587\u4ef6\u8be6\u7ec6\u7684\u4fe1\u606f\uff0c\u5305\u62ec\u5b58\u50a8\u3001\u6743\u9650\u3001\u65f6\u95f4\u7b49\u4fe1\u606f</p> cut - \u529f\u80fd \u6309\u5217\u63d0\u53d6\u4e00\u4e2a\u6587\u672c\u6587\u4ef6\u7684\u5185\u5bb9 \u7528\u6cd5 <code>$ cut [\u9009\u9879] [\u6587\u4ef6]</code> \u4f8b\u5982 <code>$ cut -f1 -d\" \" .bash_history</code> \u8bf4\u660e \u7528<code>-f</code>\u6307\u5b9a\u63d0\u53d6\u7b2c\u51e0\u5217\uff0c\u7528<code>-d</code>\u6307\u5b9a\u5355\u8bcd\u5206\u9694\u7b26\uff0c\u5982\u679c\u67d0\u884c\u6587\u672c\u6ca1\u6709\u6307\u5b9a\u7684\u5217\uff0c\u5c31\u662f\u8f93\u51fa\u7a7a\u884c diff - \u529f\u80fd \u6bd4\u8f83\u591a\u4e2a\u6587\u672c\u6587\u4ef6\u4e4b\u95f4\u7684\u6587\u4ef6\u5185\u5bb9\u7684\u5dee\u5f02 \u7528\u6cd5 <code>$ diff [\u9009\u9879] \u6587\u4ef61 \u6587\u4ef62</code> \u4f8b\u5982 <code>$ diff --brief txt1 txt2</code> \u8bf4\u660e \u9009\u9879<code>--brief</code>\u4ec5\u5f53\u4e24\u4e2a\u6587\u4ef6\u4e0d\u540c\u65f6\u62a5\u544a\u7ed9\u7528\u6237\uff0c\u9009\u9879<code>-c</code>\u8f93\u51fa\u5177\u4f53\u7684\u533a\u522b\uff0c\u4e0d\u52a0\u9009\u9879\u4f1a\u8f93\u51fa\u4ecb\u4e8e\u4e24\u8005\u4e4b\u95f4\u7684\u4fe1\u606f","tags":["linux"]},{"location":"linux/42.linux-jiu-gai-zhe-me-xue-note/#_8","title":"\u76ee\u5f55\u7ba1\u7406","text":"touch - \u529f\u80fd \u521b\u5efa\u6587\u4ef6\u3001\u4fee\u6539\u6587\u4ef6\u5c5e\u6027 \u7528\u6cd5 <code>$ touch [\u9009\u9879] [\u6587\u4ef6\u540d]</code> \u8bf4\u660e \u6ca1\u6709\u9009\u9879\u65f6\u4f1a\u521b\u5efa\u4e00\u4e2a\u7a7a\u6587\u4ef6\uff0c\u5982\u679c\u6587\u4ef6\u5df2\u5b58\u5728\u5219\u4ec0\u4e48\u90fd\u4e0d\u4f1a\u53d1\u751f\uff08\u4f1a\u4fee\u6539\u6587\u4ef6\u7684\u65f6\u95f4\u6233\uff09 <p>mkdir <code>-p</code>\u9009\u9879\u53ef\u4ee5\u521b\u5efa\u591a\u5c42\u76ee\u5f55\uff0c\u4f8b\u5982<code>$ mkdir -p test/t1/t2</code>\u3002 cp   \u4f7f\u7528<code>$ cp -r dir1 dir2</code>\u8fd9\u4e2a\u547d\u4ee4\u65f6\uff0c\u5982\u679cdir2\u5185\u5b58\u5728\u4e00\u4e2a\u548cdir1\u540c\u540d\u7684\u76ee\u5f55\uff0c\u5219dir1\u4f1a\u548c\u5176\u5408\u5e76\uff0c\u6b64\u65f6\u5373\u4f7f\u52a0\u4e0a<code>-i</code>\u4e5f\u6ca1\u7528\u3002 mv\uff08\u4e0d\u9700\u8981-r\uff09 rm <code>-r</code>\u5220\u9664\u76ee\u5f55\uff0c<code>-f</code>\u5f3a\u5236\u5220\u9664\uff08\u7cfb\u7edf\u4e0d\u4f1a\u53d1\u51fa\u786e\u8ba4\uff09\uff0c\u5e76\u4e14\u5ffd\u7565\u4e0d\u5b58\u5728\u7684\u6587\u4ef6\u3002<code>$  rm -rf /</code> </p> dd - \u529f\u80fd \u6309\u5757\u5927\u5c0f\u548c\u5757\u6570\u62f7\u8d1d\u6587\u4ef6 \u7528\u6cd5 <code>$ dd [\u9009\u9879] [\u6587\u4ef6\u540d]</code> \u4f8b\u5b50 <code>$ dd if=/dev/zero of=test count=3 bs=120M</code> \u8bf4\u660e <code>if</code>\u6307\u5b9a\u4e86\u8f93\u5165\u6587\u4ef6\uff0c<code>of</code>\u6307\u5b9a\u4e86\u8f93\u51fa\u6587\u4ef6\uff0c<code>count</code>\u6307\u5b9a\u4e86\u5757\u4e2a\u6570\uff0c<code>bs</code>\u6307\u5b9a\u4e86\u5757\u5927\u5c0f\uff1b<code>/dev/zero</code>\u662f\u4e00\u4e2a\u7279\u6b8a\u7684\u6587\u4ef6\uff0c\u8fd9\u4e2a\u6587\u4ef6\u4e0d\u5360\u5b58\u50a8\u7a7a\u95f4\uff0c\u4f46\u662f\u53ef\u4ee5\u4f5c\u4e3a\u6570\u636e\u8f93\u5165\uff0c\u6e90\u6e90\u4e0d\u65ad\u5730\u63d0\u4f9b\u6570\u636e\uff08\u6709\u70b9\u548c<code>/dev/null</code>\u76f8\u5bf9\u7684\u610f\u601d\uff09 <p>file\uff1a\u67e5\u770b\u6587\u4ef6\u7c7b\u578b   \u5e38\u89c1\u7684\u6709\uff0c\u201cdata\u201d\u3001\u201cUTF-8 Unicode text\u201d\u3001\u201cASCII text\u201d\u3001\u201cblock special\u201d\u3001\u201ccharacter special\u201d\u7b49\u7b49\u3002</p>","tags":["linux"]},{"location":"linux/42.linux-jiu-gai-zhe-me-xue-note/#_9","title":"\u6253\u5305\u548c\u538b\u7f29","text":"tar - \u529f\u80fd \u6253\u5305\u548c\u538b\u7f29\u6587\u4ef6\uff0ctar\u901a\u5e38\u7528\u6765\u751f\u6210.tar\u3001.tar.gz\u548c.tar.bz2\u683c\u5f0f\u7684\u6587\u4ef6\uff0c.tar\u662f\u4ec5\u6253\u5305\uff0c.tar.gz\u548c.tar.bz2\u662f\u538b\u7f29\u540e\u518d\u6253\u5305 \u7528\u6cd5 <code>$ tar [\u9009\u9879] [\u6587\u4ef6\u540d]</code> \u9009\u9879\u8bf4\u660e <code>-c</code>/<code>-x</code>\uff1a\u538b\u7f29/\u89e3\u538b\uff0c<code>-z</code>\uff1a\u7528gzip\u538b\u7f29/\u89e3\u538b\uff0c<code>-j</code>\uff1a\u7528bzip2\u538b\u7f29/\u89e3\u538b\uff0c<code>-v</code>\uff1a\u663e\u793a\u8f93\u51fa\uff0c<code>-f</code>\uff1a\u6307\u5b9a\u76ee\u6807\u6587\u4ef6\u540d\uff0c<code>-t</code>\uff1a\u67e5\u770b\u5305\u5185\u6709\u54ea\u4e9b\u6587\u4ef6\uff0c<code>-p</code>\uff1a\u4fdd\u7559\u539f\u59cb\u7684\u6743\u9650\u548c\u5c5e\u6027\uff0c<code>-P</code>\uff1a\u6587\u4ef6\u540d\u4f7f\u7528\u7edd\u5bf9\u8def\u5f84\uff0c<code>-C</code>\uff1a\u89e3\u538b\u5230\u6307\u5b9a\u76ee\u5f55 \u4f8b\u5982 \u538b\u7f29\u4e00\u4e2a\u6587\u4ef6\uff1a<code>$ tar -zcf test.tar.gz test</code>\uff0c\u89e3\u538b\u4e00\u4e2a\u6587\u4ef6\uff1a<code>$ tar -zxvf test.tar.gz</code>\u6216<code>$ tar -zxvf test.tar.gz -C /home/swj</code>","tags":["linux"]},{"location":"linux/42.linux-jiu-gai-zhe-me-xue-note/#_10","title":"\u641c\u7d22","text":"grep - \u529f\u80fd \u641c\u7d22\u6587\u672c \u7528\u6cd51 <code>$ grep [\u9009\u9879] \u5b57\u7b26\u4e32 \u6587\u4ef6\u540d</code> \u7528\u6cd52 <code>$ \u8f93\u51fa | grep [\u9009\u9879] \u5b57\u7b26\u4e32</code> \u9009\u9879\u8bf4\u660e <code>-b</code>\uff1a\u5c06\u4e8c\u8fdb\u5236\u6587\u4ef6\u5f53\u6587\u672c\u6587\u4ef6\u641c\u7d22\uff0c<code>-c</code>\uff1a\u4ec5\u663e\u793a\u627e\u5230\u7684\u884c\u6570\uff0c<code>-n</code>\uff1a\u663e\u793a\u884c\u53f7\uff0c<code>-i</code>\uff1a\u5ffd\u7565\u5927\u5c0f\u5199\uff0c<code>-v</code>\uff1a\u53cd\u5411\u641c\u7d22\uff08\u641c\u7d22\u4e0d\u5305\u542b\u6307\u5b9a\u5b57\u7b26\u4e32\u7684\u884c\uff09 \u4f8b\u5b50 \u67e5\u770b\u4e0d\u5141\u8bb8\u767b\u5f55\u7684\u7528\u6237\uff1a<code>$ grep /sbin/nologin /etc/passwd</code> find - \u529f\u80fd \u641c\u7d22\u6587\u4ef6 \u7528\u6cd5 <code>$ find [\u67e5\u627e\u8def\u5f84] \u67e5\u627e\u6761\u4ef6 \u64cd\u4f5c</code> \u4f8b\u5b50 <code>$ find /etc -name *host* [-print]</code> \u9009\u9879\u8bf4\u660e <code>-exec [\u547d\u4ee4] {} \\;</code>\u8fd9\u4e2a\u64cd\u4f5c\u503c\u5f97\u4e00\u63d0\uff0c<code>{}</code>\u6307\u4ee3find\u547d\u4ee4\u641c\u7d22\u51fa\u6765\u7684\u6bcf\u4e2a\u6587\u4ef6\uff0c\u4f8b\u5982<code>find /etc -name \"host*\" -exec ls -l {} \\;</code>\u8fd9\u4e2a\u547d\u4ee4\u4f1a\u5c06\u641c\u51fa\u6765\u7684\u6587\u4ef6\u7684\u8be6\u7ec6\u4fe1\u606f\u6253\u5370\u5230\u5c4f\u5e55\u4e0a\uff0c\u6ce8\u610f\uff0c<code>-exec</code>\u64cd\u4f5c\u7684\u7ed3\u5c3e\u662f<code>\\;</code>\uff0c\u4e00\u5b9a\u8981\u5e26\u4e0a\u5206\u53f7","tags":["linux"]},{"location":"linux/42.linux-jiu-gai-zhe-me-xue-note/#_11","title":"\u547d\u4ee4","text":"<p>\u91cd\u5b9a\u5411\u3001\u7ba1\u9053\u3001\u901a\u914d\u7b26\u3001\u8f6c\u4e49\u5b57\u7b26\u3001\u73af\u5883\u53d8\u91cf</p>","tags":["linux"]},{"location":"linux/42.linux-jiu-gai-zhe-me-xue-note/#_12","title":"\u8f93\u5165\u8f93\u51fa\u91cd\u5b9a\u5411","text":"<p>\u8f93\u5165\u8f93\u51fa\u91cd\u5b9a\u5411\u662f\u6307\u628a\u8f93\u5165\u8f93\u51fa\u5b9a\u5411\u5230\u5176\u4ed6\u6587\u4ef6\u3002</p> <p>linux\u6807\u51c6\u8f93\u5165\u51fa\u8f93\u51fa\uff1a</p> <ul> <li>\u6807\u51c6\u8f93\u5165\uff1aSTDIN\uff0c\u6587\u4ef6\u63cf\u8ff0\u7b260\uff0c/dev/stdin</li> <li>\u6807\u51c6\u8f93\u51fa\uff1aSTDOUT\uff0c\u6587\u4ef6\u63cf\u8ff0\u7b261\uff0c/dev/stdout</li> <li>\u6807\u51c6\u9519\u8bef\u8f93\u51fa\uff1aSTDERR\uff0c\u6587\u4ef6\u63cf\u8ff0\u7b262\uff0c/dev/stderr</li> </ul> <p>\u5199\u6cd5\uff1a</p> <pre><code># \u8f93\u5165\u91cd\u5b9a\u5411\nwc -l &lt;test.txt\n# \u8f93\u51fa\u91cd\u5b9a\u5411\necho hello &gt;test.txt # \u8986\u76d6\necho hello &gt;&gt;test.txt # \u8ffd\u52a0\necho hello 2&gt;test.txt # \u91cd\u5b9a\u5411\u9519\u8bef\u8f93\u51fa\u65f6\u5fc5\u987b\u52a0\u4e0a\u6587\u4ef6\u63cf\u8ff0\u7b26\necho hello 2&gt;&gt;test.txt\n# \u540c\u65f6\u91cd\u5b9a\u5411\u591a\u79cd\u8f93\u5165\u8f93\u51fa\n\u547d\u4ee4 &lt;\u6587\u4ef61 &gt;\u6587\u4ef62\n\u547d\u4ee4 &gt;&gt;\u6587\u4ef61 2&gt;\u6587\u4ef62\n# \u5408\u5e76\u6807\u51c6\u8f93\u51fa\u548c\u6807\u51c6\u9519\u8bef\n\u547d\u4ee4 &gt;\u6587\u4ef6 2&gt;&amp;1\n\u547d\u4ee4 &amp;&gt;\u6587\u4ef6\n\u547d\u4ee4 &amp;&gt;&gt;\u6587\u4ef6\n# \u4ece\u6807\u51c6\u8f93\u5165\u8bfb\u53d6\u4e24\u4e2atag\u4e4b\u95f4\u7684\u5185\u5bb9\uff0c\u7b2c\u4e8c\u4e2atag\u5fc5\u987b\u53e6\u8d77\u4e00\u884c\u9876\u683c\u5199\uff0ctag\u53ef\u4ee5\u662f\u4e2a\u5b57\u7b26\u4e32\u3002\n# \u4f8b\u5982\uff1a\u4e0b\u9762\u8fd9\u4e2a\u4f8b\u5b50\u4e2d123\u662f\u4e00\u4e2atag\nwc -l &lt;&lt; 123\n  &gt; Hello\n  &gt; world!\n  &gt; 123\n</code></pre>","tags":["linux"]},{"location":"linux/42.linux-jiu-gai-zhe-me-xue-note/#_13","title":"\u7ba1\u9053","text":"<p>\u7ba1\u9053\u7b26<code>'|'</code>\u5c06\u4e0a\u4e00\u4e2a\u547d\u4ee4\u7684\u8f93\u51fa\u4f5c\u4e3a\u4e0b\u4e00\u4e2a\u547d\u4ee4\u7684\u8f93\u5165\u3002</p> <p>\u7528\u6cd5\uff1a</p> <pre><code># \u628a\u4e00\u5927\u5806\u8f93\u51fa\u62fc\u5728more\u547d\u4ee4\u540e\u9762\uff0c\u7ffb\u9875\u67e5\u770b\nls -la / | more\n# \u975e\u4ea4\u4e92\u5f0f\u4fee\u6539\u7528\u6237\u5bc6\u7801\necho '123456' | passwd --stdin user002  # \u4e0d\u9002\u7528\u4e8eubuntu/debian\necho 'user003:123456' | chpasswd\n# \u7ed9sudo\u4f20\u9012\u5bc6\u7801\uff0csudo\u7684-S\u9009\u9879\u652f\u6301\u4ece\u6807\u51c6\u8f93\u5165\u8bfb\u53d6\u5bc6\u7801\uff08-S\u7b49\u540c\u4e8e--stdin\uff09\necho `password` | sudo -S cmd\n</code></pre>","tags":["linux"]},{"location":"linux/42.linux-jiu-gai-zhe-me-xue-note/#_14","title":"\u901a\u914d\u7b26\uff08\u6b63\u5219\uff09","text":"<p>\uff08\u901a\u914d\u7b26\u5b9e\u9645\u4e0a\u548cshell\u6b63\u5219\u8868\u8fbe\u5f0f\u6709\u5173\uff09\u4ee5\u4e0b\u662f\u5e38\u7528\u901a\u914d\u7b26</p> \u901a\u914d\u7b26 \u542b\u4e49 \u4f8b\u5b50 * \u5339\u914d0\u4e2a\u6216\u591a\u4e2a\u5b57\u7b26 \uff1f \u5339\u914d1\u4e2a\u5b57\u7b26 [] \u5339\u914d\u6307\u5b9a\u5b57\u7b26\u8303\u56f4\u5185\u7684\u4efb\u610f\u5355\u4e2a\u5b57\u7b26 [abc] [0-9]\u3001[a-z]\u3001[A-Z] \u5339\u914d\u8303\u56f4\u5185\u7684\u4efb\u610f\u5355\u4e2a\u5b57\u7b26 [a-Z] \u6240\u6709\u5927\u5c0f\u5199\u5b57\u6bcd !\u6216^ \u5339\u914d\u8303\u56f4\u5916\u7684\u5b57\u7b26 [!0-9]\u3001[^abc]","tags":["linux"]},{"location":"linux/42.linux-jiu-gai-zhe-me-xue-note/#_15","title":"\u8f6c\u4e49\u5b57\u7b26","text":"<p>\u5e38\u7528\u8f6c\u4e49\u5b57\u7b26</p> \u8f6c\u4e49\u5b57\u7b26 \u542b\u4e49 \\ \u5c06\u4e00\u4e2a\u7279\u6b8a\u5b57\u7b26\u8f6c\u4e3a\u666e\u901a\u5b57\u7b26 ' ' \u5355\u5f15\u53f7\u5305\u56f4\u7684\u5185\u5bb9\u90fd\u88ab\u89c6\u4e3a\u666e\u901a\u5b57\u7b26 \" \" \u53cc\u5f15\u53f7\u5305\u56f4\u7684\u5185\u5bb9\u5927\u90e8\u5206\u662f\u666e\u901a\u5b57\u7b26\uff0c\u5c11\u6570\u5b57\u7b26\u4fdd\u7559\u4e86\u7279\u6b8a\u542b\u4e49\uff0c\u5982$\u3001\\\u3001`\u7b49 ` ` \u53cd\u5f15\u53f7\u5305\u56f4\u7684\u5185\u5bb9\u662f\u4e00\u4e2a\u547d\u4ee4\uff0c\u5176\u529f\u80fd\u662f\u83b7\u53d6\u547d\u4ee4\u6267\u884c\u540e\u5f97\u5230\u7684\u8f93\u51fa","tags":["linux"]},{"location":"linux/42.linux-jiu-gai-zhe-me-xue-note/#_16","title":"\u73af\u5883\u53d8\u91cf","text":"<ul> <li>alias\u547d\u4ee4\uff1a\u67e5\u770b\u548c\u8bbe\u7f6e\u547d\u4ee4\u7684\u522b\u540d</li> <li><code>alias</code>\uff1a\u67e5\u770b\u6240\u6709\u522b\u540d</li> <li><code>alias \u540d\u5b57</code>\uff1a\u67e5\u770b\u8fd9\u4e2a\u540d\u5b57\u662f\u5426\u662f\u5176\u4ed6\u547d\u4ee4\u7684\u522b\u540d</li> <li><code>alias \u540d\u5b57=\u547d\u4ee4</code>\uff1a\u7ed9\u547d\u4ee4\u8bbe\u7f6e\u522b\u540d</li> <li>type\u547d\u4ee4\uff1a\u67e5\u770b\u547d\u4ee4\u7684\u7c7b\u578b\uff0c\u4f8b\u5982<code>type cd</code></li> <li>env\u547d\u4ee4\uff1a\u67e5\u770b\u7cfb\u7edf\u4e2d\u6240\u6709\u73af\u5883\u53d8\u91cf</li> </ul> <p>linux\u547d\u4ee4\u6267\u884c\u5206\u56db\u6b65\uff1a</p> <ol> <li>\u5982\u679c\u547d\u4ee4\u524d\u9762\u5e26\u8def\u5f84\uff0c\u76f4\u63a5\u6267\u884c\u8fd9\u4e2a\u547d\u4ee4</li> <li>\u68c0\u67e5\u8fd9\u4e2a\u547d\u4ee4\u662f\u5426\u662f\u522b\u540d</li> <li>\u68c0\u67e5\u8fd9\u4e2a\u547d\u4ee4\u662fshell\u5185\u5efa\u547d\u4ee4\u8fd8\u662f\u5916\u90e8\u547d\u4ee4\uff0c\u5982\u679c\u662f\u5185\u5efa\u547d\u4ee4\uff0c\u76f4\u63a5\u6267\u884c</li> <li>\u5230PATH\u53d8\u91cf\u91cc\u67e5\u627e\u547d\u4ee4\u7684\u4f4d\u7f6e</li> </ol>","tags":["linux"]},{"location":"linux/42.linux-jiu-gai-zhe-me-xue-note/#vim","title":"Vim","text":"<p>\u8fdc\u79bbvim</p>","tags":["linux"]},{"location":"linux/42.linux-jiu-gai-zhe-me-xue-note/#shell","title":"shell\u811a\u672c","text":"","tags":["linux"]},{"location":"linux/42.linux-jiu-gai-zhe-me-xue-note/#shell_1","title":"shell\u4e2d\u5e38\u7528\u547d\u4ee4\u548c\u53d8\u91cf","text":"<ul> <li><code>read -p 'info' val</code></li> <li><code>seq 1 10</code></li> <li><code>expr 10+10</code>\u3001<code>expr length 'This is a test'</code></li> <li><code>let i+=8</code></li> <li><code>id user</code></li> <li><code>$RANDOM</code></li> <li><code>$USER</code></li> </ul>","tags":["linux"]},{"location":"linux/42.linux-jiu-gai-zhe-me-xue-note/#_17","title":"\u5982\u4f55\u6267\u884c\u4e00\u4e2a\u811a\u672c\u6587\u4ef6","text":"<ul> <li><code>bash \u811a\u672c.sh</code>\u6216<code>sh \u811a\u672c.sh</code></li> <li>\u7ed9\u811a\u672c\u52a0\u4e0a\u6267\u884c\u6743\u9650\uff0c\u8f93\u5165\u8def\u5f84\u6267\u884c</li> </ul>","tags":["linux"]},{"location":"linux/42.linux-jiu-gai-zhe-me-xue-note/#_18","title":"\u7528\u6237\u53c2\u6570","text":"<ul> <li><code>$#</code>\uff1a\u53c2\u6570\u603b\u6570</li> <li><code>$0</code>\uff1a\u811a\u672c\u540d</li> <li><code>$*</code>\uff1a\u6240\u6709\u53c2\u6570\u503c</li> <li><code>$1</code>\u3001<code>$2</code>\u3001<code>$3</code>...\uff1a\u5bf9\u5e94\u4f4d\u7f6e\u7684\u53c2\u6570</li> <li><code>$?</code>\uff1a\u4e0a\u4e00\u4e2a\u547d\u4ee4\u7684\u9000\u51fa\u7801\uff08\u6570\u5b57\uff09</li> </ul>","tags":["linux"]},{"location":"linux/42.linux-jiu-gai-zhe-me-xue-note/#_19","title":"\u903b\u8f91\u8fd0\u7b97\u7b26","text":"<ul> <li><code>\u547d\u4ee41 &amp;&amp; \u547d\u4ee42</code>\uff1a\u547d\u4ee41\u6267\u884c\u6210\u529f\u624d\u4f1a\u6267\u884c\u547d\u4ee42</li> <li><code>\u547d\u4ee41 || \u547d\u4ee42</code>\uff1a\u547d\u4ee41\u6267\u884c\u5931\u8d25\u624d\u4f1a\u6267\u884c\u547d\u4ee42</li> <li><code>[! xxx] &amp;&amp; \u547d\u4ee41</code>\uff1a\u5bf9\u6761\u4ef6\u8868\u8fbe\u5f0f\u7684\u503c\u53d6\u53cd</li> </ul>","tags":["linux"]},{"location":"linux/42.linux-jiu-gai-zhe-me-xue-note/#_20","title":"\u548c\u7528\u6237\u4ea4\u4e92","text":"<ul> <li>read\u547d\u4ee4\uff0c\u4f8b\u5982\uff0c<code>read -p \"Enter your score\uff1a\" GRADE</code>\uff0c\u8bfb\u53d6\u7528\u6237\u8f93\u5165\u5e76\u4fdd\u5b58\u5230GRADE\u53d8\u91cf\u4e2d\uff0c-p\u9009\u9879\u7528\u4e8e\u5411\u7528\u6237\u663e\u793a\u63d0\u793a\u4fe1\u606f\u3002</li> </ul>","tags":["linux"]},{"location":"linux/42.linux-jiu-gai-zhe-me-xue-note/#shell_2","title":"shell\u4f8b\u5b50","text":"<pre><code>#!/bin/bash\n\n$(\u547d\u4ee4) # \u53d6\u547d\u4ee4\u7684\u6267\u884c\u7ed3\u679c\uff0c\u7c7b\u4f3c\u4e8e\u8f6c\u4e49\u5b57\u7b26``\n\n# \u6761\u4ef6\u8868\u8fbe\u5f0f\u4e24\u8fb9\u4e00\u5b9a\u8981\u6709\u7a7a\u683c\uff0c\u6761\u4ef6\u4e3a\u771f\u8fd4\u56de0\uff0c\u5426\u5219\u8fd4\u56de\u975e0\n\n# \u6587\u4ef6\u5224\u65ad\n[ -e /data/test ] # \u5224\u65ad\u6587\u4ef6\u6216\u76ee\u5f55\u662f\u5426\u5b58\u5728\n[ -f /data/test ] # \u5224\u65ad\u662f\u5426\u4e3a\u6587\u4ef6\n[ -d /data/test ] # \u5224\u65ad\u662f\u5426\u4e3a\u76ee\u5f55\n[ -r /data/test ] # \u5224\u65ad\u5f53\u524d\u7528\u6237\u5bf9\u6587\u4ef6\u662f\u5426\u6709\u8bfb\u6743\u9650\n[ -w /data/test ] # \u5224\u65ad\u5199\u6743\u9650\n[ -x /data/test ] # \u5224\u65ad\u6267\u884c\u6743\u9650\n\n# \u6574\u6570\u6bd4\u8f83\n[ 10 -eq 10 ] # \u7b49\u4e8e\n[ 10 -ne 10 ] # \u4e0d\u7b49\u4e8e\n[ 10 -gt 10 ] # \u5927\u4e8e\n[ 10 -lt 10 ] # \u5c0f\u4e8e\n[ 10 -ge 10 ] # \u5927\u4e8e\u7b49\u4e8e\n[ 10 -le 10 ] # \u5c0f\u4e8e\u7b49\u4e8e\n\n# \u5b57\u7b26\u4e32\n[ -z $String ] # \u5b57\u7b26\u4e32\u662f\u5426\u4e3a\u7a7a\n[ str1 = str2 ] # \u76f8\u540c\n[ str1 != str2 ] # \u4e0d\u76f8\u540c\n\n# if\nif [ xxx ]\nthen\n  ...\nelif [ xxx ]\nthen\n  ...\nelse\n  ...\nfi\n\n# \u5206\u53f7\u7528\u4e8e\u5728\u5355\u884c\u5185\u5206\u9694\u4ee3\u7801\u5757\nif [ xxx ] ; then\n  ...\nelif [ xxx ] ; then\n  ...\nelse\n  ...\nfi\n\n# for\u5faa\u73af\nfor \u53d8\u91cf\u540d in \u53d6\u503c\u5217\u8868\ndo\n  ...\ndone\n# \u51e0\u79cdfor\u5faa\u73af\u7684\u4f8b\u5b50\nfor val in `cat test.txt`\nfor i in $(seq 1 10)\nfor i in {1..10}\nfor ((i=1;i&lt;=10;i++))  \nfor i in $*\n\n# while\u5faa\u73af\nwhile \u6761\u4ef6\ndo\n  ...\ndone\n# while\u4f8b\u5b50\nwhile true\n\n# case\ncase \u53d8\u91cf in\n\u6a21\u5f0f1)\n  ...\n  ;;\n\u6a21\u5f0f2)\n  ...\n  ;;\n*\n  ...\nesac\n</code></pre>","tags":["linux"]},{"location":"linux/42.linux-jiu-gai-zhe-me-xue-note/#_21","title":"\u5b9a\u65f6\u4efb\u52a1","text":"<pre><code># \u521b\u5efa\u548c\u7f16\u8f91\u5b9a\u65f6\u4efb\u52a1\ncrontab -e\n# \u67e5\u770b\u5b9a\u65f6\u4efb\u52a1\ncrontab -l\n# \u5220\u9664\u5b9a\u65f6\u4efb\u52a1\ncrontab -r\n# \u7f16\u8f91\u5176\u4ed6\u4eba\u7684\u5b9a\u65f6\u4efb\u52a1\uff08\u7ba1\u7406\u5458\uff09\ncrontab [-u user]\n\n# \u5b9a\u65f6\u4efb\u52a1\u683c\u5f0f\n# \u5206 \u65f6 \u65e5 \u6708 \u661f\u671f \u547d\u4ee4\uff0c\u6ca1\u6709\u8bbe\u7f6e\u7684\u5b57\u6bb5\u7528*\u5360\u4f4d\uff0c\u53ef\u4ee5\u7528\u9017\u53f7\u63d0\u4f9b\u591a\u4e2a\u65f6\u95f4\u70b9\uff0c\u7528\u6a2a\u6760\u8868\u793a\u4e00\u6bb5\u65f6\u95f4\n# \u6bcf\u4e2a\u65f6\u95f4\u70b9\u540e\u9762\u8ddf\u4e00\u4e2a\u659c\u6760+\u6570\u5b57\u53ef\u4ee5\u5b9a\u4e49\u9891\u7387\n# \u547d\u4ee4\u5fc5\u987b\u4f7f\u7528\u7edd\u5bf9\u8def\u5f84\n# \u6bcf\u4e2a\u5b9a\u65f6\u4efb\u52a1\u5360\u4e00\u884c\n# \u4f8b\u5b50\n25 3 * * 1,3,5 /usr/bin/tar -czvf backup.tar.gz /home/wwwroot\n25 3 12-15 * * /usr/bin/tar -czvf backup.tar.gz /home/wwwroot\n25 */3 * * * /usr/bin/tar -czvf backup.tar.gz /home/wwwroot # \u6bcf\u96943\u5c0f\u65f6\u6267\u884c\u4e00\u6b21\n</code></pre>","tags":["linux"]},{"location":"linux/43.linux-common-command/","title":"linux\u5e38\u7528\u547d\u4ee4","text":"","tags":["linux"]},{"location":"linux/43.linux-common-command/#_1","title":"\u521b\u5efa\u7528\u6237\u548c\u7528\u6237\u7ec4","text":"<ul> <li><code>$groupadd \u7528\u6237\u7ec4\u540d</code></li> <li><code>$useradd -s /bin/bash -g \u7528\u6237\u7ec4 -m \u7528\u6237\u540d</code>\uff0c<code>-m</code>\u9009\u9879\u662f\u81ea\u52a8\u521b\u5efa\u7528\u6237home\u76ee\u5f55</li> <li><code>$passwd \u7528\u6237\u540d</code></li> <li><code>$visudo</code>\uff0cvisudo\u9ed8\u8ba4\u4f7f\u7528nano\u7f16\u8f91\uff0c\u975e\u5e38\u96be\u7528\uff0c\u4e0d\u5982\u76f4\u63a5\u7f16\u8f91/etc/sudoers</li> <li><code>$userdel -r \u7528\u6237\u540d</code>\uff0c<code>-r</code>\u9009\u9879\u662f\u628a\u7528\u6237\u7684\u6240\u6709\u76f8\u5173\u6570\u636e\u5168\u90e8\u5220\u9664</li> </ul>","tags":["linux"]},{"location":"linux/43.linux-common-command/#_2","title":"\u8fdc\u7a0b\u767b\u9646\u548c\u8fdc\u7a0b\u6587\u4ef6\u4f20\u8f93","text":"<ul> <li><code>ssh</code>\uff0c\u8fdc\u7a0b\u767b\u9646\u547d\u4ee4\u3002     &gt;\u7528\u6cd5\uff1a<code>$ssh [-p port] [user@]hostname</code>     &gt;\u4f8b\u5982\uff1a<code>$ssh -p 9038 swj@222.30.51.68</code></li> <li> <p><code>scp</code>\uff0c\u8fdc\u7a0b\u6587\u4ef6\u4f20\u8f93\u547d\u4ee4\uff0c\u57fa\u4e8essh\u534f\u8bae\u3002     &gt;\u7528\u6cd5\uff1a<code>$scp [-r] [-P port] [[user@]host1:]file1 [[user@]host2:]file2</code>     &gt;\u4f8b\u5982\uff1a<code>$scp -r -P 9038 /mnt/e/dir1 swj@222.30.51.68:/home/swj/dir2</code> </p> <p>\u53c2\u6570\u8bf4\u660e\uff1a   - <code>-r</code>\uff1a\u9012\u5f52\u590d\u5236\u6574\u4e2a\u76ee\u5f55   - <code>-P</code>\uff1a\u6307\u5b9ahost2\u7684\u7aef\u53e3\u53f7</p> </li> <li> <p><code>sftp</code>\u6587\u4ef6\u4f20\u8f93\u547d\u4ee4\u3002     &gt;\u7528\u6cd5\u548cssh\u7c7b\u4f3c\uff0c\u8981\u5148\u767b\u5f55\uff1a<code>$sftp [-P port] [user@]hostname</code>     &gt;\u4f8b\u5982\uff1a<code>$sftp -P 9038 swj@222.30.51.68</code></p> <p>\u767b\u9646\u540eshell\u63d0\u793a\u7b26\u53d8\u6210\u4e86<code>sftp&gt;</code></p> <p>sftp\u5e38\u7528\u547d\u4ee4: <code>ls</code>\uff0c<code>cd</code>\uff0c<code>pwd</code>\uff1b<code>lls</code>\uff0c<code>lcd</code>\uff0c<code>lpwd</code>\uff1b<code>put</code>\uff0c<code>get</code>\uff1b \u5176\u4e2d\uff0c\u524d\u9762\u4e0d\u5e26<code>l</code>\u7684\u547d\u4ee4\u662f\u5728\u670d\u52a1\u5668\u4e0a\u8fdb\u884c\u64cd\u4f5c\uff0c\u5e26<code>l</code>\u7684\u547d\u4ee4\u662f\u5728\u672c\u5730\u4e0a\u8fdb\u884c\u64cd\u4f5c\uff0c<code>put</code>\u662f\u4e0a\u4f20\u6587\u4ef6\uff0c<code>get</code>\u662f\u4e0b\u8f7d\u6587\u4ef6\uff1b <code>$ get filename</code> \u6216 <code>$ get filename</code></p> </li> </ul>","tags":["linux"]},{"location":"linux/43.linux-common-command/#_3","title":"\u79fb\u52a8\u6587\u4ef6\u548c\u76ee\u5f55","text":"<ul> <li><code>mv</code>\uff0c\u79fb\u52a8\u76ee\u5f55\u547d\u4ee4\u3002     &gt;\u7528\u6cd5\uff1a<code>$mv file1 file2</code>     &gt;\u79fb\u52a8\u76ee\u5f55\uff1a<code>$mv dir1 dir2</code>\uff0c\u5982\u679cdir2\u5b58\u5728\uff0c\u79fb\u52a8\u540e\u7684\u7ed3\u679c\u662fdir2/dir1\uff1b\u5982\u679cdir2\u4e0d\u5b58\u5728\uff0cdir1\u6539\u540d\u4e3adir2\u3002</li> </ul>","tags":["linux"]},{"location":"linux/44.linux-common-configuration/","title":"linux\u5e38\u7528\u914d\u7f6e","text":"","tags":["linux"]},{"location":"linux/44.linux-common-configuration/#ssh","title":"ssh\u591a\u8def\u590d\u7528","text":"<p>ssh\u591a\u8def\u590d\u7528\u662fOpenSSH\u63d0\u4f9b\u7684\u529f\u80fd\uff0c\u662f\u6307\u540c\u4e00\u4e2a\u7528\u6237\u5230\u540c\u4e00\u670d\u52a1\u5668\u7684\u591a\u4e2assh\u8fde\u63a5\u5171\u4eab\u540c\u4e00\u4e2asocket\u957f\u8fde\u63a5\uff0c\u56e0\u6b64\uff0c\u53ea\u8981\u7535\u8111\u4e00\u6bb5\u65f6\u95f4\u5185\u4e0d\u65ad\u7f51\uff0c\u5c31\u4e0d\u7528\u53cd\u590d\u8f93\u5165\u5bc6\u7801\u3002</p> <p>\uff08\u8be5\u65b9\u6cd5\u5e76\u4e0d\u662f\u5c06\u516c\u94a5\u4fdd\u5b58\u5728\u670d\u52a1\u5668\u4e0a\u5b9e\u73b0\u514d\u5bc6\u767b\u5f55\u3002\uff09 \u5728\u5ba2\u6237\u7aef\u7684~/.ssh/config\u4e2d\u52a0\u5165\u4ee5\u4e0b\u5185\u5bb9\u3002</p> <pre><code>Host *\nControlMaster auto\nControlPath ~/.ssh/%h-%p-%r\nControlPersist yes\nServerAliveInterval 30\n</code></pre>","tags":["linux"]},{"location":"linux/44.linux-common-configuration/#_1","title":"\u6539\u547d\u4ee4\u63d0\u793a\u7b26\u989c\u8272","text":"<ul> <li>\u5728.bash_profile\u91ccexport PS1\u53d8\u91cf\uff08\u7cfb\u7edf\u6709\u4e00\u4e2a\u9ed8\u8ba4\u7684PS1\u53d8\u91cf\uff0c\u53ef\u4ee5\u4f7f\u7528echo\u67e5\u770b\uff09\u3002  </li> <li><code>\\[\\e[F;B;Cm\\]</code>\u4ee3\u8868\u4e00\u4e2a\u989c\u8272\u8bbe\u7f6e\uff0c\u540e\u9762\u8ddf\u547d\u4ee4\u63d0\u793a\u7b26\u4e2d\u7684\u4e00\u9879\u5c31\u53ef\u4ee5\u7ed9\u8fd9\u9879\u8bbe\u7f6e\u989c\u8272\u3002\u4f8b\u5982<code>\\[\\e[F;B;Cm\\]\\u</code>\u53ef\u4ee5\u8bbe\u7f6e\u7528\u6237\u540d\u7684\u989c\u8272\u3002</li> <li>F\u3001B\u3001C\u5206\u522b\u8868\u793a\u524d\u666f\u8272\u3001\u80cc\u666f\u8272\u548c\u6807\u5fd7\uff0c\u8fd9\u4e09\u4e2a\u503c\u53ef\u4ee5\u662f\u4efb\u4f55\u987a\u5e8f\uff0c\u56e0\u4e3a\u5b83\u4eec\u7684\u503c\u4e0d\u51b2\u7a81\u3002</li> </ul>","tags":["linux"]},{"location":"linux/44.linux-common-configuration/#_2","title":"\u4f8b\u5b50","text":"<pre><code>MAC\u9ed8\u8ba4PS1\uff1aPS1=\"\\h:\\W \\u\\$\"\nMAC\u4e0a\u81ea\u5b9a\u4e49\u7684PS1\uff1aexport PS1=\"\\[\\e[1;33m\\]\\h:\\[\\e[1;32m\\]\\W \\[\\e[1;31m\\]\\u\\$\\[\\e[0m\\]\"\n\nLinux\u4e0a\u9ed8\u8ba4\u7684PS1\uff1aPS1=\"[\\u@\\h \\W]\\$\"\nLinux\u4e0a\u81ea\u5b9a\u4e49\u7684PS1\uff1aexport PS1=\"[\\[\\e[1;33m\\]\\u@\\[\\e[1;32m\\]\\h \\[\\e[31m\\]\\w\\[\\e[0m\\]]\\[\\e[31m\\]\\$\\[\\e[0m\\]\"\n</code></pre>","tags":["linux"]},{"location":"linux/44.linux-common-configuration/#_3","title":"\u8f6c\u4e49\u5b57\u7b26\uff08\u8868\u793a\u547d\u4ee4\u63d0\u793a\u7b26\u4e2d\u7684\u4e00\u9879\uff09","text":"\u5e8f\u5217 \u8bf4\u660e \\a ASCII \u54cd\u94c3\u5b57\u7b26\uff08\u4e5f\u80fd\u591f\u952e\u5165 \\007\uff09 \\d \"Wed Sep 06\" \u683c\u5f0f\u7684\u65e5\u671f \\e ASCII \u8f6c\u4e49\u5b57\u7b26\uff08\u4e5f\u80fd\u591f\u952e\u5165 \\033\uff09 \\h \u4e3b\u673a\u540d\u7684\u7b2c\u4e00\u90e8\u5206\uff08\u5982 \"mybox\"\uff09 \\H \\j \u5728\u6b64shell\u4e2d\u901a\u8fc7\u6309 ^Z \u6302\u8d77\u7684\u8fdb\u7a0b\u6570 \\l \u6b64 shell \u7684\u7ec8\u7aef\u8bbe\u5907\u540d\uff08\u5982 \"ttyp4\"\uff09 \\n \u6362\u884c\u7b26 \\r \u56de\u8f66\u7b26 \\s shell \u7684\u540d\u79f0\uff08\u5982 \"bash\"\uff09 \\t 24 \u5c0f\u65f6\u5236\u65f6\u95f4\uff08\u5982 \"23:01:01\"\uff09 \\T 12 \u5c0f\u65f6\u5236\u65f6\u95f4\uff08\u5982 \"11:01:01\"\uff09 \\@ \u5e26\u6709 am/pm \u7684 12 \u5c0f\u65f6\u5236\u65f6\u95f4 \\u username \\v bash \u7684\u7248\u672c\u53f7\uff08\u5982 2.04\uff09 \\V Bash \u7248\u672c\u53f7\uff08\u5305\u542b\u8865\u4e01\u7ea7\u522b\uff09 \\w \u5f53\u524d\u5de5\u4f5c\u6587\u4ef6\u5939\uff08\u5982 \"/home/drobbins\"\uff09 \\W \u5f53\u524d\u5de5\u4f5c\u6587\u4ef6\u5939\u7684\u201c\u57fa\u540d (basename)\u201d\uff08\u5982 \"drobbins\"\uff09 ! \u5f53\u524d\u547d\u4ee4\u5728\u5386\u53f2\u7f13\u51b2\u533a\u4e2d\u7684\u4f4d\u7f6e # \u547d\u4ee4\u7f16\u53f7\uff08\u4ec5\u4ec5\u8981\u60a8\u952e\u5165\u5185\u5bb9\uff0c\u5b83\u5c31\u4f1a\u5728\u6bcf\u6b21\u63d0\u793a\u65f6\u7d2f\u52a0\uff09 $ \u5047\u8bbe\u60a8\u4e0d\u662f\u8d85\u7ea7\u7528\u6237 (root)\u3002\u5219\u63d2\u5165\u4e00\u4e2a \"$\"\uff1b\u5047\u8bbe\u60a8\u662f\u8d85\u7ea7\u7528\u6237\u3002\u5219\u663e\u793a\u4e00\u4e2a \"#\" \\xxx \u63d2\u5165\u4e00\u4e2a\u7528\u4e09\u4f4d\u6570 xxx\uff08\u7528\u96f6\u53d6\u4ee3\u672a\u4f7f\u7528\u7684\u6570\u5b57\uff0c\u5982 \"\\007\"\uff09\u8868\u793a\u7684 ASCII \u5b57\u7b26 \\ \u53cd\u659c\u6760 [ \u8fd9\u4e2a\u5e8f\u5217\u5e94\u8be5\u51fa\u5982\u4eca\u4e0d\u79fb\u52a8\u5149\u6807\u7684\u5b57\u7b26\u5e8f\u5217\uff08\u5982\u989c\u8272\u8f6c\u4e49\u5e8f\u5217\uff09\u4e4b\u524d\u3002\u5b83\u4f7f bash \u53ef\u4ee5\u6b63\u786e\u8ba1\u7b97\u81ea\u5df1\u4e3b\u52a8\u6362\u884c\u3002 ] \u8fd9\u4e2a\u5e8f\u5217\u5e94\u8be5\u51fa\u5982\u4eca\u975e\u6253\u5370\u5b57\u7b26\u5e8f\u5217\u4e4b\u540e\u3002","tags":["linux"]},{"location":"linux/44.linux-common-configuration/#_4","title":"\u989c\u8272","text":"\u524d\u666f \u80cc\u666f \u989c\u8272 30 40 \u9ed1\u8272 31 41 \u7d05\u8272 32 42 \u7eff\u8272 33 43 \u9ec4\u8272 34 44 \u84dd\u8272 35 45 \u7d2b\u7ea2\u8272 36 46 \u9752\u84dd\u8272 37 47 \u767d\u8272","tags":["linux"]},{"location":"linux/44.linux-common-configuration/#_5","title":"\u6807\u5fd7","text":"\u4ee3\u7801 \u610f\u4e49 0 OFF 1 \u9ad8\u4eae\u663e\u793a 4 underline 5 \u95ea\u70c1 7 \u53cd\u767d\u663e\u793a 8 \u4e0d\u53ef\u89c1","tags":["linux"]},{"location":"linux/44.linux-common-configuration/#ls","title":"\u4fee\u6539ls\u547d\u4ee4\u7684\u8f93\u51fa\u989c\u8272","text":"","tags":["linux"]},{"location":"linux/44.linux-common-configuration/#linux","title":"linux","text":"<p>linux\u53ef\u4ee5\u4f7f\u7528LS_COLORS\u8fd9\u4e2a\u53d8\u91cf\u8bbe\u7f6els\u547d\u4ee4\u7684\u8f93\u51fa\u989c\u8272\u3002\u7cfb\u7edf\u4e2dLS_COLORS\u8fd9\u4e2a\u53d8\u91cf\u6709\u9ed8\u8ba4\u503c\uff0c\u53ea\u8981\u628a\u8fd9\u4e2a\u9ed8\u8ba4\u503cexport\u5230.bash_profile\u4e2d\u5373\u53ef\u3002</p> <p>\u4e00\u822c\u662f<code>export LS_COLORS=\"no=00:fi=00:di=01;33;40:ln=01;36;40:\"</code></p>","tags":["linux"]},{"location":"linux/44.linux-common-configuration/#mac","title":"MAC","text":"<p>\u5728.bash_profile\u91cc\u52a0\u5165\u8fd9\u4e2a</p> <pre><code>export LS_OPTIONS='--color=auto'   # \u5982\u679c\u6ca1\u6709\u6307\u5b9a\uff0c\u5219\u81ea\u52a8\u9009\u62e9\u989c\u8272\nexport CLICOLOR='Yes'              #\u662f\u5426\u8f93\u51fa\u989c\u8272\n#export LSCOLORS='CxfxcxdxbxegedabagGxGx'        #\u6307\u5b9a\u989c\u8272\uff08\u8fd9\u4e2a\u53ef\u4ee5\u6ca1\u6709\uff09\n</code></pre>","tags":["linux"]},{"location":"linux/44.linux-common-configuration/#_6","title":"\u865a\u62df\u673a\u57fa\u672c\u914d\u7f6e","text":"<ul> <li>\u57fa\u672c\u7f51\u7edc\u914d\u7f6e\uff1a\u9759\u6001ip</li> <li>yum \u5e38\u7528\u8f6f\u4ef6\uff1a</li> <li>ssh</li> <li>vim</li> <li>net-tools</li> <li>gcc\uff0cgcc-c++</li> <li>wget</li> </ul>","tags":["linux"]},{"location":"linux/45.linux-net-configuration/","title":"linux\u7f51\u7edc\u914d\u7f6e","text":"","tags":["linux"]},{"location":"linux/45.linux-net-configuration/#_1","title":"\u914d\u7f6e\u7f51\u7edc","text":"<p><code>$ cd /etc/sysconfig/network-scripts/</code> <code>$ sudo vi \u7b2c\u4e00\u4e2a\u6587\u4ef6\uff08\u901a\u5e38\u662fifcfg-xxx\uff09</code> </p> <p>\u4fee\u6539\u6587\u4ef6\u5185\u5bb9</p> <pre><code>BOOTPROTO=dhcp # \u662f\u5426\u81ea\u52a8\u83b7\u53d6IP\uff08none\u3001static\u3001dhcp\uff09\nONBOOT=yes  #\u5f00\u542f\u81ea\u52a8\u542f\u7528\u7f51\u7edc\u8fde\u63a5\n\n# BOOTPROTO\u8bbe\u7f6e\u4e3astatic\u65f6\nIPADDR=192.168.127.3  #\u8bbe\u7f6eIP\u5730\u5740\nNETMASK=255.255.255.0  #\u8bbe\u7f6e\u5b50\u7f51\u63a9\u7801\nGATEWAY=192.168.127.2  #\u8bbe\u7f6e\u7f51\u5173\nDNS1=8.8.8.8  #\u8bbe\u7f6e\u4e3bDNS\nDNS2=8.8.4.4  #\u8bbe\u7f6e\u5907DNS\n</code></pre> <p>\u91cd\u542f\u7f51\u7edc<code>$ systemctl restart network</code></p>","tags":["linux"]},{"location":"linux/45.linux-net-configuration/#_2","title":"\u4fee\u6539\u4e3b\u673a\u540d","text":"<p>\u67e5\u770b\u4e3b\u673a\u540d<code>$ hostname</code>\uff0c<code>$ cat /cat/hostname</code> \u4fee\u6539\u4e3b\u673a\u540d<code>$ hostnamectl set-hostname \u4e3b\u673a\u540d</code> </p>","tags":["linux"]},{"location":"linux/45.linux-net-configuration/#dnshost","title":"\u4fee\u6539DNS\u6620\u5c04\uff08host\u6587\u4ef6\uff09","text":"<p><code>$ vi /etc/hosts</code> \u5728\u91cc\u9762\u6dfb\u52a0\u65b0\u7684\u6620\u5c04</p>","tags":["linux"]},{"location":"linux/45.linux-net-configuration/#_3","title":"\u514b\u9686\u51fa\u7684\u865a\u62df\u673a\u7f51\u5361\u53f7\u4e00\u6837\u600e\u4e48\u529e","text":"<p>\u628a\u7f51\u5361\u914d\u7f6e\u6587\u4ef6\u91cc\u7684 UUID \u548c HWADDR \u9879\u5220\u6389\u3002\u5982\u679c\u865a\u62df\u673a\u4e0a\u6709\u591a\u4e2a\u7f51\u5361\u548c\u7f51\u7edc\u8fde\u63a5\uff0cHWADDR \u4e0d\u80fd\u5220\u3002</p>","tags":["linux"]},{"location":"linux/45.linux-net-configuration/#_4","title":"\u9632\u706b\u5899","text":"<p>iptables\u3001nftables\u5c5e\u4e8e\u9632\u706b\u5899\u5185\u6838</p> <p>firewalld\u3001ufw\u5c5e\u4e8e\u9632\u706b\u5899\u5185\u6838\u7684\u914d\u7f6e\u5de5\u5177\uff08\u76f8\u5f53\u4e8e\u5bf9\u9632\u706b\u5899\u5185\u6838\u505a\u4e86\u5c01\u88c5\uff09</p>","tags":["linux"]},{"location":"linux/45.linux-net-configuration/#firewalld","title":"firewalld","text":"<p>firewalld\u662f\u7ea2\u5e3d\u5f00\u53d1\u7684\u5f00\u6e90\u9632\u706b\u5899\u8f6f\u4ef6\uff0ccentos\u9ed8\u8ba4\u9632\u706b\u5899\u662ffirewalld</p> <pre><code># \u5f00\u542f\u3001\u5173\u95ed\u3001\u5f00\u673a\u542f\u52a8\u9632\u706b\u5899\nsystemctl start|stop|enable firewalld\n# \u67e5\u770b\u9632\u706b\u5899\u6709\u54ea\u4e9b\u5f00\u653e\u7684\u7aef\u53e3\nfirewall-cmd --list-port\n# \u67e5\u770b\u67d0\u4e2a\u7aef\u53e3\u662f\u5426\u5f00\u542f\nfirewall-cmd --query-port=80/tcp\n# \u5f00\u542f\u7aef\u53e3\nfirewall-cmd --zone=public --add-port=80/tcp --permanent\n# \u5173\u95ed\u7aef\u53e3\nfirewall-cmd --zone=public --remove-port=80/tcp --permanent\n# \u91cd\u65b0\u52a0\u8f7d\u9632\u706b\u5899\u914d\u7f6e\nfirewall-cmd --reload\n</code></pre>","tags":["linux"]},{"location":"linux/45.linux-net-configuration/#ufw","title":"UFW","text":"<p>ubuntu\u7684\u9ed8\u8ba4\u9632\u706b\u5899\u662fufw\u3002\u672c\u6587\u4f5c\u8005\u4f7f\u7528\u7684\u662fdebian 10\uff0c\u9ed8\u8ba4\u6ca1\u6709\u9632\u706b\u5899\u8f6f\u4ef6\uff0c\u8981\u60f3\u4f7f\u7528ufw\u5fc5\u987b\u63d0\u524d\u5b89\u88c5\u3002ufw\u4f7f\u7528\u8d77\u6765\u8981\u6bd4firewalld\u7b80\u5355\u4e00\u4e9b\u3002</p> <p>\u53c2\u8003: \u5982\u4f55\u5728 Debian 10 \u4e0a\u4f7f\u7528 UFW \u6765\u8bbe\u7f6e\u9632\u706b\u5899</p> <pre><code># \u5b89\u88c5\nsudo apt install ufw\n\n# \u67e5\u770b\u72b6\u6001\u548c\u6240\u6709\u89c4\u5219\nsudo ufw status\nsudo ufw status verbose # \u663e\u793a\u8be6\u7ec6\u4fe1\u606f\nsudo ufw status numbered # \u663e\u793a\u5e8f\u53f7\uff0c\u5220\u9664\u89c4\u5219\u65f6\u8981\u7528\u5230\n\n# \u9ed8\u8ba4\u7b56\u7565\u5b9a\u4e49\u5728 /etc/default/ufw \u6587\u4ef6\u4e2d\n\n# \u542f\u52a8\u524d\u4e00\u5b9a\u8981\u5148\u5141\u8bb8ssh\u8fde\u63a5\nsudo ufw allow OpenSSH\n\n# \u542f\u52a8ufw\nsudo ufw enable\n# \u5173\u95ed\nsudo ufw disable\n# \u91cd\u7f6e\u6240\u6709\u89c4\u5219\uff0c\u91cd\u7f6e\u7684\u540c\u65f6\u4f1a\u5173\u95edufw\nsudo ufw reset\n\n# \u5f00\u653e\u7aef\u53e3\nsudo ufw allow http \nsudo ufw allow https\n# \u4e5f\u53ef\u4ee5\u7528\u8fd9\u79cd\u5199\u6cd5\nsudo ufw allow 80/tcp\nsudo ufw allow 443/tcp\n# \u5f00\u653e\u8303\u56f4\u5185\u7aef\u53e3\nsudo ufw allow 7100:7200/tcp\nsudo ufw allow 7100:7200/udp\n\n# \u5141\u8bb8\u6307\u5b9a IP \u5730\u5740\nsudo ufw allow from 64.63.62.61\n# \u5141\u8bb8\u6307\u5b9a IP \u5730\u5740\u8bbf\u95ee\u6307\u5b9a\u7aef\u53e3\nsudo ufw allow from 64.63.62.61 to any port 22\n# \u5141\u8bb8\u5b50\u7f51\nsudo ufw allow from 192.168.1.0/24 to any port 3306\n# \u5141\u8bb8\u6307\u5b9a\u7f51\u7edc\u63a5\u53e3\u7684\u8fde\u63a5\nsudo ufw allow in on eth2 to any port 3306\n\n# \u7981\u6b62\u8fde\u63a5\uff0c\u7f16\u5199\u7981\u6b62\u89c4\u5219\u548c\u7f16\u5199\u5141\u8bb8\u89c4\u5219\u662f\u4e00\u6837\u7684\u3002\u53ea\u9700\u8981\u5c06allow\u66ff\u6362\u6210deny\u3002\nsudo ufw deny from 23.24.25.0/24\nsudo ufw deny from 23.24.25.0/24 to any port 80\nsudo ufw deny from 23.24.25.0/24 to any port 443\n\n# \u5220\u9664 UFW \u89c4\u5219\nsudo ufw delete 3 # \u6309\u5e8f\u53f7\u5220\nsudo ufw delete allow 8069 # \u6309\u89c4\u5219\u5220\n</code></pre>","tags":["linux"]},{"location":"linux/47.linux-muti-thread-programming/","title":"linux\u591a\u7ebf\u7a0b\u7f16\u7a0b","text":"","tags":["linux","\u5e76\u53d1\u7f16\u7a0b"]},{"location":"linux/47.linux-muti-thread-programming/#_1","title":"\u57fa\u672c\u77e5\u8bc6","text":"<p>\u6bcf\u4e2a\u7ebf\u7a0b\u7684\u81ea\u6709\u6570\u636e\uff1a</p> <ul> <li>\u7ebf\u7a0bid</li> <li>\u4e00\u7ec4\u5bc4\u5b58\u5668\u503c</li> <li>\u6808</li> <li>\u8c03\u5ea6\u4f18\u5148\u7ea7\u548c\u7b56\u7565</li> <li>\u4fe1\u53f7\u5c4f\u853d\u5b57</li> <li><code>errno</code>\u53d8\u91cf\uff08Linux\u7684\u4e00\u4e2a\u5168\u5c40\u53d8\u91cf\uff0c\u7528\u4e8e\u4fdd\u5b58Linux API\u8c03\u7528\u5931\u8d25\u7684\u9519\u8bef\u7801\uff09</li> <li>\u7ebf\u7a0b\u79c1\u6709\u6570\u636e</li> </ul> <p>\u6240\u6709\u7ebf\u7a0b\u7684\u5171\u4eab\u6570\u636e\uff1a</p> <ul> <li>\u53ef\u6267\u884c\u7a0b\u5e8f\u7684\u4ee3\u7801</li> <li>\u7a0b\u5e8f\u7684\u5168\u5c40\u5185\u5b58</li> <li>\u5806\u5185\u5b58</li> <li>\u6808\uff1f\u53ca\u6587\u4ef6\u63cf\u8ff0\u7b26</li> </ul> <p>\u672c\u6587\u8ba8\u8bba\u7684\u7ebf\u7a0b\u63a5\u53e3\u6765\u81eaPOSIX.1-2001\uff0c\u7ebf\u7a0b\u63a5\u53e3\u4e5f\u79f0\u4e3a\u2018pthread\u2019\u6216\u2018POSIX\u7ebf\u7a0b\u2019\u3002</p> <p>\u7ebf\u7a0b\u5e93\u5934\u6587\u4ef6<code>&lt;pthread.h&gt;</code></p>","tags":["linux","\u5e76\u53d1\u7f16\u7a0b"]},{"location":"linux/47.linux-muti-thread-programming/#id","title":"\u7ebf\u7a0bID","text":"<ul> <li>\u7ebf\u7a0bid\u662f\u7528<code>pthread_t</code>\u8fd9\u4e2a\u6570\u636e\u7c7b\u578b\u8868\u793a\u7684\u3002  </li> <li> <p><code>pthread_t</code>\u7c7b\u578b\u53ea\u662f\u4e2a\u6807\u51c6\uff0c\u4e0d\u540c\u7cfb\u7edf\u7684\u5b9e\u73b0\u4e0d\u4e00\u6837\u3002Linux 3.2.0\u4f7f\u7528\u65e0\u7b26\u53f7\u957f\u6574\u5f62\uff0cSolaris 10\u4f7f\u7528\u65e0\u7b26\u53f7\u6574\u578b\uff0cFreeBSD 8.0\u548cMAC OS X 10.6.8\u4f7f\u7528\u4e00\u4e2a\u6307\u5411<code>pthread</code>\u7ed3\u6784\u7684\u6307\u9488\u3002\u7ecf\u8fc7\u5b9e\u6d4b\uff0c\u572864\u4f4dcentos7\u4e0a\u662f8\u4e2a\u5b57\u8282\u7684<code>unsigned long</code>\u7c7b\u578b\u3002  </p> </li> <li> <p>\u51fd\u6570<code>int pthread_equal(pthread_t tid1, pthread_t tid2);</code>\u7528\u6765\u5224\u65ad\u4e24\u4e2a\u7ebf\u7a0bid\u662f\u5426\u76f8\u540c\u3002\u82e5\u76f8\u7b49\uff0c\u8fd4\u56de\u975e0\uff0c\u5426\u5219\u8fd4\u56de0\u3002</p> </li> <li>\u51fd\u6570<code>pthread_t pthread_self(void);</code>\u8fd4\u56de\u7ebf\u7a0b\u81ea\u8eab\u7684id\u3002</li> </ul>","tags":["linux","\u5e76\u53d1\u7f16\u7a0b"]},{"location":"linux/47.linux-muti-thread-programming/#_2","title":"\u521b\u5efa\u7ebf\u7a0b","text":"<ul> <li><code>int pthread_create(pthread_t* , const pthread_attr_t * , void *(*)(void*), void *)</code></li> <li>\u53c2\u65701\uff1a\u8c03\u7528\u540e\u751f\u6210\u4e00\u4e2a\u7ebf\u7a0bid\u7684\u6307\u9488</li> <li>\u53c2\u65702\uff1a\u6307\u5b9a\u5404\u79cd\u7ebf\u7a0b\u5c5e\u6027\uff0c\u4e3a<code>NULL</code>\u65f6\u91c7\u7528\u9ed8\u8ba4\u5c5e\u6027\u3002</li> <li>\u53c2\u65703\uff1a\u7ebf\u7a0b\u7684\u56de\u8c03\u51fd\u6570\uff0c\u8be5\u51fd\u6570\u53ea\u6709\u4e00\u4e2a<code>void*</code>\u53c2\u6570\uff0c\u4f20\u9012\u591a\u4e2a\u53c2\u6570\u65f6\u9700\u8981\u5c06\u8fd9\u4e9b\u53c2\u6570\u5c01\u88c5\u5230\u4e00\u4e2a\u7ed3\u6784\u5185\u3002</li> <li>\u53c2\u65704\uff1a\u4f20\u9012\u7ed9\u56de\u8c03\u51fd\u6570\u7684\u53c2\u6570\u7684\u6307\u9488\uff08\u7528\u4e8e\u7ed9\u56de\u8c03\u51fd\u6570\u4f20\u9012\u53c2\u6570\uff09</li> <li>\u8fd4\u56de\u503c\uff1a\u6210\u529f\u8fd4\u56de0\uff0c\u5426\u5219\u8fd4\u56de\u9519\u8bef\u7f16\u53f7\uff08\u8fd9\u4e2a\u9519\u8bef\u7f16\u53f7\u4e0d\u540c\u4e8eerrno\uff0c\u4f46\u662f\u540c\u65f6\u6bcf\u4e2a\u7ebf\u7a0b\u5185\u7f6e\u4e86errno\uff0c\u4e3a\u4e86\u4e0e\u5176\u4ed6\u51fd\u6570\u517c\u5bb9\uff09</li> <li>\u65b0\u7ebf\u7a0b\u7ee7\u627f\u8c03\u7528\u7ebf\u7a0b\u7684\u6d6e\u70b9\u73af\u5883\u4fe1\u53f7\u5c4f\u853d\u5b57\uff0c\u4f46\u662f\u6302\u8d77\u4fe1\u53f7\u96c6\u4f1a\u88ab\u6e05\u9664\u3002</li> </ul>","tags":["linux","\u5e76\u53d1\u7f16\u7a0b"]},{"location":"linux/47.linux-muti-thread-programming/#_3","title":"\u7ebf\u7a0b\u9000\u51fa","text":"<ul> <li>\u8fdb\u7a0b\u4e2d\u7684\u4efb\u4f55\u4e00\u4e2a\u7ebf\u7a0b\u5982\u679c\u8c03\u7528\u4e86<code>exit</code>\u3001<code>_Exit</code>\u6216<code>_exit</code>\uff0c\u6574\u4e2a\u8fdb\u7a0b\u5c31\u4f1a\u7ec8\u6b62\u3002</li> <li>\u7ebf\u7a0b\u7684\u9000\u51fa\u65b9\u5f0f\u6709\u4e09\u79cd</li> <li>\u56de\u8c03\u51fd\u6570\u6b63\u5e38\u8fd4\u56de\uff1b</li> <li>\u56de\u8c03\u51fd\u6570\u901a\u8fc7<code>void pthread_exit(void *rval_ptr)</code>\u8fd4\u56de\uff1b</li> <li>\u8fdb\u7a0b\u4e2d\u7684\u5176\u4ed6\u7ebf\u7a0b\u7ec8\u6b62\u5176\u6267\u884c\uff1b</li> <li><code>int pthread_join(pthread_t tid, void **rval_ptr)</code>\uff0c\u8c03\u7528\u8fd9\u4e2a\u51fd\u6570\u7684\u7ebf\u7a0b\u4f1a\u963b\u585e\uff0c\u76f4\u5230\u6307\u5b9a\u7684\u7ebf\u7a0b\u8fd4\u56de\uff0c\u53c2\u6570<code>rval_ptr</code>\u6307\u5411\u7684\u5c31\u662f<code>pthread_exit</code>\u548c\u7ebf\u7a0b\u56de\u8c03\u51fd\u6570\u8fd4\u56de\u7684\u7ed3\u679c\uff0c\u5982\u679c\u7ebf\u7a0b\u88ab\u5176\u4ed6\u7ebf\u7a0b\u7ec8\u6b62\uff0c<code>rval_ptr</code>\u5c31\u6307\u5411<code>PTHREAD_CANCELED</code>\u3002\u5f53\u7136\u7ebf\u7a0b\u56de\u8c03\u51fd\u6570\u4e5f\u53ef\u4ee5\u8fd4\u56de<code>NULL</code>\u3002\u6709\u4e86<code>pthread_join</code>\uff0c\u7ebf\u7a0b\u5c31\u53ef\u4ee5\u8fd4\u56de\u7ed3\u6784\u4f53\u4e86\u3002\u6ce8\u610f\uff0c<code>pthread_join</code>\u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4e00\u5b9a\u8981\u4e8b\u5148\u5b9a\u4e49\u6210<code>void*</code>\uff0c\u7136\u540e\u7528<code>&amp;</code>\u4f20\u53c2\uff0c\u5982\u679c\u5b9a\u4e49\u6210<code>void**</code>\u4f1a\u5bfc\u81f4\u65e0\u6cd5\u901a\u8fc7\u8fd9\u4e2a\u53c2\u6570\u62ff\u5230\u7ebf\u7a0b\u8fd4\u56de\u7684\u7ed3\u6784\uff08\u8fd9\u662f\u4e2a\u8bed\u6cd5\u95ee\u9898\uff09</li> <li>\u7ebf\u7a0b\u53ef\u4ee5\u8c03\u7528<code>pthread_cancel</code>\u53d6\u6d88\u5176\u4ed6\u7ebf\u7a0b\u7684\u6267\u884c\uff0c\u4f46\u8fd9\u4e2a\u51fd\u6570\u53ea\u662f\u53d1\u51fa\u4e00\u4e2a\u8bf7\u6c42\uff0c\u88ab\u8bf7\u6c42\u7684\u7ebf\u7a0b\u53ef\u4ee5\u5ffd\u7565cancel\u6216\u8005\u81ea\u5df1\u51b3\u5b9a\u600e\u4e48cancel\u3002\u7ebf\u7a0b\u88abcancel\u4e4b\u540e\uff0c\u5b83\u8fd4\u56de\u7684void*\u6307\u9488\u6216rval_ptr*\u8fd9\u4e2a\u6307\u9488\u4f1a\u88ab\u7f6e\u4e3a-1\uff08\u5373<code>PTHREAD_CANCELED</code>\uff09\uff0c\u4e5f\u5c31\u662f\u8bf4\u6b64\u65f6\u6211\u4eec\u65e0\u6cd5\u4ecepthread_join\u83b7\u5f97\u7684\u8fd4\u56de\u503c\u4e2d\u53d6\u51fa\u4efb\u4f55\u4e1c\u897f</li> </ul>","tags":["linux","\u5e76\u53d1\u7f16\u7a0b"]},{"location":"linux/47.linux-muti-thread-programming/#_4","title":"\u7ebf\u7a0b\u9000\u51fa\u7684\u5176\u4ed6\u5185\u5bb9","text":"<ul> <li>\u7ebf\u7a0b\u7684\u5206\u79bb\u72b6\u6001\uff1a\u7ebf\u7a0b\u5904\u4e8e\u5206\u79bb\u72b6\u6001\u65f6\uff0c\u5176\u8d44\u6e90\u624d\u4f1a\u88ab\u91ca\u653e\uff0c\u53ef\u4ee5\u8c03\u7528<code>pthread_detach</code>\u4f7f\u7ebf\u7a0b\u5904\u4e8e\u5206\u79bb\u72b6\u6001\uff0c\u6b64\u65f6\u8c03\u7528<code>pthread_join</code>\u4f1a\u5931\u8d25\uff0c\u8fd4\u56de<code>EINVAL</code>\u3002<code>pthread_join</code>\u7684\u4f5c\u7528\u662f\u8ba9\u4e00\u4e2a\u672a\u5206\u79bb\u7684\u7ebf\u7a0b\u8fdb\u5165\u5206\u79bb\u72b6\u6001\u5e76\u91ca\u653e\u5176\u8d44\u6e90\u3002</li> <li>\u7ebf\u7a0b\u6e05\u7406\u5904\u7406\u7a0b\u5e8f\uff08thread cleanup handler\uff09\uff1a\u7ebf\u7a0b\u53ef\u4ee5\u9009\u62e9\u5728\u9000\u51fa\u65f6\u8c03\u7528\u6e05\u7406\u7a0b\u5e8f\uff0c\u4e00\u4e2a\u7ebf\u7a0b\u53ef\u4ee5\u6267\u884c\u591a\u4e2a\u6e05\u7406\u7a0b\u5e8f\u3002\uff08\u7565\uff09</li> </ul>","tags":["linux","\u5e76\u53d1\u7f16\u7a0b"]},{"location":"linux/47.linux-muti-thread-programming/#_5","title":"\u7ebf\u7a0b\u540c\u6b65","text":"","tags":["linux","\u5e76\u53d1\u7f16\u7a0b"]},{"location":"linux/47.linux-muti-thread-programming/#mutex","title":"\u4e92\u65a5\u91cf\uff08mutex\uff09","text":"<ul> <li>\u62ff\u4e0d\u5230\u9501\u7684\u7ebf\u7a0b\u4f1a\u963b\u585e</li> <li>\u6570\u636e\u7c7b\u578b\uff1a<code>pthread_mutex_t</code></li> <li>\u521b\u5efa\u548c\u9500\u6bc1\uff1a<code>PTHREAD_MUTEX_INITIALIZER</code>\u3001<code>pthread_mutex_init</code>\u3001<code>pthread_mutex_destroy</code></li> <li>\u9759\u6001\u521b\u5efa\u4f7f\u7528<code>PTHREAD_MUTEX_INITIALIZER</code>\uff0c\u8fd9\u91cc\u7684\u9759\u6001\u6307\u7684\u662f\u521d\u59cb\u5316\u65f6\u521b\u5efamudex\uff08\u5373\u5b9a\u4e49\u65f6\u7acb\u5373\u6307\u5b9amutex\u7684\u503c\uff09\uff0c\u9759\u6001\u521b\u5efa\u7684mutex\u4e0d\u9700\u8981destroy\u3002</li> <li>\u4e0a\u9501\u548c\u89e3\u9501\uff1a<code>pthread_mutex_lock</code>\u3001<code>pthread_mutex_trylock</code>\u3001<code>pthread_mutex_unlock</code>\uff0ctrylock\u53ef\u4ee5\u8ba9\u7ebf\u7a0b\u5728\u4e0d\u963b\u585e\u7684\u60c5\u51b5\u4e0b\u4e0d\u65ad\u5730\u8bd5\u56fe\u83b7\u53d6\u9501\u3002</li> <li>\u4e92\u65a5\u91cf\u907f\u514d\u6b7b\u9501:\u4e24\u4e2a\u8d44\u6e90\u5206\u522b\u5229\u7528\u4e24\u4e2a\u4e0d\u540c\u7684\u4e92\u65a5\u91cf\u52a0\u9501\uff0c\u4e24\u4e2a\u7ebf\u7a0b\u5206\u522b\u6301\u6709\u4e00\u4e2a\u8d44\u6e90\uff0c\u53c8\u53bb\u8bd5\u56fe\u83b7\u53d6\u53e6\u5916\u4e00\u4e2a\u9501\u3002\u89e3\u51b3\u529e\u6cd5\uff1a</li> <li>\u89c4\u5b9a\u7ebf\u7a0b\u4e0a\u9501\u7684\u987a\u5e8f\uff1b</li> <li>\u4f7f\u7528trylock\uff0c\u5982\u679c\u53d1\u73b0\u6ca1\u6709\u83b7\u5f97\u9501\uff0c\u5148\u628a\u5176\u4ed6\u9501\u91ca\u653e\u6389\u3002</li> <li><code>pthread_mutex_timedlock</code>\uff0c\u8bbe\u5b9a\u7ebf\u7a0b\u963b\u585e\u65f6\u95f4\uff0c\u5982\u679c\u5728\u8d85\u65f6\u540e\u8fd8\u6ca1\u6709\u62ff\u5230\u9501\uff0c\u8fd4\u56de\u9519\u8bef\u3002\u8fd9\u4e2a\u51fd\u6570\u53ef\u4ee5\u9632\u6b62\u7ebf\u7a0b\u88ab\u6c38\u4e45\u963b\u585e\u3002</li> </ul>","tags":["linux","\u5e76\u53d1\u7f16\u7a0b"]},{"location":"linux/47.linux-muti-thread-programming/#_6","title":"\u8bfb\u5199\u9501","text":"<ul> <li>\u4e09\u79cd\u72b6\u6001\uff1a\u8bfb\u9501\u3001\u5199\u9501\u3001\u4e0d\u52a0\u9501\u3002</li> <li>\u8bfb\u5199\u9501\u9002\u5408\u591a\u8bfb\u5c11\u5199\u7684\u573a\u666f\u3002</li> <li>\u8bfb\u5199\u9501\u5982\u4f55\u907f\u514d\u8bfb\u9501\u957f\u65f6\u95f4\u88ab\u5360\u7528\uff1a\u5f53\u8bfb\u5199\u9501\u5904\u4e8e\u8bfb\u72b6\u6001\u65f6\uff0c\u5982\u679c\u6709\u7ebf\u7a0b\u8bd5\u56fe\u83b7\u53d6\u5199\u9501\u65f6\uff0c\u8bfb\u5199\u9501\u4f1a\u963b\u585e\u540e\u9762\u7684\u8bfb\u8bf7\u6c42\u3002</li> <li>\u6570\u636e\u7c7b\u578b\uff1a<code>pthread_rwlock_t</code></li> <li>\u521b\u5efa\u548c\u9500\u6bc1\uff1a<code>pthread_rwlock_init</code>\u3001<code>pthread_rwlock_destroy</code>\u3001<code>PTHREAD_RWLOCK_INITIALIZER</code></li> <li>\u52a0\u9501\u548c\u89e3\u9501\uff1a<code>pthread_rwlock_rdlock</code>\u3001<code>pthread_rwlock_wrlock</code>\u3001<code>pthread_rwlock_unlock</code></li> <li>\u975e\u963b\u585e\u7248\uff1a<code>pthread_rwlock_tryrdlock</code>\u3001<code>pthread_rwlock_trywrlock</code></li> <li>\u8d85\u65f6\u7248\uff1a<code>pthread_rwlock_timedrdlock</code>\u3001<code>pthread_rwlock_timedwrlock</code></li> </ul>","tags":["linux","\u5e76\u53d1\u7f16\u7a0b"]},{"location":"linux/47.linux-muti-thread-programming/#_7","title":"\u6761\u4ef6\u53d8\u91cf","text":"<ul> <li>\u6761\u4ef6\u53d8\u91cf\u548c\u4e92\u65a5\u91cf\u4e00\u8d77\u4f7f\u7528\uff0c\u6761\u4ef6\u53d8\u91cf\u6539\u53d8\u72b6\u6001\u65f6\u8981\u7528\u4e92\u65a5\u91cf\u52a0\u9501\u3002</li> <li>\u6570\u636e\u7c7b\u578b\uff1a<code>pthread_cond_t</code></li> <li>\u521b\u5efa\u548c\u9500\u6bc1\uff1a<code>pthread_cond_init</code>\u3001<code>pthread_cond_destroy</code>\u3001<code>PTHREAD_COND_INITIALIZER</code></li> <li><code>int pthread_cond_wait(pthread_cond_t*, pthread_mutex_t*)</code>\uff1a\u8be5\u51fd\u6570\u4f1a\u5c06\u8c03\u7528\u7ebf\u7a0b\u653e\u5230\u6761\u4ef6\u53d8\u91cf\u7684\u7b49\u5f85\u961f\u5217\u4e0a\uff0c\u8c03\u7528\u7ebf\u7a0b\u963b\u585e\u7b49\u5f85\u3002\u51fd\u6570\u5bf9\u53d8\u91cf\u4fee\u6539\u5b8c\u6210\u540e\u89e3\u9501mutex\uff0c\u4f46\u662f\u8fd4\u56de\u65f6\u4f1a\u518d\u6b21\u5bf9mutex\u4e0a\u9501</li> <li>\u8d85\u65f6\u7248\uff1a<code>pthread_cond_timedwait</code></li> <li>\u901a\u77e5\u6761\u4ef6\u6ee1\u8db3\uff1a<code>pthread_cond_signal(pthread_cond_t*)</code>\u5524\u9192\u4e00\u4e2a\u7b49\u5f85\u7684\u7ebf\u7a0b\uff0c<code>pthread_cond_broadcast(pthread_cond_t)</code>\u5524\u9192\u6240\u6709\u7ebf\u7a0b\u3002</li> </ul>","tags":["linux","\u5e76\u53d1\u7f16\u7a0b"]},{"location":"linux/47.linux-muti-thread-programming/#mutex_1","title":"\u6761\u4ef6\u53d8\u91cf\u4e3a\u4ec0\u4e48\u4e00\u5b9a\u8981\u548cmutex\u4e00\u8d77\u4f7f\u7528","text":"<p>wait\u51fd\u6570\u7684\u6267\u884c\u8fc7\u7a0b\u5206\u4e3a\u4e09\u6b65\uff0c\uff081\uff09\u68c0\u67e5\u6761\u4ef6\u662f\u5426\u4e3a\u771f\uff1b\uff082\uff09\u5982\u679c\u4e0d\u4e3a\u771f\uff0c\u5219\u7ebf\u7a0b\u52a0\u5165\u7b49\u5f85\u961f\u5217\u5e76\u8fdb\u5165\u963b\u585e\uff1b\uff083\uff09\u63a5\u6536\u5230\u6761\u4ef6\u53d8\u5316\u7684\u4fe1\u53f7\uff0c\u91cd\u65b0\u68c0\u67e5\u6761\u4ef6\u5e76\u5524\u9192\u7ebf\u7a0b\uff1b</p> <p>\u5982\u679c\u6ca1\u6709mutex\uff0c\u53ef\u80fd\u4f1a\u5728\uff081\uff09\uff082\uff09\u4e24\u6b65\u4e4b\u95f4\u53d1\u751f\u4e86\u6761\u4ef6\u7684\u53d8\u5316\uff0c\u4f46\u662f\u7ebf\u7a0b\u5df2\u7ecf\u51c6\u5907\u8fdb\u5165\u963b\u585e\uff0c\u6709\u53ef\u80fd\u518d\u4e5f\u65e0\u6cd5\u88ab\u5524\u9192\u3002</p>","tags":["linux","\u5e76\u53d1\u7f16\u7a0b"]},{"location":"linux/47.linux-muti-thread-programming/#_8","title":"\u6761\u4ef6\u53d8\u91cf\u7684\u865a\u5047\u5524\u9192","text":"<p>\u4ee5\u5178\u578b\u7684\u751f\u4ea7\u8005\u6d88\u8d39\u8005\u573a\u666f\u4e3a\u4f8b\uff0c\u6d88\u8d39\u8005\u5728\u8c03\u7528wait\u4e4b\u524d\u8981\u68c0\u67e5\u6d88\u606f\u961f\u5217\u662f\u5426\u4e3a\u7a7a\uff0c\u5982\u679c\u6d88\u606f\u961f\u5217\u4e3a\u7a7a\uff0c\u5219\u8c03\u7528wait\u7b49\u5f85\u751f\u4ea7\u8005\u7684\u4fe1\u53f7\u3002</p> <p>\u5982\u679c\u68c0\u67e5\u961f\u5217\u662f\u5426\u4e3a\u7a7a\u662f\u7528if\u5224\u65ad\u7684\uff0c\u5219\u6709\u53ef\u80fd\u4f1a\u53d1\u751f\u8fd9\u79cd\u60c5\u51b5\uff1a\u5f53wait\u51fd\u6570\u63a5\u6536\u5230\u4fe1\u53f7\u51c6\u5907\u91cd\u65b0\u83b7\u53d6mutex\u5e76\u5524\u9192\u7ebf\u7a0b\u4e4b\u524d\uff0c\u53e6\u4e00\u4e2a\u6d88\u8d39\u8005\u62a2\u5148\u83b7\u53d6\u5230\u4e86mutex\u5e76\u628a\u65b0\u7684\u6d88\u606f\u7ed9\u6d88\u8d39\u6389\u4e86\uff0c\u8fd9\u79cd\u60c5\u51b5\u5c31\u5c5e\u4e8e\u865a\u5047\u5524\u9192\u3002\u8fd9\u65f6\u524d\u4e00\u4e2a\u7b49\u5f85\u7684\u7ebf\u7a0b\u5373\u4f7f\u88ab\u5524\u9192\u4e86\u4e5f\u62ff\u4e0d\u5230\u65b0\u7684\u6d88\u606f\uff0c\u7a0b\u5e8f\u53ef\u80fd\u4f1a\u56e0\u4e3a\u65e0\u6548\u7684\u5185\u5b58\u8bbf\u95ee\u800c\u5d29\u6e83\u3002</p> <p>\u56e0\u6b64\uff0c\u8c03\u7528wait\u524d\u5bf9\u961f\u5217\u662f\u5426\u4e3a\u7a7a\u7684\u5224\u65ad\u4e00\u5b9a\u8981\u7528while\u5faa\u73af\u3002</p>","tags":["linux","\u5e76\u53d1\u7f16\u7a0b"]},{"location":"linux/47.linux-muti-thread-programming/#_9","title":"\u81ea\u65cb\u9501","text":"<ul> <li>\u81ea\u65cb\u9501\u662f\u4e00\u4e2a\u4e0emutex\u7c7b\u4f3c\u7684\u4e92\u65a5\u7684\u9501\uff0c\u4f46\u662f\u7ebf\u7a0b\u62ff\u4e0d\u5230\u9501\u65f6\uff0c\u4e0d\u4f1a\u8fdb\u5165\u963b\u585e\u72b6\u6001\uff0c\u800c\u662f\u5904\u4e8e\u5fd9\u7b49\u5f85\u7684\u72b6\u6001\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u7b49\u5f85\u81ea\u65cb\u9501\u7684\u7ebf\u7a0b\u4e00\u76f4\u5728\u5360\u7528cpu\u8d44\u6e90\u3002</li> <li>\u81ea\u65cb\u9501\u9002\u5408\u9501\u88ab\u6301\u6709\u7684\u65f6\u95f4\u975e\u5e38\u77ed\u7684\u60c5\u51b5\uff0c\u8fd9\u79cd\u60c5\u51b5\u4e0b\u7ebf\u7a0b\u81ea\u65cb\u7b49\u5f85\u7684\u8d44\u6e90\u6d88\u8017\u5c0f\u4e8e\u7ebf\u7a0b\u8c03\u5ea6\u7684\u6d88\u8017\u3002</li> </ul> <p>\u81ea\u65cb\u9501\u5728\u7528\u6237\u5c42\u4e0d\u592a\u6709\u7528\uff0c\uff081\uff09\u5728\u5206\u65f6\u8c03\u5ea6\u7cfb\u7edf\u4e2d\uff08\u7cfb\u7edf\u5206\u4e3a\u5b9e\u65f6\u8c03\u5ea6\u548c\u5206\u65f6\u8c03\u5ea6\u4e24\u79cd\uff09\uff0c\u5f53\u4e00\u4e2a\u62e5\u6709\u81ea\u65cb\u9501\u7684\u7ebf\u7a0b\u88ab\u62a2\u5360\u540e\uff0c\u8fd9\u4e2a\u7ebf\u7a0b\u53ea\u80fd\u8fdb\u5165\u963b\u585e\uff0c\u4f46\u662f\u5176\u4ed6\u7b49\u5f85\u81ea\u65cb\u9501\u7684\u7ebf\u7a0b\u5c31\u4f1a\u6301\u7eed\u5360\u7528cpu\u8d44\u6e90\u3002\uff082\uff09\u73b0\u4ee3\u5904\u7406\u5668\u7684\u4e0a\u4e0b\u6587\u5207\u6362\u901f\u5ea6\u8d8a\u6765\u8d8a\u5feb\uff0c\u5e76\u4e14\u5f88\u591a\u4e92\u65a5\u91cf\u7684\u5b9e\u73b0\u4e5f\u975e\u5e38\u9ad8\u6548\uff0c\u4f8b\u5982\u6709\u4e9b\u4e92\u65a5\u91cf\u4f1a\u5728\u521a\u5f00\u59cb\u7b49\u5f85\u65f6\u8ba9\u7ebf\u7a0b\u81ea\u65cb\u4e00\u5c0f\u6bb5\u65f6\u95f4\u3002</p> <ul> <li>\u63a5\u53e3\uff1a<code>pthread_spin_init</code>\u3001<code>pthread_spin_destroy</code>\u3001<code>pthread_spin_lock</code>\u3001<code>pthread_spin_trylock</code>\u3001<code>pthread_spin_unlock</code></li> </ul>","tags":["linux","\u5e76\u53d1\u7f16\u7a0b"]},{"location":"linux/47.linux-muti-thread-programming/#barrier","title":"\u5c4f\u969c\uff08barrier\uff09","text":"<ul> <li>\u5c4f\u969c\u8ba9\u7ebf\u7a0b\u6267\u884c\u5230\u5c4f\u969c\u65f6\u7b49\u5f85\uff0c\u76f4\u5230\u6240\u6709\u7ebf\u7a0b\u90fd\u6267\u884c\u5230\u5c4f\u969c\uff0c\u624d\u4f1a\u63a5\u7740\u5de5\u4f5c\u3002</li> <li>\u6570\u636e\u7c7b\u578b\uff1a<code>pthread_barrier_t</code></li> <li>\u521b\u5efa\u548c\u9500\u6bc1\uff1a<code>pthread_barrier_init(*barrier, *attr, count)</code>\uff0c\u4f7f\u7528count\u6307\u5b9a\u5fc5\u987b\u6267\u884c\u5230\u5c4f\u969c\u7684\u6570\u91cf\u3002<code>pthread_barrier_destroy</code></li> <li>\u7b49\u5f85\u5c4f\u969c\uff1a<code>pthread_barrier_wait</code>\uff0c\u6240\u6709\u53c2\u52a0\u5c4f\u969c\u529f\u80fd\u7684\u7ebf\u7a0b\u5fc5\u987b\u90fd\u8c03\u7528\u8fd9\u4e2a\u51fd\u6570\uff0c\u5982\u679c\u5230\u8fbe\u5c4f\u969c\u7684\u7ebf\u7a0b\u5c0f\u4e8ecount\u65f6\uff0c\u5148\u5230\u8fbe\u5c4f\u969c\u7684\u7ebf\u7a0b\u8981\u963b\u585e\u7b49\u5f85\u3002</li> </ul>","tags":["linux","\u5e76\u53d1\u7f16\u7a0b"]},{"location":"linux/9.linux-core-config/","title":"linux core dump\u914d\u7f6e","text":"","tags":["linux","c/c++"]},{"location":"linux/9.linux-core-config/#linuxcore-dump","title":"linux\u4e0bcore dump\u914d\u7f6e\u547d\u4ee4","text":"","tags":["linux","c/c++"]},{"location":"linux/9.linux-core-config/#1-core-dump","title":"1. \u67e5\u770bcore dump\u72b6\u6001","text":"<p><code>ulimit -c</code> </p> <p>\u82e5\u7ed3\u679c\u4e3a0\uff0c\u5219\u8868\u793a\u5173\u95ed\u4e86core dump\u8f93\u51fa\uff0c\u4e0d\u4f1a\u751f\u6210core dump\u6587\u4ef6\u3002</p>","tags":["linux","c/c++"]},{"location":"linux/9.linux-core-config/#2-core-dump","title":"2. \u5f00\u542fcore dump\u8f93\u51fa","text":"<p><code>ulimit -c filesize</code></p> <p>\u6307\u5b9adump\u6587\u4ef6\u7684\u6700\u5927\u5927\u5c0f\uff08\u5355\u4f4d:KB\uff09\uff0c\u5982\u679c\u751f\u6210\u7684dump\u6587\u4ef6\u8d85\u8fc7\u6b64\u5927\u5c0f\uff0c\u5c06\u4f1a\u88ab\u88c1\u526a\uff0c\u6700\u7ec8\u751f\u6210\u4e00\u4e2a\u4e0d\u5b8c\u6574\u7684dump\u6587\u4ef6\u3002\u5728\u8c03\u8bd5\u6b64dump\u6587\u4ef6\u7684\u65f6\u5019\uff0cgdb\u4f1a\u63d0\u793a\u9519\u8bef\u3002</p> <p><code>ulimit -c unlimited</code>\uff0cdump\u6587\u4ef6\u7684\u5927\u5c0f\u4e0d\u53d7\u9650\u5236\u3002</p>","tags":["linux","c/c++"]},{"location":"linux/9.linux-core-config/#3-core-dump","title":"3. \u8bbe\u7f6ecore dump\u6587\u4ef6\u7684\u540d\u79f0\u548c\u8def\u5f84","text":"<p>core dump\u6587\u4ef6\u9ed8\u8ba4\u5728\u5f53\u524d\u8def\u5f84\u4e0b\u751f\u6210\uff0c\u6587\u4ef6\u540d\u9ed8\u8ba4\u4e3acore\uff0c\u82e5core dump\u6587\u4ef6\u5df2\u5b58\u5728\uff0c\u4f1a\u76f4\u63a5\u8986\u76d6\u3002</p> <p><code>echo \"1\" &gt; /proc/sys/kernel/core_uses_pid</code>\uff0c\u63a7\u5236core dump\u6587\u4ef6\u7684\u6587\u4ef6\u540d\u4e2d\u662f\u5426\u6dfb\u52a0pid\u4f5c\u4e3a\u6269\u5c55\u3002</p> <p><code>echo \"/corefile/core-%e-%p-%t\" &gt; /proc/sys/kernel/core_pattern</code>\uff0c\u8bbe\u7f6ecore dump\u6587\u4ef6\u4fdd\u5b58\u4f4d\u7f6e\u548c\u6587\u4ef6\u540d\u683c\u5f0f\uff0c\u4ee5\u4e0b\u662f\u53c2\u6570\u5217\u8868:</p> <ul> <li>%p - insert pid into filename </li> <li>%u - insert current uid into filename </li> <li>%g - insert current gid into filename </li> <li>%s - insert signal that caused the coredump into the filename </li> <li>%t - insert UNIX time that the coredump occurred into filename </li> <li>%h - insert hostname where the coredump happened into filename </li> <li>%e - insert coredumping executable name into filename </li> </ul> <p>core dump\u5904\u7406\u811a\u672c\uff0c\u53c2\u8003https://man7.org/linux/man-pages/man5/core.5.html</p> <p>If the first character of the pattern is a '|', the kernel will treat the rest of the pattern as a command  to run. The core dump will be written to the standard input of that program instead of to a file.</p> <p>/proc\u2f6c\u5f55\u4f1a\u5728\u7cfb\u7edf\u91cd\u542f\u540e\u52a8\u6001\u2f63\u6210\uff0c\u53ef\u4ee5\u5728/etc/sysctl.conf\u4e2d\u914d\u7f6ecore_pattern\u4f7f\u5176\u6c38\u4e45\u751f\u6548</p>","tags":["linux","c/c++"]},{"location":"math/15.remainder-and-modulo/","title":"\u53d6\u4f59\u548c\u53d6\u6a21\u7684\u533a\u522b","text":"<p>\u6ce8\uff1a\u4ee5\u4e0b\u4f7f\u7528 a % b \u8868\u793a\u53d6\u4f59\u548c\u53d6\u6a21\u8fd0\u7b97</p>","tags":["\u6570\u5b66"]},{"location":"math/15.remainder-and-modulo/#ab","title":"\u5982\u679ca\u548cb\u90fd\u662f\u6b63\u6570\uff0c\u53d6\u4f59\u548c\u53d6\u6a21\u6ca1\u533a\u522b","text":"<p>\u4f8b\u5982\uff0c\u5bf9\u4e8e2 % 7\uff0c\u53d6\u4f59\u548c\u53d6\u6a21\u7684\u7ed3\u679c\u90fd\u662f2\uff0c\u5bf9\u4e8e9 % 7\uff0c\u53d6\u4f59\u548c\u53d6\u6a21\u7684\u7ed3\u679c\u4e5f\u90fd\u662f2</p>","tags":["\u6570\u5b66"]},{"location":"math/15.remainder-and-modulo/#_1","title":"\u53d6\u4f59\u8fd0\u7b97","text":"<p>\u4f8b\u5982\uff0c</p> <ul> <li>12 / 7 = 1 ... 5\uff0c\u5373\uff0c12 % 7 = 5</li> <li>12 / -7 = -1 ... 5\uff0c\u5373\uff0c12 % -7 = 5</li> <li>-12 / 7 = -1 ... -5\uff0c\u5373\uff0c-12 % 7 = -5</li> <li>-12 / -7 = 1 ... -5\uff0c\u5373\uff0c-12 % -7 = -5</li> </ul> <p>\u4e0d\u96be\u770b\u51fa\uff0c\u4f59\u6570\u548c\u88ab\u9664\u6570\u7684\u7b26\u53f7\u6c38\u8fdc\u76f8\u7b49</p> <p>\u53d6\u4f59\u8fd0\u7b97\u5f3a\u8c03\u7684\u662f\u4f59\u91cf</p>","tags":["\u6570\u5b66"]},{"location":"math/15.remainder-and-modulo/#_2","title":"\u53d6\u6a21\u8fd0\u7b97","text":"<p>\u53d6\u6a21\u8fd0\u7b97\u5f3a\u8c03\u7684\u662f\uff0c\u5bf9\u4e8e\u4e00\u4e2a\u53d6\u503c\u8303\u56f4\u6709\u9650\u7684\u8ba1\u91cf\u7cfb\u7edf\uff0c\u968f\u4fbf\u62ff\u4e00\u4e2a\u6570\u8fc7\u6765\uff0c\u5b83\u5728\u8fd9\u4e2a\u8ba1\u91cf\u7cfb\u7edf\u91cc\u5bf9\u5e94\u7684\u662f\u51e0</p> <p>\u4f8b\u5982\uff0c\u4e00\u4e2a\u65f6\u949f\u7684\u53d6\u503c\u8303\u56f4\u662f0~11\uff0c\u4e00\u517112\u4e2a\u6570\uff0c\u5373\u8fd9\u4e2a\u65f6\u949f\u7684\u6a21\u4e3a12\u3002\u5982\u679c\u6211\u4eec\u628a\u65f6\u9488\u987a\u65f6\u9488\u8d70\u770b\u4f5c\u6b63\uff0c\u9006\u65f6\u9488\u8d70\u770b\u4f5c\u8d1f\uff0c\u90a3\u4e48\uff0c-3\u70b9\u76f8\u5f53\u4e8e\u65f6\u9488\u4ece0\u70b9\u5f00\u59cb\uff0c\u9006\u65f6\u9488\u8d70\u4e09\u4e2a\u70b9\uff0c\u5c31\u7b49\u540c\u4e8e9\u70b9\uff0c21\u70b9\u76f8\u5f53\u4e8e\u65f6\u9488\u4ece9\u70b9\u5f00\u59cb\uff0c\u987a\u65f6\u9488\u8f6c\u4e86\u4e00\u6574\u5708\uff0c\u8fd8\u662f\u7b49\u540c\u4e8e9\u70b9\uff0c\u800c9\u70b9\u672c\u8eab\u5c31\u662f9\u70b9\uff0c\u4e5f\u5c31\u662f\u8bf4</p> <ul> <li>-3 \u5bf9 12\u53d6\u6a21\u7684\u7ed3\u679c\u662f9\uff0c\u5373 -3 % 12=9</li> <li>9 \u5bf9 12\u53d6\u6a21\u7684\u7ed3\u679c\u662f9\uff0c\u5373 9 % 12=9</li> <li>21 \u5bf9 12\u53d6\u6a21\u7684\u7ed3\u679c\u662f9\uff0c\u5373 21 % 12=9</li> </ul> <p>\u5f53\u6a21\u4e3a\u8d1f\u6570\u65f6\uff0c\u540c\u6837\u6709</p> <ul> <li>3 % -12 = -9</li> <li>-9 % -12 = -9</li> <li>-21 % -12 = -9</li> </ul>","tags":["\u6570\u5b66"]},{"location":"math/15.remainder-and-modulo/#_3","title":"\u8ba1\u7b97\u516c\u5f0f","text":"<p>\u5982\u679c\u628a\u53d6\u4f59\u548c\u53d6\u6a21\u6574\u7406\u6210\u8ba1\u7b97\u516c\u5f0f</p> <p>\u90a3\u4e48 a % b = a - floor(a/b)\u00d7b\uff0c\u5176\u4e2dfloor\u8868\u793a\u5411\u4e0b\u53d6\u6574   - \u5bf9\u4e8e\u53d6\u4f59\u8fd0\u7b97\uff0cfloor\u662f\u54110\u53d6\u6574   - \u5bf9\u4e8e\u53d6\u6a21\u8fd0\u7b97\uff0cfloor\u662f\u5411\u8d1f\u65e0\u7a77\u53d6\u6574</p> <p>\u5f53a\u548cb\u90fd\u662f\u6b63\u6570\u6216\u90fd\u662f\u8d1f\u6570\u7684\u65f6\u5019\uff0c\u5b83\u4eec\u76f8\u9664\u7684\u7ed3\u679c\u90fd\u662f\u6b63\u6570\uff0c\u54110\u53d6\u6574\u548c\u5411\u8d1f\u65e0\u7a77\u53d6\u6574\u662f\u7b49\u4ef7\u7684\uff0c\u6240\u4ee5\u53d6\u4f59\u548c\u53d6\u6a21\u7684\u7ed3\u679c\u662f\u4e00\u6837\u7684</p> <p>\u5f53a\u548cb\u7b26\u53f7\u4e0d\u540c\u65f6\uff0c\u53d6\u4f59\u548c\u53d6\u6a21\u5c31\u4e0d\u540c\u4e86</p>","tags":["\u6570\u5b66"]},{"location":"math/15.remainder-and-modulo/#_4","title":"\u4e0d\u540c\u8bed\u8a00\u5904\u7406\u4e0d\u4e00\u6837","text":"<p>\u5728\u5f88\u591a\u7f16\u7a0b\u8bed\u8a00\u91cc\u90fd\u6709\u53d6\u4f59\u6216\u53d6\u6a21\u8fd0\u7b97\uff0c\u8fd0\u7b97\u7b26\u4e00\u822c\u662f<code>%</code>\uff0c\u6709\u7684\u8bed\u8a00\u91cc<code>%</code>\u662f\u53d6\u4f59\u64cd\u4f5c\uff0c\u6709\u7684\u8bed\u8a00\u91cc<code>%</code>\u662f\u53d6\u6a21\u64cd\u4f5c</p> <p>\u6ce8\u610f\u4e0d\u8981\u6df7\u6dc6\u7c7b\u578b\u8f6c\u6362\u548c\u5411\u4e0b\u53d6\u6574\uff0c\u4f8b\u5982\u5728python\u4e2d\uff0c<code>int(-5/3)</code>\u662f\u4ecefloat\u5411int\u7684\u7c7b\u578b\u8f6c\u6362\uff0c\u662f\u76f4\u63a5\u5c06\u5c3e\u6570\u4e22\u6389\uff0c\u7ed3\u679c\u662f-1\uff0c\u800c\u5411\u4e0b\u53d6\u6574\u662f\u4e00\u4e2a\u7b97\u6570\u64cd\u4f5c\uff0c\u800c<code>-5//3</code>\u624d\u662f\u5411\u4e0b\u53d6\u6574\u3002\u5176\u4ed6\u8bed\u8a00\u540c\u7406\u3002</p>","tags":["\u6570\u5b66"]},{"location":"math/15.remainder-and-modulo/#golang","title":"golang","text":"<p>\u5728golang\u4e2d\uff0c\u5411\u4e0b\u53d6\u6574\u64cd\u4f5c\u662f\u54110\u53d6\u6574\uff0c\u56e0\u6b64\uff0cgo\u4e2d\u7684<code>%</code>\u64cd\u4f5c\u662f\u53d6\u4f59\u64cd\u4f5c</p> <pre><code>fmt.Println(math.Floor(-5,3)) //\u8f93\u51fa-1\nfmt.Println(-5 % 3) //\u8f93\u51fa-2\n</code></pre>","tags":["\u6570\u5b66"]},{"location":"math/15.remainder-and-modulo/#python","title":"python","text":"<p>\u5728python\u4e2d\uff0c\u5411\u4e0b\u53d6\u6574\u64cd\u4f5c\u662f\u5411\u8d1f\u65e0\u7a77\u53d6\u6574\uff0c\u56e0\u6b64\uff0cpython\u4e2d\u7684<code>%</code>\u64cd\u4f5c\u662f\u53d6\u6a21\u64cd\u4f5c</p> <pre><code>print(-5//3)  # \u8f93\u51fa-2\nprint(-5 % 3)  # \u8f93\u51fa1\n</code></pre>","tags":["\u6570\u5b66"]},{"location":"math/31.linear-algebra-3B1B/","title":"\u7ebf\u6027\u4ee3\u6570\u7684\u51e0\u4f55\u610f\u4e49","text":"","tags":["\u6570\u5b66","\u56fe\u5f62"]},{"location":"math/31.linear-algebra-3B1B/#_1","title":"\u53c2\u8003","text":"<ul> <li>b \u7ad9 3Blue1Brown-\u7ebf\u6027\u4ee3\u6570\u7684\u672c\u8d28</li> <li>https://github.com/3b1b/manim</li> <li>games 101\u7ebf\u6027\u4ee3\u6570\u57fa\u7840\u8bfe\u7a0b</li> </ul>","tags":["\u6570\u5b66","\u56fe\u5f62"]},{"location":"math/31.linear-algebra-3B1B/#_2","title":"\u5411\u91cf","text":"<p>\u5411\u91cf\uff08vector\uff09\u7684\u8d77\u70b9\u6c38\u8fdc\u662f\u539f\u70b9\uff08origin\uff09\uff0c\u56e0\u6b64\u6211\u4eec\u5c06\u5411\u91cf\u8868\u793a\u4e3a\u7ec8\u70b9\u7684\u5750\u6807</p> \\[\\vec{a}= \\begin{bmatrix} 1\\cr 2\\cr 3\\cr \\end{bmatrix} \\] <p>\u4e00\u4e2a\u5411\u91cf\u53ef\u4ee5\u7406\u89e3\u4e3a</p> <ul> <li>\u4e00\u4e2a\u6570\u5b57\u5217\u8868</li> <li>\u4e00\u4e2a\u5e26\u65b9\u5411\u7684\u7ebf\u6bb5</li> <li>\u4e00\u4e2a\u70b9\u5728\u591a\u4e2a\u65b9\u5411\u4e0a\u8fd0\u52a8\u7684\u53e0\u52a0</li> </ul> <p>\u5411\u91cf\u7684\u57fa\u672c\u64cd\u4f5c</p> <ul> <li>\u6570\u4e58\uff0c\\(\\vec{b} = 2\\vec{a}\\)\uff0c\u8fd9\u91cc\\(2\\)\u662f\u4e00\u4e2a\u6807\u91cf\uff08scalar\uff09\uff0c\u4ee3\u8868\u5bf9\u5411\u91cf\u7684\u62c9\u4f38\u6216\u538b\u7f29\uff08scaling\uff09</li> <li>\u76f8\u52a0\uff0c\\(\\vec{c} = \\vec{a} + \\vec{b}\\)\uff0c\u5982\u679c\u5c06\u5411\u91cf a \u7684\u7ec8\u70b9\u4f5c\u4e3a\u5411\u91cf b \u7684\u8d77\u70b9\uff0c\u90a3\u4e48 b \u5c31\u662f\u76f8\u5bf9\u4e8e a \u7684\u504f\u79fb\u91cf\uff0c\u6b64\u65f6\u53ef\u4ee5\u5c06\u5411\u91cf\u76f8\u52a0\u7406\u89e3\u4e3a\u5206\u522b\u6cbf\u5411\u91cf a \u548c b \u7684\u4e24\u6b21\u8fde\u7eed\u7684\u8fd0\u52a8</li> </ul>","tags":["\u6570\u5b66","\u56fe\u5f62"]},{"location":"math/31.linear-algebra-3B1B/#_3","title":"\u7ebf\u6027\u7ec4\u5408","text":"<p>\u4e00\u4e2a\u5411\u91cf\u53ef\u4ee5\u901a\u8fc7\u5176\u4ed6\u5411\u91cf\u7684\u6570\u4e58\u548c\u76f8\u52a0\u6765\u8868\u793a</p> <ul> <li>\\(\\vec{c} =3 \\vec{a} + 4\\vec{b}\\)</li> </ul> <p>\u6211\u4eec\u628a c \u79f0\u4e3a a \u548c b \u7684\u7ebf\u6027\u7ec4\u5408\uff08linear combination\uff09</p> <p>\u4efb\u4f55\u4e00\u4e2a\u5411\u91cf\u90fd\u53ef\u4ee5\u8868\u793a\u4e3a\u53e6\u4e00\u4e9b\u5411\u91cf\u7684\u7ebf\u6027\u7ec4\u5408\uff0c\u4f8b\u5982\u5728\u4e00\u4e2a\u4e8c\u7ef4\u5750\u6807\u7cfb\u4e2d\u5982\u679c\u6709 \\(\\vec{a}=\\begin{bmatrix}2 \\cr3 \\end{bmatrix}\\)</p> <p>\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u5c06 a \u8868\u793a\u4e3a</p> \\[\\vec{a}= 2\\begin{bmatrix}1\\cr0\\cr\\end{bmatrix} + 3\\begin{bmatrix}0\\cr1\\cr\\end{bmatrix} \\] <p>\u5176\u4e2d \\(\\begin{bmatrix}1\\cr0\\cr\\end{bmatrix}\\) \u548c \\(\\begin{bmatrix}0\\cr1\\cr\\end{bmatrix}\\) \u662f\u4e24\u4e2a\u7279\u6b8a\u7684\u5411\u91cf\uff0c\u6211\u4eec\u79f0\u5b83\u4eec\u4e3a\u5355\u4f4d\u5411\u91cf\uff0c\u4e00\u822c\u8868\u793a\u4e3a \\(\\vec{i}=\\begin{bmatrix}1\\cr0\\cr\\end{bmatrix}\\) \u548c \\(\\vec{j}=\\begin{bmatrix}1\\cr0\\cr\\end{bmatrix}\\)\uff0c\u56e0\u6b64\uff0c\u4e0a\u9762\u7684 a \u5411\u91cf\u5c31\u53ef\u4ee5\u8868\u793a\u4e3a</p> \\[ \\vec{a} = 2\\vec{i}+3\\vec{j} \\]","tags":["\u6570\u5b66","\u56fe\u5f62"]},{"location":"math/31.linear-algebra-3B1B/#_4","title":"\u7ebf\u6027\u7a7a\u95f4","text":"<p>\u5229\u7528 i \u548c j \u5411\u91cf\u7684\u7ebf\u6027\u7ec4\u5408\uff0c\u6211\u4eec\u53ef\u4ee5\u5f97\u5230\u65e0\u6570\u4e2a\u5411\u91cf\uff0c\u8fd9\u4e9b\u5411\u91cf\u6784\u6210\u4e86\u4e00\u4e2a\u5e73\u9762\uff0c\u6211\u4eec\u628a\u8fd9\u4e9b\u5411\u91cf\u7684\u96c6\u5408\u79f0\u4e3a\u7531 i \u548c j \u5f20\u5f00\u7684\u7ebf\u6027\u7a7a\u95f4\uff08span\uff09\u3002</p> <p>\u5982\u679c i \u548c j \u662f\u540c\u65b9\u5411\u7684\u5411\u91cf\uff0c\u4f8b\u5982\uff0c\\(\\vec{i} = 5\\vec{j}\\)\uff0c\u90a3\u4e48\u7531 i \u548c j \u6784\u6210\u7684\u6240\u6709\u5411\u91cf\u5c31\u65e0\u6cd5\u5f20\u5f00\u6210\u4e00\u4e2a\u5e73\u9762\uff0c\u53ea\u80fd\u6c47\u805a\u5728\u4e00\u6761\u76f4\u7ebf\u4e0a\uff0c\u6b64\u65f6\u7684\u7ebf\u6027\u7a7a\u95f4\u5c31\u662f\u4e00\u6761\u76f4\u7ebf\u3002</p>","tags":["\u6570\u5b66","\u56fe\u5f62"]},{"location":"math/31.linear-algebra-3B1B/#_5","title":"\u57fa","text":"<p>\u6211\u4eec\u628a\u80fd\u5f20\u5f00\u4e00\u4e2a\u7ebf\u6027\u7a7a\u95f4\u7684\u4e00\u7ec4\u5411\u91cf\u79f0\u4e3a\u7ebf\u6027\u7a7a\u95f4\u7684\u4e00\u7ec4\u57fa\uff08basis vectors\uff09</p> <p>\u4e0a\u9762\u7684 i \u548c j \u5411\u91cf\u5c31\u6784\u6210\u4e86\u4e00\u7ec4\u57fa\uff08\u6784\u6210\u4e00\u7ec4\u57fa\u7684\u4e5f\u53ef\u4ee5\u662f\u522b\u7684\u5411\u91cf\uff09\u3002\u5bf9\u4e8e\u4e00\u4e2a\u5411\u91cf \\(\\vec{a}=\\begin{bmatrix}x\\cr y\\cr\\end{bmatrix}\\)\uff0c\u6211\u4eec\u9ed8\u8ba4\u5b83\u6240\u5728\u7ebf\u6027\u7a7a\u95f4\u7684\u57fa\u662f i \u548c j \u5411\u91cf\u3002</p>","tags":["\u6570\u5b66","\u56fe\u5f62"]},{"location":"math/31.linear-algebra-3B1B/#_6","title":"\u7ebf\u6027\u76f8\u5173\u548c\u7ebf\u6027\u65e0\u5173","text":"<p>\u5982\u679c\u4e00\u4e2a\u5411\u91cf a \u80fd\u591f\u8868\u793a\u4e3a\u53e6\u5916\u4e00\u4e9b\u5411\u91cf\u7684\u7ebf\u6027\u7ec4\u5408\uff0c\u90a3\u4e48 a \u4e00\u5b9a\u5728\u53e6\u5916\u90a3\u4e9b\u5411\u91cf\u5f20\u6210\u7684\u7a7a\u95f4\u5185\uff0c\u6b64\u65f6\u6211\u4eec\u79f0 a \u548c\u53e6\u5916\u4e00\u4e9b\u5411\u91cf\u662f\u7ebf\u6027\u76f8\u5173\u7684\uff08linearly dependent\uff09\uff0c\u5426\u5219\u662f\u7ebf\u6027\u65e0\u5173\u7684\uff08linearly independent\uff09\u3002</p> <p>\u90a3\u4e48\u663e\u7136\uff0c\u5982\u679c\u57fa\u4e2d\u6709\u4e24\u4e2a\u7ebf\u6027\u65e0\u5173\u7684\u5411\u91cf\uff0c\u5b83\u4eec\u5f20\u6210\u7684\u7ebf\u6027\u7a7a\u95f4\u5c31\u662f\u4e00\u4e2a\u4e8c\u7ef4\u5e73\u9762\uff0c\u5982\u679c\u53ea\u6709\u4e00\u4e2a\u7ebf\u6027\u65e0\u5173\u7684\u5411\u91cf\uff0c\u5b83\u4eec\u5f20\u6210\u7684\u7ebf\u6027\u7a7a\u95f4\u53ea\u80fd\u662f\u4e00\u6761\u4e00\u7ef4\u7684\u76f4\u7ebf\uff0c\u5982\u679c\u6709\u4e09\u4e2a\u7ebf\u6027\u65e0\u5173\u7684\u5411\u91cf\uff0c\u90a3\u4e48\u5b83\u4eec\u5f20\u6210\u7684\u7ebf\u6027\u7a7a\u95f4\u5c31\u662f\u4e00\u4e2a\u4e09\u7ef4\u7684\u7a7a\u95f4</p>","tags":["\u6570\u5b66","\u56fe\u5f62"]},{"location":"math/31.linear-algebra-3B1B/#_7","title":"\u7ebf\u6027\u53d8\u6362\u548c\u77e9\u9635","text":"<p>\u7ebf\u6027\u53d8\u6362\uff08linear transformation\uff09\u662f\u5bf9\u4e00\u4e2a\u5411\u91cf\u505a\u653e\u7f29\u3001\u65cb\u8f6c\u7b49\u64cd\u4f5c\u3002</p> <p>\u6211\u4eec\u7528\u5bf9\u57fa\u5411\u91cf\u7684\u7ebf\u6027\u53d8\u6362\u6765\u8868\u793a\u5bf9\u7ebf\u6027\u7a7a\u95f4\u5185\u6240\u6709\u5411\u91cf\u7684\u7ebf\u6027\u53d8\u6362\u3002\u901a\u5e38\u5c06\u5176\u8868\u793a\u4e3a\u4e00\u4e2a\u77e9\u9635\uff08matrix\uff09\uff0c\u77e9\u9635\u7684\u6bcf\u4e00\u5217\u90fd\u8868\u793a\u4e00\u4e2a\u53d8\u6362\u540e\u7684\u57fa\u5411\u91cf\u3002</p> <p>\u5bf9\u77e9\u9635\u548c\u5411\u91cf\u505a\u77e9\u9635\u4e58\u6cd5\uff0c\u5c31\u5b8c\u6210\u4e86\u5bf9\u5411\u91cf\u7684\u7ebf\u6027\u53d8\u6362\uff0c\u5b9e\u9645\u4e0a\u5c31\u662f\u7528\u65b0\u7684\u57fa\u5411\u91cf\u7684\u7ebf\u6027\u7ec4\u5408\u6765\u8868\u793a\u53d8\u6362\u540e\u7684\u5411\u91cf\u3002</p>","tags":["\u6570\u5b66","\u56fe\u5f62"]},{"location":"math/31.linear-algebra-3B1B/#_8","title":"\u77e9\u9635\u4e58\u6cd5","text":"<p>\u5bf9\u77e9\u9635\u4e58\u6cd5\u6709\u4e24\u79cd\u7406\u89e3</p> <ul> <li>\u5c06\u4e24\u6b21\u8fde\u7eed\u7684\u53d8\u6362\u5408\u5e76\u4e3a\u4e00\u4e2a</li> <li>\u5c06\u53f3\u8fb9\u77e9\u9635\u7684\u6bcf\u4e00\u5217\u770b\u6210\u4e00\u4e2a\u5411\u91cf\uff0c\u77e9\u9635\u4e58\u6cd5\u662f\u8981\u5bf9\u8fd9\u4e9b\u5411\u91cf\u505a\u7ebf\u6027\u53d8\u6362</li> </ul>","tags":["\u6570\u5b66","\u56fe\u5f62"]},{"location":"math/31.linear-algebra-3B1B/#_9","title":"\u884c\u5217\u5f0f","text":"<p>\u884c\u5217\u5f0f\uff08determinant\uff09\u662f\u60f3\u8868\u8fbe\u7ebf\u6027\u53d8\u6362\u7684\u62c9\u4f38\u7a0b\u5ea6\uff0c\u5728 2 \u7ef4\u5411\u91cf\u7a7a\u95f4\uff0c\u884c\u5217\u5f0f\u7684\u503c\u8868\u793a\u65b0\u7684\u57fa\u5411\u91cf\u56f4\u6210\u7684\u5e73\u884c\u56db\u8fb9\u5f62\u9762\u79ef\uff0c\u5728 3 \u7ef4\u5411\u91cf\u7a7a\u95f4\uff0c\u884c\u5217\u5f0f\u7684\u503c\u8868\u793a\u65b0\u7684\u57fa\u5411\u91cf\u56f4\u6210\u7684\u5e73\u884c\u516d\u9762\u4f53\u7684\u4f53\u79ef</p> <p>\u5982\u679c\u4e00\u4e2a\u7ebf\u6027\u53d8\u6362\u5c06\u4e00\u4e2a\u9ad8\u7ef4\u7684\u7ebf\u6027\u7a7a\u95f4\u538b\u7f29\u6210\u4f4e\u7ef4\u7684\u7ebf\u6027\u7a7a\u95f4\uff0c\u884c\u5217\u5f0f\u7684\u503c\u5c31\u4e3a 0</p> <p>\u884c\u5217\u5f0f\u7684\u503c\u4e3a\u8d1f\u65f6\uff0c\u5728\u4e00\u4e2a\u4e8c\u7ef4\u7ebf\u6027\u7a7a\u95f4\u5185\u8868\u793a\u7ebf\u6027\u53d8\u6362\u5c06\u5e73\u9762\u505a\u4e86\u4e00\u6b21\u7ffb\u8f6c</p>","tags":["\u6570\u5b66","\u56fe\u5f62"]},{"location":"math/31.linear-algebra-3B1B/#_10","title":"\u7ebf\u6027\u65b9\u7a0b\u7ec4","text":"<p>\u7ebf\u6027\u65b9\u7a0b\u7ec4\u5b9e\u9645\u4e0a\u662f\u60f3\u901a\u8fc7\u76ee\u6807\u5411\u91cf\u548c\u7ebf\u6027\u53d8\u6362\u77e9\u9635\u6c42\u51fa\u539f\u5411\u91cf</p> <p>\u7ebf\u6027\u65b9\u7a0b\u7ec4\u7684\u89e3\u6709\u4e09\u79cd\u60c5\u51b5</p> <ol> <li>\u884c\u5217\u5f0f\u7684\u503c\u4e0d\u4e3a 0\uff0c\u6b64\u65f6\u6709\u552f\u4e00\u7684\u89e3\u548c\u76ee\u6807\u5411\u91cf\u5bf9\u5e94\uff0c\u53ef\u4ee5\u5bf9\u77e9\u9635\u6c42\u9006\uff0c\u7136\u540e\u5bf9\u76ee\u6807\u5411\u91cf\u505a\u9006\u53d8\u6362<ol> <li>\u6b64\u65f6\uff0c\u4e0d\u53ef\u80fd\u6709\u975e\u96f6\u5411\u91cf\u53d8\u6362\u4e3a\u96f6\u5411\u91cf\u3002\u53ea\u6709\u96f6\u5411\u91cf\u53ef\u4ee5\u53d8\u6362\u4e3a\u96f6\u5411\u91cf\uff0c\u4e5f\u53ea\u80fd\u53d8\u6362\u4e3a\u96f6\u5411\u91cf\u3002\uff08\u56e0\u4e3a\u7ebf\u6027\u53d8\u6362\u8981\u4fdd\u8bc1\u96f6\u5411\u91cf\u4e0d\u53d8\uff09 </li> </ol> </li> <li>\u884c\u5217\u5f0f\u7684\u503c\u4e3a 0\uff0c\u6b64\u65f6\u8bf4\u660e\u7ebf\u6027\u53d8\u6362\u5bf9\u5411\u91cf\u7a7a\u95f4\u505a\u4e86\u538b\u7f29\uff0c\u8fd9\u65f6\u6211\u4eec\u65e0\u6cd5\u5bf9\u77e9\u9635\u6c42\u9006\uff0c\u56e0\u4e3a\u53d8\u6362\u540e\u7684\u5411\u91cf\u53ef\u4ee5\u6620\u5c04\u5230\u4e00\u7ec4\u539f\u5411\u91cf\u3002</li> <li>\u5982\u679c\u76ee\u6807\u5411\u91cf\u4e0d\u5728\u53d8\u6362\u540e\u7684\u7ebf\u6027\u7a7a\u95f4\u5185\uff0c\u90a3\u4e48\u65b9\u7a0b\u7ec4\u65e0\u89e3</li> <li>\u5982\u679c\u76ee\u6807\u5411\u91cf\u5728\u53d8\u6362\u540e\u7684\u7ebf\u6027\u7a7a\u95f4\u5185\uff0c\u90a3\u4e48\u65b9\u7a0b\u7ec4\u6709\u4e00\u7ec4\u89e3\uff08\u65e0\u7a77\u591a\u4e2a\u89e3\uff09</li> </ol>","tags":["\u6570\u5b66","\u56fe\u5f62"]},{"location":"math/31.linear-algebra-3B1B/#_11","title":"\u79e9","text":"<p>\u77e9\u9635\u7684\u79e9\uff08rank\uff09\u7528\u6765\u8868\u793a\u4e00\u4e2a\u7ecf\u8fc7\u7ebf\u6027\u53d8\u6362\u540e\u7684\u65b0\u7a7a\u95f4\u662f\u51e0\u7ef4\u7684\u3002</p> <p>\u53e6\u5916\uff0c\u5982\u679c\u4e00\u4e2a\u4e09\u7ef4\u7a7a\u95f4\u88ab\u538b\u7f29\u5230\u4e8c\u7ef4\uff0c\u90a3\u4e48\u539f\u6765\u7684\u6574\u4e2a\u7a7a\u95f4\u4f1a\u6620\u5c04\u4e3a\u4e00\u4e2a\u9762\uff0c\u539f\u6765\u7684\u4e00\u4e2a\u9762\u4f1a\u6620\u5c04\u4e3a\u4e00\u6761\u7ebf\uff0c\u539f\u6765\u7684\u4e00\u6761\u7ebf\u4f1a\u6620\u5c04\u4e3a\u4e00\u4e2a\u70b9\uff08\u4e5f\u5c31\u662f\u4e00\u4e2a\u5411\u91cf\uff09\u3002</p> <p>\u5982\u679c\u4e00\u4e2a\u4e09\u7ef4\u7a7a\u95f4\u76f4\u63a5\u88ab\u538b\u7f29\u5230\u4e00\u7ef4\uff0c\u90a3\u4e48\u539f\u6765\u7684\u6574\u4e2a\u7a7a\u95f4\u4f1a\u6620\u5c04\u4e3a\u4e00\u6761\u7ebf\uff0c\u539f\u6765\u7684\u4e00\u4e2a\u9762\u4f1a\u6620\u5c04\u4e3a\u4e00\u4e2a\u70b9\u3002</p> <p>\u6211\u4eec\u628a\u7ebf\u6027\u53d8\u6362\u540e\u7684\u5f97\u5230\u7684\u7a7a\u95f4\u79f0\u4e3a\u5217\u7a7a\u95f4\uff08column space\uff09\uff0c\u5373\u7531\u77e9\u9635\u5217\u5f20\u6210\u7684\u7a7a\u95f4\uff0c\u4e00\u822c\u7528\u53d8\u6362\u77e9\u9635\u8868\u793a\u5217\u7a7a\u95f4\uff0c\u56e0\u6b64\u79e9\u7684\u66f4\u51c6\u786e\u7684\u5b9a\u4e49\u662f\u5217\u7a7a\u95f4\u7684\u7ef4\u6570\u3002</p> <p>\u53d8\u6362\u540e\uff0c\u96f6\u5411\u91cf\u5bf9\u5e94\u7684\u539f\u5411\u91cf\u6784\u6210\u7684\u7a7a\u95f4\u79f0\u4e3a\u96f6\u7a7a\u95f4\uff08null space\uff09\u6216\u6838\uff08kernel\uff09</p>","tags":["\u6570\u5b66","\u56fe\u5f62"]},{"location":"math/31.linear-algebra-3B1B/#_12","title":"\u975e\u65b9\u9635","text":"<p>\u5bf9\u4e8e\u4e00\u4e2a m&gt;n \u7684\u77e9\u9635\uff0c\u4f8b\u5982</p> \\[ A = \\begin{bmatrix} 1 &amp; 3 \\cr 2 &amp; 2\\cr 3 &amp; 1\\cr \\end{bmatrix} \\] <p>\u5b83\u7684\u4f5c\u7528\u662f\u5c06\u4e00\u4e2a 2 \u7ef4\u5411\u91cf\u6620\u5c04\u5230\u4e09\u7ef4\u7a7a\u95f4\uff0c\u5176\u5b9e\u5f88\u5bb9\u6613\u7406\u89e3\uff0c\u628a\u77e9\u9635\u7684\u4e24\u5217\u770b\u4f5c\u662f\u7ebf\u6027\u7a7a\u95f4\u7684\u57fa\u5411\u91cf\uff0c\u7531\u4e8e\u53ea\u6709\u4e24\u4e2a\u57fa\u5411\u91cf\uff0c\u5b83\u4eec\u53ea\u80fd\u5f20\u5f00\u4e00\u4e2a\u4e8c\u7ef4\u7684\u7ebf\u6027\u7a7a\u95f4\uff0c\u4f46\u5b83\u4eec\u672c\u8eab\u662f\u4e09\u7ef4\u7684\uff0c\u56e0\u6b64\u5b83\u4eec\u5728\u4e00\u4e2a\u4e09\u7ef4\u5750\u6807\u7cfb\u4e2d\u5f20\u5f00\u4e86\u4e00\u4e2a\u4e8c\u7ef4\u7ebf\u6027\u7a7a\u95f4\uff08\u662f\u4e00\u4e2a\u5e73\u9762\uff0c\u6709\u53ef\u80fd\u662f\u659c\u7740\u7684\u5e73\u9762\uff09\u3002\u77e9\u9635\u6709\u4e24\u5217\u610f\u5473\u7740\u539f\u7a7a\u95f4\u662f\u4e8c\u7ef4\u7684\uff0c\u77e9\u9635\u6709\u4e09\u884c\u610f\u5473\u7740\u65b0\u7a7a\u95f4\u4f4d\u4e8e\u4e00\u4e2a\u4e09\u7ef4\u5750\u6807\u7cfb\u4e2d\u3002\u77e9\u9635 A \u4ecd\u7136\u662f\u4e2a\u6ee1\u79e9\u77e9\u9635\u3002</p> <p>\u7c7b\u4f3c\u7684\uff0c\u5bf9\u4e8e\u4e00\u4e2a m&lt;n \u7684\u77e9\u9635\uff0c\u4f8b\u5982</p> \\[B = \\begin{bmatrix} 1 &amp; 2 &amp; -1 \\cr 2 &amp; 3 &amp; 1\\cr \\end{bmatrix} \\] <p>\u5b83\u7684\u4f5c\u7528\u662f\u5c06\u4e00\u4e2a\u4e09\u7ef4\u5411\u91cf\u6620\u5c04\u5230\u4e00\u4e2a\u4e8c\u7ef4\u7ebf\u6027\u7a7a\u95f4\u4e2d\u53bb\uff0c\u4e5f\u5f88\u5bb9\u6613\u7406\u89e3\uff0c\u77e9\u9635\u6709\u4e09\u5217\u610f\u5473\u7740\u539f\u7a7a\u95f4\u662f\u4e09\u7ef4\u7684\uff0c\u77e9\u9635\u6709\u4e24\u884c\u610f\u5473\u7740\u65b0\u7a7a\u95f4\u4f4d\u4e8e\u4e00\u4e2a\u4e8c\u7ef4\u5750\u6807\u7cfb\u4e2d\uff0c\u540c\u65f6\u4e5f\u5c06\u7ebf\u6027\u7a7a\u95f4\u538b\u7f29\u5230\u4e86\u4e8c\u7ef4\uff08\u6362\u53e5\u8bdd\u8bf4\uff0c\u77e9\u9635 B \u5fc5\u7136\u4e0d\u6ee1\u79e9\uff09</p> <p>\u66f4\u6781\u7aef\u4e00\u70b9\uff0c\u6211\u4eec\u53ef\u4ee5\u628a\u51e0\u4e2a\u4e00\u7ef4\u5411\u91cf\u6620\u5c04\u5230\u56db\u7ef4\u5750\u6807\u7cfb\u4e2d\uff0c\u5373</p> \\[ \\begin{bmatrix}1\\cr0\\cr0\\cr0\\end{bmatrix} \\begin{bmatrix}1 &amp; 2 &amp; 3\\end{bmatrix}= \\begin{bmatrix} 1 &amp; 2 &amp; 3\\cr 0 &amp; 0 &amp; 0\\cr 0 &amp; 0 &amp; 0\\cr 0 &amp; 0 &amp; 0\\cr \\end{bmatrix} \\] <p>\u6216\u8005\uff0c\u628a\u4e00\u4e2a\u56db\u7ef4\u5411\u91cf\u6620\u5c04\u5230\u4e00\u7ef4\u7a7a\u95f4\u4e2d\u53bb\uff0c\u5373</p> \\[ \\begin{bmatrix}1 &amp; 2 &amp; 3 &amp; 4\\end{bmatrix} \\begin{bmatrix}1\\cr2\\cr3\\cr4\\end{bmatrix}= \\begin{bmatrix} 30\\cr \\end{bmatrix} \\]","tags":["\u6570\u5b66","\u56fe\u5f62"]},{"location":"math/31.linear-algebra-3B1B/#_13","title":"\u5411\u91cf\u7684\u70b9\u79ef","text":"<p>\u70b9\u79ef\uff08dot products\uff09\u662f\u5bf9\u4e24\u4e2a\u76f8\u540c\u7ef4\u5ea6\u5411\u91cf\u7684\u5404\u7ef4\u5ea6\u5206\u522b\u6c42\u79ef\uff0c\u7136\u540e\u5c06\u5404\u4e2a\u79ef\u76f8\u52a0\u3002</p> <p>\u5411\u91cf\u4e92\u76f8\u5782\u76f4\u65f6\uff0c\u70b9\u79ef\u4e3a 0\uff0c\u65b9\u5411\u76f8\u53cd\u65f6\uff0c\u70b9\u79ef\u4e3a\u8d1f</p> <p>\u70b9\u79ef\u548c\u987a\u5e8f\u65e0\u5173\uff0c\u5373 \\(\\vec{a}\u00b7\\vec{b}\\) \u548c \\(\\vec{b}\u00b7\\vec{a}\\) \u662f\u7b49\u4ef7\u7684\u3002</p> <p>\u70b9\u79ef\u53ef\u4ee5\u7406\u89e3\u4e3a\u5411\u91cf a \u5411\u5411\u91cf b \u6295\u5f71\uff0c\u5e76\u7528 a \u6295\u5f71\u540e\u7684\u957f\u5ea6\u4e58\u4ee5 b \u7684\u957f\u5ea6\u3002</p> <p>\u5411\u91cf\u7684\u70b9\u79ef\u5b9e\u9645\u4e0a\u53ef\u4ee5\u8868\u793a\u4e3a\u4e00\u4e2a 1\u00d7n \u7684\u77e9\u9635\u548c\u4e00\u4e2a n\u00d71 \u7684\u77e9\u9635\u4e58\u6cd5\uff0c\u524d\u9762\u6211\u4eec\u8bb2\u8fc7\uff0c\u8fd9\u4e2a\u4e58\u6cd5\u5b9e\u9645\u4e0a\u662f\u505a\u4e86\u4e00\u4e2a\u4ece n \u7ef4\u7ebf\u6027\u7a7a\u95f4\u5230 1 \u7ef4\u7ebf\u6027\u7a7a\u95f4\u7684\u538b\u7f29\u64cd\u4f5c\uff0c\u5e76\u5c06\u4e00\u4e2a n \u7ef4\u5411\u91cf\u6620\u5c04\u4e3a 1 \u7ef4\u5411\u91cf\uff0c\u5de6\u8fb9\u7684 1\u00d7n \u7684\u77e9\u9635\u5b9a\u4e49\u4e86\u6620\u5c04\u89c4\u5219\u3002</p> <p>\u90a3\u4e48\uff0c\u4e0a\u8ff0\u7684\u4e24\u4e2a\u64cd\u4f5c\u2014\u2014\u5411\u91cf\u6295\u5f71\u548c\u7a7a\u95f4\u538b\u7f29\uff0c\u4e3a\u4ec0\u4e48\u4f1a\u7b49\u4ef7\uff0c\u5373\uff0c\u4e3a\u4ec0\u4e48\u4f1a\u5b58\u5728\u4e0b\u8ff0\u7b49\u5f0f\uff1f</p> \\[ \\vec{a}^\\top\\vec{b}= \\left|\\vec{a}\\right|\u00b7 \\left|\\vec{b}\\right|\u00b7 cos\u03b8 \\] <p>\u4ece\u6839\u672c\u4e0a\u6765\u8bb2\uff0c\u662f\u601d\u7ef4\u65b9\u5f0f\u7684\u4e0d\u540c</p> <ul> <li>\u7b49\u5f0f\u53f3\u4fa7\u662f\u7528\u51e0\u4f55\u7684\u601d\u60f3\u6765\u89e3\u51b3\u95ee\u9898</li> <li>\u7b49\u5f0f\u5de6\u4fa7\u7684\u77e9\u9635\u4e58\u6cd5\u662f\u628a\u5411\u91cf b \u62c6\u5206\u6210\u4e0d\u540c\u7684\u7ef4\u5ea6\uff0c\u8ba1\u7b97\u6bcf\u4e2a\u7ef4\u5ea6\u6620\u5c04\u5230\u5411\u91cf a \u4e0a\u7684\u957f\u5ea6\uff08\u5411\u91cf a \u76f8\u5f53\u4e8e\u6307\u5b9a\u4e86\u6620\u5c04\u7684\u500d\u7387\uff09\uff0c\u6700\u540e\u5c06\u5404\u7ef4\u5ea6\u7684\u6620\u5c04\u957f\u5ea6\u6c42\u548c\u3002</li> <li>\u4ece\u7ebf\u6027\u53d8\u6362\u7684\u89d2\u5ea6\u6765\u770b\uff0c\u5411\u91cf a \u7684\u6bcf\u4e00\u7ef4\u90fd\u662f\u4e00\u4e2a\u65b0\u7684\u4f4d\u4e8e\u4e00\u7ef4\u7a7a\u95f4\u4e0a\u7684\u57fa\u5411\u91cf\uff0c\u800c\u5b83\u4eec\u7684\u503c\u6070\u597d\u7b49\u4e8e\u6700\u7ec8\u5408\u6210\u7684\u57fa\u5411\u91cf\u5728\u5bf9\u5e94\u7ef4\u5ea6\u7684\u6295\u5f71\uff0c\u8fd9\u662f\u4e00\u79cd\u5bf9\u5076\u6027\uff08duality\uff09</li> <li>\u5411\u91cf a \u7684\u6bcf\u4e2a\u5206\u91cf\u5b9e\u9645\u4e0a\u662f\u4e00\u4e2a\u500d\u7387\uff0c\u4ee3\u8868\u539f\u7a7a\u95f4\u7684\u6bcf\u4e00\u7ef4\u5bf9\u4e00\u7ef4\u7a7a\u95f4\u5411\u91cf\u503c\u7684\u8d21\u732e\u3002\u4ece\u8fd9\u4e2a\u610f\u4e49\u4e0a\u6765\u770b\uff0c\u7ebf\u6027\u53d8\u6362\u6709\u53e6\u5916\u4e00\u79cd\u7406\u89e3\uff0c\u5373\u5de6\u8fb9\u7684\u77e9\u9635\u5b9e\u9645\u4e0a\u5b9a\u4e49\u7684\u662f\u539f\u5411\u91cf\u7684\u6bcf\u4e00\u7ef4\u5411\u76ee\u6807\u5411\u91cf\u7684\u6bcf\u4e00\u7ef4\u6620\u5c04\u7684\u500d\u7387</li> </ul>","tags":["\u6570\u5b66","\u56fe\u5f62"]},{"location":"math/31.linear-algebra-3B1B/#_14","title":"\u70b9\u79ef\u7684\u4f5c\u7528","text":"<p>\u5224\u65ad\u4e24\u4e2a\u5411\u91cf\u7684\u65b9\u5411</p> <p>\u65b9\u5411\u76f8\u540c\uff0c\u70b9\u79ef\u7ed3\u679c\u662f\u6b63\u7684\uff0c\u65b9\u5411\u76f8\u53cd\uff0c\u70b9\u79ef\u7ed3\u679c\u662f\u8d1f\u7684\uff0c\u76f8\u4e92\u5782\u76f4\uff0c\u70b9\u79ef\u7ed3\u679c\u4e3a0</p> <p>\u5411\u91cf\u6295\u5f71\uff08projection\uff09</p> <p>\u5f53\u524d\u4e00\u4e2a\u5411\u91cf\\(\\vec{p}\\)\uff0c\u6211\u4eec\u60f3\u628a\u5b83\u8f6c\u6362\u6210\u53e6\u5916\u4e00\u4e2a\u7531 \\(\\vec{u}\\)\u3001\\(\\vec{v}\\) \u548c \\(\\vec{w}\\) \u6784\u6210\u7684\u5750\u6807\u7cfb\u4e0b\u7684\u8868\u793a\uff0c\u53ef\u4ee5\u4f7f\u7528\u4e0b\u9762\u8fd9\u4e2a\u65b9\u6cd5\uff0c\u5206\u522b\u8ba1\u7b97\u5411\u91cf \\(\\vec{p}\\) \u5728 \\(\\vec{u}\\)\u3001\\(\\vec{v}\\) \u548c \\(\\vec{w}\\)\u65b9\u5411\u4e0a\u7684\u6295\u5f71\u957f\u5ea6\uff0c\u5c31\u5f97\u5230\u4e86\u8f6c\u6362\u540e\u7684\u7ed3\u679c\u3002</p> \\[ \\vec{p} = (\\vec{p}\\cdot\\vec{u})\\vec{u} + (\\vec{p}\\cdot\\vec{v})\\vec{v} + (\\vec{p}\\cdot\\vec{w})\\vec{w} \\]","tags":["\u6570\u5b66","\u56fe\u5f62"]},{"location":"math/31.linear-algebra-3B1B/#_15","title":"\u5411\u91cf\u7684\u53c9\u79ef","text":"<p>\u5728\u4e8c\u7ef4\u7a7a\u95f4\u4e2d\uff0c\u4e25\u683c\u6765\u8bb2\u662f\u6c42\u4e0d\u4e86\u7684\uff0c\u786c\u8981\u6c42\u7684\u8bdd\uff0c\u53c9\u79ef\uff08cross product\uff09\u662f\u6c42\u4e24\u4e2a\u5411\u91cf\u56f4\u6210\u7684\u5e73\u884c\u56db\u8fb9\u5f62\u9762\u79ef\u3002\u503c\u548c\u987a\u5e8f\u6709\u5173\uff0c\u4ea4\u6362\u4e24\u4e2a\u5411\u91cf\u4f1a\u5bfc\u81f4\u7ed3\u679c\u53d6\u53cd\uff0c\u53ef\u4ee5\u8ba4\u4e3a\u662f\u5e73\u884c\u56db\u8fb9\u5f62\u6709\u65b9\u5411\u3002\u6240\u4ee5\u4e8c\u7ef4\u53c9\u79ef\u5c31\u662f\u6c42\u884c\u5217\u5f0f\u7684\u503c\u3002</p> <p>\u5728\u4e09\u7ef4\u7a7a\u95f4\u4e2d\uff0c\u53c9\u79ef\u662f\u4ece\u4e24\u4e2a\u5411\u91cf\u751f\u6210\u4e00\u4e2a\u548c\u5b83\u4eec\u5782\u76f4\u7684\u65b0\u5411\u91cf\uff0c\u65b0\u5411\u91cf\u7684\u957f\u5ea6\u662f\u4e24\u4e2a\u5411\u91cf\u56f4\u6210\u7684\u5e73\u884c\u56db\u8fb9\u5f62\u9762\u79ef\u3002\u5373\uff0c</p> \\[|\\vec{v}\u00d7\\vec{w}|= |\\vec{v}|\u00b7|\\vec{w}|\u00b7sin\u03b8\\] <p>\u65b0\u5411\u91cf\u7684\u65b9\u5411\u53d6\u51b3\u4e8e\u4e24\u4e2a\u5411\u91cf\u76f8\u4e58\u7684\u987a\u5e8f\u3002\u4f8b\u5982\uff0c</p> \\[\\vec{v}\u00d7\\vec{w}= \\vec{u}\\] <p>\u5411\u91cf u \u7684\u65b9\u5411\u6ee1\u8db3\u53f3\u624b\u5b9a\u5219\uff08\u53f3\u624b\u5b9a\u5219\u6709\u4e24\u79cd\uff0c\u4e00\u79cd\u662f\u5c06\u62c7\u6307\u3001\u98df\u6307\u548c\u4e2d\u6307\u5206\u522b\u6307\u5411\u4e09\u4e2a\u4e92\u76f8\u5782\u76f4\u7684\u65b9\u5411\uff0c\u53e6\u5916\u4e00\u79cd\u662f\u53f3\u624b\u63e1\u62f3\uff0c\u4f38\u51fa\u5927\u62c7\u6307\uff0c\u8fd9\u91cc\u7684\u53f3\u624b\u5b9a\u5219\u6307\u7684\u662f\u7b2c\u4e8c\u79cd\uff09\uff0c\u53f3\u624b\u63e1\u62f3\u65f6\uff0c\u56db\u6307\u6cbf\u4ece \\(\\vec{v}\\) \u81f3 \\(\\vec{w}\\) \u7684\u65b9\u5411\u63e1\u4f4f\uff0c\u6b64\u65f6\u5927\u62c7\u6307\u6307\u5411\u7684\u5c31\u662f\u5411\u91cf \\(\\vec{u}\\) \u7684\u65b9\u5411\u3002\u8fd9\u4e5f\u610f\u5473\u7740\uff0c\u53c9\u79ef\u662f\u4e0d\u6ee1\u8db3\u4ea4\u6362\u5f8b\u7684\uff0c\u5373 \\(\\vec{v}\u00d7\\vec{w} \\neq \\vec{w}\u00d7\\vec{v}\\)\uff0c\u5b9e\u9645\u4e0a \\(\\vec{v}\u00d7\\vec{w} = -(\\vec{w}\u00d7\\vec{v})\\)</p> <p>\uff08\u4e0a\u9762\u5173\u4e8e\u53f3\u624b\u5b9a\u5219\u7684\u89e3\u91ca\u662f\u4ecegames 101\u7b2c2\u8bfe\u4e0a\u5b66\u5230\u7684\uff09</p> <p>\u540c\u6837\u53ef\u4ee5\u5c06\u53c9\u79ef\u8868\u793a\u4e3a\u6c42\u884c\u5217\u5f0f</p> \\[ \\begin{bmatrix}v_1\\cr v_2\\cr v_3\\end{bmatrix} \\begin{bmatrix}w_1\\cr w_2\\cr w_3\\end{bmatrix}= det\\left( \\begin{bmatrix} \\vec{i} &amp; v_1 &amp; w_1\\cr \\vec{j} &amp; v_2 &amp; w_2\\cr \\vec{k} &amp; v_3 &amp; w_3\\cr \\end{bmatrix} \\right) =\\vec{i}(v_2w_3-v_3w_2)+\\vec{j}(v_3w_1-v_1w_3)+\\vec{k}(v_1w_2-v_2w_1) \\] <p>\u628a\u57fa\u5411\u91cf\u5199\u5230\u884c\u5217\u5f0f\u91cc\uff0c\u7ed3\u679c\u6b63\u597d\u662f\u4e2a\u5411\u91cf\uff0c\u8fd9\u662f\u4e2a\u7b26\u53f7\u4e0a\u7684\u6280\u5de7\u3002</p> <p>\u5982\u679c\u8981\u4ece\u51e0\u4f55\u7684\u89d2\u5ea6\u7406\u89e3\u8fd9\u4e2a\u7b49\u5f0f\uff0c\u53ef\u4ee5\u8fd9\u6837\u7406\u89e3\uff0c\u5411\u91cf u \u662f\u8fd9\u6837\u4e00\u4e2a\u5411\u91cf\uff0c\u4efb\u4f55\u4e00\u4e2a\u5411\u91cf \\([x,y,z]\\) \u548c u \u505a\u70b9\u79ef\uff0c\u7ed3\u679c\u90fd\u662f \\([x,y,z]\\) \u548c v\u3001w \u56f4\u6210\u7684\u5e73\u884c\u516d\u9762\u4f53\u7684\u4f53\u79ef\u3002\u6240\u4ee5\uff0c\u53ea\u6709\u548c v\u3001w \u5782\u76f4\uff0c\u4e14\u957f\u5ea6\u7b49\u4e8e v\u3001w \u56f4\u6210\u5e73\u884c\u56db\u8fb9\u5f62\u7684\u5411\u91cf\u624d\u80fd\u6ee1\u8db3\u8981\u6c42\uff08\u7531\u4e8e u \u548c v\u3001w \u5782\u76f4\uff0c\u5411\u91cf \\([x,y,z]\\) \u6295\u5f71\u5230 u \u4e0a\u540e\u5c31\u662f\u516d\u9762\u4f53\u7684\u9ad8\uff0cu \u7684\u957f\u5ea6\u53c8\u662f\u516d\u9762\u4f53\u7684\u5e95\u9762\u79ef\uff0c\u56e0\u6b64 u \u548c \\([x,y,z]\\) \u505a\u70b9\u79ef\u521a\u597d\u662f\u516d\u9762\u4f53\u7684\u4f53\u79ef\uff09\u3002\u53ef\u4ee5\u5c06 u \u548c v\u3001w \u7684\u5173\u7cfb\u63cf\u8ff0\u6210</p> \\[ \\begin{bmatrix}u_1\\cr u_2\\cr u_3\\end{bmatrix} \u00b7 \\begin{bmatrix}x\\cr y\\cr z\\end{bmatrix}= det\\left( \\begin{bmatrix} x &amp; v_1 &amp; w_1\\cr y &amp; v_2 &amp; w_2\\cr z &amp; v_3 &amp; w_3\\cr \\end{bmatrix} \\right) \\] <p>\u6309\u8fd9\u4e2a\u7406\u89e3\uff0c\u628a\u884c\u5217\u5f0f\u4e2d\u7684\u7b2c\u4e00\u5217\u6362\u6210 i\u3001j\u3001k \u540e\u5c31\u521a\u597d\u80fd\u8868\u793a\u6210\u6240\u6c42\u7684 u</p> <p>\u4ee5\u4e0b\u662f\u53c9\u79ef\u7684\u4e00\u4e9b\u4e00\u822c\u89c4\u5f8b\uff0c\\(\\vec{x}\\)\u3001\\(\\vec{y}\\)\u3001\\(\\vec{z}\\) \u8868\u793a\u76f8\u4e92\u5782\u76f4\u7684\u4e09\u4e2a\u5355\u4f4d\u5411\u91cf</p> \\[ \\begin{align*} \\vec{x}\\times\\vec{y}=+\\vec{z} &amp;\\quad \\vec{a}\\times\\vec{b}=-\\vec{b}\\times\\vec{a} \\\\ \\vec{y}\\times\\vec{x}=-\\vec{z} &amp;\\quad \\vec{a}\\times\\vec{a}=\\vec{0} \\\\ \\vec{y}\\times\\vec{z}=+\\vec{x} &amp;\\quad \\vec{a}\\times(\\vec{b}+\\vec{c})=\\vec{a}\\times\\vec{b}+\\vec{a}\\times\\vec{c} \\\\ \\vec{z}\\times\\vec{y}=-\\vec{x} &amp;\\quad \\vec{a}\\times(k\\vec{b})=k(\\vec{a}\\times\\vec{b}) \\\\ \\vec{z}\\times\\vec{x}=+\\vec{y} &amp; \\\\ \\vec{x}\\times\\vec{z}=-\\vec{y} &amp; \\end{align*} \\] <p>\u5411\u91cf\u53c9\u79ef\u4e5f\u53ef\u4ee5\u8868\u793a\u4e3a\u77e9\u9635\u76f8\u4e58\u7684\u5f62\u5f0f\uff0c\u5176\u4e2d\\(A^*\\)\u662f\u4e00\u4e2a\u5bf9\u5076\u77e9\u9635\uff08dual matrix\uff09</p> \\[ \\vec{a}\\times\\vec{b}=A^*\\vec{b}= \\begin{pmatrix} 0 &amp; -a_3 &amp; a_2 \\\\ a_3 &amp; 0 &amp; -a_1 \\\\ -a_2 &amp; a_1 &amp; 0 \\end{pmatrix} \\begin{pmatrix} b_1 \\\\ b_2 \\\\ b_3 \\end{pmatrix} \\]","tags":["\u6570\u5b66","\u56fe\u5f62"]},{"location":"math/31.linear-algebra-3B1B/#_16","title":"\u53c9\u79ef\u53ef\u4ee5\u7528\u6765\u5e72\u561b","text":"<p>\u5224\u65ad\u4e24\u4e2a\u5411\u91cf\u65b9\u5411\u662f\u5426\u76f8\u540c</p> <p>\u65b9\u5411\u76f8\u540c\uff0c\u53c9\u79ef\u7ed3\u679c\u4e3a\u96f6\u5411\u91cf</p> <p>\u7528\u6765\u5224\u65ad\u4e00\u4e2a\u5411\u91cf\u662f\u5426\u4f4d\u4e8e\u53e6\u4e00\u4e2a\u5411\u91cf\u53f3\u4fa7</p> <p>\u4f8b\u5982\uff0c\u7ed9\u5b9a\u4e24\u4e2a\u5411\u91cf \\(\\vec{a}\\) \u548c \\(\\vec{b}\\)\uff0c\u53ef\u4ee5\u901a\u8fc7\u8ba1\u7b97\u5b83\u4eec\u7684\u53c9\u79ef \\(\\vec{a} \\times \\vec{b}\\) \u6765\u5224\u65ad \\(\\vec{a}\\) \u662f\u5426\u5728 \\(\\vec{b}\\) \u7684\u53f3\u4fa7\u3002\u5982\u679c\u53c9\u79ef\u7684\u7ed3\u679c\u6307\u5411z \u8f74\u6b63\u65b9\u5411\uff0c\u5219 \\(\\vec{a}\\) \u5728 \\(\\vec{b}\\) \u7684\u53f3\u4fa7\uff1b\u5982\u679c\u6307\u5411z \u8f74\u8d1f\u65b9\u5411\uff0c\u5219\u5728\u5de6\u4fa7\u3002</p> <p>\u6ce8\u610f\uff0c\u5411\u91cf\u7684\u5de6\u53f3\u548c\u6b63\u8d1f\u662f\u76f8\u5bf9\u4e8e\u67d0\u4e2a\u53c2\u8003\u7cfb\u800c\u8a00\u7684\uff0c\u5982\u679c\u53bb\u6389\u4e86\u8fd9\u4e2a\u53c2\u8003\u7cfb\uff0c\u90a3\u4e48\u5411\u91cf\u7684\u5de6\u53f3\u548c\u6b63\u8d1f\u5c31\u6ca1\u6709\u610f\u4e49\u4e86\u3002\u5bf9\u4e0a\u9762\u8fd9\u4e2a\u4f8b\u5b50\u6765\u8bf4\uff0c\u5411\u91cf \\(\\vec{a}\\) \u548c \\(\\vec{b}\\) \u4e00\u5b9a\u662f\u4f4d\u4e8ex\u8f74\u548cy\u8f74\u5e73\u9762\u5185\u7684\uff0c\u5426\u5219\u65e0\u6cd5\u5224\u65ad\u5b83\u4eec\u53c9\u79ef\u7684\u6b63\u8d1f\uff0c\u4e5f\u5c31\u65e0\u6cd5\u5224\u65ad \\(\\vec{a}\\) \u548c \\(\\vec{b}\\) \u7684\u5de6\u53f3\u5173\u7cfb\u3002</p> <p>\u53ef\u4ee5\u7528\u6765\u5224\u65ad\u4e00\u4e2a\u70b9\u662f\u5426\u5728\u4e00\u4e2a\u4e09\u89d2\u5f62\u5185\u90e8</p> <p>\u4f8b\u5982\uff0c\u6709\u4e09\u4e2a\u70b9A\u3001B\u3001C\u6784\u6210\u4e00\u4e2a\u4e09\u89d2\u5f62\uff0c\u70b9P\u5728\u4e09\u89d2\u5f62\u5185\u90e8\uff0c\u5982\u679c\u6211\u4eec\u5c06\u4e09\u89d2\u5f62\u7684\u4e09\u6761\u8fb9\u89c6\u4e3a\u4e09\u4e2a\u5411\u91cf \\(\\vec{AB}\\)\u3001\\(\\vec{BC}\\)\u3001\\(\\vec{CA}\\)\uff08\u6ce8\u610f\u8fd9\u4e09\u4e2a\u5411\u91cf\u7684\u65b9\u5411\uff0c\u4e09\u4e2a\u5411\u91cf\u9996\u5c3e\u76f8\u8fde\uff09\uff0c\u5206\u522b\u505a\u4e09\u6b21\u53c9\u79ef\uff0c\\(\\vec{AB} \\times \\vec{AP}\\)\u3001\\(\\vec{BC} \\times \\vec{BP}\\)\u3001\\(\\vec{CA} \\times \\vec{CP}\\)\uff0c\u5982\u679c\u4e09\u6b21\u53c9\u79ef\u7684\u7ed3\u679c\u65b9\u5411\u4e00\u81f4\uff08\u6216\u8005\u8bf4\u70b9P\u90fd\u5728\u8fd9\u4e09\u4e2a\u5411\u91cf\u7684\u5de6\u8fb9\u6216\u53f3\u8fb9\uff09\uff0c\u90a3\u4e48\u5c31\u8bf4\u660e\u70b9P\u5728\u4e09\u89d2\u5f62\u5185\u90e8</p> <pre><code>                 A\n                / \\\n               /   \\\n              /  \u22ee  \\\n             /   \u2193   \\\n            /    P    \\\n           /           \\\n          /             \\\n         /               \\\n        B-----------------C\n</code></pre>","tags":["\u6570\u5b66","\u56fe\u5f62"]},{"location":"math/31.linear-algebra-3B1B/#_17","title":"\u57fa\u53d8\u6362","text":"<p>\u57fa\u53d8\u6362\u5176\u5b9e\u5c31\u662f\u7ebf\u6027\u53d8\u6362\uff0c\u53ea\u4e0d\u8fc7\u57fa\u53d8\u6362\u5f3a\u8c03\u7684\u662f\u4e0d\u540c\u57fa\u5750\u6807\u7cfb\u4e0b\u7684\u8bed\u4e49\u8f6c\u6362\u3002\u4f8b\u5982</p> \\[ \\begin{bmatrix}2 &amp; -1\\cr 1 &amp; 1\\end{bmatrix} \\begin{bmatrix}-1 \\cr 2\\end{bmatrix}= \\begin{bmatrix}-4 \\cr 1\\end{bmatrix} \\] <p>\u5047\u5982Jennifer\u5b9a\u4e49\u4e86\u5979\u81ea\u5df1\u7684\u57fa\u5411\u91cf\uff0c\u90a3\u4e48\u5411\u91cf \\([2,1]\\) \u548c \\([-1,1]\\) \u4ee3\u8868Jennifer\u7684\u57fa\u5411\u91cf\u5728\u6211\u4eec\u6807\u51c6\u5750\u6807\u7cfb\u4e0b\u7684\u8868\u793a\uff0c\u90a3\u4e48\u4e0a\u9762\u8fd9\u4e2a\u8f6c\u6362\u662f\u628aJennifer\u5750\u6807\u7cfb\u4e0b\u7684 \\([-1,2]\\) \u8f6c\u6362\u4e3a\u6211\u4eec\u6807\u51c6\u5750\u6807\u7cfb\u4e0b\u7684\u5411\u91cf\u3002</p> <p>\u5982\u679c\u6211\u4eec\u6807\u51c6\u5750\u6807\u7cfb\u4e0b\u7684\u7ebf\u6027\u53d8\u6362\u8f6c\u6362\u4e3aJennifer\u5750\u6807\u7cfb\u4e0b\u7684\u8868\u793a\uff0c\u53ef\u4ee5\u8fd9\u4e48\u505a\uff0c\u5148\u505a\u4e00\u4e2a\u57fa\u53d8\u6362\uff08\u4eceJennifer\u5750\u6807\u7cfb\u8f6c\u6362\u4e3a\u6807\u51c6\u5750\u6807\u7cfb\uff09\uff0c\u7136\u540e\u505a\u4e00\u4e2a\u7ebf\u6027\u53d8\u6362\uff0c\u6700\u540e\u4f7f\u7528\u57fa\u53d8\u6362\u7684\u9006\u53d8\u6362\u5c06\u5176\u8f6c\u56deJennifer\u5750\u6807\u7cfb\u3002\u4f8b\u5982\uff0c\u5982\u679c\u6211\u4eec\u60f3\u628a\u4e00\u4e2a\u6807\u51c6\u5750\u6807\u7cfb\u4e0b\u7684\u5de6\u65cb\u8f6c90\u5ea6\u7684\u64cd\u4f5c\u8868\u793a\u4e3aJennifer\u5750\u6807\u7cfb\u4e0b\u7684\u8868\u793a\uff0c\u90a3\u4e48\u6700\u7ec8\u662f\u8fd9\u6837\u7684\u5f62\u5f0f</p> \\[ \\begin{bmatrix}2 &amp; -1\\cr1 &amp; 1\\end{bmatrix}^{-1} \\begin{bmatrix}0 &amp; -1\\cr1 &amp; 0\\end{bmatrix} \\begin{bmatrix}2 &amp; -1\\cr1 &amp; 1\\end{bmatrix}= \\begin{bmatrix}1/3 &amp; -2/3 \\cr 5/3 &amp; -1/3\\end{bmatrix} \\] <p>\u6ce8\u610f\uff0c\u7b49\u5f0f\u53f3\u8fb9\u7684\u53d8\u6362\u5bf9Jennifer\u6765\u8bf4\u5e76\u4e0d\u662f\u5de6\u65cb90\u5ea6\uff0c\u53ef\u80fd\u662f\u4e00\u4e2a\u4ec0\u4e48\u5947\u602a\u53d8\u6362\uff0c\u53ea\u662f\u5b83\u6700\u7ec8\u7684\u6548\u679c\u662f\u5b9e\u73b0\u4e86\u6807\u51c6\u5750\u6807\u7cfb\u4e0b\u7684\u5de6\u65cb90\u5ea6\u3002</p> <p>\u53ef\u4ee5\u5c06\u5176\u8868\u793a\u4e3a\u4e00\u4e2a\u901a\u7528\u7684\u5f62\u5f0f\uff0c\u5176\u4e2dM\u662f\u6807\u51c6\u5750\u6807\u7cfb\u4e0b\u7684\u7ebf\u6027\u53d8\u6362\uff0cA\u662f\u4ece\u76ee\u6807\u5750\u6807\u7cfb\u5230\u6807\u51c6\u5750\u6807\u7cfb\u7684\u57fa\u53d8\u6362\u3002</p> \\[A^{-1}MA=T\\] <p>\u7b80\u800c\u8a00\u4e4b\uff0c\u8fd9\u73a9\u610f\u513f\u7684\u4f5c\u7528\u662f\uff0c\u6211\u53ef\u4ee5\u5728\u76ee\u6807\u5750\u6807\u7cfb\u4e0b\u5b9e\u73b0\u6807\u51c6\u5750\u6807\u7cfb\u4e0b\u7684\u67d0\u79cd\u53d8\u6362\u3002</p> <p>\u5982\u679c\u53cd\u8fc7\u6765\uff0c\u6211\u60f3\u5728\u6807\u51c6\u5750\u6807\u7cfb\u4e0b\u5b9e\u73b0\u76ee\u6807\u5750\u6807\u7cfb\u4e0b\u7684\u67d0\u79cd\u8f6c\u6362\uff0c\u90a3\u4e48\u53ef\u4ee5\u4f7f\u7528M\u505a\u8f6c\u6362</p> \\[M = ATA^{-1}\\]","tags":["\u6570\u5b66","\u56fe\u5f62"]},{"location":"math/31.linear-algebra-3B1B/#_18","title":"\u7279\u5f81\u5411\u91cf\u548c\u7279\u5f81\u503c","text":"<p>\u5bf9\u4e8e\u6709\u4e9b\u53d8\u91cf\u6765\u8bf4\uff0c\u7ebf\u6027\u53d8\u6362\u4ec5\u4ec5\u4f7f\u5b83\u4eec\u4ea7\u751f\u4e86\u4e00\u4e2a\u62c9\u4f38\u6548\u679c\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u5b83\u4eec\u5728\u7ebf\u6027\u53d8\u6362\u540e\u548c\u53d8\u6362\u524d\u4f4d\u4e8e\u540c\u4e00\u6761\u76f4\u7ebf\u4e0a\uff08\u5411\u91cf\u5728\u53d8\u6362\u540e\u4ecd\u7136\u4f4d\u4e8e\u53d8\u6362\u524d\u5f20\u6210\u7684\u7a7a\u95f4\u4e0a\uff09\uff0c\u6211\u4eec\u628a\u8fd9\u4e9b\u5411\u91cf\u79f0\u4f5c\u7279\u5f81\u5411\u91cf(eigenvector)\u3002</p> <p>\u7279\u5f81\u503c\uff08eigenvalue\uff09\u7528\u6765\u8861\u91cf\u7ebf\u6027\u53d8\u6362\u5bf9\u7279\u5f81\u5411\u91cf\u7684\u653e\u7f29\u6bd4\u4f8b\u3002</p> <p>\u4f8b\u5982\uff0c\u5bf9\u4e8e\u4e00\u4e2a\u4e09\u7ef4\u7a7a\u95f4\u4e2d\u7684\u65cb\u8f6c\u64cd\u4f5c\uff0c\u65cb\u8f6c\u8f74\u5c31\u662f\u7279\u5f81\u5411\u91cf\uff0c\u56e0\u4e3a\u5728\u65cb\u8f6c\u524d\u540e\uff0c\u65cb\u8f6c\u8f74\u662f\u4e0d\u4f1a\u53d8\u7684\uff0c\u800c\u4e14\u65cb\u8f6c\u64cd\u4f5c\u4e0d\u4f1a\u653e\u7f29\u4efb\u4f55\u5411\u91cf\uff0c\u56e0\u6b64\u7279\u5f81\u503c\u4e3a1\u3002</p> <p>\u7279\u5f81\u5411\u91cf\u548c\u7279\u5f81\u503c\u6709\u51e0\u79cd\u60c5\u51b5</p> <ol> <li>\u4e0d\u5b58\u5728\u7279\u5f81\u5411\u91cf\uff0c\u4f8b\u5982\u4e8c\u7ef4\u5e73\u9762\u4e0a\u7684\u5de6\u65cb90\u5ea6\u64cd\u4f5c\uff0c\u53ea\u4f1a\u5f97\u5230\u4e00\u4e2a\u503c\u4e3a\u590d\u6570\u7684\u7279\u5f81\u503c\u3002</li> <li>\u53ea\u6709\u4e00\u4e2a\u7279\u5f81\u503c\uff0c\u4f46\u662f\u7279\u5f81\u5411\u91cf\u4e0d\u6b62\u5728\u4e00\u6761\u76f4\u7ebf\u4e0a\u3002\u6bd4\u5982\u4e00\u4e2a\u628a\u6240\u6709\u5411\u91cf\u957f\u5ea6\u5ef6\u957f\u4e00\u500d\u7684\u7ebf\u6027\u53d8\u6362\uff0c\u6240\u6709\u5411\u91cf\u90fd\u662f\u7279\u5f81\u5411\u91cf\u3002</li> <li>\u6709\u591a\u4e2a\u7279\u5f81\u503c\uff0c\u6bcf\u4e2a\u7279\u5f81\u503c\u5bf9\u5e94\u4e0d\u540c\u7684\u76f4\u7ebf\u3002\u4f8b\u5982\u7ebf\u6027\u53d8\u6362 \\(\\begin{bmatrix}3 &amp; 0\\cr0 &amp; 2\\end{bmatrix}\\)\uff0cx\u548cy\u8f74\u65b9\u5411\u7684\u5411\u91cf\u5728\u53d8\u6362\u540e\u4e0d\u4f1a\u6539\u53d8\u65b9\u5411\uff0cx\u8f74\u65b9\u5411\u7684\u7279\u5f81\u5411\u91cf\u5bf9\u5e94\u7684\u7279\u5f81\u503c\u4e3a3\uff0cy\u8f74\u65b9\u5411\u7684\u7279\u5f81\u5411\u91cf\u5bf9\u5e94\u7684\u7279\u5f81\u503c\u662f2\u3002</li> <li>\u4e0d\u4f1a\u51fa\u73b0\u4e00\u4e2a\u76f4\u7ebf\u5bf9\u5e94\u591a\u4e2a\u7279\u5f81\u503c\u7684\u60c5\u51b5\uff0c\u5f88\u5bb9\u6613\u7406\u89e3\uff0c\u6211\u4eec\u4e0d\u53ef\u80fd\u628a\u4e00\u4e2a\u5411\u91cf\u540c\u65f6\u653e\u59271\u500d\u62162\u500d\u3002</li> </ol>","tags":["\u6570\u5b66","\u56fe\u5f62"]},{"location":"math/31.linear-algebra-3B1B/#_19","title":"\u77e9\u9635\u7684\u76f8\u4f3c\u5bf9\u89d2\u5316","text":"<p>\u5bf9\u4e8e\u4e00\u4e2a\u7ebf\u6027\u53d8\u6362\uff0c\u5982\u679c\u5b83\u6709\u591a\u4e2a\u7279\u5f81\u5411\u91cf\uff0c\u5e76\u4e14\u591a\u5230\u80fd\u7528\u7279\u5f81\u5411\u91cf\u7ec4\u6210\u4e00\u7ec4\u57fa\uff0c\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u628a\u8fd9\u4e2a\u7ebf\u6027\u53d8\u6362\u548c\u57fa\u53d8\u6362\u76f8\u7ed3\u5408\uff0c\u5f97\u5230\u5b83\u5728\u65b0\u57fa\u4e0b\u7684\u8868\u793a\u3002\u7531\u4e8e\u7ebf\u6027\u53d8\u6362\u53ea\u4f1a\u5bf9\u7279\u5f81\u5411\u91cf\u4ea7\u751f\u653e\u7f29\u6548\u679c\uff0c\u90a3\u4e48\u4ee5\u7279\u5f81\u5411\u91cf\u4f5c\u4e3a\u57fa\u540e\u8868\u793a\u51fa\u7684\u7ebf\u6027\u53d8\u6362\u5fc5\u7136\u662f\u4e00\u4e2a\u5bf9\u89d2\u77e9\u9635\u3002\u8fd9\u4f1a\u7b80\u5316\u5f88\u591a\u77e9\u9635\u8ba1\u7b97\u3002</p> <p>\u8fd9\u7ec4\u7531\u7279\u5f81\u5411\u91cf\u6784\u6210\u7684\u57fa\u5411\u91cf\u79f0\u4e3a\u7279\u5f81\u57fa\uff08eigenbasis\uff09</p> <p>\u4f8b\u5982\uff0c\u73b0\u5728\u6709\u4e00\u4e2a\u7ebf\u6027\u53d8\u6362 \\(A=\\begin{bmatrix}3 &amp; 1\\cr0 &amp; 2\\end{bmatrix}\\)\uff0c\u5b83\u7684\u7279\u5f81\u503c\u4e3a2\u548c3\uff0c\u7531\u6b64\u53ef\u4ee5\u5f97\u5230\u4e24\u4e2a\u7279\u5f81\u5411\u91cf\uff0c\u7279\u5f81\u503c\u4e3a2\u65f6\uff0c\u5bf9\u5e94\u7684\u7279\u5f81\u5411\u91cf\u4e3a \\(\\begin{bmatrix}-1\\cr1\\end{bmatrix}\\)\uff0c\u7279\u5f81\u503c\u4e3a3\u65f6\uff0c\u5bf9\u5e94\u7684\u7279\u5f81\u5411\u91cf\u4e3a \\(\\begin{bmatrix}1\\cr0\\end{bmatrix}\\)\uff0c\u90a3\u4e48\u6211\u4eec\u8fd9\u4e2a\u7ebf\u6027\u53d8\u6362\u8f6c\u6362\u4e3a\u7279\u5f81\u57fa\u4e0b\u7684\u8868\u793a\uff0c\u7ed3\u679c\u6070\u597d\u4e3a\u4e00\u4e2a\u5bf9\u89d2\u77e9\u9635\u3002</p> \\[ \\begin{bmatrix}-1 &amp; 1\\cr1 &amp; 0\\end{bmatrix}^{-1} \\begin{bmatrix}3 &amp; 1\\cr0 &amp; 2\\end{bmatrix} \\begin{bmatrix}-1 &amp; 1\\cr1 &amp; 0\\end{bmatrix}= \\begin{bmatrix}2 &amp; 0 \\cr 0 &amp; 3\\end{bmatrix} \\] <p>\u53ea\u6709\u5f53\u7279\u5f81\u5411\u91cf\u7684\u4e2a\u6570\u8db3\u591f\u591a\uff0c\u80fd\u591f\u6784\u6210\u4e00\u4e2a\u57fa\u7684\u65f6\u5019\uff0c\u624d\u80fd\u505a\u8fd9\u79cd\u53d8\u6362\u3002</p>","tags":["\u6570\u5b66","\u56fe\u5f62"]},{"location":"math/31.linear-algebra-3B1B/#_20","title":"\u62bd\u8c61\u5411\u91cf\u7a7a\u95f4","text":"<p>\u5982\u679c\u4e00\u4e2a\u4e1c\u897f\u5177\u6709\u53ef\u52a0\u6027\u548c\u6210\u6bd4\u4f8b\u6027\uff0c\u5c31\u53ef\u4ee5\u628a\u5b83\u5f53\u6210\u5411\u91cf\u6765\u64cd\u4f5c\uff0c\u4f8b\u5982\u4e00\u4e2a\u51fd\u6570\u3002</p> <p>\u5982\u679c\u4e00\u4e2a\u8fd0\u7b97\u6ee1\u8db3\u4ee5\u4e0b\u7279\u6027\uff0c\u6211\u4eec\u4f1a\u628a\u5b83\u53eb\u505a\u7ebf\u6027\u8fd0\u7b97\uff0c\u4f8b\u5982\u51fd\u6570\u6c42\u5bfc\u3002</p> \\[L(c\\vec{v}) = cL(\\vec{v})$$ $$L(\\vec{v}+\\vec{w}) = L(\\vec{v}) + L(\\vec{w})\\] <p>\u6709\u65f6\u5019\u4f1a\u628a\u8fd9\u79cd\u7ebf\u6027\u8fd0\u7b97\u53eb\u505a\u7ebf\u6027\u7b97\u5b50\uff08linear operators\uff09</p> <p>\u4f8b\u5982\uff0c\u6211\u4eec\u53ef\u4ee5\u628a\u4e00\u4e2a\u591a\u9879\u5f0f\u51fd\u6570\u8868\u793a\u4e3a\u5411\u91cf\uff0c\u7531\u4e8e\u591a\u9879\u5f0f\u51fd\u6570\u603b\u662f\u8868\u793a\u6210x\u7684\u5e42\u7684\u7ebf\u6027\u7ec4\u5408\u7684\u5f62\u5f0f\uff0c\u56e0\u6b64\u53ef\u4ee5\u5c06\u57fa\u51fd\u6570\u5b9a\u4e49\u4e3a\\(\\(1,x,x^2,x^3...\\)\\)</p> <p>\u6b64\u65f6\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u591a\u9879\u5f0f\u6c42\u5bfc\u64cd\u4f5c\u8868\u793a\u6210\u4e00\u4e2a\u7ebf\u6027\u53d8\u6362</p> \\[ \\begin{bmatrix} 0 &amp; 1 &amp; 0 &amp; 0 &amp; ...\\cr 0 &amp; 0 &amp; 2 &amp; 0 &amp; ...\\cr 0 &amp; 0 &amp; 0 &amp; 3 &amp; ...\\cr 0 &amp; 0 &amp; 0 &amp; 0 &amp; ...\\cr ... &amp; ... &amp; ... &amp; ... &amp; ... \\end{bmatrix} \\] <p>\u5176\u5b9e\u5f88\u5bb9\u6613\u6c42\uff0c\u8fd8\u662f\u5229\u7528\u7ebf\u6027\u4ee3\u6570\u7684\u601d\u7ef4\uff0c\u628a\u77e9\u9635\u7684\u6bcf\u4e00\u5217\u770b\u4f5c\u662f\u4e00\u4e2a\u65b0\u7684\u57fa\u51fd\u6570\uff0c\u56e0\u6b64\uff0c\u53ea\u8981\u5bf9\u539f\u6765\u7684\u6bcf\u4e2a\u57fa\u51fd\u6570\u6c42\u5bfc\uff0c\u5c31\u80fd\u5f97\u5230\u65b0\u7684\u57fa\u51fd\u6570</p> <p>\u7ebf\u6027\u4ee3\u6570\u548c\u51fd\u6570\u7684\u5bf9\u5e94\u5173\u7cfb</p> \u7ebf\u6027\u4ee3\u6570 \u51fd\u6570 \u7ebf\u6027\u53d8\u6362\uff08linear transforamtion\uff09 \u7ebf\u6027\u7b97\u5b50\uff08linear operator\uff09 \u70b9\u79ef\uff08dot product\uff09 \u5185\u79ef\uff08inner product\uff09 \u7279\u5f81\u5411\u91cf\uff08eigenvector\uff09 \u7279\u5f81\u51fd\u6570\uff08eigenfunction\uff09 <p>\u4e3a\u4e86\u80fd\u6b63\u786e\u7684\u5bf9\u4e00\u4e2a\u4e1c\u897f\u505a\u89c4\u8303\uff0c\u641e\u6e05\u695a\u5b83\u7a76\u7adf\u80fd\u4e0d\u80fd\u89c6\u4e3a\u4e00\u4e2a\u5411\u91cf\u7a7a\u95f4\uff0c\u6211\u4eec\u5fc5\u987b\u5bf9\u5411\u91cf\u5b9a\u4e49\u4e00\u5806\u89c4\u5219\uff08\u5411\u91cf\u52a0\u6cd5\u8981\u6ee1\u8db3\u7ed3\u5408\u5f8b\u548c\u4ea4\u6362\u5f8b\u3001\u5b58\u5728\u5411\u91cf\u52a0\u6cd5\u7684\u5355\u4f4d\u5143\u3001\u6807\u91cf\u4e58\u6cd5\u5bf9\u5411\u91cf\u52a0\u6cd5\u6ee1\u8db3\u5206\u914d\u5f8b\u3001\u6807\u91cf\u4e58\u6cd5\u5b58\u5728\u5355\u4f4d\u5143\u7b49\u7b49\uff09\uff0c\u8fd9\u4e9b\u89c4\u5219\u79f0\u4e3a\u516c\u7406\uff08axioms\uff09\uff0c\u4e00\u5171\u516b\u6761\uff0c\u53ea\u6709\u6ee1\u8db3\u8fd9\u516b\u6761\u516c\u7406\uff0c\u624d\u80fd\u628a\u4e00\u4e2a\u4e1c\u897f\u5f53\u4f5c\u5411\u91cf\u7a7a\u95f4\u6765\u5904\u7406\u3002\u4e0b\u9762\u5217\u51fa\u8fd9\u516b\u6761\u516c\u7406</p> <ol> <li>\\(\\vec{u}+(\\vec{v}+\\vec{w}) = (\\vec{u}+\\vec{v})+\\vec{w}\\)</li> <li>\\(\\vec{v}+\\vec{w} = \\vec{w}+\\vec{v}\\)</li> <li>\\(\u5b58\u5728\u4e00\u4e2a\u96f6\u5411\u91cf\uff0c\u4f7f\u5f97 0 + \\vec{v} = \\vec{v}\\)</li> <li>\\(\u5bf9\u4e8e\u4efb\u610f\u5411\u91cf\\vec{v}\uff0c\u5b58\u5728\u9006\u5411\u91cf-\\vec{v}\uff0c\u4f7f\u5f97\\vec{v}+(-\\vec{v} = 0)\\)</li> <li>\\(a(b\\vec{v}) = (ab)\\vec{v}\\)</li> <li>\\(1\\vec{v} = \\vec{v}\\)</li> <li>\\(a(\\vec{v}+\\vec{w}) = a\\vec{v} + a\\vec{w}\\)</li> <li>\\((a+b)\\vec{v} = a\\vec{v}+b\\vec{v}\\)</li> </ol>","tags":["\u6570\u5b66","\u56fe\u5f62"]},{"location":"math/63.affine-transformation/","title":"\u7406\u89e3\u4eff\u5c04\u53d8\u6362","text":"","tags":["\u6570\u5b66","\u56fe\u5f62"]},{"location":"math/63.affine-transformation/#_1","title":"\u53c2\u8003","text":"<p>\u5982\u4f55\u901a\u4fd7\u5730\u8bb2\u89e3\u300c\u4eff\u5c04\u53d8\u6362\u300d\uff1f - \u9a6c\u540c\u5b66\u7684\u56de\u7b54 - \u77e5\u4e4e</p>","tags":["\u6570\u5b66","\u56fe\u5f62"]},{"location":"math/63.affine-transformation/#_2","title":"\u524d\u8a00","text":"<p>\u6700\u8fd1\u770b\u4e86\u4e00\u4e9bunity shader\u76f8\u5173\u7684\u6559\u7a0b\uff0c\u53d1\u73b0unity\u4e2d\u7684\u53d8\u6362\u77e9\u9635\u5168\u90e8\u90fd\u7528\u7684\u662f\u56db\u7ef4\u77e9\u9635\uff0c\u800c\u4e0d\u662f\u4e09\u7ef4\u77e9\u9635\uff0c\u8fdb\u4e00\u6b65\u67e5\u8d44\u6599\u53d1\u73b0\uff0c\u57283D\u56fe\u5f62\u6e32\u67d3\u9886\u57df\u4e2d\uff0c\u6d89\u53ca\u5230\u77e9\u9635\u53d8\u6362\u7684\u5730\u65b9\uff0c\u57fa\u672c\u90fd\u7528\u7684\u662f\u56db\u7ef4\u77e9\u9635\uff0c\u90a3\u4e48\u65e2\u7136\u662f\u4e09\u7ef4\u7ebf\u6027\u7a7a\u95f4\u7684\u53d8\u6362\uff0c\u4e3a\u4ec0\u4e48\u8981\u7528\u56db\u7ef4\u77e9\u9635\u5462\uff1f</p>","tags":["\u6570\u5b66","\u56fe\u5f62"]},{"location":"math/63.affine-transformation/#_3","title":"\u4eff\u5c04\u53d8\u6362","text":"<p>\u5b9e\u9645\u4e0a\uff0c\u4f7f\u7528\u56db\u7ef4\u77e9\u9635\u662f\u4e3a\u4e86\u8ba1\u7b97\u4eff\u5c04\u53d8\u6362\uff0c\u90a3\u4e48\u4ec0\u4e48\u662f\u4eff\u5c04\u53d8\u6362\u5462\uff1f</p> <p>\u4eff\u5c04\u53d8\u6362\uff0c\u7b80\u5355\u6765\u8bf4\uff0c\u5c31\u662f\u7ebf\u6027\u53d8\u6362\u548c\u5e73\u79fb\u4e24\u8005\u7684\u7ed3\u5408\uff0c\u5373\uff0c\u4eff\u5c04\u53d8\u6362=\u7ebf\u6027\u53d8\u6362+\u5e73\u79fb</p>","tags":["\u6570\u5b66","\u56fe\u5f62"]},{"location":"math/63.affine-transformation/#_4","title":"\u4e3a\u4ec0\u4e48\u8981\u5f15\u5165\u4eff\u5c04\u53d8\u6362","text":"<p>\u6211\u4eec\u77e5\u9053\uff0c\u7ebf\u6027\u53d8\u6362\u5728\u53d8\u6362\u524d\u540e\uff0c\u5411\u91cf\u7684\u8d77\u70b9\u59cb\u7ec8\u4f4d\u4e8e\u5750\u6807\u7cfb\u539f\u70b9\uff0c\u4e0d\u4f1a\u53d8\u5316\uff0c\u56e0\u6b64\u7ebf\u6027\u53d8\u6362\u57fa\u672c\u4e0a\u53ea\u80fd\u8868\u793a\u5411\u91cf\u7f29\u653e\u548c\u65cb\u8f6c\u4e24\u79cd\u64cd\u4f5c\uff0c\u5982\u679c\u6211\u4eec\u60f3\u8868\u8fbe\u4e00\u4e2a\u70b9\u6216\u4e00\u4e2a\u5411\u91cf\u7684\u5e73\u79fb\uff0c\u662f\u65e0\u6cd5\u7528\u7ebf\u6027\u53d8\u6362\u6765\u8868\u793a\u7684\u3002</p> <p>\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u5bf9\u4e8e\u5411\u91cf\\(\\vec{a}\\) $$\\vec{a}= \\begin{bmatrix} 1\\cr 2\\cr \\end{bmatrix} $$ \u6211\u4eec\u60f3\u5c06\u5176\u5411x\u8f74\u65b9\u5411\u5e73\u79fb1\u4e2a\u5355\u4f4d\uff0c\u5411y\u8f74\u65b9\u5411\u5e73\u79fb2\u4e2a\u5355\u4f4d\uff0c\u5f97\u5230\u5411\u91cf\\(\\vec{b}\\)\uff0c\u5373 $$\\vec{b}=\\vec{a} +  \\begin{bmatrix} 1\\cr 2\\cr \\end{bmatrix} $$</p> <p>\u5982\u679c\u7528\u7ebf\u6027\u53d8\u6362\u7684\u65b9\u6cd5\u53bb\u8868\u793a\u8fd9\u4e2a\u64cd\u4f5c\uff0c\u6700\u7ec8\u5f97\u5230\u7684\u662f $$\\vec{b}= \\begin{bmatrix} 2\\cr 4\\cr \\end{bmatrix} $$</p> <p>\u90a3\u4e48\u663e\u7136\uff0c\u4ece\u5411\u91cf \\(\\vec{a}\\) \u53d8\u5230\u5411\u91cf \\(\\vec{b}\\) \u540e\uff0c\\(\\vec{b}\\) \u7684\u8d77\u70b9\u8fd8\u662f\u5728\u5750\u6807\u539f\u70b9\uff0c\u5b9e\u9645\u4e0a\u662f\u5bf9 \\(\\vec{a}\\) \u505a\u4e86\u4e00\u4e2a\u65cb\u8f6c+\u62c9\u4f38\uff0c\u5e76\u4e0d\u80fd\u4f53\u73b0\u51fa\u5e73\u79fb\u64cd\u4f5c\u3002</p>","tags":["\u6570\u5b66","\u56fe\u5f62"]},{"location":"math/63.affine-transformation/#_5","title":"\u4eff\u5c04\u53d8\u6362\u7684\u8868\u793a\u65b9\u6cd5","text":"<p>\u4e3a\u4e86\u8868\u793a\u5411\u91cf\u7684\u5e73\u79fb\u64cd\u4f5c\uff0c\u6211\u4eec\u5c06\u4eff\u5c04\u53d8\u6362\u8868\u793a\u4e3a\u4ee5\u4e0b\u5f62\u5f0f \\(\\(\\vec{c}= A\\vec{a} + \\vec{b}\\)\\) $$\\vec{b}= \\begin{bmatrix} t_x\\cr t_y\\cr \\end{bmatrix} $$ \u5176\u4e2d\uff0c\\(A\\) \u4ee3\u8868\u5bf9\u5411\u91cf \\(\\vec{a}\\) \u6240\u505a\u7684\u7ebf\u6027\u53d8\u6362\uff0c\\(\\vec{b}\\) \u4ee3\u8868\u5e73\u79fb\u91cf\uff0c\u5373\uff0c\u5c06 \\(\\vec{a}\\) \u5411x\u8f74\u65b9\u5411\u79fb\u52a8 \\(t_x\\) \u4e2a\u5355\u4f4d\uff0c\u5411y\u8f74\u65b9\u5411\u79fb\u52a8 \\(t_y\\)\u4e2a\u5355\u4f4d\uff0c\\(\\vec{c}\\) \u662f\u6700\u7ec8\u5f97\u5230\u7684\u5411\u91cf</p> <p>\u4e3a\u4e86\u65b9\u4fbf\u4eff\u5c04\u53d8\u6362\u7684\u8fd0\u7b97\uff0c\u5c06\u4eff\u5c04\u53d8\u6362\u4e5f\u8868\u793a\u6210\u77e9\u9635\u8fd0\u7b97\uff0c\u6211\u4eec\u53ef\u4ee5\u7ed9\u5411\u91cf\u52a0\u4e00\u4e2a\u7ef4\u5ea6\uff0c\u5c06\u5176\u8868\u793a\u4e3a\u4ee5\u4e0b\u5f62\u5f0f\uff0c\u65b0\u589e\u7684\u7ef4\u5ea6\u79f0\u4e3a\u9f50\u6b21\u5750\u6807</p> \\[\\begin{bmatrix} \\vec{c}\\cr 1\\cr \\end{bmatrix} =  \\begin{bmatrix} A &amp; \\vec{b}\\cr 0 &amp; 1\\cr \\end{bmatrix} \\begin{bmatrix} \\vec{a}\\cr 1\\cr \\end{bmatrix} \\] <p>\u53ef\u4ee5\u770b\u5230\uff0c\u7ecf\u8fc7\u8ba1\u7b97\u540e \\(\\vec{c}\\) \u4ecd\u7136\u7b49\u4e8e \\(A\\vec{a} + \\vec{b}\\)\uff0c\u4f46\u662f\u8ba1\u7b97\u7684\u5f62\u5f0f\u5374\u53d8\u4e3a\u4e86\u548c\u7ebf\u6027\u53d8\u6362\u4e00\u6837\u7684\u77e9\u9635\u8fd0\u7b97\u5f62\u5f0f</p> <p>\u5f53\u5411\u91cf \\(\\vec{a}\\) \u65b0\u589e\u7684\u4e00\u7ef4\u4e3a0\u65f6\uff0c\u4eff\u5c04\u53d8\u6362\u5c31\u9000\u5316\u4e3a\u4e86\u7ebf\u6027\u53d8\u6362\uff0c\u5373</p> \\[\\begin{bmatrix} \\vec{c}\\cr 0\\cr \\end{bmatrix} =  \\begin{bmatrix} A &amp; \\vec{b}\\cr 0 &amp; 1\\cr \\end{bmatrix} \\begin{bmatrix} \\vec{a}\\cr 0\\cr \\end{bmatrix} \\] <p>\u6b64\u65f6\uff0c\\(\\vec{c}= A\\vec{a}\\)</p>","tags":["\u6570\u5b66","\u56fe\u5f62"]},{"location":"math/64.calculus/","title":"\u5fae\u79ef\u5206\u5b66\u4e60\u7b14\u8bb0","text":"<p>\u4e3b\u8981\u53c2\u8003\u300a\u666e\u6797\u65af\u987f\u5fae\u79ef\u5206\u8bfb\u672c\u300b</p> <p>\u8fd9\u7bc7\u7b14\u8bb0\u4e3b\u8981\u8bb0\u5f55\u5fae\u79ef\u5206\u4e2d\u7684\u4e00\u4e9b\u5b9a\u4e49\u3001\u5b9a\u7406\u548c\u7ed3\u8bba\u3002</p>","tags":["\u6570\u5b66"]},{"location":"math/64.calculus/#_1","title":"\u51fd\u6570\u548c\u56fe\u50cf","text":"<p>\u51fd\u6570\u8981\u6ee1\u8db3\u5782\u7ebf\u68c0\u9a8c\uff0c\u4efb\u610f\u4e00\u6761\u5782\u76f4\u4e8e x \u8f74\u7684\u76f4\u7ebf\u6700\u591a\u53ea\u80fd\u548c\u51fd\u6570\u56fe\u50cf\u76f8\u4ea4\u4e8e\u4e00\u70b9\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u4e00\u4e2a x \u503c\u53ea\u80fd\u5bf9\u5e94\u4e00\u4e2a y \u503c\u3002</p> <p>\u6c34\u5e73\u7ebf\u68c0\u9a8c\uff0c\u5982\u679c\u4e00\u4e2a\u51fd\u6570\u7684\u56fe\u50cf\u548c\u67d0\u6761\u6c34\u5e73\u7ebf\u76f8\u4ea4\u4e8e\u591a\u4e8e\u4e00\u70b9\uff0c\u90a3\u4e48\u8fd9\u4e2a\u51fd\u6570\u5c31\u6ca1\u6709\u53cd\u51fd\u6570\u3002</p> <p>\u51fd\u6570\u548c\u5176\u53cd\u51fd\u6570\u7684\u56fe\u50cf\u5173\u4e8e \\(y=x\\) \u5bf9\u79f0\u3002</p> <p>\u5947\u51fd\u6570\u5173\u4e8e\u539f\u70b9\u5bf9\u79f0\uff0c\\(f(-x) = -f(x)\\)\uff0c\u5076\u51fd\u6570\u5173\u4e8ey\u8f74\u5bf9\u79f0\uff0c\\(f(-x) = f(x)\\)\u3002</p> <p>\u7ebf\u6027\u51fd\u6570\uff0c\u5f62\u5982 \\(y=mx+b\\) \u7684\u51fd\u6570\u3002</p> <p>\u591a\u9879\u5f0f\u51fd\u6570\uff0c\u5f62\u5982 \\(p(x)=a_nx^n+a_{n-1}x^{n-1}+\\ldots+a_1x+a_0\\) \u7684\u51fd\u6570\uff0c\u7b49\u5f0f\u53f3\u4fa7\u53eb n \u6b21\u591a\u9879\u5f0f\uff0cn\u53eb\u505a\u591a\u9879\u5f0f\u7684\u6b21\u6570\uff0c\u6ce8\u610f n \u4e0d\u80fd\u662f\u5206\u6570\uff08\u4e5f\u5c31\u662f\u8bf4\u5f0f\u5b50\u4e0d\u80fd\u5e26\u6839\u53f7\uff09\u3002</p> <p>\u4e8c\u6b21\u51fd\u6570\u7684\u6c42\u6839\u516c\u5f0f\uff0c\\(x=\\frac{-b\\pm\\sqrt{b^2-4ac}}{2a}\\)\u3002</p> <p>\u6709\u7406\u51fd\u6570\uff0c\u5f62\u5982\\(\\frac{p(x)}{q(x)}\\)\u7684\u51fd\u6570\uff0c\u5176\u4e2d \\(p\\) \u548c \\(q\\) \u4e3a\u591a\u9879\u5f0f\u51fd\u6570\u3002</p>","tags":["\u6570\u5b66"]},{"location":"math/64.calculus/#_2","title":"\u4e09\u89d2\u5b66","text":"<p>\u5f27\u5ea6\u548c\u89d2\u5ea6\u7684\u5173\u7cfb\uff1a\\(\\theta = \\pi = 180^{\\circ}\\)\u3002</p> <p>\u4f59\u5272\u3001\u6b63\u5272\u548c\u4f59\u5207\u5206\u522b\u662f \\(\\csc(x) = \\frac{1}{\\sin(x)}, \\sec(x) = \\frac{1}{\\cos(x)}, \\cot(x) = \\frac{1}{\\tan(x)}\\)\u3002</p> <p>\u5e38\u7528\u4e09\u89d2\u51fd\u6570\u503c\uff1a</p> \\(0\\) \\(\\pi/6\\) \\(\\pi/4\\) \\(\\pi/3\\) \\(\\pi/2\\) \\(\\sin\\) \\(0\\) \\(\\tfrac{1}{2}\\) \\(\\tfrac{\\sqrt{2}}{2}\\) \\(\\tfrac{\\sqrt{3}}{2}\\) \\(1\\) \\(\\cos\\) \\(1\\) \\(\\tfrac{\\sqrt{3}}{2}\\) \\(\\tfrac{\\sqrt{2}}{2}\\) \\(\\tfrac{1}{2}\\) \\(0\\) \\(\\tan\\) \\(0\\) \\(\\tfrac{\\sqrt{3}}{3}\\) \\(1\\) \\(\\sqrt{3}\\) \u672a\u5b9a\u4e49 <p>\u6bd5\u8fbe\u54e5\u62c9\u65af\u5b9a\u7406 \u548c \u52fe\u80a1\u5b9a\u7406 \u662f\u540c\u4e00\u4e2a\u5b9a\u7406\u3002</p> <p>\u53c2\u8003\u89d2\uff0c\u5c04\u7ebf\u548c x \u8f74\u7684\u6700\u5c0f\u5939\u89d2\uff0c\u662f\u4e2a\u6b63\u503c\uff0c\u4e0d\u540c\u4e8e\u8c61\u9650\u89d2\uff0c\u8c61\u9650\u89d2\u662f\u4ecex\u8f74\u6b63\u65b9\u5411\u9006\u65f6\u9488\u65cb\u8f6c\u5230\u5c04\u7ebf\u6240\u7ecf\u8fc7\u7684\u89d2\u5ea6\uff0c\u4e00\u822c\u7528 \\(\\theta\\) \u8868\u793a\uff0c\u5982\u679c\u662f\u987a\u65f6\u9488\u65cb\u8f6c\uff0c\u5219\u7528 \\(-\\theta\\) \u8868\u793a\u3002</p> <p>\\(\\sin(x)\\) \u548c \\(\\tan(x)\\) \u662f\u5947\u51fd\u6570\uff0c\\(\\cos(x)\\) \u662f\u5076\u51fd\u6570\u3002</p>","tags":["\u6570\u5b66"]},{"location":"math/64.calculus/#_3","title":"\u4e09\u89d2\u6052\u7b49\u5f0f","text":"\\[ \\tan(x) = \\frac{\\sin(x)}{\\cos(x)} \\] <p>\u6bd5\u8fbe\u54e5\u62c9\u65af\u5b9a\u7406\uff1a</p> \\[\\sin^2(x) + \\cos^2(x) = 1\\] \\[1 + \\tan^2(x) = \\frac{1}{\\cos^2(x)}\\] \\[1 + \\frac{1}{\\tan^2(x)} = \\frac{1}{\\sin^2(x)}\\] <p>\u4e92\u4f59\uff0c\u4e24\u4e2a\u89d2\u4e4b\u548c\u4e3a90\u5ea6\uff0c\u5219\u79f0\u8fd9\u4e24\u4e2a\u89d2\u4e92\u4f59\uff0c\u6709\u4e00\u4e9b\u4e09\u89d2\u51fd\u6570\u662f\u4ee5\u201cco\u201d\u5f00\u5934\u7684\uff0c\u4f8b\u5982 \\(\\cos(x), \\cot(x)\\)\uff0c\u5b58\u5728\u4ee5\u4e0b\u4e92\u4f59\u5173\u7cfb\uff1a</p> \\[\\sin(\\frac{\\pi}{2}-x) = \\cos(x)\\] \\[\\tan(\\frac{\\pi}{2}-x) = \\cot(x)\\] <p>\u548c\u5dee\u5316\u79ef\u516c\u5f0f\uff1a</p> \\[\\sin(A+B) = \\sin(A)\\cos(B) + \\cos(A)\\sin(B)\\] \\[\\cos(A+B) = \\cos(A)\\cos(B) - \\sin(A)\\sin(B)\\] \\[\\sin(A-B) = \\sin(A)\\cos(B) - \\cos(A)\\sin(B)\\] \\[\\cos(A-B) = \\cos(A)\\cos(B) + \\sin(A)\\sin(B)\\] <p>\u79ef\u5316\u548c\u5dee\u516c\u5f0f\uff1a</p> \\[\\sin(A)\\sin(B) = \\frac{1}{2}[\\cos(A-B) - \\cos(A+B)]\\] \\[\\cos(A)\\cos(B) = \\frac{1}{2}[\\cos(A-B) + \\cos(A+B)]\\] \\[\\sin(A)\\cos(B) = \\frac{1}{2}[\\sin(A+B) + \\sin(A-B)]\\] <p>\u500d\u89d2\u516c\u5f0f\uff1a</p> \\[\\sin(2x) = 2\\sin(x)\\cos(x)\\] \\[\\cos(2x) = \\cos^2(x) - \\sin^2(x) = 2\\cos^2(x) - 1 = 1 - 2\\sin^2(x)\\] <p>\u201c\u5947\u53d8\u5076\u4e0d\u53d8\uff0c\u7b26\u53f7\u770b\u8c61\u9650\u201d\uff0c\u4efb\u4e00\u89d2\u5ea6\u90fd\u53ef\u4ee5\u8868\u793a\u4e3a \\(\\theta = k\\frac{\\pi}{2} + \\alpha\\)\uff0c\\(|{\\alpha}|&lt;\\frac{\\pi}{4}\\) \uff0c</p> <ul> <li>\u5f53k\u4e3a\u5076\u6570\u65f6\uff0c\u51fd\u6570\u540d\u4e0d\u53d8</li> <li>\u5f53k\u4e3a\u5947\u6570\u65f6\uff0c\u51fd\u6570\u540d\u6539\u53d8\uff0c\u5373 \\(\\sin \\leftrightarrow \\cos, \\tan \\leftrightarrow \\cot\\)</li> </ul> <p>\u7136\u540e\u5728\u524d\u9762\u52a0\u4e0a\u628a \\(\\alpha\\)\u770b\u6210\u9510\u89d2\u65f6\u539f\u51fd\u6570\u503c\u7684\u7b26\u53f7\u3002</p> <p></p>","tags":["\u6570\u5b66"]},{"location":"math/64.calculus/#_4","title":"\u6781\u9650","text":"<p>\u6781\u9650\u5206\u4e94\u79cd\uff0c\\(\\lim\\limits_{x \\to a}, \\lim\\limits_{x \\to a^+}, \\lim\\limits_{x \\to a^-}, \\lim\\limits_{x \\to +\\infty}, \\lim\\limits_{x \\to -\\infty}\\)\uff0c\u5176\u4e2d x \u8d8b\u8fd1\u4e8e a \u7684\u6781\u9650\u5206\u4e3a\u53cc\u4fa7\u6781\u9650\u548c\u5355\u4fa7\u6781\u9650\u3002</p> <p>\u8bef\u89e3\uff0c\u4e00\u4e2a\u51fd\u6570\u4e0d\u53ef\u80fd\u548c\u4ed6\u7684\u6e10\u8fd1\u7ebf\u76f8\u4ea4\uff0c\u53cd\u4f8b\uff1a\\(y=\\frac{sin(x)}{x}\\)\u3002</p> <p>\u4e09\u660e\u6cbb\u5b9a\u7406\uff08\u5939\u903c\u5b9a\u7406\uff09\uff0c\u5982\u679c\u51fd\u6570f\u5939\u5728\u51fd\u6570g\uff0ch\u4e4b\u95f4\uff0c\u5f53g\uff0ch\u5728\u67d0\u4e00\u70b9a\u7684\u6781\u9650\u503c\u76f8\u540c\u65f6\uff0cf\u5728\u70b9a\u7684\u6781\u9650\u4e5f\u662f\u8fd9\u4e2a\u503c</p> <p>\u4e24\u79cd\u6781\u9650\u4e0d\u5b58\u5728\u7684\u60c5\u51b5\uff08\u8fd9\u91cc\u628a\u6b63\u8d1f\u65e0\u7a77\u89c6\u4e3a\u6709\u6548\u6781\u9650\u503c\uff09\uff1a</p> <ol> <li>\u51fd\u6570\u56fe\u50cf\u4e0d\u505c\u632f\u8361\uff0c\u4e0d\u80fd\u6536\u655b\u4e8e\u67d0\u4e2a\u503c\u3002</li> <li>\u51fd\u6570\u5728\u67d0\u70b9\u7684\u5de6\u4fa7\u548c\u53f3\u4fa7\u6781\u9650\u503c\u4e0d\u76f8\u7b49\u3002</li> </ol>","tags":["\u6570\u5b66"]},{"location":"math/64.calculus/#_5","title":"\u6c42\u89e3\u591a\u9879\u5f0f\u6781\u9650","text":"","tags":["\u6570\u5b66"]},{"location":"math/64.calculus/#x-a","title":"x -&gt; a \u65f6\u6709\u7406\u51fd\u6570\u7684\u6781\u9650","text":"<p>\u4e0d\u5b9a\u5f0f</p> <p>\u5bf9\u6709\u7406\u51fd\u6570\u6c42\\(x \\to a\\)\u65f6\u7684\u51fd\u6570\u6781\u9650\uff0c\u8fd8\u6709\u53ef\u80fd\u7b97\u51fa \\(\\frac{0}{0}\\)\uff0c\u8fd9\u53eb\u201c\u4e0d\u5b9a\u5f0f\u201d \uff0c\u53ef\u4ee5\u901a\u8fc7\u56e0\u5f0f\u5206\u89e3\u7b49\u65b9\u6cd5\u5bf9\u539f\u51fd\u6570\u505a\u4e00\u4e2a\u53d8\u5f62\u518d\u53bb\u6c42\u6781\u9650\u503c</p> <p>\u5bf9\u591a\u9879\u5f0f\u578b\u51fd\u6570\u6c42\\(x \\to -\\infty\\)\u65f6\u7684\u51fd\u6570\u6781\u9650\u65f6\uff0c\u8981\u6ce8\u610f\uff0c\u9879\u7684\u6b21\u6570\u4f1a\u5f71\u54cd\u9879\u7684\u6b63\u8d1f</p> <p>\u7acb\u65b9\u5dee\u516c\u5f0f\uff1a\\(a^3 - b^3 = (a-b)(a^2 + ab + b^2)\\)</p> <p>\\(\\frac{n}{0}\\) \u4e0d\u4e00\u5b9a\u610f\u5473\u7740\u65e0\u7a77</p> <p>\u6709\u7406\u51fd\u6570\u6c42\\(x \\to a\\)\u65f6\u7684\u51fd\u6570\u6781\u9650\uff0c\u5982\u679c\u7b97\u51fa\u6765\u662f\\(\\frac{n}{0}\\)\uff0c\u6781\u9650\u4e0d\u4e00\u5b9a\u662f\u65e0\u7a77\uff0c\u5982\u679c x \u5728 a \u4e24\u4fa7\u7684\u503c\u4e0d\u540c\uff0c\u5219\u53cc\u4fa7\u6781\u9650\u4e0d\u5b58\u5728\u3002</p> <p>\u4f8b\u5982 \\(\\lim\\limits_{x\\to1}\\frac{2x^2-x-6}{x(x-1)^3}\\)\uff0c\u5b83\u5728 x=1 \u5904\u7684\u6781\u9650\u662f\\(\\frac{-5}{0}\\)\uff0c\u4f46\u5b9e\u9645\u4e0a\u5b83\u7684\u53cc\u4fa7\u6781\u9650\u5e76\u4e0d\u5b58\u5728\uff0c\u5de6\u4fa7\u6781\u9650\u662f\\(+\\infty\\)\uff0c\u53f3\u4fa7\u6781\u9650\u662f\\(-\\infty\\)</p> <p>\u7528desmos\u628a\u4e0a\u9762\u8fd9\u4e2a\u51fd\u6570\u56fe\u50cf\u753b\u51fa\u6765\uff1a</p> <p></p>","tags":["\u6570\u5b66"]},{"location":"math/64.calculus/#x-a_1","title":"x -&gt; a \u65f6\u5e73\u65b9\u6839\u7684\u6781\u9650","text":"<p>\u4f8b\u5982\uff0c\u4ee5\u4e0b\u6781\u9650\u5982\u679c\u76f4\u63a5\u4ee3\u51655\uff0c\u4f1a\u5f97\u5230\u4e0d\u5b9a\u5f0f\\(\\frac{0}{0}\\)\uff0c</p> \\[\\lim\\limits_{x \\to 5} \\frac{\\sqrt{x^2-9}-4}{x-5}\\] <p>\u53ef\u4ee5\u901a\u8fc7\u5206\u5b50\u5206\u6bcd\u540c\u4e58\u4ee5\u5206\u5b50\u7684\u5171\u8f6d\u8868\u8fbe\u5f0f \\(\\sqrt{x^2-9}+4\\) \u6765\u5316\u7b80\u3002</p> <p>\u5171\u8f6d\u8868\u8fbe\u5f0f\uff0c\u5bf9\u4e8e\u5f62\u5982 \\(a+b\\) \u7684\u8868\u8fbe\u5f0f\uff0c\u5176\u5171\u8f6d\u8868\u8fbe\u5f0f\u4e3a \\(a-b\\)\uff0c\u53cd\u4e4b\u4ea6\u7136\u3002</p> <p>\u5171\u8f6d\u8868\u8fbe\u5f0f\u7684\u4e58\u79ef\u7b49\u4e8e\u4e24\u4e2a\u9879\u7684\u5e73\u65b9\u5dee\uff0c\u5373 \\((a+b)(a-b) = a^2 - b^2\\)\u3002</p> <p>\u590d\u6570\u5171\u8f6d\u7684\u4e58\u79ef\u7b49\u4e8e\u590d\u6570\u7684\u6a21\u7684\u5e73\u65b9\uff0c\u5373\u82e5 \\(z=a+bi\\)\uff0c\u5219 \\(z\\overline{z} = (a+bi)(a-bi)=a^2 + b^2\\)\u3002\uff08\u4e58\u79ef\u91cc\u9762\u6ca1\u6709 \\(i\\)\uff0c \u590d\u6570\u7684\u4e58\u6cd5\u8fd0\u7b97\u89c4\u5219\u548c\u5b9e\u6570\u4e0d\u592a\u4e00\u6837\uff09</p>","tags":["\u6570\u5b66"]},{"location":"math/64.calculus/#x-","title":"x -&gt; \u221e \u65f6\u6709\u7406\u51fd\u6570\u7684\u6781\u9650","text":"<p>\u7ed3\u679c\u53d6\u51b3\u4e8e\u5206\u5b50\u548c\u5206\u6bcd\u7684\u6700\u9ad8\u6b21\u9879\u7684\u7cfb\u6570\u548c\u6b21\u6570\uff0c\u8fd9\u4e2a\u5f88\u5bb9\u6613\u7406\u89e3\uff0c\u6ca1\u4ec0\u4e48\u597d\u8bf4\u7684\u3002</p>","tags":["\u6570\u5b66"]},{"location":"math/64.calculus/#x-_1","title":"x -&gt; \u221e \u65f6\u591a\u9879\u5f0f\u578b\u51fd\u6570\u7684\u6781\u9650","text":"<p>\u6ce8\u610f\uff0c\u8fd9\u91cc\u662f\u591a\u9879\u5f0f\u578b\u51fd\u6570\uff0c\u4e0d\u662f\u591a\u9879\u5f0f\u51fd\u6570\uff0c\u56e0\u4e3a\u5f0f\u5b50\u91cc\u6709\u5206\u6570\u6b21\u6570\u6216\u8005\u6839\u53f7\uff0c\u5f0f\u5b50\u770b\u8d77\u6765\u50cf\u4e2a\u591a\u9879\u5f0f\u3002</p> <p>\u4f8b\u5982\uff0c\u4e24\u4e2a\u591a\u9879\u5f0f\u578b\u51fd\u6570\u76f8\u9664\uff0c</p> \\[\\lim\\limits_{x \\to \\infty} \\frac{\\sqrt{16x^4 + 8}+3x}{2x^2+6x+1}\\] <p>\u89e3\u6cd5\u662f\uff0c\u60f3\u529e\u6cd5\u7ed9\u6839\u53f7\u91cc\u52a0\u4e2a\u5206\u6bcd \\(x^4\\)\uff0c\u5176\u4ed6\u7c7b\u4f3c\u7684\u6781\u9650\u90fd\u662f\u8fd9\u4e48\u5316\u7b80\u3002</p>","tags":["\u6570\u5b66"]},{"location":"math/64.calculus/#x-_2","title":"x -&gt; -\u221e \u65f6\u7684\u6781\u9650","text":"<p>\u6ce8\u610f\u7b26\u53f7\uff0c\u5c24\u5176\u662f\u5e26\u6b21\u6570\u548c\u6839\u53f7\u7684\u65f6\u5019\u3002</p>","tags":["\u6570\u5b66"]},{"location":"math/64.calculus/#_6","title":"\u5305\u542b\u7edd\u5bf9\u503c\u7684\u6781\u9650","text":"<p>\u6ce8\u610f\u8ba1\u7b97\u53cc\u4fa7\u6781\u9650</p>","tags":["\u6570\u5b66"]},{"location":"math/64.calculus/#_7","title":"\u8fde\u7eed\u548c\u53ef\u5bfc","text":"","tags":["\u6570\u5b66"]},{"location":"math/64.calculus/#_8","title":"\u8fde\u7eed\u6027","text":"<p>\u51fd\u6570\u5728\u67d0\u4e00\u70b9\u4e0a\u8fde\u7eed\u65f6\uff0c\u5fc5\u987b\u6ee1\u8db3\u5728\u8be5\u70b9\u4e0a\u5de6\u53f3\u6781\u9650\u5b58\u5728\u4e14\u76f8\u7b49\uff0c\u5e76\u4e14\u7b49\u4e8e\u51fd\u6570\u5728\u8be5\u70b9\u7684\u503c\u3002</p> <p>\u8fde\u7eed\u51fd\u6570\u7684\u5e38\u6570\u500d\u4ecd\u7136\u662f\u8fde\u7eed\u7684\uff0c\u4e24\u4e2a\u8fde\u7eed\u51fd\u6570\u7684\u548c\u3001\u5dee\u3001\u79ef\u3001\u590d\u5408\u4ecd\u7136\u662f\u8fde\u7eed\u7684\uff0c\u4e24\u4e2a\u8fde\u7eed\u51fd\u6570\u7684\u5546\u5728\u5206\u6bcd\u4e0d\u4e3a\u96f6\u7684\u60c5\u51b5\u4e0b\u4ecd\u7136\u662f\u8fde\u7eed\u7684\u3002</p> <p>\u4ecb\u503c\u5b9a\u7406\uff0c\u5982\u679c\u51fd\u6570 \\(f\\) \u5728\u95ed\u533a\u95f4 \\([a,b]\\) \u4e0a\u8fde\u7eed\uff0c\u4e14 \\(f(a)\\) \u548c \\(f(b)\\) \u5f02\u53f7\uff0c\u5219\u5b58\u5728 \\(c \\in (a,b)\\) \u4f7f\u5f97 \\(f(c)=0\\)\u3002</p> <p>\u4ecb\u503c\u5b9a\u7406\u53ef\u4ee5\u7528\u6765\u8bc1\u660e\u65b9\u7a0b\u6709\u89e3\u3002</p> <p>\u6700\u5927\u503c\u4e0e\u6700\u5c0f\u503c\u5b9a\u7406\uff0c\u5982\u679c\u51fd\u6570 \\(f\\) \u5728\u95ed\u533a\u95f4 \\([a,b]\\) \u4e0a\u8fde\u7eed\uff0c\u5219 \\(f\\) \u5728\u8be5\u533a\u95f4\u4e0a\u5fc5\u6709\u6700\u5927\u503c\u548c\u6700\u5c0f\u503c\u3002</p>","tags":["\u6570\u5b66"]},{"location":"math/64.calculus/#_9","title":"\u53ef\u5bfc\u6027","text":"<p>\u5bfc\u6570\u7684\u51e0\u4f55\u610f\u4e49\u662f\u5207\u7ebf\u7684\u659c\u7387\u3002\uff08\u56e0\u4e3a\u5b83\u5b9e\u9645\u4e0a\u6c42\u7684\u662f\u5207\u7ebf\u548c x \u8f74\u5939\u89d2\u7684 tan\u503c\uff09</p> <p>\u5bfc\u6570\u516c\u5f0f\uff1a</p> \\[ f'(x) = \\lim\\limits_{h \\to 0} \\frac{f(x+h)-f(x)}{h} = \\lim\\limits_{h \\to 0} \\frac{\\Delta y}{\\Delta x} = \\frac{dy}{dx} \\] <p>\u4e8c\u9636\u5bfc\u6570\uff1a</p> \\[ f''(x) = \\frac{d^2y}{dx^2} = \\frac{d}{dx}\\left(\\frac{dy}{dx}\\right) \\] <p>\u4e09\u9636\u5bfc\u6570\uff1a</p> \\[ f'''(x) = f^{(3)}(x) = \\frac{d^3y}{dx^3} = \\frac{d^3}{dx^3}(y) = \\frac{d}{dx}\\left(\\frac{d^2y}{dx^2}\\right) \\] <p>\u6781\u9650\u4e0d\u5b58\u5728\u65f6\uff0c\u5bfc\u6570\u5c31\u4e0d\u5b58\u5728\u3002</p> <p>\u53ef\u5bfc\u5fc5\u5b9a\u8fde\u7eed\uff0c\u8fde\u7eed\u4e0d\u4e00\u5b9a\u53ef\u5bfc\u3002</p>","tags":["\u6570\u5b66"]},{"location":"math/64.calculus/#_10","title":"\u5fae\u5206","text":"<p>\u6211\u4eec\u5e38\u89c1\u7684\u6c42\u5bfc\u516c\u5f0f\u90fd\u53ef\u4ee5\u4f7f\u7528\u5bfc\u6570\u7684\u5b9a\u4e49\u63a8\u5bfc\u51fa\u6765\u3002</p> <p>\\(x^n\\) \u7684\u5bfc\u6570\uff1a</p> \\[ \\frac{d}{dx}\\left(x^n\\right) = nx^{n-1}  \\] <p>\u5e38\u6570\u7684\u5bfc\u6570\u4e3a\u96f6\uff1a</p> \\[ \\frac{d}{dx}(C) = 0 \\]","tags":["\u6570\u5b66"]},{"location":"math/64.calculus/#_11","title":"\u6c42\u5bfc\u6cd5\u5219","text":"<p>\u5e38\u6570\u500d\u6cd5\u5219\uff1a</p> \\[ \\frac{d}{dx}(k \\cdot f(x)) = k \\cdot f'(x) \\] <p>\u548c\u5dee\u6cd5\u5219\uff1a</p> \\[ \\frac{d}{dx}(f(x) \\pm g(x)) = f'(x) \\pm g'(x) \\] <p>\u4e58\u79ef\u6cd5\u5219\uff1a</p> \\[ \\frac{d}{dx}(f(x) \\cdot g(x)) = f'(x) \\cdot g(x) + f(x) \\cdot g'(x) \\] <p>\u66f4\u591a\u53d8\u91cf\u7684\u4e58\u79ef\u6cd5\u5219\uff1a</p> \\[ \\frac{d}{dx}(f(x) \\cdot g(x) \\cdot h(x)) = f'(x) \\cdot g(x) \\cdot h(x) + f(x) \\cdot g'(x) \\cdot h(x) + f(x) \\cdot g(x) \\cdot h'(x) \\] <p>\u6bcf\u4e2a\u53d8\u91cf\u5fc5\u987b\u5f97\u6c42\u5bfc\u4e00\u6b21\uff0c\u7136\u540e\u4e58\u4e0a\u5176\u4ed6\u53d8\u91cf\u3002</p> <p>\u5546\uff1a</p> \\[ \\frac{d}{dx}\\left(\\frac{f(x)}{g(x)}\\right) = \\frac{f'(x) \\cdot g(x) - f(x) \\cdot g'(x)}{(g(x))^2} \\] <p>\u94fe\u5f0f\u6c42\u5bfc\u6cd5\u5219\uff1a</p> \\[ \\frac{d}{dx}f(g(x)) = f'(g(x)) \\cdot g'(x) \\] <p>\u6362\u4e2a\u5199\u6cd5\uff1a</p> \\[ \\frac{dy}{dx} = \\frac{dy}{du} \\cdot \\frac{du}{dx} \\]","tags":["\u6570\u5b66"]},{"location":"math/64.calculus/#_12","title":"\u7528\u5bfc\u6570\u6c42\u6781\u9650","text":"<p>\u5bfc\u6570\u672c\u8eab\u662f\u7528\u6781\u9650\u5b9a\u4e49\u7684\uff0c\u6240\u4ee5\u6709\u4e9b\u6781\u9650\u53ef\u4ee5\u901a\u8fc7\u5bfc\u6570\u6765\u6c42\u89e3\u3002</p>","tags":["\u6570\u5b66"]},{"location":"math/64.calculus/#_13","title":"\u5206\u6bb5\u51fd\u6570\u7684\u5bfc\u6570","text":"<p>\u5206\u6bb5\u51fd\u6570\u5728\u5206\u6bb5\u8fde\u63a5\u70b9\u5904\u4e5f\u53ef\u4ee5\u53ef\u5bfc\uff0c\u4f46\u8981\u6ee1\u8db3\uff1a</p> <ol> <li>\u5de6\u53f3\u6781\u9650\u5b58\u5728\u4e14\u76f8\u7b49\uff08\u8fde\u7eed\uff09</li> <li>\u5de6\u53f3\u5bfc\u6570\u5b58\u5728\u4e14\u76f8\u7b49\uff08\u5149\u6ed1\uff09</li> </ol>","tags":["\u6570\u5b66"]},{"location":"math/64.calculus/#differentiation","title":"\u5fae\u5206\uff08Differentiation\uff09","text":"<p>\u672c\u7ae0\u5185\u5bb9\u53ea\u6709\u8fd9\u4e48\u591a\uff0c\u90fd\u5728\u8bb2\u600e\u4e48\u6c42\u5bfc\u3002</p> <p>\u5fae\u5206\u5c31\u662f\u6c42\u6781\u5176\u5fae\u5c0f\u7684\u51fd\u6570\u53d8\u5316\u7387\uff0c\u4e5f\u5c31\u662f\u6c42\u5bfc\u3002</p>","tags":["\u6570\u5b66"]},{"location":"math/64.calculus/#_14","title":"\u4e09\u89d2\u51fd\u6570\u5fae\u5206","text":"","tags":["\u6570\u5b66"]},{"location":"math/64.calculus/#_15","title":"\u4e09\u89d2\u51fd\u6570\u6781\u9650","text":"<p>\u5c0f\u6570\u7684\u60c5\u51b5</p> \\[ \\lim\\limits_{x \\to 0} \\frac{\\sin x}{x} = 1 \\] \\[ \\lim\\limits_{x \\to 0} \\frac{\\tan x}{x} = 1 \\] \\[ \\lim\\limits_{x \\to 0} \\frac{1 - \\cos x}{x} = 0 \\] <p>\u5927\u6570\u7684\u60c5\u51b5</p> \\[ \\lim\\limits_{x \\to \\infty} \\frac{\\sin (\u4efb\u4f55\u4e1c\u897f)}{x^\\alpha} = 0, \\quad \\alpha &gt; 0 \\]","tags":["\u6570\u5b66"]},{"location":"math/64.calculus/#_16","title":"\u4e09\u89d2\u51fd\u6570\u7684\u5bfc\u6570","text":"\\[ \\frac{d}{dx}(\\sin x) = \\cos x \\] \\[ \\frac{d}{dx}(\\cos x) = -\\sin x \\] \\[ \\frac{d}{dx}(\\tan x) = \\sec^2 x = \\frac{1}{\\cos^2 x} \\]","tags":["\u6570\u5b66"]},{"location":"math/64.calculus/#_17","title":"\u7b80\u8c10\u8fd0\u52a8","text":"<p>\u7b80\u8c10\u8fd0\u52a8\u662f\u6307\u7269\u4f53\u5728\u67d0\u4e00\u5e73\u8861\u4f4d\u7f6e\u9644\u8fd1\u6765\u56de\u632f\u8361\u7684\u8fd0\u52a8\uff0c\u4f8b\u5982\u5f39\u7c27\u632f\u5b50\u3002</p> <p>\u5f39\u7c27\u632f\u5b50\u7684\u8fd0\u52a8\u7528\u5230\u4e86\u4e09\u89d2\u51fd\u6570\uff0c\u5047\u8bbe \\(x\\) \u662f \u5f39\u7c27\u632f\u5b50\u5728\u65f6\u523b \\(t\\) \u7684\u4f4d\u7f6e\uff0c\\(x\\) \u7684\u65b9\u7a0b\u5927\u6982\u53ef\u4ee5\u5199\u6210\uff1a</p> \\[x = 3\\sin(4t)\\]","tags":["\u6570\u5b66"]},{"location":"math/64.calculus/#_18","title":"\u4e00\u4e2a\u6709\u8da3\u7684\u51fd\u6570","text":"\\[y = x^2\\sin\\left(\\frac{1}{x}\\right)\\] <p>\u8fd9\u4e2a\u51fd\u6570\u5728 \\(x=0\\) \u5904\u6ca1\u6709\u610f\u4e49\uff0c\u6211\u4eec\u5c06\u5176\u505a\u4e2a\u6269\u5c55\uff0c</p> \\[ f(x) = \\begin{cases} x^2\\sin\\left(\\frac{1}{x}\\right), &amp; x \\neq 0 \\\\ 0, &amp; x = 0 \\end{cases} \\] <p>\u901a\u8fc7\u6c42 \\(x = 0\\) \u5de6\u53f3\u4e24\u4fa7\u7684\u6781\u9650\u53ef\u77e5\uff0c\u51fd\u6570\u5728 \\(x=0\\) \u5904\u8fde\u7eed\u3002</p> <p>\u7136\u540e\u6211\u4eec\u80fd\u591f\u6c42\u51fa \\(x \\neq 0\\) \u65f6\u7684\u5bfc\u6570\uff1a</p> \\[ f'(x) = 2x\\sin\\left(\\frac{1}{x}\\right) - \\cos\\left(\\frac{1}{x}\\right) \\] <p>\\(x=0\\) \u5904\u7684\u5bfc\u6570\u53ea\u80fd\u901a\u8fc7\u5bfc\u6570\u7684\u5b9a\u4e49\u6765\u6c42\uff0c</p> \\[ f'(0) = \\lim\\limits_{h \\to 0} \\frac{f(0+h)-f(0)}{h} = \\lim\\limits_{h \\to 0} h\\sin\\left(\\frac{1}{h}\\right) = 0 \\] <p>\u4f46\u5f53\u6211\u4eec\u6c42 \\(x \\to 0\\) \u65f6\u7684\u5bfc\u6570\u6781\u9650\u65f6\uff0c\u53d1\u73b0\u5de6\u53f3\u6781\u9650\u90fd\u4e0d\u5b58\u5728\uff0c\u8fd9\u610f\u5473\u7740\uff0c\u51fd\u6570\u5728 \\(x=0\\) \u5904\u5bfc\u6570\u4e0d\u8fde\u7eed\u3002</p> <p>\u4ece\u51fd\u6570\u56fe\u50cf\u4e0a\u6765\u770b\uff0c\u5bfc\u6570\u5728 \\(x=0\\) \u5904\u4e3a \\(0\\)\uff0c\u800c\u5728 \\(x=0\\) \u9644\u8fd1\u9707\u8361\u5f97\u975e\u5e38\u5389\u5bb3\u3002</p> <p>\u8fd9\u662f\u4e00\u4e2a\u672c\u8eab\u8fde\u7eed\u4e14\u53ef\u5bfc\uff0c\u4f46\u5bfc\u6570\u4e0d\u8fde\u7eed\u7684\u4f8b\u5b50\u3002</p>","tags":["\u6570\u5b66"]},{"location":"math/64.calculus/#_19","title":"\u9690\u51fd\u6570\u6c42\u5bfc","text":"<p>\u9690\u51fd\u6570\u662f\u6307\u6ca1\u6709\u663e\u5f0f\u8868\u793a\u4e3a \\(y=f(x)\\) \u5f62\u5f0f\u7684\u51fd\u6570\u3002</p> <p>\u8003\u8651\u5706\u7684\u65b9\u7a0b \\(x^2 + y^2 = 4\\)\uff0c\u6c42\u5bfc\u6570 \\(\\frac{dy}{dx}\\)\uff0c\u53ef\u4ee5\u8fd9\u4e48\u505a\uff1a</p> \\[ \\frac{d}{dx}(x^2 + y^2) = \\frac{d}{dx}(4) \\] \\[ \\frac{d}{dx}(x^2) + \\frac{d}{dx}(y^2) = \\frac{d}{dx}(4) \\] \\[ 2x + 2y \\frac{dy}{dx} = 0 \\] \\[ \\frac{dy}{dx} = -\\frac{x}{y} \\]","tags":["\u6570\u5b66"]},{"location":"math/64.calculus/#_20","title":"\u76f8\u5173\u53d8\u5316\u7387","text":"<p>\u5982\u679c x \u548c y \u662f\u4e24\u4e2a\u76f8\u5173\u53d8\u91cf\uff08\u6bd4\u5982\u4f53\u79ef\u548c\u534a\u5f84\uff09\uff0c\u6211\u4eec\u77e5\u9053 x \u76f8\u5bf9\u4e8e\u65f6\u95f4 t \u7684\u53d8\u5316\u7387 \\(\\frac{dx}{dt}\\)\uff0c\u60f3\u8981\u6c42 y \u76f8\u5bf9\u4e8e\u65f6\u95f4 t \u7684\u53d8\u5316\u7387 \\(\\frac{dy}{dt}\\)\uff0c\u53ef\u4ee5\u5229\u7528\u9690\u51fd\u6570\u6c42\u5bfc\u7684\u65b9\u5f0f\u6765\u6c42\u3002</p>","tags":["\u6570\u5b66"]},{"location":"math/64.calculus/#_21","title":"\u6307\u6570\u51fd\u6570\u548c\u5bf9\u6570\u51fd\u6570","text":"<p>\u5bf9\u6570\u51fd\u6570 $ y = \\log_b x $, \u8981\u6c42\u6ee1\u8db3 \\(b&gt;0\\) \u4e14 \\(b \\neq 1\\)\u3002</p>","tags":["\u6570\u5b66"]},{"location":"math/64.calculus/#_22","title":"\u6307\u6570\u6cd5\u5219","text":"\\[ b^0 = 1 \\] \\[ b^x b^y = b^{x+y} \\] \\[ \\frac{b^x}{b^y} = b^{x-y} \\] \\[ (b^x)^k = b^{kx} \\]","tags":["\u6570\u5b66"]},{"location":"math/64.calculus/#_23","title":"\u5bf9\u6570\u6cd5\u5219","text":"\\[ \\log_b (xy) = \\log_b x + \\log_b y \\] \\[ \\log_b \\left(\\frac{x}{y}\\right) = \\log_b x - \\log_b y \\] \\[ \\log_b (x^k) = k \\log_b x \\] <p>\u6362\u5e95\u6cd5\u5219</p> \\[ \\log_b x = \\frac{\\log_k x}{\\log_k b} \\]","tags":["\u6570\u5b66"]},{"location":"math/64.calculus/#e","title":"\u81ea\u7136\u5e38\u6570e","text":"<p>e\u662f\u4e00\u4e2a\u65e0\u7406\u6570\uff0c\u7ea6\u7b49\u4e8e2.71828\u3002</p> <p>e \u6765\u81ea\u4e8e\u4f2f\u52aa\u5229\u63d0\u51fa\u7684\u590d\u5229\u8ba1\u7b97\uff0c\u5047\u8bbe\u4e00\u5bb6\u94f6\u884c\u7684\u5e74\u5229\u7387\u4e3a r \uff0c\u672c\u91d1\u4e3a A\uff0c\u4e00\u5e74\u8ba1\u7b97 n \u6b21\u590d\u5229\uff0c\u6301\u7eed t \u5e74\uff0c\u90a3\u4e48 t \u5e74\u540e\u7684\u603b\u91d1\u989d\u4e3a\uff1a</p> \\[A\\left(1+\\frac{r}{n}\\right)^{nt} \\] <p>\u5047\u8bbe\u672c\u91d1\u4e3a 1 \u5143\uff0c\u5e74\u5229\u7387\u4e3a 100% \uff0c\u90a3\u4e48\u4e00\u5e74\u540e\u7684\u603b\u91d1\u989d\u4e3a\uff1a</p> \\[\\left(1+\\frac{1}{n}\\right)^n \\] <p>\u6211\u4eec\u60f3\u770b\u770b\uff0c\u5f53\u6bcf\u5e74\u8ba1\u7b97\u590d\u5229\u7684\u6b21\u6570\u8d8b\u8fd1\u4e8e\u65e0\u7a77\u5927\u65f6\uff08\u5373 n \u8d8b\u8fd1\u4e8e\u65e0\u7a77\u5927\u65f6\uff09\uff0c\u603b\u91d1\u989d\u662f\u5426\u5b58\u5728\u4e00\u4e2a\u4e0a\u9650\uff0c\u4e5f\u5c31\u662f\u4e0b\u9762\u8fd9\u4e2a\u6781\u9650\u662f\u5426\u5b58\u5728\uff1a</p> \\[\\lim\\limits_{n \\to \\infty} \\left(1+\\frac{1}{n}\\right)^n \\] <p>\u8fd9\u4e2a\u6781\u9650\u662f\u5b58\u5728\u7684\uff0c\u5e76\u4e14 e \u4ee3\u8868\u7684\u5c31\u662f\u8fd9\u4e2a\u6781\u9650 \uff0c\u5373</p> \\[ e = \\lim\\limits_{n \\to \\infty} \\left(1+\\frac{1}{n}\\right)^n \\] <p>\u8fd8\u6709\u4ee5\u4e0b\u4e8b\u5b9e\uff1a</p> \\[\\lim\\limits_{n \\to \\infty} (1+\\frac{x}{n})^{n} = e^x \\] <p>\u548c</p> \\[\\lim\\limits_{h \\to 0} (1+xh)^{\\frac{1}{h}} = e^x \\] <p>\u8fd9\u6837\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u8ba1\u7b97\u4efb\u610f\u5229\u7387\u4e0b\u7684\u91d1\u989d\u4e86\u3002</p> <p>\u4ee5 e \u4e3a\u5e95\u7684\u5bf9\u6570\u79f0\u4e3a\u81ea\u7136\u5bf9\u6570\uff0c\u8bb0\u4f5c \\(\\ln x\\) \u6216 \\(\\log x\\)\u3002</p>","tags":["\u6570\u5b66"]},{"location":"math/64.calculus/#_24","title":"\u6307\u6570\u548c\u5bf9\u6570\u51fd\u6570\u6c42\u5bfc","text":"\\[ \\frac{d}{dx}(\\ln(x)) = \\frac{1}{x} \\] \\[ \\frac{d}{dx}(log_b(x)) = \\frac{1}{x \\ln(b)} \\] \\[ \\frac{d}{dx}(e^x) = e^x \\] \\[ \\frac{d}{dx}(b^x) = b^x \\ln(b) \\]","tags":["\u6570\u5b66"]},{"location":"math/64.calculus/#_25","title":"\u6307\u6570\u51fd\u6570\u548c\u5bf9\u6570\u51fd\u6570\u6781\u9650","text":"\\[ \\lim\\limits_{h \\to 0} \\frac{e^h -1}{h} = 1 \\] \\[ \\lim\\limits_{h \\to 0} \\frac{\\ln(1+h)}{h} = 1 \\] <p>\u6307\u6570\u51fd\u6570\u589e\u957f\u8fc5\u901f\uff0c\u5feb\u4e8e\u4efb\u4f55\u591a\u9879\u5f0f\u51fd\u6570\uff1a</p> \\[ \\lim\\limits_{x \\to \\infty} \\frac{x^n}{e^x} = 0, \\quad n \\text{\u4e3a\u4efb\u610f\u6b63\u6574\u6570} \\] <p>\u6269\u5c55\u4e3a\u66f4\u4e00\u822c\u7684\u7ed3\u8bba\uff1a</p> \\[ \\lim\\limits_{x \\to \\infty} \\frac{\u591a\u9879\u5f0f\u578b}{\u6307\u6570\u4e3a\u5927\u7684\u3001\u6b63\u7684\u591a\u9879\u5f0f\u578b\u7684\u6307\u6570\u51fd\u6570} = 0 \\] <p>\u5bf9\u6570\u51fd\u6570\u589e\u957f\u7f13\u6162\uff0c\u6162\u4e8e\u4efb\u4f55\u591a\u9879\u5f0f\u51fd\u6570\uff1a</p> \\[ \\lim\\limits_{x \\to \\infty} \\frac{\\ln(x)}{x^n} = 0, \\quad n \\text{\u4e3a\u4efb\u610f\u6b63\u6574\u6570} \\] <p>\u6269\u5c55\u4e3a\u66f4\u4e00\u822c\u7684\u7ed3\u8bba\uff1a</p> \\[ \\lim\\limits_{x \\to \\infty} \\frac{\u4efb\u4f55\u6b63\u7684\u591a\u9879\u5f0f\u578b\u7684\u5bf9\u6570\u51fd\u6570}{\u5177\u6709\u6b63\u7684\u5e42\u6b21\u7684\u591a\u9879\u5f0f\u578b} = 0 \\] <p>\u5bf9\u6570\u51fd\u6570\u7684\u53e6\u4e00\u4e2a\u6781\u9650\uff1a</p> \\[ \\lim\\limits_{x \\to 0^+} x^n \\ln(x) = 0, \\quad n \\text{\u4e3a\u4efb\u610f\u6b63\u6574\u6570} \\]","tags":["\u6570\u5b66"]},{"location":"math/64.calculus/#_26","title":"\u53d6\u5bf9\u6570\u6c42\u5bfc\u6cd5","text":"\\[ y = f(x)^{g(x)} \\] <p>\u4e0a\u9762\u8fd9\u79cd\u5f62\u5f0f\u7684\u51fd\u6570\uff0c\u53ef\u4ee5\u5148\u5bf9\u4e24\u8fb9\u53d6\u5bf9\u6570\uff0c\u7136\u540e\u518d\u505a\u9690\u51fd\u6570\u6c42\u5bfc\u3002</p> <p>\u6216\u8005\uff0c\u53ef\u4ee5\u5c06 \\(y = f(x)^{g(x)}\\) \u6539\u5199\u4e3a \\(y = e^{g(x) \\ln(f(x))}\\)\uff0c\u7136\u540e\u518d\u6c42\u5bfc\u3002</p>","tags":["\u6570\u5b66"]},{"location":"math/64.calculus/#_27","title":"\u6307\u6570\u589e\u957f\u548c\u6307\u6570\u8870\u53d8","text":"<p>\u5982\u679c$ \\frac{dy}{dx} = ky$\uff0c\u90a3\u4e48 \\(y = Ae^{kx}\\)\uff0c\u8fd9\u8bf4\u660e\uff0c\u6307\u6570\u51fd\u6570\u7684\u503c\u8d8a\u5927\uff0c\u5b83\u7684\u53d8\u5316\u7387\u8d8a\u5927\u3002</p> <p>\u6362\u4e2a\u5199\u6cd5\uff0c\u53ef\u4ee5\u5f97\u5230\u6307\u6570\u589e\u957f\u65b9\u7a0b\uff1a</p> \\[ P(t) = P_0 e^{kt} \\] <p>k \u662f\u589e\u957f\u5e38\u6570\u3002</p> <p>\u540c\u7406\uff0c\u6307\u6570\u8870\u53d8\u65b9\u7a0b\uff1a</p> \\[ P(t) = P_0 e^{-kt} \\] <p>k \u662f\u8870\u53d8\u5e38\u6570\u3002</p> <p>\u653e\u5c04\u6027\u5143\u7d20\u7684\u8870\u53d8\u9075\u5faa\u6307\u6570\u8870\u53d8\u89c4\u5f8b\u3002</p> <p>\u534a\u8870\u671f\uff0c\u662f\u6307\u67d0\u7269\u8d28\u7684\u6570\u91cf\u8870\u53d8\u5230\u539f\u6765\u4e00\u534a\u6240\u9700\u8981\u7684\u65f6\u95f4\uff0c\u6211\u4eec\u7528 \\(t_{1/2}\\) \u6765\u8868\u793a\u534a\u8870\u671f\uff0c\u90a3\u4e48\u6709\u4ee5\u4e0b\u5173\u7cfb\uff1a</p> \\[ k = \\frac{\\ln(2)}{t_{1/2}} \\]","tags":["\u6570\u5b66"]},{"location":"math/64.calculus/#_28","title":"\u53cc\u66f2\u51fd\u6570","text":"<p>\u53cc\u66f2\u4f59\u5f26\u51fd\u6570\uff1a</p> \\[\\cosh x = \\frac{e^x + e^{-x}}{2} \\] <p>\u53cc\u66f2\u6b63\u5f26\u51fd\u6570\uff1a</p> \\[\\sinh x = \\frac{e^x - e^{-x}}{2} \\] <p>\u53cc\u66f2\u6b63\u5207\u51fd\u6570\uff1a</p> \\[ \\tanh x = \\frac{\\sinh x}{\\cosh x} \\] <p>\u6052\u7b49\u5f0f\uff1a</p> \\[\\cosh^2 x - \\sinh^2 x = 1 \\] <p>\u5fae\u5206\uff1a</p> \\[\\frac{d}{dx}(\\sinh x) = \\cosh x \\] \\[\\frac{d}{dx}(\\cosh x) = \\sinh x \\] <p>\u548c\u4e09\u89d2\u51fd\u6570\u7c7b\u4f3c\uff0c\u53cc\u66f2\u51fd\u6570\u4e5f\u80fd\u5b9a\u4e49\u51fa\u4f59\u5272\u3001\u6b63\u5272\u3001\u4f59\u5207\u7b49\u51fd\u6570\uff0c\u8fd9\u91cc\u7565\u8fc7\u3002</p>","tags":["\u6570\u5b66"]},{"location":"math/64.calculus/#_29","title":"\u53cd\u51fd\u6570\u548c\u53cd\u4e09\u89d2\u51fd\u6570","text":"","tags":["\u6570\u5b66"]},{"location":"math/64.calculus/#_30","title":"\u53cd\u51fd\u6570","text":"<p>\u524d\u9762\u8bb2\u8fc7\uff0c\u5982\u679c\u4e00\u4e2a\u51fd\u6570\u56fe\u50cf\u6709\u6da8\u6709\u8dcc\uff0c\u5b83\u4e0d\u80fd\u901a\u8fc7\u6c34\u5e73\u7ebf\u68c0\u9a8c\uff0c\u5c31\u6ca1\u6709\u53cd\u51fd\u6570\uff0c\u6240\u4ee5\u53ea\u6709\u5355\u8c03\u51fd\u6570\u624d\u6709\u53cd\u51fd\u6570\uff0c\u5b83\u7684\u5bfc\u6570\u53ef\u4ee5\u6709\u67d0\u4e00\u70b9\u4e3a\u96f6\uff0c\u4f46\u4e0d\u80fd\u6709\u4e00\u4e2a\u533a\u95f4\u7684\u5bfc\u6570\u4e3a\u96f6\u3002</p>","tags":["\u6570\u5b66"]},{"location":"math/64.calculus/#_31","title":"\u53cd\u51fd\u6570\u7684\u5bfc\u6570","text":"<p>\u53cd\u51fd\u6570\u7684\u5bfc\u6570\u53ef\u4ee5\u7528\u9690\u51fd\u6570\u6c42\u5bfc\u7684\u65b9\u5f0f\u5f97\u5230\uff0c\u5047\u8bbe\u51fd\u6570 \\(f\\) \u6709\u53cd\u51fd\u6570 \\(y = f^{-1}(x)\\)\uff0c\u6211\u4eec\u5c06\u5176\u6539\u5199\u4e3a \\(x = f(y)\\)\uff08\u8fd9\u5176\u5b9e\u5c31\u662f\u539f\u51fd\u6570\uff09\uff0c\u7136\u540e\u5bf9\u4e24\u8fb9\u505a\u9690\u51fd\u6570\u6c42\u5bfc\uff1a</p> \\[ \\frac{d}{dx}(f(y)) = \\frac{d}{dx}(x) \\] \\[ \\frac{dy}{dx} = \\frac{1}{f'(y)} \\] <p>\u6240\u4ee5\uff0c\u53cd\u51fd\u6570\u7684\u5bfc\u6570\u5b9e\u9645\u4e0a\u662f\u539f\u51fd\u6570\u5bfc\u6570\u7684\u5012\u6570\uff0c\u53ea\u4e0d\u8fc7\u8981\u5c06\u53cd\u51fd\u6570\u7684 y \u503c\u4ee3\u5165\u8ba1\u7b97\u3002</p>","tags":["\u6570\u5b66"]},{"location":"math/64.calculus/#_32","title":"\u53cd\u4e09\u89d2\u51fd\u6570","text":"<p>\u8981\u4f7f\u4e09\u89d2\u51fd\u6570\u7684\u53cd\u51fd\u6570\u5b58\u5728\uff0c\u6211\u4eec\u5fc5\u987b\u9650\u5236\u53cd\u51fd\u6570\u7684\u4f5c\u7528\u57df\u548c\u503c\u57df\u3002</p> <p>\u53cd\u6b63\u5f26\u51fd\u6570 \\(\\sin^{-1} x\\)\u662f\u5947\u51fd\u6570\uff0c\u5b83\u7684\u5b9a\u4e49\u57df\u662f \\([-1,1]\\)\uff0c\u503c\u57df\u662f \\(\\left[-\\frac{\\pi}{2}, \\frac{\\pi}{2}\\right]\\)\u3002</p> \\[ \\frac{d}{dx}(\\sin^{-1} x) = \\frac{1}{\\sqrt{1-x^2}} \\] <p>\u53cd\u4f59\u5f26\u51fd\u6570 \\(\\cos^{-1} x\\)\u4e0d\u662f\u5947\u51fd\u6570\u4e5f\u4e0d\u662f\u5076\u51fd\u6570\uff0c\u5b83\u7684\u5b9a\u4e49\u57df\u662f \\([-1,1]\\)\uff0c\u503c\u57df\u662f \\([0, \\pi]\\)\u3002</p> \\[ \\frac{d}{dx}(\\cos^{-1} x) = -\\frac{1}{\\sqrt{1-x^2}} \\] <p>\u53cd\u6b63\u5f26\u51fd\u6570\u548c\u53cd\u4f59\u5f26\u51fd\u6570\u5b58\u5728\u4ee5\u4e0b\u5173\u7cfb\uff1a</p> \\[ \\sin^{-1} x + \\cos^{-1} x = \\frac{\\pi}{2} \\] <p>\u53cd\u6b63\u5207\u51fd\u6570 \\(\\tan^{-1} x\\)\u662f\u5947\u51fd\u6570\uff0c\u5b83\u7684\u5b9a\u4e49\u57df\u662f \\((-\\infty, +\\infty)\\)\uff0c\u5373\u5b9e\u6570\u57df \\(R\\)\uff0c\u503c\u57df\u662f \\(\\left(-\\frac{\\pi}{2}, \\frac{\\pi}{2}\\right)\\)\u3002</p> \\[ \\frac{d}{dx}(\\tan^{-1} x) = \\frac{1}{1+x^2} \\] <p>\uff08\u53cd\u6b63\u5272\u3001\u53cd\u4f59\u5272\u548c\u53cd\u4f59\u5207\u51fd\u6570\u7565\u8fc7\uff09</p>","tags":["\u6570\u5b66"]},{"location":"math/64.calculus/#_33","title":"\u53cd\u53cc\u66f2\u51fd\u6570","text":"<p>\u53cd\u53cc\u66f2\u4f59\u5f26\u51fd\u6570 \\(\\cosh^{-1} x\\) \u65e2\u4e0d\u662f\u5947\u51fd\u6570\u4e5f\u4e0d\u662f\u5076\u51fd\u6570\uff0c\u5b83\u7684\u5b9a\u4e49\u57df\u662f \\([1, +\\infty)\\)\uff0c\u503c\u57df\u662f \\([0, +\\infty)\\)\u3002</p> \\[ \\frac{d}{dx}(\\cosh^{-1} x) = \\frac{1}{\\sqrt{x^2-1}} \\] <p>\u53cd\u53cc\u66f2\u6b63\u5f26\u51fd\u6570 \\(\\sinh^{-1} x\\) \u662f\u5947\u51fd\u6570\uff0c\u5b83\u7684\u5b9a\u4e49\u57df\u548c\u503c\u57df\u90fd\u662f \\(R\\)\u3002</p> \\[ \\frac{d}{dx}(\\sinh^{-1} x) = \\frac{1}{\\sqrt{x^2+1}} \\] <p>\u53cd\u53cc\u66f2\u6b63\u5207\u51fd\u6570 \\(\\tanh^{-1} x\\) \u662f\u5947\u51fd\u6570\uff0c\u5b83\u7684\u5b9a\u4e49\u57df\u662f \\((-1,1)\\)\uff0c\u503c\u57df\u662f \\(R\\)\u3002</p> \\[ \\frac{d}{dx}(\\tanh^{-1} x) = \\frac{1}{1-x^2} \\] <p>\u5176\u4ed6\u7565\u3002</p>","tags":["\u6570\u5b66"]},{"location":"math/64.calculus/#_34","title":"\u5bfc\u6570\u548c\u56fe\u50cf","text":"<p>\u6781\u503c\u5206\u5168\u5c40\u6781\u503c\u548c\u5c40\u90e8\u6781\u503c\u3002</p> <p>\u51fd\u6570\u4e34\u754c\u70b9\uff0c\u662f\u6307\u51fd\u6570\u5bfc\u6570\u4e3a\u96f6\u6216\u4e0d\u5b58\u5728\u7684\u70b9\u3002</p> <p>\u6781\u503c\u5b9a\u7406\uff0c\u6700\u5927\u503c\u548c\u6700\u5c0f\u503c\u4e00\u5b9a\u4f4d\u4e8e\u51fd\u6570\u7684\u4e34\u754c\u70b9\u6216\u533a\u95f4\u7aef\u70b9\u5904\u3002</p> <p>\u7f57\u5c14\u5b9a\u7406\uff0c\u5982\u679c\u51fd\u6570 \\(f\\) \u5728\u95ed\u533a\u95f4 \\([a,b]\\) \u4e0a\u8fde\u7eed\uff0c\u5728\u5f00\u533a\u95f4 \\((a,b)\\) \u4e0a\u53ef\u5bfc\uff0c\u4e14 \\(f(a) = f(b)\\)\uff0c\u90a3\u4e48\u5b58\u5728 \\(c \\in (a,b)\\) \u4f7f\u5f97 \\(f'(c) = 0\\)\u3002</p> <p>\u4e2d\u503c\u5b9a\u7406\uff0c\u5982\u679c\u51fd\u6570 \\(f\\) \u5728\u95ed\u533a\u95f4 \\([a,b]\\) \u4e0a\u8fde\u7eed\uff0c\u5728\u5f00\u533a\u95f4 \\((a,b)\\) \u4e0a\u53ef\u5bfc\uff0c\u90a3\u4e48\u5b58\u5728 \\(c \\in (a,b)\\) \u4f7f\u5f97</p> \\[f'(c) = \\frac{f(b)-f(a)}{b-a} \\] <p>\u4e8c\u9636\u5bfc\u6570\u53ef\u4ee5\u7528\u6765\u5224\u65ad\u51fd\u6570\u7684\u51f9\u51f8\u6027\uff0c\u5982\u679c \\(f''(x) &gt; 0\\)\uff0c\u5219\u51fd\u6570\u5728\u8be5\u70b9\u662f\u51f9\u7684\uff08\u5411\u4e0a\u5f00\u53e3\uff09\uff0c\u5982\u679c \\(f''(x) &lt; 0\\)\uff0c\u5219\u51fd\u6570\u5728\u8be5\u70b9\u662f\u51f8\u7684\uff08\u5411\u4e0b\u5f00\u53e3\uff09\u3002</p> <p>\u51fd\u6570\u51f9\u51f8\u6027\u53d1\u751f\u6539\u53d8\u7684\u70b9\u53eb\u505a\u62d0\u70b9\u3002</p> <p>\u62d0\u70b9\u5904\u7684\u4e8c\u9636\u5bfc\u6570\u4e3a\u96f6\uff0c\u4f46\u4e8c\u9636\u5bfc\u6570\u4e3a\u96f6\u7684\u70b9\u4e0d\u4e00\u5b9a\u662f\u62d0\u70b9\u3002</p>","tags":["\u6570\u5b66"]},{"location":"math/64.calculus/#_35","title":"\u7ed8\u5236\u51fd\u6570\u56fe\u50cf","text":"<p>\u7ed8\u5236\u51fd\u6570\u56fe\u50cf\u8981\u8003\u8651\u5bf9\u79f0\u6027\u3001x\u8f74\u622a\u8ddd\u3001y\u8f74\u622a\u8ddd\u3001\u5b9a\u4e49\u57df\u3001\u5782\u76f4\u6e10\u8fd1\u7ebf\u3001\u6c34\u5e73\u6e10\u8fd1\u7ebf\u3001\u51fd\u6570\u7684\u6b63\u8d1f\u3001\u5bfc\u6570\u7684\u6b63\u8d1f\u3001\u6700\u5927\u503c\u548c\u6700\u5c0f\u503c\u3001\u4e8c\u9636\u5bfc\u6570\u7684\u6b63\u8d1f\u3001\u62d0\u70b9\u3002</p>","tags":["\u6570\u5b66"]},{"location":"math/64.calculus/#_36","title":"\u6700\u4f18\u5316\u548c\u7ebf\u6027\u5316","text":"","tags":["\u6570\u5b66"]},{"location":"math/64.calculus/#_37","title":"\u6700\u4f18\u5316","text":"<p>\u6c42\u5168\u5c40\u6700\u5927\u503c\u548c\u6700\u5c0f\u503c\u3002</p>","tags":["\u6570\u5b66"]},{"location":"math/64.calculus/#_38","title":"\u7ebf\u6027\u5316","text":"<p>\u4f7f\u7528\u5bfc\u6570\u505a\u4f30\u7b97\u3002</p> <p>\u5bf9\u4e8e\u51fd\u6570 f\uff0c\u505a x=a \u5904\u7684\u5207\u7ebf L\uff0c\u8fd9\u4e2a\u7ebf\u6027\u51fd\u6570 L \u88ab\u79f0\u4e3a f \u5728 x=a\u5904\u7684\u7ebf\u6027\u5316\u3002</p> \\[ f(x) \\approx L(x) = f(a) + f'(a)(x-a) \\] <p>\u5982\u679c\u6211\u4eec\u4ee4 \\(\\Delta x = x - a\\)\uff0c\u90a3\u4e48\u7ebf\u6027\u5316\u53ef\u4ee5\u5199\u6210\uff1a</p> \\[ f(a + \\Delta x) \\approx L(a + \\Delta x) = f(a) + f'(a) \\Delta x \\] <p>\u5f53 \\(\\Delta x\\) \u5f88\u5c0f\u65f6\uff0c\\(f'(a) \\Delta x\\) \u5b9e\u9645\u4e0a\u5c31\u662f \u51fd\u6570 f \u7684\u5fae\u5206\uff0c\u5373</p> \\[ df = f'(a) \\Delta x \\] <p>\u4f8b\u5982\uff0c\u6211\u4eec\u60f3\u4f30\u7b97 \\(6.01^2\\) \u65f6\uff0c\u53ef\u4ee5\u4ee4 \\(f(x) = x^2\\)\uff0c\\(a=6\\)\uff0c\\(\\Delta x = 0.01\\)\uff0c\u90a3\u4e48\uff0c\u4f30\u503c\u4e3a\uff1a</p> \\[ \\begin{aligned} f(6.01) &amp;\\approx L(6.01) \\\\         &amp;= f(6) + f'(6) \\cdot 0.01 \\\\         &amp;= 36 + 12 \\cdot 0.01 \\\\         &amp;= 36.12 \\end{aligned} \\] <p>\u8bef\u5dee</p> <p>\u8bbe</p> \\[ r(x) = f(x) - L(x) \\] <p>r(x) \u662f f \u5728 x=a \u5904\u7684\u4f30\u8ba1\u8bef\u5dee\u3002</p> <p>\u5982\u679c x \u548c a \u4e4b\u95f4\u5b58\u5728 f \u7684\u4e8c\u9636\u5bfc\u6570\uff0c\u90a3\u4e48\u5b58\u5728\u8fd9\u6837\u4e00\u4e2a\u516c\u5f0f\uff1a</p> \\[ r(x) = \\frac{1}{2}f''(c)(x-a)^2 \\] <p>\u5176\u4e2d c \u662f x \u548c a \u4e4b\u95f4\u7684\u67d0\u4e2a\u503c\u3002</p> <p>r(x) \u548c f''(c) \u540c\u53f7\uff0c\u6240\u4ee5\u5982\u679c f \u5728\u533a\u95f4\u4e0a\u662f\u51f9\u7684\uff08\u5373 f''(x) &gt; 0, r(x)&gt;0\uff09\uff0c\u90a3\u4e48\u6211\u4eec\u7684\u4f30\u7b97\u662f\u4f4e\u4f30\uff0c\u53cd\u4e4b\u5219\u662f\u9ad8\u4f30\u3002</p> <p>\u6211\u4eec\u8fd8\u80fd\u6839\u636e f''(x) \u7684\u7edd\u5bf9\u503c \u5728 x \u548c a \u4e4b\u95f4\u7684\u6700\u5927\u503c M \u6765\u4f30\u7b97\u8bef\u5dee\u6700\u5927\u7edd\u5bf9\u503c\uff1a</p> \\[ |r(x)| \\leqslant \\frac{1}{2}M(x-a)^2 \\]","tags":["\u6570\u5b66"]},{"location":"math/64.calculus/#_39","title":"\u725b\u987f\u6cd5","text":"<p>\u4e00\u79cd\u7ebf\u6027\u4f30\u8ba1\u65b9\u6cd5\u3002</p> <p>\u5047\u8bbe\u6211\u4eec\u60f3\u8981\u4f30\u7b97 \\(f(x) = 0\\) \u7684\u89e3\uff0c\u6211\u4eec\u53ef\u4ee5\u5148\u731c\u4e00\u4e2a\u8fd1\u4f3c\u89e3 \\(a\\)\uff0c\u7136\u540e\u8ba1\u7b97\u8be5\u70b9\u5904\u7684\u5207\u7ebf\u4e0e x \u8f74\u7684\u4ea4\u70b9 \\(b\\)\uff08\u5207\u7ebf\u7684 x \u8f74\u622a\u8ddd\uff09\uff0c\u518d\u7528 \\(b\\) \u4f5c\u4e3a\u65b0\u7684\u8fd1\u4f3c\u89e3\uff0c\u91cd\u590d\u8fd9\u4e2a\u8fc7\u7a0b\uff0c\u76f4\u5230\u8fbe\u5230\u6240\u9700\u7684\u7cbe\u5ea6\u4e3a\u6b62\u3002</p> <p>\u5373\uff0c</p> \\[ b = a-\\frac{f(a)}{f'(a)} \\] <p>\uff08\u6c42\u89e3\u524d\u9762\u63d0\u5230\u7684\u7684\u5207\u7ebf\u65b9\u7a0b \\(L(x) = f(a) + f'(x)(x-a)\\) \u7684 x \u8f74\u622a\u8ddd\u5373\u53ef\u5f97\u5230 b\u3002\uff09</p> <p>\u725b\u987f\u6cd5\u4f1a\u5728\u4ee5\u4e0b\u51e0\u79cd\u60c5\u51b5\u4e0b\u5931\u6548\uff1a</p> <ul> <li>f'(x) \u975e\u5e38\u5c0f\uff0c\u63a5\u8fd1\u4e8e0\uff0c\u8fd9\u4f1a\u4f7f\u5f97\u5207\u7ebf\u51e0\u4e4e\u5e73\u884c\u4e8e x \u8f74\uff0c\u4ece\u800c\u5bfc\u81f4\u65b0\u7684\u8fd1\u4f3c\u89e3\u504f\u79bb\u5f97\u975e\u5e38\u8fdc\u3002</li> <li>f(x) \u4e0d\u53ea\u6709\u4e00\u4e2a\u89e3\uff0c\u53ef\u80fd\u5f97\u5230\u7684\u4e0d\u662f\u6211\u4eec\u60f3\u8981\u7684\u89e3\u3002</li> <li>\u8fd1\u4f3c\u503c\u8d8a\u6765\u8d8a\u504f\u79bb\u5b9e\u9645\u503c\u3002</li> <li>\u53ef\u80fd\u9677\u5165\u5faa\u73af\u51fa\u4e0d\u6765\u3002</li> </ul> <p>\u53ef\u4ee5\u7528\u725b\u987f\u8fed\u4ee3\u6cd5\u4f30\u8ba1 \\(\\sqrt 2\\) \u7684\u503c\uff0c\u4ee4 \\(f(x) = x^2 - 2\\)\uff0c\u6c42\u89e3 \\(f(x) = 0\\) \u5373\u53ef\u3002</p>","tags":["\u6570\u5b66"]},{"location":"math/64.calculus/#_40","title":"\u6d1b\u5fc5\u8fbe\u6cd5\u5219","text":"<p>\u5bf9\u4e8e\\(\\frac{0}{0}\\)\u548c\\(\\frac{\\infty}{\\infty}\\)\u4e24\u79cd\u4e0d\u5b9a\u5f0f\uff0c\u53ef\u4ee5\u4f7f\u7528\u6d1b\u5fc5\u8fbe\u6cd5\u5219\u6765\u6c42\u6781\u9650\u3002</p> <p>\u6d1b\u5fc5\u8fbe\u6cd5\u5219\uff1a</p> \\[ \\lim\\limits_{x \\to a} \\frac{f(x)}{g(x)} = \\lim\\limits_{x \\to a} \\frac{f'(x)}{g'(x)} \\]","tags":["\u6570\u5b66"]},{"location":"math/64.calculus/#integration","title":"\u79ef\u5206\uff08Integration\uff09","text":"<p>\u4f38\u7f29\u7ea7\u6570\uff1a</p> \\[ \\sum_{n=a}^{b}(f(n)-f(n-1)) = f(b) - f(a-1) \\] <p>\u5b9a\u79ef\u5206\u7684\u5b9a\u4e49\uff1a</p> \\[ \\int_a^b f(x) \\, dx = \\lim\\limits_{mesh \\to 0} \\sum_{j=1}^{n} f(c_j) (x_j-x_{j-1}) \\] <p>\u6c42\u548c\u90e8\u5206\u53eb\u505a\u9ece\u66fc\u548c\uff0c\u8fd9\u79cd\u6c42\u79ef\u5206\u7684\u65b9\u5f0f\u53eb\u505a\u9ece\u66fc\u79ef\u5206\u3002</p> <p>\u867d\u7136\u9ece\u66fc\u79ef\u5206\u6709\u4e0a\u548c\u548c\u4e0b\u548c\u7b49\u53d6\u503c\u65b9\u6cd5\uff0c\u4f46\u662f\u5bf9\u4e8e\u4e00\u4e2a\u53ef\u79ef\u51fd\u6570\u6765\u8bf4\uff0c \\(c_j\\)\u53ef\u4ee5\u53d6\u533a\u95f4\u5185\u7684\u4efb\u610f\u503c\u3002</p>","tags":["\u6570\u5b66"]},{"location":"math/64.calculus/#_41","title":"\u5b9a\u79ef\u5206\u7684\u6027\u8d28","text":"\\[ \\int_b^a f(x) \\, dx = -\\int_a^b f(x) \\, dx \\] \\[ \\int_a^a f(x) \\, dx = 0 \\] \\[ \\int_a^b f(x) \\, dx = \\int_a^c f(x) \\, dx + \\int_c^b f(x) \\, dx  \\] \\[ \\int_a^b C f(x) \\, dx = C \\int_a^b f(x) \\, dx \\] \\[ \\int_a^b [f(x) \\pm g(x)] \\, dx = \\int_a^b f(x) \\, dx \\pm \\int_a^b g(x) \\, dx \\]","tags":["\u6570\u5b66"]},{"location":"math/64.calculus/#_42","title":"\u6c42\u9762\u79ef","text":"<p>\u5b9a\u79ef\u5206\u6c42\u7684\u662f\u6709\u5411\u9762\u79ef\u3002</p> <p>\u6c42\u9762\u79ef\u65f6\u8981\u6ce8\u610f\uff0c\u6c42\u7684\u662f\u65e0\u5411\u9762\u79ef\uff0c\u662f\u6c42\u51fd\u6570\u7edd\u5bf9\u503c\u7684\u79ef\u5206\u3002</p>","tags":["\u6570\u5b66"]},{"location":"math/64.calculus/#_43","title":"\u79ef\u5206\u4e2d\u503c\u5b9a\u7406","text":"<p>\u5982\u679c\u51fd\u6570 f \u5728\u95ed\u533a\u95f4 [a,b] \u4e0a\u8fde\u7eed\uff0c\u90a3\u4e48\u5728\u5f00\u533a\u95f4 (a,b) \u4e0a\u81f3\u5c11\u5b58\u5728\u4e00\u70b9 c\uff0c\u4f7f\u5f97</p> \\[ f(c) = \\frac{1}{b-a} \\int_a^b f(x) \\, dx \\]","tags":["\u6570\u5b66"]},{"location":"math/64.calculus/#_44","title":"\u4e0d\u53ef\u79ef\u7684\u51fd\u6570","text":"<p>\u4f8b\u5982</p> \\[ f(x) = \\begin{cases} 1, &amp; x \\text{\u4e3a\u6709\u7406\u6570} \\\\ 0, &amp; x \\text{\u4e3a\u65e0\u7406\u6570} \\end{cases} \\] <p>\u5982\u679c\u4f7f\u7528\u9ece\u66fc\u79ef\u5206\uff0c\u53d6\u9ece\u66fc\u4e0a\u548c\uff08\u53d6\u5c0f\u533a\u95f4\u5185\u7684\u6700\u5927\u503c\u4f5c\u4e3a\u957f\u65b9\u5f62\u7684\u9ad8\uff09\u548c\u9ece\u66fc\u4e0b\u548c\uff08\u548c\u4e0a\u548c\u76f8\u53cd\uff09\u7684\u7ed3\u679c\u662f\u4e0d\u540c\u7684\uff0c\u6240\u4ee5\u8fd9\u4e2a\u51fd\u6570\u5728\u4efb\u4f55\u533a\u95f4\u4e0a\u90fd\u4e0d\u53ef\u79ef\u3002</p> <p>\u4f7f\u7528\u52d2\u8d1d\u683c\u79ef\u5206\u53ef\u4ee5\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u4f46\u8fd9\u91cc\u4e0d\u505a\u5c55\u5f00\u3002</p>","tags":["\u6570\u5b66"]},{"location":"math/64.calculus/#_45","title":"\u5fae\u79ef\u5206\u57fa\u672c\u5b9a\u7406","text":"<p>\u5fae\u79ef\u5206\u7b2c\u4e00\u57fa\u672c\u5b9a\u7406</p> <p>\u5982\u679c\u51fd\u6570 f \u5728\u533a\u95f4 [a,b] \u4e0a\u8fde\u7eed\uff0c\u5b9a\u4e49 F \u4e3a</p> \\[ F(x) = \\int_a^x f(t) \\, dt, x \\in [a,b] \\] <p>\u5219 F \u5728\u533a\u95f4 (a,b) \u4e0a\u53ef\u5bfc\uff0c\u4e14 \\(F'(x) = f(x)\\)\u3002</p> <p>\uff08\u6ce8\u610f\uff0c\u8fd9\u91cc\u662f\u4e2a\u5b9a\u79ef\u5206\uff09</p> <p>\u6211\u4eec\u8bf4 F \u662f f \u7684\u53cd\u5bfc\u6570\u3002</p> <p>\u5fae\u79ef\u5206\u7b2c\u4e8c\u57fa\u672c\u5b9a\u7406</p> <p>\u5982\u679c\u51fd\u6570 f \u5728\u533a\u95f4 [a,b] \u4e0a\u8fde\u7eed\uff0c\u4e14 F \u662f f \u7684\u4efb\u4e00\u53cd\u5bfc\u6570\uff0c\u5219</p> \\[ \\int_a^b f(x) \\, dx = F(b) - F(a) \\] <p>\u4e0d\u5b9a\u79ef\u5206</p> <p>\u5982\u679c \\(\\frac{d}{dx}F(x) = f(x)\\)\uff0c\u90a3\u4e48</p> \\[ \\int f(x) \\, dx = F(x) + C \\] <p>\u4f8b\u5b50</p> \\[ \\frac{d}{dx}\\int_3^x \\sin(t^2)dt = \\sin(x^2) \\] \\[ \\frac{d}{dx}\\int_x^7 t^3\\cos(t\\ln(t))dt = -\\frac{d}{dx}\\int_7^x t^3\\cos(t\\ln(t))dt \\] <p>\u6c42\u4ee5\u4e0b\u5fae\u5206\uff1a</p> \\[ \\frac{d}{dx}\\int_0^{x^2} \\tan^{-1}(t^7+3t)dt \\] <p>\u4ee4 \u4e0a\u5f0f\u4e3a \\(y\\), \u4e14\\(u = x^2\\)\uff0c\u5219</p> \\[ y = \\int_0^u \\tan^{-1}(t^7+3t)dt \\] \\[ \\frac{dy}{dx} = \\frac{dy}{du} \\frac{du}{dx} \\] <p>\u5bfc\u6570\u548c\u79ef\u5206\u516c\u5f0f</p> \\[ \\begin{array}{ll} \\text{\u5bfc\u6570\u516c\u5f0f} &amp; \\text{\u79ef\u5206\u516c\u5f0f} \\\\[4pt] \\frac{d}{dx} x^{n} = n x^{\\,n-1} &amp; \\int x^n dx = \\frac{x^{n+1}}{n+1} + C \\quad (n \\neq -1) \\\\[4pt] \\frac{d}{dx} \\ln(x) = \\frac{1}{x} &amp; \\int \\frac{1}{x} dx = \\ln|x| + C \\\\[4pt] \\frac{d}{dx} e^{x} = e^{x} &amp; \\int e^{x} dx = e^{x} + C \\\\[4pt] \\frac{d}{dx} a^{x} = a^{x}\\ln a &amp; \\int a^{x} \\, dx = \\frac{a^{x}}{\\ln(a)} + C \\\\[4pt] \\frac{d}{dx} \\log_a x = \\frac{1}{x \\ln a} &amp; \\int \\frac{1}{x \\ln a} dx = \\log_a |x| + C \\\\[4pt] \\frac{d}{dx} \\sin x = \\cos x &amp; \\int \\cos x \\, dx = \\sin x + C \\\\[4pt] \\frac{d}{dx} \\cos x = -\\sin x &amp; \\int \\sin x \\, dx = -\\cos x + C \\\\[4pt] \\frac{d}{dx} \\tan x = \\sec^{2} x &amp; \\int \\sec^{2} x \\, dx = \\tan x + C \\\\[4pt] \\frac{d}{dx} \\sec x = \\sec x \\tan x &amp; \\int \\sec x \\tan x \\, dx = \\sec x + C \\\\[4pt] \\frac{d}{dx} \\cot x = -\\csc^{2} x &amp; \\int \\csc^{2} x \\, dx = -\\cot x + C \\\\[4pt] \\frac{d}{dx} \\csc x = -\\csc x \\cot x &amp; \\int \\csc x \\cot x \\, dx = -\\csc x + C \\\\[4pt] \\frac{d}{dx} \\sin^{-1} x = \\frac{1}{\\sqrt{1-x^{2}}} &amp; \\int \\frac{1}{\\sqrt{1-x^{2}}} dx = \\sin^{-1} x + C \\\\[4pt] \\frac{d}{dx} \\cos^{-1} x = -\\frac{1}{\\sqrt{1-x^{2}}} &amp; \\int \\frac{1}{\\sqrt{1-x^{2}}} dx = -\\cos^{-1} x + C \\\\[4pt] \\frac{d}{dx} \\tan^{-1} x = \\frac{1}{1+x^{2}} &amp; \\int \\frac{1}{1+x^{2}} dx = \\tan^{-1} x + C \\\\[4pt] \\frac{d}{dx} \\sec^{-1} x = \\frac{1}{|x|\\sqrt{x^{2}-1}} &amp; \\int \\frac{1}{|x|\\sqrt{x^{2}-1}} dx = \\sec^{-1} x + C \\\\[4pt] \\frac{d}{dx} \\sinh x = \\cosh x &amp; \\int \\cosh x \\, dx = \\sinh x + C \\\\[4pt] \\frac{d}{dx} \\cosh x = \\sinh x &amp; \\int \\sinh x \\, dx = \\cosh x + C \\\\[4pt] \\frac{d}{dx} \\tanh x = \\operatorname{sech}^{2} x &amp; \\int \\operatorname{sech}^{2} x \\, dx = \\tanh x + C \\\\[4pt] \\end{array} \\]","tags":["\u6570\u5b66"]},{"location":"math/64.calculus/#_46","title":"\u79ef\u5206\u65b9\u6cd5","text":"","tags":["\u6570\u5b66"]},{"location":"math/64.calculus/#_47","title":"\u6362\u5143\u6cd5","text":"<p>\u4f8b\u5982\uff0c</p> \\[ \\int x^2 \\cos(x^3)dx \\int \\cos(x^3)(x^2dx) = \\int \\cos t\\frac{1}{3}dt = \\frac{1}{3} \\sin t + C = \\frac{1}{3} \\sin(x^3) + C \\] <p>\u5982\u679c f \u662f\u53ef\u5bfc\u51fd\u6570\uff0c\u90a3\u4e48</p> \\[ \\int \\frac{f'(x)}{f(x)} dx = \\ln|f(x)| + C \\] <p>\u5b9a\u79ef\u5206\u6362\u5143\u7684\u65f6\u5019\uff0c\u4e5f\u8981\u66f4\u6362\u79ef\u5206\u4e0a\u4e0b\u9650\u3002</p> <p>\u5728\u6362\u6389 \\(\\sqrt[n]{ax+b}\\) \u4e4b\u524d\uff0c\u8bbe \\(t= \\sqrt[n]{ax+b}\\) \u5e76\u5bf9\u7b49\u5f0f \\(t^n = ax+b\\) \u505a\u9690\u51fd\u6570\u6c42\u5bfc\uff0c\u5f97\u5230 \\(dx\\) \u548c \\(dt\\) \u4e4b\u95f4\u7684\u5173\u7cfb\u3002</p> \\[ \\int f'(g(x)) g'(x) \\, dx = f(g(x)) + C \\] \\[ \\int (f' g + f g') dx = f g + C \\] \\[ \\int \\frac{f' g - f g'}{g^{2}} dx = \\frac{f}{g} + C \\ (g\\neq 0) \\]","tags":["\u6570\u5b66"]},{"location":"math/64.calculus/#_48","title":"\u5206\u90e8\u79ef\u5206\u6cd5","text":"\\[ \\int udv = uv - \\int vdu \\]","tags":["\u6570\u5b66"]},{"location":"math/64.calculus/#_49","title":"\u90e8\u5206\u5206\u5f0f","text":"<p>\u6c42\u6709\u7406\u51fd\u6570\u79ef\u5206 \\(\\int \\frac{p(x)}{q(x)} dx\\)\uff0c\u53ef\u4ee5\u5c06\u5176\u62c6\u6210\u591a\u4e2a\u5206\u90e8\uff0c\u5206\u522b\u72ec\u7acb\u8ba1\u7b97\u3002</p> \\[ \\int \\frac{1}{t^2 + a^2} dt = \\frac{1}{a} \\tan^{-1}\\left(\\frac{t}{a}\\right) + C \\]","tags":["\u6570\u5b66"]},{"location":"math/64.calculus/#_50","title":"\u4e09\u89d2\u51fd\u6570\u79ef\u5206","text":"<p>\u4f7f\u7528\u4e09\u89d2\u51fd\u6570\u7684\u6052\u7b49\u5f0f\u5c06\u79ef\u5206\u5316\u7b80\u3002</p> <p>\u4e09\u89d2\u51fd\u6570\u6362\u5143\u6cd5\uff1a</p> <p>\u7c7b\u578b1\uff0c\\(\\sqrt{a^2-x^2}\\)\uff0c\u4ee4 \\(x = a \\sin \\theta\\)\uff0c\\(dx = a \\cos \\theta \\, d\\theta\\)\uff0c\\(a^2-x^2 = a^2 \\cos^2 \\theta\\)\u3002</p> <p>\u7c7b\u578b2\uff0c\\(\\sqrt{a^2+x^2}\\)\uff0c\u4ee4 \\(x = a \\tan \\theta\\)\uff0c\\(dx = a \\sec^2 \\theta \\, d\\theta\\)\uff0c\\(a^2+x^2 = a^2 \\sec^2 \\theta\\)\u3002</p> <p>\u7c7b\u578b3\uff0c\\(\\sqrt{x^2 - a^2}\\)\uff0c\u4ee4 \\(x = a \\sec \\theta\\)\uff0c\\(dx = a \\sec \\theta \\tan \\theta \\, d\\theta\\)\uff0c\\(x^2 - a^2 = a^2 \\tan^2 \\theta\\)\u3002</p>","tags":["\u6570\u5b66"]},{"location":"math/64.calculus/#_51","title":"\u53cd\u5e38\u79ef\u5206","text":"","tags":["\u6570\u5b66"]},{"location":"multi-media/58.build_obs/","title":"\u7f16\u8bd1obs","text":"","tags":["\u97f3\u89c6\u9891"]},{"location":"multi-media/58.build_obs/#_1","title":"\u53c2\u8003","text":"<p>https://github.com/obsproject/obs-studio/wiki/build-instructions-for-windows</p>","tags":["\u97f3\u89c6\u9891"]},{"location":"multi-media/58.build_obs/#windows","title":"windows\u4e0b\u7f16\u8bd1\u6b65\u9aa4","text":"<ol> <li>\u5b89\u88c5cmake\uff0cgit\uff0cvs2022\uff08\u4e0b\u8f7d\u5fc5\u8981\u7684\u7ec4\u4ef6\uff09</li> <li><code>git clone --recursive https://github.com/obsproject/obs-studio.git</code> \u8fd9\u4e00\u6b65\u6709\u4e00\u4e9bgit submodule\u53ef\u80fd\u4f1a\u4e0b\u8f7d\u5931\u8d25\uff0c\u624b\u52a8\u4e0b\u8f7d\u5230.gitmodules\u6587\u4ef6\u4e2d\u7684\u6307\u5b9a\u76ee\u5f55</li> <li>Set current directory to obs-studio</li> <li>Check available CMake presets: <code>cmake --list-presets</code></li> <li>Select the windows-x64 preset: <code>cmake --preset windows-x64</code> \u8fd9\u4e00\u6b65\u4e2d\u4f1a\u4e0b\u8f7d\u5f88\u591a\u4f9d\u8d56\u5e93\u7684pre-built zip\uff0c\u5982\u679c\u4e0b\u8f7d\u5931\u8d25\uff0c\u624b\u52a8\u4e0b\u8f7d\u540e\u653e\u5230.deps\u76ee\u5f55\uff0c\u7136\u540e\u91cd\u65b0\u6267\u884c<code>cmake --preset windows-x64</code><ul> <li>\u600e\u4e48\u77e5\u9053\u662f.deps\u76ee\u5f55\u7684\uff1f\u4e0b\u8f7d\u5931\u8d25\u540e\u6211\u4f7f\u7528everything\u641c\u8fd9\u4e2azip\uff0c\u53d1\u73b0\u5728.deps\u76ee\u5f55\u4e0b\u6709\u4e00\u4e2a0kb\u7684zip\u6587\u4ef6\uff0c\u5224\u65ad\u51fa.deps\u662f\u4e34\u65f6\u4e0b\u8f7d\u76ee\u5f55</li> <li>\u4f9d\u8d56\u5e93\u7684\u7248\u672c\u53f7\u4e00\u822c\u4f1a\u8bb0\u5f55\u5728.gitmodules\u6587\u4ef6\u4e2d</li> </ul> </li> <li>\u6253\u5f00vs\u89e3\u51b3\u65b9\u6848 \"build_x64\\obs-studio.sln\"\uff0c\u7f16\u8bd1 \u7f16\u8bd1\u8fc7\u7a0b\u4e2d\uff0caja\u548caja-output-ui\u8fd9\u4e24\u4e2a\u9879\u76ee\u7f16\u8bd1\u5931\u8d25\uff0c\u5728\u89e3\u51b3\u65b9\u6848\u914d\u7f6e\u8bbe\u7f6e\u9ed8\u8ba4\u4e0d\u751f\u6210\u8fd9\u4e24\u4e2a\u9879\u76ee</li> </ol>","tags":["\u97f3\u89c6\u9891"]},{"location":"multi-media/59.ffmpeg_cmd_demo/","title":"ffmpeg\u547d\u4ee4\u884c\u4f8b\u5b50","text":"","tags":["\u97f3\u89c6\u9891"]},{"location":"multi-media/59.ffmpeg_cmd_demo/#ffprobe","title":"ffprobe","text":"<p>\u67e5\u770b\u97f3\u89c6\u9891\u6d41\u4fe1\u606f\uff0c<code>ffprobe -show_streams \"xxx.mp4\"</code></p> <p>\u67e5\u770b\u89c6\u9891\u6bd4\u7279\u7387\uff0c<code>ffprobe -v error -select_streams v:0 -show_entries stream=bit_rate -of default=noprint_wrappers=1:nokey=1 \"xxx.mp4\"</code></p> <p>\u67e5\u770b\u5e27\u7c7b\u578b\uff0c<code>.\\ffprobe.exe -v error -show_frames .\\normal.mp4 | findstr pict_type &gt; nmormal-type.json</code></p> <p>\u67e5\u770bpacket\u4fe1\u606f\uff08pts\u548cdts\uff09\uff0c<code>.\\ffprobe.exe -i .\\normal.mp4 -select_streams v -show_packets -print_format json &gt; normal-out.json</code></p>","tags":["\u97f3\u89c6\u9891"]},{"location":"multi-media/59.ffmpeg_cmd_demo/#ffmpeg","title":"ffmpeg\u67e5\u8be2\u53c2\u6570\u652f\u6301","text":"<p>\u67e5\u770b\u7f16\u7801\u5668\u652f\u6301\u7684\u53c2\u6570\uff0c<code>ffmpeg -h encoder=h264</code></p> <p>\u67e5\u770b\u652f\u6301\u7684\u7f16\u89e3\u7801\u5668\uff0c <code>ffmpeg -codecs</code>\uff0c<code>ffmpeg -encoders</code>\uff0c<code>ffmpeg -decoders</code></p> <p>\u67e5\u770b\u652f\u6301\u7684\u786c\u4ef6\u52a0\u901f\u65b9\u6848\uff0c<code>ffmpeg -hwaccels</code></p>","tags":["\u97f3\u89c6\u9891"]},{"location":"multi-media/59.ffmpeg_cmd_demo/#h264","title":"h264\u8d28\u91cf\u6052\u5b9a\u53c2\u6570","text":"<ul> <li>libx264: <code>-crf</code>, -1~51\uff0c0\u4e3a\u65e0\u635f\u538b\u7f29\uff0c\u503c\u8d8a\u5c0f\u8d28\u91cf\u8d8a\u9ad8\uff0c\u53c2\u8003<code>./ffmpeg -h encoder=libx264</code></li> <li>h264_nvenc: <code>-cq</code>\uff0c0~51\uff0c0\u8868\u793a\u81ea\u52a8\uff0c\u503c\u8d8a\u5c0f\u8d28\u91cf\u8d8a\u9ad8\uff0c\u53c2\u8003<code>./ffmpeg -h encoder=h264_nvenc</code></li> <li>h264_qsv: <code>-global_quality</code>\uff0c1~51\uff0c\u503c\u8d8a\u5c0f\u8d28\u91cf\u8d8a\u9ad8\uff0c\u53c2\u8003https://ffmpeg.org/ffmpeg-codecs.html</li> <li>h264_amf: <code>-rc qvbr -qvbr_quality_level 50</code>\uff0c-1~51\uff0c\u503c\u8d8a\u5927\u8d28\u91cf\u8d8a\u9ad8\uff0c\u53c2\u8003<code>./ffmpeg -h encoder=h264_amf</code></li> <li>h264_mf: <code>-rate_control quality -quality 80</code>\uff0c-1~100\uff0c\u503c\u8d8a\u5927\u8d28\u91cf\u8d8a\u9ad8\uff0c\u53c2\u8003<code>./ffmpeg -h encoder=h264_mf</code></li> </ul>","tags":["\u97f3\u89c6\u9891"]},{"location":"multi-media/59.ffmpeg_cmd_demo/#ffmpeg_1","title":"ffmpeg \u547d\u4ee4\u793a\u4f8b","text":"","tags":["\u97f3\u89c6\u9891"]},{"location":"multi-media/59.ffmpeg_cmd_demo/#_1","title":"\u53e0\u52a0\u900f\u660e\u89c6\u9891","text":"<p><code>ffmpeg -hwaccel cuda -c:v h264  -i \"D:\\test\\video\\2024-08-27_14-12-25\\hl_2024-08-27_14-21-29.mp4\"  -c:v libvpx-vp9  -itsoffset 3000ms -i \"D:\\test\\materials\\effects\\kill\\effect9.webm\"  -filter_complex \"[0][1] overlay=alpha=1:eof_action=pass[o1];\"  -map \"[o1]\"  -y  -c:v h264_nvenc -cq 23 -profile:v high -pix_fmt yuv420p  -r 30  \"D:\\test\\tmpgamehleditor11\\e0.mp4\"</code></p>","tags":["\u97f3\u89c6\u9891"]},{"location":"multi-media/59.ffmpeg_cmd_demo/#_2","title":"\u4e24\u4e2a\u89c6\u9891\u4e4b\u95f4\u62fc\u63a5\u5e76\u589e\u52a0\u8f6c\u573a\u7279\u6548","text":"<p><code>ffmpeg -hwaccel cuda -c:v h264  -i \"D:\\test\\tmpgamehleditor11\\e1.mp4\"  -hwaccel cuda -c:v h264  -i \"D:\\test\\tmpgamehleditor11\\e2.mp4\" -filter_complex \"xfade = transition =fade:duration =2000ms:offset =7533ms\"  -c:v h264_nvenc -cq 23 -profile:v high -pix_fmt yuv420p  -r 30  -y \"D:\\test\\tmpgamehleditor11\\merge_0.mp4\"</code></p>","tags":["\u97f3\u89c6\u9891"]},{"location":"multi-media/59.ffmpeg_cmd_demo/#_3","title":"\u4e09\u4e2a\u89c6\u9891\u62fc\u63a5","text":"<p><code>ffmpeg -i \"D:\\test\\materials\\begin_end\\b egin.webm\"  -hwaccel cuda -c:v h264  -i \"D:\\test\\tmpgamehleditor11\\merge_1.mp4\" -i \"D:\\test\\materials\\begin_end\\e nd.webm\"  -filter_complex \"[0:v][1:v][2:v]concat=n=3:v=1[out]\" -map \"[out]\" -y  -c:v h264_nvenc -cq 23 -profile:v high -pix_fmt yuv420p  -r 30  \"D:\\test\\tmpgamehleditor11\\begin_end.mp4\"</code></p>","tags":["\u97f3\u89c6\u9891"]},{"location":"multi-media/59.ffmpeg_cmd_demo/#_4","title":"\u53e0\u52a0\u6c34\u5370\u56fe\u7247","text":"<p><code>ffmpeg -hwaccel cuda -c:v h264  -i \"D:\\test\\tmpgamehleditor11\\begin_end.mp4\" -i \"D:\\test\\materials\\Videos, footage and additional effects are all automatically recorded and edited..png\"  -filter_complex \"[0:v][1:v]overlay=(main_w-overlay_w)/2:main_h-overlay_h-10[out]\" -map \"[out]\" -y  -c:v h264_nvenc -cq 23 -profile:v high -pix_fmt yuv420p  -r 30  \"D:\\test\\tmpgamehleditor11\\watermark.mp4\"</code></p>","tags":["\u97f3\u89c6\u9891"]},{"location":"multi-media/59.ffmpeg_cmd_demo/#_5","title":"\u8c03\u6574\u89c6\u9891\u5206\u8fa8\u7387","text":"<p><code>ffmpeg -hwaccel cuda -c:v h264  -i \"D:\\test\\tmpgamehleditor11\\watermark.mp4\" -vf scale=1920:1080 -y  -c:v h264_nvenc -cq 23 -profile:v high -pix_fmt yuv420p  -r 30  \"D:\\test\\tmpgamehleditor11\\res.mp4\"</code></p>","tags":["\u97f3\u89c6\u9891"]},{"location":"multi-media/59.ffmpeg_cmd_demo/#bgm","title":"\u589e\u52a0bgm","text":"<p><code>ffmpeg -hwaccel cuda -c:v h264  -an -i \"D:\\test\\tmpgamehleditor11\\res.mp4\"  -stream_loop -1 -i \"D:\\test\\materials\\bgm\\m 1.aac\"  -c:v copy -t 30133ms -y \"D:\\test\\Final.mp4\"</code></p>","tags":["\u97f3\u89c6\u9891"]},{"location":"multi-media/59.ffmpeg_cmd_demo/#_6","title":"\u53e0\u52a0\u89c6\u9891\u65f6\u6307\u5b9a\u524d\u666f\u89c6\u9891\u64ad\u653e\u6301\u7eed\u65f6\u95f4","text":"<p>\u6838\u5fc3\u662f\u8fd9\u4e2a\u8868\u8fbe\u5f0fx='if(gte(t-1.733,1), NAN, 0)'\uff0c\u539f\u7406\u662f\u8d85\u8fc7\u65f6\u95f4\u4ee5\u540e\uff0c\u7ed9\u53e0\u52a0\u5750\u6807\u8bbe\u5b9a\u4e00\u4e2a\u89c6\u9891\u753b\u9762\u5916\u7684\u503c</p> <p><code>./ffmpeg.exe -hwaccel cuda -c:v h264  -i \"D:\\test\\video\\2024-08-27_14-12-25\\hl_2024-08-27_14-21-29.mp4\"  -c:v libvpx-vp9  -itsoffset 1733ms -i \"D:\\test\\materials\\effects\\kill\\e ffect9.webm\" -filter_complex \"[0][1]overlay=x='if(gte(t-1.733,1), NAN, 0)':y=0:alpha=1:eof_action=pass[o1];\"  -map \"[o1]\"  -y  -c:v h264_nvenc -cq 23 -profile:v high -pix_fmt yuv420p  \"D:\\test\\e0.mp4\"</code></p>","tags":["\u97f3\u89c6\u9891"]},{"location":"multi-media/59.ffmpeg_cmd_demo/#_7","title":"\u753b\u9762\u5b9a\u683c","text":"<p>\u8ba9\u7b2c3\u79d2\u7684\u753b\u9762\u5b9a\u683c2s, loop=60\u4ee3\u8868\u91cd\u590d60\u5e27\uff0c\u7531\u4e8e\u8f93\u51fa\u89c6\u9891\u8bbe\u5b9a\u4e8630fps\u7684\u5e27\u7387\uff08-r 30\uff09\uff0c\u6240\u4ee5\u5b9a\u683c\u65f6\u957f\u662f2s</p> <p><code>./ffmpeg.exe -hwaccel cuda -c:v h264  -i \"D:\\test\\video\\2024-08-27_14-12-25\\hl_2024-08-27_14-21-29.mp4\"  -filter_complex \"[0:v]loop=loop=60:size=1:start=-1:time=3[o1];\"  -map \"[o1]\"  -y  -c:v h264_nvenc -cq 23 -profile:v high -pix_fmt yuv420p -r 30 \"D:\\test\\e0.mp4\"</code></p>","tags":["\u97f3\u89c6\u9891"]},{"location":"multi-media/59.ffmpeg_cmd_demo/#zoom","title":"\u89c6\u9891\u753b\u9762\u7f29\u653e\uff08zoom\uff09","text":"<ol> <li>\u5728\u89c6\u9891\u7684\u7b2c3\u52305\u79d2\uff0c\u5c06\u753b\u9762\u9010\u6e10\u653e\u5927\u52302\u500d\uff0c\u5728\u7b2c5\u52307\u79d2\u4fdd\u6301\u8fd9\u4e2a\u500d\u7387\u4e0d\u53d8\uff0c\u89c6\u9891\u5176\u4f59\u65f6\u95f4\u4fdd\u6301\u539f\u5148\u7684\u5927\u5c0f</li> <li>\u8fc7\u7a0b\u4e2d\u4f1a\u5c06\u753b\u9762\u4ee5\u4e00\u4e2a\u70b9\u4e3a\u4e2d\u5fc3\u653e\u5927\uff0c\u5e76\u4e14\u4f1a\u79fb\u52a8\u6574\u4e2a\u753b\u9762\uff0c\u76ee\u7684\u662f\u5c06\u8fd9\u4e2a\u70b9\u5c3d\u91cf\u79fb\u52a8\u5230\u753b\u9762\u7684\u4e2d\u5fc3\u4f4d\u7f6e</li> <li>\u4e3a\u4e86\u66f4\u597d\u5730\u89c2\u770b\u653e\u5927\u8fc7\u7a0b\uff0c\u6211\u4eec\u5148\u7ed9\u653e\u5927\u4e2d\u5fc3\u70b9\u4e0a\u53e0\u52a0\u4e86\u4e00\u4e2a\u661f\u661f\u4f5c\u4e3a\u8f85\u52a9</li> </ol> <p><code>./ffmpeg.exe -hwaccel cuda -c:v h264 -i \"D:\\test\\video\\2024-08-27_14-12-25\\hl_2024-08-27_14-21-29.mp4\" -i \"D:\\test\\icons8-star-48.png\" -filter_complex \"[0][1]overlay=480-24:540-24[o1];[o1]zoompan=zoom='if(between(it, 3, 7),min((it-3),2)/2*3+1,1)':s='hd1080':d=1:fps=30:x='480-(iw/zoom/2)':y='540-(ih/zoom/2)'[o];\" -map \"[o]\" -y  -c:v h264_nvenc -cq 23 -profile:v high -pix_fmt yuv420p \"D:\\test\\e0.mp4\"</code></p> <p>// \u4ee5\u4e0b\u8be6\u7ec6\u8bf4\u660ezoompan\u8fd9\u4e2a\u6ee4\u955c // zoompan\u6ee4\u955c\u662f\u5bf9\u6bcf\u4e2a\u8f93\u5165\u7684\u5e27\u751f\u6210\u4e00\u7cfb\u5217\u5e27\uff0c\u5b9e\u73b0\u5bf9\u8f93\u5165\u5e27\u653e\u5927\uff0c\u5e76\u5c06\u539f\u59cb\u753b\u9762\u4e2d\u7684\u6307\u5b9a\u70b9\u79fb\u52a8\u5230\u5c4f\u5e55\u4e2d\u5fc3\u4f4d\u7f6e\uff0c // zoompan\u7684\u6709\u4e24\u79cd\u653e\u5927\uff0c\u4e00\u79cd\u662f\u89c6\u89c9\u4e0a\u7684\u653e\u5927\uff0c\u770b\u8d77\u6765\u5c31\u597d\u50cf\u5728\u624b\u673a\u4e0a\u4e24\u6307\u653e\u5927\u4e00\u5f20\u56fe\u7247\u4e00\u6837\uff0c\u4e00\u79cd\u662f\u8c03\u6574\u89c6\u9891\u5206\u8fa8\u7387\uff0c // \u8fd9\u4e24\u79cd\u653e\u5927\u4e0d\u51b2\u7a81\uff0c\u53ef\u4ee5\u540c\u65f6\u8bbe\u7f6e\uff0c\u5206\u8fa8\u7387\u8c03\u6574\u4ee5\u540e\uff0c\u753b\u9762\u4ecd\u7136\u6709\u89c6\u89c9\u4e0a\u653e\u5927\u7684\u6548\u679c // \u5982\u679c\u6211\u4eec\u60f3\u8ba9\u89c6\u9891\u7684\u67d0\u4e00\u6bb5\u753b\u9762\u7684\u6240\u6709\u5e27\u90fd\u653e\u5927\uff0c\u800c\u4e0d\u662f\u901a\u8fc7\u4e00\u5f20\u9759\u6001\u7684\u56fe\u7247\u751f\u6210\u4e00\u6bb5\u653e\u5927\u7684\u753b\u9762\uff0c\u5c06d\u53c2\u6570\u8bbe\u7f6e\u4e3a1\u5373\u53ef\uff0cd\u53c2\u6570\u8bbe\u7f6e\u7684\u662f\u4e00\u4e2a\u8f93\u5165\u5e27\u751f\u6210\u591a\u5c11\u8f93\u51fa\u5e27 // \u4e0b\u9762\u89e3\u91ca\u8fd9\u6761\u547d\u4ee4\u7684\u5404\u4e2a\u53c2\u6570 // <code>zoompan=zoom='if(between(it, 3, 7),min((it-3),2)/2*3+1,1)':s='hd1080':d=1:fps=30:x='480-(iw/zoom/2)':y='540-(ih/zoom/2)'</code> // \u53c2\u65701\uff1a<code>zoom='if(between(it, 3, 7),min((it-3),2)/2*3+1,1)'</code> //      zoom\u53c2\u6570\u662f\u653e\u5927\u500d\u7387\uff0c\u6700\u4f4e\u4e3a1\uff0c\u8fd9\u91cc\u6211\u4eec\u5e94\u7528\u4e86\u4e00\u4e2a\u8868\u8fbe\u5f0f\uff0c\u5bf9\u89c6\u9891\u76843-7\u79d2\u5e94\u7528\u653e\u5927\u6548\u679c\uff0c\u5176\u4f59\u65f6\u95f4\u653e\u5927\u500d\u7387\u4e3a1\uff0cit\u662f\u8f93\u5165\u5e27\u7684\u65f6\u95f4\u6233\uff0c\u5355\u4f4d\u662fs //      \u6211\u4eec\u5e0c\u671b\u6700\u7ec8\u653e\u59274\u500d\uff0c\u5e76\u4e14\u662f\u9010\u6e10\u653e\u5927\uff0c\u7531\u4e8e\u57fa\u7840\u653e\u5927\u500d\u7387\u662f1\uff0c\u6240\u4ee5\u8868\u8fbe\u5f0f\u91c7\u53d6\u4e86 \u9012\u589e\u500d\u7387+1 \u7684\u5f62\u5f0f\uff0c\u5373 <code>min((it-3),2)/2*3 + 1</code> //      \u9012\u589e\u500d\u7387 = <code>min((it-3),2)/2*3</code>\uff0c<code>min((it-3),2)/2</code>\u662f\u4e00\u4e2a\u6bd4\u4f8b\uff0c\u503c\u57280-1\u4e4b\u95f4\uff0c\u6bd4\u4f8b<code>*3</code>\u5c31\u662f\u5c31\u662f\u9012\u589e\u500d\u7387\uff0c\u5f53\u6bd4\u4f8b\u9010\u6e10\u589e\u52a0\u52301\u65f6\uff0c\u603b\u500d\u7387\u4e3a<code>1*3+1</code>\uff0c\u4e5f\u5c31\u662f\u653e\u59274\u500d //      \u6bd4\u4f8b = <code>min((it-3),2)/2</code>\uff0c \u6211\u4eec\u5e0c\u671b3-5\u79d2\u9010\u6e10\u589e\u52a0\u653e\u5927\u500d\u7387\uff0c5-7\u79d2\u4fdd\u6301\u500d\u7387\uff0c\u56e0\u6b64\uff0c\u8fd9\u4e2a\u6bd4\u4f8b\u5b9e\u9645\u4e0a\u662f\u4e2a\u65f6\u95f4\u6bd4\u4f8b\uff0c //      \u5206\u6bcd\u4e3a2s(\u4ee3\u88683-5s\u8fd9\u4e2a\u533a\u95f4)\uff0c\u5206\u5b50\u4e3a\u8f93\u5165\u5e27\u65f6\u95f4\u6233\u548c\u7b2c3\u79d2\u7684\u5dee\uff0c\u5f53it=5\u65f6\uff0c\u6211\u4eec\u4e0d\u9700\u8981\u7ee7\u7eed\u653e\u5927\u4e86\uff0c\u5c31\u4f7f\u7528min\u51fd\u6570\u7ed9\u5b9a\u4e86\u4e00\u4e2a\u4e0a\u96502\uff0c\u6240\u4ee5\u5206\u5b50\u4e3a<code>min((it-3),2)</code> // \u53c2\u65702\uff1as='hd1080' //      s\u53c2\u6570\u6307\u5b9a\u4e86\u8f93\u51fa\u5e27\u7684\u5206\u8fa8\u7387 // \u53c2\u65703\uff1ad=1 //      d\u53c2\u6570\u6307\u5b9a\u4e86\u6bcf\u4e2a\u8f93\u5165\u5e27\u751f\u6210\u591a\u5c11\u4e2a\u8f93\u51fa\u5e27\uff0c\u6211\u4eec\u5e0c\u671b\u89c6\u9891\u5728\u64ad\u653e\u8fc7\u7a0b\u4e2d\u5bf9\u6bcf\u4e2a\u753b\u9762\u653e\u5927\uff0c\u90a3\u4e48\u8bbe\u7f6e\u4e3a\u6bcf\u4e2a\u8f93\u5165\u5e27\u8f93\u51fa1\u4e2a\u5e27\u5373\u53ef // \u53c2\u65704\uff1afps=30 //      fps\u53c2\u6570\u6307\u5b9a\u7684\u662f\u8f93\u51fa\u89c6\u9891\u5e27\u7387\uff0c\u5982\u679cd\u8bbe\u7f6e\u4e3a1\u4e14\u8f93\u51fa\u5e27\u7387\u6bd4\u539f\u5e27\u7387\u5927\uff0c\u5219\u89c6\u9891\u6574\u4f53\u4f1a\u6709\u4e00\u79cd\u5feb\u653e\u7684\u6548\u679c\uff0cfps\u65e0\u6cd5\u4f7f\u7528\u8868\u8fbe\u5f0f\uff0c\u53ea\u80fd\u662f\u4e2a\u56fa\u5b9a\u503c // \u53c2\u65705\uff1a<code>x='480-(iw/zoom/2)'</code> <code>y='540-(ih/zoom/2)</code> //      x\u548cy\u662f\u653e\u5927\u7a97\u53e3\u7684\u5de6\u4e0a\u89d2\u4f4d\u7f6e\uff0c\u60f3\u8c61\u4e00\u4e0bzoompan\u7684\u653e\u5927\u8fc7\u7a0b\uff0c\u5b83\u5148\u5728\u89c6\u9891\u753b\u9762\u4e0a\u5212\u5b9a\u4e00\u4e2a\u77e9\u5f62\uff0c\u7136\u540e\u628a\u8fd9\u4e2a\u77e9\u5f62\u7684\u957f\u5bbd\u6309\u6211\u4eec\u6307\u5b9a\u7684\u500d\u7387\u62c9\u4f38 //      \u90a3\u4e48\u663e\u7136\uff0c\u6211\u4eec\u5c31\u80fd\u5f97\u5230\u653e\u5927\u7a97\u53e3\u7684\u957f\u5bbd\u5206\u522b\u662fiw/zoom\uff0c\u548cih/zoom\uff0c\u5176\u4e2diw\u548cih\u662f\u8f93\u5165\u5e27\u7684\u5bbd\u548c\u9ad8\uff0czoom\u662f\u6211\u4eec\u521a\u624d\u7b97\u51fa\u6765\u7684\u5f53\u524d\u653e\u5927\u500d\u7387 //      \u653e\u5927\u540e\uff0czoompan\u4f1a\u79fb\u52a8\u753b\u9762\uff0c\u5c06\u653e\u5927\u7a97\u53e3\u7684\u4e2d\u5fc3\u70b9\u7f6e\u4e8e\u753b\u9762\u4e2d\u5fc3\uff0c\u7531\u4e8ex\u548cy\u7684\u503c\u4f1a\u52a8\u6001\u53d8\u5316\uff0c\u56e0\u6b64\uff0c\u4e2d\u5fc3\u70b9\u7684\u79fb\u52a8\u4e5f\u662f\u4e00\u4e2a\u6e10\u8fdb\u7684\u8fc7\u7a0b // \u8bf4\u660e\uff1ax\u548cy\uff08\u5373\u7f29\u653e\u7a97\u53e3\u5de6\u4e0a\u89d2\u5750\u6807\uff09\u7684\u503c\u5982\u679c\u8d85\u51fa\u753b\u9762\uff0c\u4f1a\u88abffmpeg\u77eb\u6b63\u5230\u753b\u9762\u5185\uff08\u8fd9\u70b9\u5f88\u5bb9\u6613\u7406\u89e3\uff0c\u753b\u9762\u5185\u7684\u4e1c\u897f\u624d\u80fd\u88ab\u7f29\u653e\uff0c\u753b\u9762\u5916\u4ec0\u4e48\u90fd\u6ca1\u6709\uff0c\u6ca1\u4e1c\u897f\u53ef\u7f29\u653e\uff09\uff0c // \u753b\u9762\u4e2d\u6709\u4e9b\u5730\u65b9\u662f\u6c38\u8fdc\u4e0d\u53ef\u80fd\u79fb\u52a8\u5230\u753b\u9762\u4e2d\u592e\u7684\uff0c\u60f3\u8c61\u4e00\u4e0b\uff0c\u5f53\u7f29\u653e\u7a97\u53e3\u7d27\u8d34\u7740\u753b\u9762\u8fb9\u7f18\u7684\u65f6\u5019\uff0c\u7f29\u653e\u7a97\u53e3\u88ab\u653e\u5927\u540e\uff08\u548c\u539f\u753b\u9762\u4e00\u6837\u5927\uff09\uff0c\u7f29\u653e\u7a97\u53e3\u4e2d\u5fc3\u70b9\u521a\u597d\u5728\u753b\u9762\u4e2d\u5fc3\u70b9 // \u6240\u4ee5\u7a97\u53e3\u4e2d\u5fc3\u70b9\u518d\u5f80\u5916\u7684\u4f4d\u7f6e\u662f\u4e0d\u53ef\u80fd\u79fb\u52a8\u5230\u753b\u9762\u4e2d\u592e\u7684\uff0c\u800c\u4e14\u653e\u5927\u500d\u7387\u8d8a\u5c0f\uff0c\u53ef\u79fb\u52a8\u7684\u533a\u57df\u5c31\u8d8a\u5c0f  </p> <p>// \u5982\u679c\u6211\u4eec\u60f3\u8ba9\u653e\u5927\u4e2d\u5fc3\u70b9\u653e\u5927\u540e\u4f4d\u7f6e\u4e0d\u79fb\u52a8\uff0c\u53ef\u4ee5\u6c42\u89e3\u4e00\u4e2a\u7b80\u5355\u7684\u65b9\u7a0b // \u8bbe\u7f29\u653e\u7a97\u53e3\u7684\u4e2d\u5fc3\u70b9\u5750\u6807\u4e3axc,yc\uff0c\u6211\u4eec\u5e0c\u671b\u7684\u653e\u5927\u4e2d\u5fc3\u70b9\u4e3ax,y\uff0c\u653e\u5927\u540e\uff0cxc\uff0cyc\u4f1a\u79fb\u52a8\u5230w/2,h/2\uff0cx,y\u653e\u5927\u540e\u4f4d\u7f6e\u8fd8\u662fx,y // \u90a3\u4e48\u6709\u8fd9\u4e2a\u5173\u7cfb // <code>zoom*(x-xc) = x-w/2, zoom*(y-yc)= y-h/2</code> // \u53ef\u5f97\uff1a<code>xc=x-((x-w/2)/zoom)</code>, <code>yc=y-((y-h/2)/zoom)</code> // \u6700\u7ec8\u53ef\u5f97\u653e\u5927\u7a97\u53e3\u5de6\u4e0a\u89d2\u7684\u5750\u6807\uff1a<code>x-((x-w/2)/zoom)-(w/zoom/2)</code>\uff0c<code>y-((y-h/2)/zoom)-(h/zoom/2)</code> // \u5373\uff1a<code>x*(1-1/zoom),y*(1-1-zoom)</code> </p> <p>\u4ee5\u4e0b\u662f\u5b8c\u6574\u7684\u547d\u4ee4 <code>./ffmpeg.exe -hwaccel cuda -c:v h264 -i \"D:\\test\\video\\2024-08-27_14-12-25\\hl_2024-08-27_14-21-29.mp4\" -i \"D:\\test\\icons8-star-48.png\" -filter_complex \"[0][1]overlay=main_w/4-24:main_h/2-24[o1];[o1]zoompan=zoom='if(between(it, 3, 7),min((it-3),2)/2*3+1,1)':s='hd1080':d=1:fps=30:x='iw/4*(1-1/zoom)':y='ih/2*(1-1/zoom)'[o];\" -map \"[o]\" -y  -c:v h264_nvenc -cq 23 -profile:v high -pix_fmt yuv420p \"D:\\test\\e0.mp4\"</code></p>","tags":["\u97f3\u89c6\u9891"]},{"location":"multi-media/59.ffmpeg_cmd_demo/#_8","title":"\u4ece\u89c6\u9891\u4e2d\u63d0\u53d6\u5e27","text":"<p>fps\u6307\u5b9a\u4e86\u63d0\u53d6\u89c6\u9891\u5e27\u7684\u5e27\u7387\uff0c<code>ffmpeg.exe -i \"D:\\test\\video\\effects\\e ffect1.webm\" -vf \"fps=1\" frame%04d.png</code></p>","tags":["\u97f3\u89c6\u9891"]},{"location":"multi-media/59.ffmpeg_cmd_demo/#_9","title":"\u5c06\u89c6\u9891\u7684\u900f\u660e\u901a\u9053\u8f6c\u6362\u4e3a\u7070\u5ea6\u89c6\u9891","text":"<p><code>ffmpeg.exe -c:v libvpx-vp9 -i \"C:\\Users\\Administrator\\Downloads\\chaoxianshi 02_word_ok.webm\" -vf \"alphaextract,format=rgba\" effect2.mp4</code></p>","tags":["\u97f3\u89c6\u9891"]},{"location":"multi-media/59.ffmpeg_cmd_demo/#overlay","title":"\u4f7f\u7528overlay\u6ee4\u955c\u540c\u65f6\u53e0\u52a0\u591a\u4e2a\u89c6\u9891","text":"<p>\u5b98\u65b9\u793a\u4f8b\uff1a<code>ffmpeg -i input -i logo1 -i logo2 -filter_complex 'overlay=x=10:y=H-h-10,overlay=x=W-w-10:y=H-h-10' output</code></p> <p><code>./ffmpeg.exe -hwaccel cuda -c:v h264  -i \"D:\\test\\test_30fps_2min20s.mp4\"  -c:v libvpx-vp9  -itsoffset 2000ms -i \"D:\\test\\materials\\effects\\kill\\e ffect9.webm\" -c:v libvpx-vp9  -itsoffset 6000ms -i \"D:\\test\\materials\\effects\\kill\\e ffect9.webm\" -c:v libvpx-vp9  -itsoffset 10000ms -i \"D:\\test\\materials\\effects\\kill\\e ffect9.webm\"  -c:v libvpx-vp9  -itsoffset 14000ms -i \"D:\\test\\materials\\effects\\kill\\e ffect9.webm\"  -c:v libvpx-vp9  -itsoffset 18000ms -i \"D:\\test\\materials\\effects\\kill\\e ffect9.webm\"   -c:v libvpx-vp9  -itsoffset 22000ms -i \"D:\\test\\materials\\effects\\kill\\e ffect9.webm\"   -c:v libvpx-vp9  -itsoffset 26000ms -i \"D:\\test\\materials\\effects\\kill\\e ffect9.webm\"  -c:v libvpx-vp9  -itsoffset 30000ms -i \"D:\\test\\materials\\effects\\kill\\e ffect9.webm\"  -c:v libvpx-vp9  -itsoffset 34000ms -i \"D:\\test\\materials\\effects\\kill\\e ffect9.webm\"  -c:v libvpx-vp9  -itsoffset 38000ms -i \"D:\\test\\materials\\effects\\kill\\e ffect9.webm\" -filter_complex \"[0][1] overlay=alpha=1:eof_action=pass,overlay=alpha=1:eof_action=pass,overlay=alpha=1:eof_action=pass,overlay=alpha=1:eof_action=pass,overlay=alpha=1:eof_action=pass,overlay=alpha=1:eof_action=pass,overlay=alpha=1:eof_action=pass,overlay=alpha=1:eof_action=pass,overlay=alpha=1:eof_action=pass,overlay=alpha=1:eof_action=pass[o1];\"  -map \"[o1]\"  -y  -c:v h264_nvenc -cq 23 -profile:v high -pix_fmt yuv420p  -r 30  \"D:\\test\\test_videotrans.mp4\"</code></p>","tags":["\u97f3\u89c6\u9891"]},{"location":"multi-media/59.ffmpeg_cmd_demo/#movwebm","title":"\u4e3a\u89c6\u9891\u751f\u6210\u900f\u660e\u901a\u9053\uff08mov\u7248\u548cwebm\u7248\uff09","text":"<p>\u4ee5\u4e0b\u662f\u4e24\u6bb5python\u7a0b\u5e8f\uff0c\u62fc\u63a5\u4e86\u4e24\u4e2affmpeg\u547d\u4ee4\u884c</p> <pre><code>//def add_alpha_to_effect_qtrle_mov(ffmpeg:str, input : str, outputPath : str = g_outputPath) :\n    file_name = os.path.basename(input)\n    name, _ = os.path.splitext(file_name)\n    output = os.path.join(outputPath, name + '.mov')\n\n    command = \\\n    f\"{ffmpeg}\\\n    -i \\\"{input}\\\" \\\n    -filter_complex \\\n    \\\"[0]split[m][a];[a] geq = 'if(gt(lum(X,Y),16),255,0)', hue = s = 0[al];[m][al]alphamerge[ovr];\\\" \\\n     -map \\\"[ovr]\\\" -c:v qtrle -y \\\"{output}\\\"\"\n    run_ffmpeg(command)\n\n    def add_alpha_to_effect_vp9_webm(ffmpeg:str, input : str, outputPath : str = g_outputPath) :\n    file_name = os.path.basename(input)\n    name, _ = os.path.splitext(file_name)\n    output = os.path.join(outputPath, name + '.webm')\n\n    command = \\\n    f\"{ffmpeg}\\\n    -i \\\"{input}\\\" \\\n    -filter_complex \\\n    \\\"[0]split[m][a];[a] geq = 'if(gt(lum(X,Y),16),255,0)', hue = s = 0[al];[m][al]alphamerge[ovr];\\\" \\\n     -map \\\"[ovr]\\\" -c:v vp9 -pix_fmt yuva420p -y \\\"{output}\\\"\"\n    run_ffmpeg(command)\n</code></pre>","tags":["\u97f3\u89c6\u9891"]},{"location":"multi-media/59.ffmpeg_cmd_demo/#_10","title":"\u5728\u89c6\u9891\u4e0a\u5199\u5b57","text":"<p><code>.\\ffmpeg -an -i \"D:\\test\\1920_1080.mp4\" -vf \"drawtext=fontfile='C\\:\\\\Windows\\\\Fonts\\\\arial.ttf':text=%{n}:fontsize=72:r=60:x=(w-tw)/2: y=h-(2*lh):fontcolor=white:box=1:boxcolor=0x00000099\" -r 30 -y D:\\test\\sample.mp4</code></p>","tags":["\u97f3\u89c6\u9891"]},{"location":"multi-media/59.ffmpeg_cmd_demo/#_11","title":"\u89c6\u9891\u4ece\u7b2c\u4e94\u79d2\u5f00\u59cb\u4e24\u500d\u901f\u5feb\u653e","text":"<p>\u7528setpts\u6ee4\u955c\u52a0\u901f\u89c6\u9891\u540e\uff0c\u5b9e\u9645\u5e27\u7387\u4f1a\u7ffb\u500d\uff0c\u56e0\u6b64ffmpeg\u5728\u751f\u6210\u89c6\u9891\u65f6\u4f1a\u4e22\u6389\u4e00\u4e9b\u5e27</p> <p><code>.\\ffmpeg -an -i \"D:\\test\\sample.mp4\" -filter:v \"setpts='if(gt(T, 5), 0.5*(PTS+(5/TB)), PTS)'\" -r 30 -y \"D:\\test\\test_speedup.mp4\"</code></p>","tags":["\u97f3\u89c6\u9891"]},{"location":"multi-media/59.ffmpeg_cmd_demo/#_12","title":"\u53cd\u590d\u5feb\u6162\u653e\u89c6\u9891","text":"<ul> <li>var 0: \u8ddd\u7279\u6548\u5f00\u59cb\u7684\u5e27\u6570</li> <li>var 1: PREV_OUTPTS</li> <li>var 2: PREV_INPTS</li> <li>var 3: \u5feb\u653e\u500d\u7387</li> <li>pts\u8ba1\u7b97\u516c\u5f0f\uff1aPREV_OUTPTS + (PTS - PREV_INPTS) * \u500d\u7387</li> </ul> <pre><code>.\\ffmpeg - an - i \"D:\\test\\sample.mp4\" - filter:v \"setpts=expr='st(0,N-5*FR);st(1,ifnot(isnan(PREV_OUTPTS), PREV_OUTPTS));st(2,ifnot(isnan(PREV_INPTS),PREV_INPTS)); \\\nst(3, \\\nif( gte(ld(0),0)*lt(ld(0),20), lerp(1, 0.2, ld(0)/20), \\\nif(gte(ld(0),20)*lt(ld(0),40), lerp(0.2, 1, (ld(0)-20)/20), \\\nif(gte(ld(0),40)*lt(ld(0),60), lerp(1, 2, (ld(0)-40)/20), \\\nif(gte(ld(0),60)*lt(ld(0),80), lerp(2, 1, (ld(0)-60)/20), \\\nif(gte(ld(0),80)*lt(ld(0),100), lerp(1, 0.2, (ld(0)-80)/20), \\\nif(gte(ld(0),100)*lt(ld(0),120), lerp(0.2, 1, (ld(0)-100)/20), 1) \\\n)))))); print(ld(3));print(PTS);print(ld(1)+(PTS-ld(2))*ld(3))' \" - r 30 - y \"D:\\test\\test_pts2.mp4\" &gt; D:\\test\\fflog.log 2 &gt; &amp;1\n</code></pre>","tags":["\u97f3\u89c6\u9891"]},{"location":"multi-media/59.ffmpeg_cmd_demo/#_13","title":"\u63d2\u5e27","text":"<p>minterpolate</p>","tags":["\u97f3\u89c6\u9891"]},{"location":"multi-media/59.ffmpeg_cmd_demo/#concat","title":"\u62fc\u63a5\u89c6\u9891\uff08concat\uff09","text":"<p>\u53c2\u8003 https://trac.ffmpeg.org/wiki/Concatenate</p>","tags":["\u97f3\u89c6\u9891"]},{"location":"multi-media/59.ffmpeg_cmd_demo/#1-concat","title":"1. concat \u6ee4\u955c","text":"<p>\u53ef\u7528\u6765\u62fc\u63a5\u4e0d\u540c\u5206\u8fa8\u7387\uff0c\u4e0d\u540c\u7f16\u7801\u7684\u89c6\u9891</p> <pre><code>ffmpeg -i \"v1.mp4\"  -i \"v2.mp4\" -filter_complex \"[0:v][1:v]concat=n=2:v=1[out]\" -map \"[out]\" -y \"output.mp4\"\n</code></pre>","tags":["\u97f3\u89c6\u9891"]},{"location":"multi-media/59.ffmpeg_cmd_demo/#2-concat-demuxer","title":"2. concat demuxer","text":"<p>concat demuxer\u5de5\u4f5c\u5728\u89c6\u9891\u6d41\u8fd9\u4e00\u7ea7\u522b\uff0c\u8f93\u5165\u89c6\u9891\u53ef\u4ee5\u6709\u4e0d\u540c\u7684\u5c01\u88c5\u683c\u5f0f\uff0c\u4f46\u89c6\u9891\u7f16\u7801\u548c\u7f16\u7801\u53c2\u6570\u5fc5\u987b\u76f8\u540c</p> <p>\u9996\u5148\u8981\u5c06\u8981\u8f93\u5165\u89c6\u9891\u4ee5\u4e0b\u9762\u7684\u683c\u5f0f\u5199\u5165\u4e00\u4e2a\u6587\u672c\u6587\u4ef6</p> <pre><code>file '/path/to/file1.mp4'\nfile '/path/to/file2.mp4'\nfile '/path/to/file3.mp4'\n</code></pre> <p>\u7136\u540e</p> <pre><code>ffmpeg -f concat -safe 0 -i mylist.txt -c copy output.wav\n</code></pre> <p>\uff08\u5982\u679c\u89c6\u9891\u8def\u5f84\u662f\u76f8\u5bf9\u8def\u5f84\uff0c\u5219\u4e0d\u9700\u8981<code>-safe 0</code>\u53c2\u6570\uff09</p>","tags":["\u97f3\u89c6\u9891"]},{"location":"multi-media/59.ffmpeg_cmd_demo/#3-concat-protocol","title":"3. concat protocol","text":"<p>concat protocol\u5de5\u4f5c\u5728\u6587\u4ef6\u7ea7\u522b\uff0c\u53ea\u80fd\u7528\u6765\u62fc\u63a5\u7279\u5b9a\u7f16\u7801\u683c\u5f0f\u7684\u89c6\u9891\uff0c\u4f8b\u5982MPEG-2 TS\u6587\u4ef6\uff0c</p> <pre><code>ffmpeg -i \"concat:input1.ts|input2.ts|input3.ts\" -c copy output.ts\n</code></pre> <p>\u5982\u679c\u8981\u62fc\u63a5h264\u7f16\u7801\u7684\u89c6\u9891\uff0c\u9700\u8981\u73b0\u5c06\u89c6\u9891\u91cd\u65b0\u5c01\u88c5\u6210ts\u683c\u5f0f\uff0c\u518d\u8fdb\u884c\u62fc\u63a5</p> <pre><code>ffmpeg -i input1.mp4 -c copy intermediate1.ts\nffmpeg -i input2.mp4 -c copy intermediate2.ts\nffmpeg -i \"concat:intermediate1.ts|intermediate2.ts\" -c copy output.mp4\n</code></pre> <p>\u4e5f\u53ef\u4ee5\u4f7f\u7528\u547d\u540d\u7ba1\u9053\u907f\u514d\u521b\u5efa\u4e2d\u95f4\u6587\u4ef6</p> <pre><code>mkfifo temp1 temp2\nffmpeg -y -i input1.mp4 -c copy -bsf:v h264_mp4toannexb -f mpegts temp1 2&gt; /dev/null &amp; \\\\\nffmpeg -y -i input2.mp4 -c copy -bsf:v h264_mp4toannexb -f mpegts temp2 2&gt; /dev/null &amp; \\\\\nffmpeg -f mpegts -i \"concat:temp1|temp2\" -c copy -bsf:a aac_adtstoasc output.mp4\n</code></pre>","tags":["\u97f3\u89c6\u9891"]},{"location":"multi-media/59.ffmpeg_cmd_demo/#_14","title":"\u526a\u5207\u89c6\u9891","text":"<p>\u53c2\u6570\u8bf4\u660e\uff1a - <code>-ss</code>:\u8d77\u59cb\u65f6\u95f4 - <code>-t</code>:\u6301\u7eed\u65f6\u95f4 - <code>-to</code>:\u7ed3\u675f\u65f6\u95f4 - <code>-t</code>\u548c<code>-to</code>\u540c\u65f6\u4f7f\u7528\u65f6\uff0c<code>-t</code>\u4f18\u5148 - <code>-ss</code>\uff0c<code>-t</code>\uff0c<code>-to</code>\u5373\u53ef\u7528\u4f5c\u8f93\u5165\u53c2\u6570\uff0c\u4e5f\u53ef\u7528\u4f5c\u8f93\u51fa\u53c2\u6570 - \u65f6\u95f4\u9ed8\u8ba4\u662f\u79d2\uff0cffmpeg\u7684\u65f6\u95f4\u683c\u5f0f\u53ef\u53c2\u8003https://ffmpeg.org/ffmpeg-utils.html#time-duration-syntax</p> <pre><code>ffmpeg -ss 2 -t 5 -to 10 -i input.mp4 -c copy output.mp4\n</code></pre> <p>\"\"\"</p>","tags":["\u97f3\u89c6\u9891"]},{"location":"multi-media/59.ffmpeg_cmd_demo/#_15","title":"\u63a7\u5236\u89e3\u7801\u901f\u5ea6","text":"<p><code>readrate n</code>\uff0cn\u4e3a\u6d6e\u70b9\u6570\uff0c\u4ee3\u8868\u6bcf\u79d2\u8bfb\u53d6\u539f\u59cb\u591a\u5c11\u79d2\u7684\u8f93\u5165\uff0c\u5982\u679c\u8981\u6309\u539f\u59cb\u5e27\u7387\u53bb\u8bfb\u53d6\uff0cn\u8bbe\u7f6e\u4e3a1\u5373\u53ef</p> <pre><code>.\\ffmpeg -hwaccel cuda -c:v h264 -readrate 0.5 -i D:\\test\\4k_30min.mp4 -c:v h264_nvenc -cq 20 -y D:\\test\\gpu_encode.mp4\n</code></pre>","tags":["\u97f3\u89c6\u9891"]},{"location":"multi-media/59.ffmpeg_cmd_demo/#_16","title":"\u5f55\u5c4f\u5e76\u751f\u6210\u89c6\u9891","text":"<p><code>ffmpeg -f gdigrab -framerate 30 -i desktop -c:v libx264 -pix_fmt yuv420p output.mp4</code></p>","tags":["\u97f3\u89c6\u9891"]},{"location":"multi-media/59.ffmpeg_cmd_demo/#ipbptsdts","title":"\u67e5\u770b\u89c6\u9891\u5e27\u7c7b\u578b\uff08I\u3001P\u3001B\uff09\u548c\u89c6\u9891\u5e27PTS\u3001DTS","text":"<p><code>.\\ffprobe.exe -v error -show_frames .\\normal.mp4 | findstr pict_type &gt; nmormal-type.json</code></p> <p><code>.\\ffprobe.exe -i .\\normal.mp4 -select_streams v -show_packets -print_format json &gt; normal-out.json</code></p>","tags":["\u97f3\u89c6\u9891"]},{"location":"others/11.z3.time/","title":"\u8ba1\u7b97\u673a\u4e2d\u7684\u65f6\u95f4","text":"","tags":["\u65f6\u95f4"]},{"location":"others/11.z3.time/#unix","title":"unix\u65f6\u95f4\u6233","text":"<p>unix\u65f6\u95f4\u6233\u662f\u76f8\u5bf9\u4e8eUTC\u65f6\u95f4\"1970\u5e741\u67081\u65e5 00:00:00\"\u6240\u7ecf\u8fc7\u7684\u79d2\u6570\u3002\u7531\u4e8e\u662f\u76f8\u5bf9\u4e8eUTC\u65f6\u95f4\uff0c\u5404\u65f6\u533a\u7684\u8ba1\u7b97\u673a\u5728\u540c\u4e00\u65f6\u523b\u83b7\u53d6\u5230\u7684\u65f6\u95f4\u6233\u90fd\u662f\u76f8\u540c\u7684\u3002</p> <p>unix\u65f6\u95f4\u6233\u4e0d\u5b58\u5728\u65f6\u533a\u95ee\u9898\uff0c\u56e0\u6b64\u5728\u4f20\u9012\u65f6\u95f4\u53c2\u6570\u7684\u65f6\u5019\uff0c\u4f20\u65f6\u95f4\u6233\u660e\u663e\u6bd4\u4f20\u683c\u5f0f\u5316\u7684\u65f6\u95f4\u5b57\u7b26\u4e32\u66f4\u65b9\u4fbf\uff0c\u66f4\u660e\u786e</p>","tags":["\u65f6\u95f4"]},{"location":"others/11.z3.time/#2038","title":"2038\u5e74\u95ee\u9898","text":"<p>\u76f8\u5f53\u4e00\u90e8\u5206unix\u64cd\u4f5c\u7cfb\u7edf\u4f7f\u752832\u4f4d\u6709\u7b26\u53f7\u6574\u578b\u4fdd\u5b58\u65f6\u95f4\u6233\uff0c\u56e0\u6b64\u65f6\u95f4\u6233\u7684\u503c\u6700\u5927\u4e5f\u53ea\u67092147483647\uff0c\u6362\u7b97\u6210UTC\u65f6\u95f4\u4e3a\"2038-01-19 03:14:07\"\uff0c\u4e00\u65e6\u8d85\u8fc7\u8fd9\u4e2a\u65f6\u95f4\uff0c\u8fd9\u4e9b\u7cfb\u7edf\u7684\u65f6\u95f4\u6233\u5c31\u4f1a\u53d8\u6210\u4e00\u4e2a\u65e0\u6548\u503c\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u7a0b\u5e8f\u51fa\u9519\uff0c\u8fd9\u5c31\u662f2038\u5e74\u95ee\u9898\u3002</p> <p>\u8fd9\u6709\u70b9\u7c7b\u4f3c\u4e8e\u5343\u5e74\u866b\u95ee\u9898\uff0c2000\u5e74\u4ee5\u524d\uff0c\u5f88\u591a\u8ba1\u7b97\u673a\u7a0b\u5e8f\u7531\u4e8e\u7a0b\u5e8f\u8bbe\u8ba1\u6709\u95ee\u9898\uff0c\u5728\u65f6\u95f4\u8d85\u8fc72000\u5e741\u67081\u65e5\u96f6\u70b9\u4e4b\u540e\uff0c\u7a0b\u5e8f\u4f1a\u56e0\u4e3a\u65e0\u6cd5\u6b63\u786e\u5904\u7406\u65f6\u95f4\u5bfc\u81f4\u5904\u7406\u51fa\u9519\u6216\u7a0b\u5e8f\u5d29\u6e83\uff08\u4f8b\u5982\u6709\u4e9b\u7a0b\u5e8f\u53ea\u7528\u5e74\u4efd\u7684\u540e\u4e24\u4f4d\u8868\u793a\u5e74\u4efd\uff0c\u5bfc\u81f42000\u5e74\u4f1a\u88ab\u8bef\u8ba4\u4e3a\u662f1900\u5e74\uff09</p>","tags":["\u65f6\u95f4"]},{"location":"others/12.digital-signatures-certificates/","title":"\u6570\u5b57\u7b7e\u540d, \u6570\u5b57\u8bc1\u4e66\u4ee5\u53ca\u52a0\u5bc6\u901a\u4fe1","text":"","tags":["\u4fe1\u606f\u5b89\u5168","\u7f51\u7edc"]},{"location":"others/12.digital-signatures-certificates/#_1","title":"\u4e00\u3001\u9884\u5907\u6982\u5ff5","text":"<ul> <li>\u5bf9\u79f0\u52a0\u5bc6\uff1a\u52a0\u5bc6\u548c\u89e3\u5bc6\u4f7f\u7528\u540c\u4e00\u4e2a\u5bc6\u94a5</li> <li>\u975e\u5bf9\u79f0\u52a0\u5bc6\uff1a\u53c8\u79f0\u516c\u94a5\u52a0\u5bc6\uff0c\u52a0\u5bc6\u548c\u89e3\u5bc6\u4f7f\u7528\u4e0d\u540c\u7684\u5bc6\u94a5\uff0c\u5206\u522b\u79f0\u4e3a\u516c\u94a5\u548c\u79c1\u94a5\uff0c\u516c\u94a5\u516c\u5f00\uff0c\u79c1\u94a5\u4fdd\u5bc6\uff0c\u4f7f\u7528\u516c\u94a5\u52a0\u5bc6\uff0c\u4f7f\u7528\u79c1\u94a5\u89e3\u5bc6</li> <li>\u6458\u8981\u7b97\u6cd5\uff1a\u672c\u8d28\u4e0a\u662f\u4e00\u7c7b\u5b89\u5168\u9886\u57df\u4e0a\u4f7f\u7528\u7684hash\u7b97\u6cd5\uff0c\u6458\u8981\u7b97\u6cd5\u4f1a\u6839\u636e\u8f93\u5165\u6570\u636e\u751f\u6210\u4e00\u4e2a\u56fa\u5b9a\u957f\u5ea6\u7684\u6458\u8981\u6570\u636e\uff0c\u6458\u8981\u7b97\u6cd5\u662f\u4e0d\u53ef\u9006\u7684\uff0c\u5373\u65e0\u6cd5\u901a\u8fc7\u6458\u8981\u53cd\u63a8\u51fa\u539f\u59cb\u6570\u636e\uff0c\u6458\u8981\u53ef\u4ee5\u7528\u6765\u552f\u4e00\u6807\u8bc6\u4e00\u4e2a\u8f93\u5165\u6570\u636e\uff0c\u5373\u4e0d\u540c\u7684\u8f93\u5165\u6570\u636e\u4f1a\u751f\u6210\u4e0d\u540c\u7684\u6458\u8981\uff0c\u540c\u4e00\u4e2a\u8f93\u5165\u6570\u636e\u751f\u6210\u7684\u6458\u8981\u603b\u662f\u76f8\u540c\u7684</li> <li>\u6570\u5b57\u7b7e\u540d\uff1a\u4f7f\u7528\u6458\u8981\u7b97\u6cd5\u5bf9\u6570\u636e\u505a\u6458\u8981\uff0c\u5e76\u7528\u79c1\u94a5\u5bf9\u6458\u8981\u8fdb\u884c\u52a0\u5bc6\uff0c\u751f\u6210\u4e00\u4e2a\u56fa\u5b9a\u957f\u5ea6\u7684\u6570\u636e\uff0c\u7528\u4e8e\u9a8c\u8bc1\u6570\u636e\u7684\u5b8c\u6574\u6027</li> <li>\u6570\u5b57\u8bc1\u4e66\uff1a\u5305\u542b\u516c\u94a5\u548c\u6570\u5b57\u7b7e\u540d\uff0c\u7528\u4e8e\u9a8c\u8bc1\u516c\u94a5\u7684\u6b63\u786e\u6027</li> <li>\u516c\u94a5\u57fa\u7840\u8bbe\u65bd\uff08PKI\uff09\uff1a\u516c\u94a5\u57fa\u7840\u8bbe\u65bd\u662f\u4e00\u4e2a\u4ee5\u516c\u94a5\u52a0\u5bc6\u6280\u672f\u4e3a\u57fa\u7840\uff0c\u4e3a\u7f51\u7edc\u901a\u4fe1\u63d0\u4f9b\u5b89\u5168\u670d\u52a1\u6240\u5fc5\u987b\u7684\u786c\u4ef6\u3001\u8f6f\u4ef6\u3001\u4eba\u5458\u3001\u7b56\u7565\u3001\u89c4\u7a0b\u548c\u6587\u6863\u7b49\u6784\u6210\u7684\u96c6\u5408</li> </ul>","tags":["\u4fe1\u606f\u5b89\u5168","\u7f51\u7edc"]},{"location":"others/12.digital-signatures-certificates/#_2","title":"\u4e8c\u3001\u6570\u5b57\u7b7e\u540d","text":"","tags":["\u4fe1\u606f\u5b89\u5168","\u7f51\u7edc"]},{"location":"others/12.digital-signatures-certificates/#_3","title":"\u6570\u5b57\u7b7e\u540d\u8981\u89e3\u51b3\u4ec0\u4e48\u95ee\u9898","text":"<ol> <li>\u63a5\u6536\u65b9\u65e0\u6cd5\u9a8c\u8bc1\u6d88\u606f\u7684\u6b63\u786e\u6027\u548c\u5b8c\u6574\u6027\uff0c\u6362\u53e5\u8bdd\u8bf4\uff0c\u63a5\u6536\u65b9\u4e0d\u77e5\u9053\u6d88\u606f\u662f\u5426\u5728\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u635f\u574f\uff0c\u4e5f\u4e0d\u77e5\u9053\u6d88\u606f\u662f\u5426\u88ab\u7be1\u6539\u8fc7\u3002</li> <li>\u63a5\u6536\u65b9\u65e0\u6cd5\u9a8c\u8bc1\u6d88\u606f\u53d1\u9001\u8005\u7684\u8eab\u4efd\uff0c\u6362\u53e5\u8bdd\u8bf4\uff0c\u63a5\u6536\u65b9\u4e0d\u77e5\u9053\u6d88\u606f\u662f\u5426\u771f\u7684\u662f\u7531\u53d1\u9001\u8005\u53d1\u9001\u7684\uff0c\u8fd8\u662f\u5176\u4ed6\u4eba\u4f2a\u9020\u7684\u3002</li> </ol>","tags":["\u4fe1\u606f\u5b89\u5168","\u7f51\u7edc"]},{"location":"others/12.digital-signatures-certificates/#_4","title":"\u6570\u5b57\u7b7e\u540d\u5982\u4f55\u89e3\u51b3\u4e0a\u8ff0\u95ee\u9898","text":"<p>\u6570\u5b57\u7b7e\u540d\u5229\u7528\u6458\u8981\u7b97\u6cd5\u548c\u516c\u94a5\u52a0\u5bc6\u89e3\u51b3\u4e0a\u8ff0\u4e24\u4e2a\u95ee\u9898</p> <p>\u53d1\u9001\u65b9\u901a\u8fc7\u6458\u8981\u7b97\u6cd5\u4e3a\u6d88\u606f\u751f\u6210\u4e00\u4e2a\u552f\u4e00\u7684\u6807\u8bc6\uff0c\u63a5\u6536\u65b9\u63a5\u6536\u5230\u6d88\u606f\u540e\u91cd\u65b0\u5bf9\u6d88\u606f\u505a\u6458\u8981\uff0c\u5982\u679c\u548c\u53d1\u9001\u65b9\u751f\u6210\u7684\u6458\u8981\u4e00\u81f4\uff0c\u5219\u8bf4\u660e\u6d88\u606f\u5728\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u6ca1\u6709\u88ab\u635f\u574f\u6216\u7be1\u6539\u3002</p> <p>\u540c\u65f6\uff0c\u4e3a\u4e86\u9a8c\u8bc1\u6d88\u606f\u53d1\u9001\u8005\u7684\u8eab\u4efd\uff0c\u8fd8\u8981\u4f7f\u7528\u516c\u94a5\u52a0\u5bc6\u6280\u672f\uff0c\u7528\u53d1\u9001\u8005\u7684\u79c1\u94a5\u5bf9\u6458\u8981\u8fdb\u884c\u52a0\u5bc6\uff0c\u63a5\u6536\u8005\u7528\u53d1\u9001\u8005\u7684\u516c\u94a5\u5bf9\u6458\u8981\u89e3\u5bc6\u540e\u518d\u8fdb\u884c\u7b7e\u540d\u9a8c\u8bc1\uff0c\u5982\u679c\u4f7f\u7528\u53d1\u9001\u8005\u7684\u516c\u94a5\u65e0\u6cd5\u89e3\u5bc6\u51fa\u6b63\u786e\u7684\u6458\u8981\uff0c\u8bf4\u660e\u8fd9\u4e2a\u516c\u94a5\u4e0d\u662f\u6d88\u606f\u53d1\u9001\u8005\u7684\uff0c\u5373\u6d88\u606f\u53d1\u9001\u8005\u7684\u8eab\u4efd\u662f\u4e0d\u53ef\u4fe1\u7684\u3002</p>","tags":["\u4fe1\u606f\u5b89\u5168","\u7f51\u7edc"]},{"location":"others/12.digital-signatures-certificates/#_5","title":"\u6570\u5b57\u7b7e\u540d\u7684\u4ea4\u4e92\u8fc7\u7a0b","text":"<p>\u6570\u5b57\u7b7e\u540d\u5206\u4e3a\u4e24\u4e2a\u8fc7\u7a0b\uff0c\u7b7e\u540d\u548c\u9a8c\u7b7e\uff0c\u7531\u53d1\u9001\u65b9\u5bf9\u6d88\u606f\u7b7e\u540d\uff0c\u7531\u63a5\u6536\u65b9\u9a8c\u8bc1\u6d88\u606f\u7b7e\u540d</p> <p>\u5177\u4f53\u7684\u4ea4\u4e92\u6d41\u7a0b\u662f</p> <ol> <li>\u53d1\u9001\u4eba\u5bf9\u6d88\u606f\u505a\u6458\u8981\uff0c\u5e76\u5bf9\u6458\u8981\u52a0\u5bc6\u540e\u751f\u6210\u6570\u5b57\u7b7e\u540d\uff0c\u7136\u540e\u5c06\u7b7e\u540d\u548c\u6d88\u606f\u4e00\u8d77\u53d1\u9001\u7ed9\u63a5\u6536\u4eba</li> <li>\u63a5\u6536\u4eba\u6536\u5230\u6d88\u606f\u540e\uff0c\u4f7f\u7528\u53d1\u9001\u4eba\u7684\u516c\u94a5\u89e3\u5bc6\u6458\u8981</li> <li>\u63a5\u6536\u4eba\u901a\u8fc7\u91cd\u65b0\u8ba1\u7b97\u6d88\u606f\u6458\u8981\u7684\u65b9\u5f0f\u6821\u9a8c\u6570\u5b57\u7b7e\u540d\uff0c\u5982\u679c\u6458\u8981\u548c\u52a0\u5bc6\u540e\u7684\u6458\u8981\u4e00\u81f4\uff0c\u5219\u6821\u9a8c\u901a\u8fc7\uff0c\u5373\u53ef\u8bc1\u660e\u6d88\u606f\u7684\u5b8c\u6574\u6027\u548c\u6d88\u606f\u53d1\u9001\u8005\u7684\u8eab\u4efd\u53ef\u4fe1</li> </ol>","tags":["\u4fe1\u606f\u5b89\u5168","\u7f51\u7edc"]},{"location":"others/12.digital-signatures-certificates/#_6","title":"\u4e09\u3001\u6570\u5b57\u8bc1\u4e66","text":"","tags":["\u4fe1\u606f\u5b89\u5168","\u7f51\u7edc"]},{"location":"others/12.digital-signatures-certificates/#_7","title":"\u6570\u5b57\u8bc1\u4e66\u8981\u89e3\u51b3\u4ec0\u4e48\u95ee\u9898","text":"<p>\u5728\u4f7f\u7528\u6570\u5b57\u7b7e\u540d\u7684\u8fc7\u7a0b\u4e2d\u5b58\u5728\u4e00\u4e2a\u95ee\u9898\uff0c\u5373\u63a5\u6536\u4eba\u65e0\u6cd5\u5224\u65ad\u53d1\u9001\u4eba\u7684\u516c\u94a5\u662f\u5426\u53ef\u4fe1\uff0c\u6362\u8a00\u4e4b\uff0c\u53d1\u9001\u4eba\u63d0\u4f9b\u7684\u516c\u94a5\u6709\u53ef\u80fd\u88ab\u7be1\u6539\u6216\u4f2a\u9020\u3002\u6570\u5b57\u8bc1\u4e66\u5c31\u662f\u4e3a\u4e86\u89e3\u51b3\u516c\u94a5\u7684\u53ef\u4fe1\u6027\u95ee\u9898\u800c\u88ab\u53d1\u660e\u51fa\u6765\u7684\u3002</p>","tags":["\u4fe1\u606f\u5b89\u5168","\u7f51\u7edc"]},{"location":"others/12.digital-signatures-certificates/#_8","title":"\u6570\u5b57\u8bc1\u4e66\u5982\u4f55\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898","text":"<p>\u672c\u8d28\u4e0a\u6765\u8bb2\uff0c\u6570\u5b57\u8bc1\u4e66\u662f\u4e00\u79cd\u7279\u6b8a\u7684\u6570\u5b57\u7b7e\u540d\uff0c\u548c\u4e00\u822c\u7684\u6570\u5b57\u7b7e\u540d\u7684\u533a\u522b\u5728\u4e8e\uff0c\u6570\u5b57\u8bc1\u4e66\u662f\u5bf9\u6d88\u606f\u53d1\u9001\u4eba\u7684\u516c\u94a5\u7b7e\u540d\uff0c\u800c\u4e00\u822c\u7684\u6570\u5b57\u7b7e\u540d\u662f\u5bf9\u4e00\u822c\u6027\u7684\u6d88\u606f\u505a\u7b7e\u540d\u3002</p> <p>\u5bf9\u516c\u94a5\u505a\u7b7e\u540d\u540c\u6837\u9762\u4e34\u7b7e\u540d\u8005\u7684\u516c\u94a5\u53ef\u4fe1\u6027\u95ee\u9898\uff0c\u4e3a\u6b64\uff0c\u5f15\u5165\u4e86\u4e00\u4e2a\u6743\u5a01\u7684\u7b2c\u4e09\u65b9\u673a\u6784\uff0c\u8fd9\u4e2a\u7b2c\u4e09\u65b9\u673a\u6784\u79f0\u4e3a\u8bc1\u4e66\u9881\u53d1\u673a\u6784\uff08CA\uff09\uff0c\u7531CA\u53bb\u7ed9\u6d88\u606f\u53d1\u9001\u4eba\u9881\u53d1\u8bc1\u4e66\uff0cCA\u7684\u53ef\u4fe1\u6027\u6765\u6e90\u4e8e\u516c\u5171\u4fe1\u7528\uff0c\u5373\u5927\u5bb6\u90fd\u540c\u610fCA\u662f\u53ef\u4fe1\u7684\uff0c\u4e0d\u9700\u8981\u518d\u5bf9CA\u505a\u9a8c\u8bc1\u3002</p> <p>CA\u4f7f\u7528\u81ea\u5df1\u7684\u79c1\u94a5\u5bf9\u6d88\u606f\u53d1\u9001\u4eba\u7684\u516c\u94a5\u505a\u7b7e\u540d\uff0c\u5e76\u5c06\u8fd9\u4e2a\u6570\u5b57\u7b7e\u540d\u4f5c\u4e3a\u8bc1\u4e66\u9881\u53d1\u7ed9\u53d1\u9001\u4eba\uff0c\u53d1\u9001\u4eba\u7ed9\u63a5\u6536\u4eba\u53d1\u9001\u6d88\u606f\u65f6\uff0c\u5c06\u8bc1\u4e66\u4e00\u5e76\u9644\u4e0a\uff0c\u7531\u63a5\u6536\u4eba\u53bb\u9a8c\u8bc1\u3002CA\u4f1a\u4e3a\u81ea\u5df1\u7684\u516c\u94a5\u9881\u53d1\u4e00\u4e2a\u6839\u8bc1\u4e66\uff0c\u63d0\u524d\u63d0\u4f9b\u7ed9\u7528\u6237\uff0c\u7528\u6237\u4ece\u6839\u8bc1\u4e66\u4e2d\u83b7\u53d6\u5230CA\u7684\u516c\u94a5\uff0c\u5bf9\u53d1\u9001\u4eba\u7684\u8bc1\u4e66\u8fdb\u884c\u9a8c\u8bc1\uff0c\u5e76\u53d6\u5f97\u53d1\u9001\u4eba\u7684\u516c\u94a5\uff0c\u4ece\u800c\u89e3\u51b3\u4e86\u516c\u94a5\u7684\u53ef\u4fe1\u6027\u95ee\u9898\u3002</p> <p></p>","tags":["\u4fe1\u606f\u5b89\u5168","\u7f51\u7edc"]},{"location":"others/12.digital-signatures-certificates/#_9","title":"\u6570\u5b57\u8bc1\u4e66\u7684\u7b7e\u53d1\u548c\u9a8c\u8bc1\u8fc7\u7a0b","text":"<p>\u5728CS\u67b6\u6784\u7684\u901a\u4fe1\u4e2d\uff0c\u4e00\u822c\u670d\u52a1\u7aef\u8981\u53bb\u5411CA\u7533\u8bf7\u670d\u52a1\u5668\u8bc1\u4e66\uff0c\u5e76\u5728\u901a\u4fe1\u65f6\u5c06\u670d\u52a1\u5668\u8bc1\u4e66\u53d1\u9001\u7ed9\u5ba2\u6237\u7aef\uff0c\u5ba2\u6237\u7aef\u63d0\u524d\u62ff\u5230CA\u7684\u6839\u8bc1\u4e66\u5b58\u50a8\u5728\u672c\u5730\uff0c\u5e76\u5229\u7528\u6839\u8bc1\u4e66\u5bf9\u670d\u52a1\u5668\u8bc1\u4e66\u8fdb\u884c\u9a8c\u8bc1\uff0c\u4ece\u800c\u9a8c\u8bc1\u670d\u52a1\u7aef\u7684\u8eab\u4efd\u3002</p> <p>\u8bc1\u4e66\u7684\u7b7e\u53d1\u548c\u9a8c\u8bc1\u8fc7\u7a0b\u5177\u4f53\u5982\u4e0b\uff1a</p> <ol> <li>CA\u751f\u6210\u4e00\u4e2a\u516c\u79c1\u94a5\u5bf9\uff0c\u7528\u79c1\u94a5\u5bf9\u516c\u94a5\u505a\u7b7e\u540d\uff0c\u7136\u540e\u751f\u6210\u6839\u8bc1\u4e66\uff08.crt\u6587\u4ef6\uff0c\u5176\u4e2d\u5305\u542b\u516c\u94a5\u548c\u7b7e\u540d\uff09</li> <li>\u670d\u52a1\u7aef\u751f\u6210\u81ea\u5df1\u7684\u516c\u79c1\u94a5\u5bf9\uff0c\u5e76\u7528\u79c1\u94a5\u5bf9\u516c\u94a5\u751f\u6210\u4e00\u4e2a\u7b7e\u53d1\u8bf7\u6c42\uff08.csr\u6587\u4ef6\uff0c\u5176\u4e2d\u5305\u542b\u516c\u94a5\u548c\u7b7e\u540d\uff09\uff0c\u5411CA\u8bf7\u6c42\u7b7e\u53d1\u8bc1\u4e66</li> <li>CA\u62ff\u5230\u7b7e\u53d1\u8bf7\u6c42\u540e\uff0c\u7528\u81ea\u5df1\u7684\u516c\u94a5\u5bf9\u670d\u52a1\u7aef\u7684\u516c\u94a5\u505a\u7b7e\u540d\uff0c\u751f\u6210\u670d\u52a1\u7aef\u8bc1\u4e66\uff08.crt\u6587\u4ef6\uff09\uff0c\u5e76\u5c06\u8bc1\u4e66\u9881\u5e03\u7ed9\u670d\u52a1\u7aef</li> <li>\u5ba2\u6237\u7aef\u63d0\u524d\u5b89\u88c5\u597dCA\u7684\u6839\u8bc1\u4e66</li> <li>\u670d\u52a1\u7aef\u5c06\u670d\u52a1\u7aef\u8bc1\u4e66\u53d1\u9001\u7ed9\u5ba2\u6237\u7aef\uff0c\u5ba2\u6237\u7aef\u5229\u7528\u5229\u7528CA\u7684\u6839\u8bc1\u4e66\u5bf9\u670d\u52a1\u7aef\u7684\u8bc1\u4e66\u505a\u9a8c\u8bc1</li> </ol>","tags":["\u4fe1\u606f\u5b89\u5168","\u7f51\u7edc"]},{"location":"others/12.digital-signatures-certificates/#_10","title":"\u81ea\u7b7e\u8bc1\u4e66","text":"<ul> <li>\u81ea\u7b7e\u8bc1\u4e66 \u662f\u6307\u81ea\u5df1\u7ed9\u81ea\u5df1\u7b7e\u53d1\u7684\u8bc1\u4e66</li> <li>\u6839\u8bc1\u4e66\u662f\u4e00\u79cd\u81ea\u7b7e\u8bc1\u4e66</li> <li>\u81ea\u7b7e\u8bc1\u4e66\u4e00\u822c\u53ea\u7528\u6765\u505a\u6d4b\u8bd5</li> </ul>","tags":["\u4fe1\u606f\u5b89\u5168","\u7f51\u7edc"]},{"location":"others/12.digital-signatures-certificates/#x509","title":"X.509\u8bc1\u4e66","text":"<p>x.509\u8bc1\u4e66\u662f\u4e00\u79cd\u7531ITU\uff08International TelecommumcationUnion\uff0c\u56fd\u9645\u7535\u4fe1\u8054\u76df\uff09\u5236\u5b9a\u7684\u6570\u5b57\u8bc1\u4e66\u901a\u7528\u89c4\u8303\u6807\u51c6\uff0c\u81ea1998\u5e74\u4ee5\u6765\uff0c\u5df2\u7ecf\u53d1\u5c55\u4e86\u4e09\u4e2a\u7248\u672c\uff0c\u5206\u522b\u662fx.509 v1\uff0cx.509 v2\u548cx.509 v3\uff0c\u76ee\u524d\u4eba\u4eec\u8bf4\u7684x.509\u4e00\u822c\u662f\u6307x.509 v3\u8bc1\u4e66\u3002</p> <p>x.509\u8bc1\u4e66\u4e2d\u6700\u91cd\u8981\u7684\u4e24\u4e2a\u5b57\u6bb5\uff0c\u8bc1\u4e66\u6301\u6709\u8005\u7684\u516c\u94a5\uff08Subject Public Key Info\uff09\uff0c\u4ee5\u53ca\u7b7e\u540d\uff08Signature\uff09</p> <p>x.509\u7684\u7f16\u7801\u683c\u5f0f\u662fASN.1</p> <p>\u53c2\u8003https://learn.microsoft.com/zh-cn/azure/iot-hub/reference-x509-certificates</p>","tags":["\u4fe1\u606f\u5b89\u5168","\u7f51\u7edc"]},{"location":"others/12.digital-signatures-certificates/#_11","title":"\u8bc1\u4e66\u548c\u5bc6\u94a5\u6587\u4ef6\u683c\u5f0f","text":"<p>\u8bc1\u4e66\u548c\u5bc6\u94a5\u4e00\u822c\u6709\u4e24\u79cd\u683c\u5f0f\uff0cder\u683c\u5f0f\u548cpem\u683c\u5f0f</p> <p>der\u683c\u5f0f\u662f\u539f\u59cb\u7684\u4e8c\u8fdb\u5236\u683c\u5f0f\uff0cpem\u683c\u5f0f\u662fbase64\u7f16\u7801\u683c\u5f0f\uff0c\u5e76\u4e14\u4e00\u822c\u5e26\u6709\u7c7b\u4f3c<code>-----BEGIN CERTIFICATE-----</code>\u548c<code>-----END CERTIFICATE-----</code>\u7684\u5f00\u5934\u548c\u7ed3\u5c3e\uff0c\u8868\u660e\u6587\u4ef6\u7684\u7c7b\u578b\uff0cpem\u683c\u5f0f\u662f\u6700\u5e38\u89c1\u7684\u8bc1\u4e66\u6216\u5bc6\u94a5\u683c\u5f0f</p> <p>\u5b9e\u9645\u7684\u6587\u4ef6\u6269\u5c55\u540d\u6709\u591a\u79cd\uff0c\u5e38\u89c1\u7684\u6709<code>.pem</code>\u3001<code>.der</code>\u3001<code>.key</code>\u3001<code>.csr</code>\u3001<code>.crt</code>\u7b49\uff0c\u6587\u4ef6\u5185\u90e8\u771f\u6b63\u7684\u683c\u5f0f\u53ea\u6709der\u548cpem\u4e24\u79cd</p> <p>\u9664\u4e86der\u548cpem\u4ee5\u5916\uff0c\u8bc1\u4e66\u8fd8\u6709\u4e00\u4e9b\u5176\u4ed6\u5b58\u50a8\u683c\u5f0f\uff0c\u4f8b\u5982pks7\u3001pks8\u3001pks12\u7b49</p> <p>\u8bc1\u4e66\u548c\u516c\u79c1\u94a5\u7684\u7f16\u7801\u683c\u5f0f\u4e00\u822c\u662fASN.1\uff0c\u53c2\u8003https://learn.microsoft.com/zh-cn/windows/win32/seccertenroll/about-introduction-to-asn-1-syntax-and-encoding</p>","tags":["\u4fe1\u606f\u5b89\u5168","\u7f51\u7edc"]},{"location":"others/12.digital-signatures-certificates/#opensslx509","title":"\u5982\u4f55\u7528openssl\u7b7e\u53d1\u548c\u9a8c\u8bc1x509\u8bc1\u4e66","text":"<pre><code>#\u751f\u6210\u6839\u79c1\u94a5\uff08\u4f7f\u7528ed25519\u7b97\u6cd5\uff09\n ./openssl genpkey -algorithm ed25519 -out tmp/ed25519_ca_pri -outform pem\n\n#\u751f\u6210\u6839\u516c\u94a5\n./openssl pkey -in .\\tmp\\ed25519_ca_pri -pubout -out tmp/ed25519_ca_pub\n\n#\u751f\u6210\u6839\u8bc1\u4e66\uff08\u5b57\u6bb5\u90fd\u8981\u586b\uff0c\u4e00\u822c\u8bc1\u4e66\u4ee5.crt\u4f5c\u4e3a\u6269\u5c55\u540d\uff09\n./openssl req -new -x509 -days 3650 -key .\\tmp\\ed25519_ca_pri -keyform pem -out ./tmp/ca_crt\n\nYou are about to be asked to enter information that will be incorporated\ninto your certificate request.\nWhat you are about to enter is what is called a Distinguished Name or a DN.\nThere are quite a few fields but you can leave some blank\nFor some fields there will be a default value,\nIf you enter '.', the field will be left blank.\n-----\nCountry Name (2 letter code) [AU]:\nState or Province Name (full name) [Some-State]:\nLocality Name (eg, city) []:\nOrganization Name (eg, company) [Internet Widgits Pty Ltd]:\nOrganizational Unit Name (eg, section) []:\nCommon Name (e.g. server FQDN or YOUR name) []:\nEmail Address []:\n\n#\u6253\u5370\u8bc1\u4e66\u5185\u5bb9\n./openssl x509 -in .\\tmp\\ca_crt -noout -text\n\n#\u9a8c\u8bc1\u6839\u8bc1\u4e66\uff08\u81ea\u5df1\u9a8c\u8bc1\u81ea\u5df1\uff09\n./openssl verify -CAfile .\\tmp\\ca_crt .\\tmp\\ca_crt\n\n.\\tmp\\ca_crt: OK\n\n#\u4ece\u8bc1\u4e66\u4e2d\u63d0\u53d6\u6839\u516c\u94a5\nopenssl x509 -in tmp1/ca_crt -pubkey -noout\n\n\n#\u751f\u6210\u7528\u6237\u79c1\u94a5\n./openssl genpkey -algorithm ed25519 -out tmp/ed25519_usr_pri -outform pem\n\n#\u751f\u6210\u7528\u6237\u516c\u94a5\n./openssl pkey -in .\\tmp\\ed25519_usr_pri -pubout -out tmp/ed25519_usr_pub\n\n#\u751f\u6210\u7528\u6237\u8bc1\u4e66\u7b7e\u53d1\u8bf7\u6c42\uff08\u4e0d\u5e26-x509\u53c2\u6570\u5c31\u662f\u751f\u6210\u7b7e\u53d1\u8bf7\u6c42\uff0c\u5e26\u4e0ax509\u548c\u65f6\u95f4\u5c31\u662f\u751f\u6210\u8bc1\u4e66\uff0c\u5b57\u6bb5\u90fd\u8981\u586b\uff0c\u4e00\u822c\u7b7e\u53d1\u8bf7\u6c42\u4ee5.csr\u4f5c\u4e3a\u6269\u5c55\u540d\uff09\n ./openssl req -new -key .\\tmp\\ed25519_usr_pri -out ./tmp/usr_req\n\nYou are about to be asked to enter information that will be incorporated\ninto your certificate request.\nWhat you are about to enter is what is called a Distinguished Name or a DN.\nThere are quite a few fields but you can leave some blank\nFor some fields there will be a default value,\nIf you enter '.', the field will be left blank.\n-----\nCountry Name (2 letter code) [AU]:\nState or Province Name (full name) [Some-State]:\nLocality Name (eg, city) []:\nOrganization Name (eg, company) [Internet Widgits Pty Ltd]:\nOrganizational Unit Name (eg, section) []:\nCommon Name (e.g. server FQDN or YOUR name) []:\nEmail Address []:\n\nPlease enter the following 'extra' attributes\nto be sent with your certificate request\nA challenge password []:\nAn optional company name []:\n\n#\u6253\u5370\u7528\u6237\u7b7e\u53d1\u8bf7\u6c42\u5185\u5bb9\n./openssl req -in tmp/usr_req -noout -text\n\n#\u4e3a\u7528\u6237\u7b7e\u53d1\u8bc1\u4e66\n\n./openssl x509 -req -days 3650 -in .\\tmp\\usr_req -CA .\\tmp\\ca_crt -CAkey .\\tmp\\ed25519_ca_pri -CAcreateserial -out tmp/usr_crt\n\nCertificate request self-signature ok\nsubject=C = AU, ST = Some-State, O = Internet Widgits Pty Ltd\n\n#\u9a8c\u8bc1\u7528\u6237\u8bc1\u4e66\n./openssl verify -CAfile .\\tmp\\ca_crt .\\tmp\\usr_crt\n\n#\u4ece\u8bc1\u4e66\u4e2d\u63d0\u53d6\u7528\u6237\u516c\u94a5\nopenssl x509 -in tmp1/usr_crt -pubkey -noout\n\n#\u4f7f\u7528\u7528\u6237\u79c1\u94a5\u8fdb\u884c\u7b7e\u540d\n./openssl pkeyutl -sign -inkey .\\tmp1\\ed25519_usr_pri -out tmp1/usr_sig -rawin -in .\\tmp1\\data.txt\n\n#\u4f7f\u7528\u7528\u6237\u516c\u94a5\u8fdb\u884c\u9a8c\u7b7e\n./openssl pkeyutl -verify -pubin -inkey .\\tmp1\\ed25519_usr_pub -rawin -in .\\tmp1\\data.txt -sigfile .\\tmp1\\usr_sig\n\nSignature Verified Successfully\n\n#\u8bc1\u4e66\u683c\u5f0f\u8f6c\u6362\uff0c\u4eceder\u683c\u5f0f\u8f6c\u4e3apem\u683c\u5f0f\nopenssl x509 -inform der -in certificate.der -out certificate.pem\n</code></pre>","tags":["\u4fe1\u606f\u5b89\u5168","\u7f51\u7edc"]},{"location":"others/12.digital-signatures-certificates/#_12","title":"\u56db\u3001\u52a0\u5bc6\u901a\u4fe1","text":"<p>\u52a0\u5bc6\u901a\u4fe1 = \u5bc6\u94a5\u534f\u5546 + \u5bf9\u79f0\u52a0\u5bc6</p>","tags":["\u4fe1\u606f\u5b89\u5168","\u7f51\u7edc"]},{"location":"others/12.digital-signatures-certificates/#_13","title":"\u5bf9\u79f0\u52a0\u5bc6\u548c\u516c\u94a5\u52a0\u5bc6\u7684\u5bf9\u6bd4","text":"\u7279\u6027 \u5bf9\u79f0\u52a0\u5bc6 \u516c\u94a5\u52a0\u5bc6 \u52a0\u5bc6\u901f\u5ea6 \u5feb \u6162 \u5bc6\u94a5\u7ba1\u7406 \u590d\u6742\uff0c\u9700\u8981\u5b89\u5168\u5206\u53d1\u5bc6\u94a5 \u7b80\u5355\uff0c\u516c\u94a5\u53ef\u4ee5\u516c\u5f00\u5206\u53d1 \u4e3b\u8981\u7528\u9014 \u6570\u636e\u52a0\u5bc6\u4f20\u8f93 \u5bc6\u94a5\u4ea4\u6362\u3001\u6570\u5b57\u7b7e\u540d\u3001\u6570\u5b57\u8bc1\u4e66 \u5178\u578b\u7b97\u6cd5 AES\u3001DES RSA\u3001ECC","tags":["\u4fe1\u606f\u5b89\u5168","\u7f51\u7edc"]},{"location":"others/12.digital-signatures-certificates/#_14","title":"\u5e38\u89c1\u516c\u94a5\u52a0\u5bc6\u7b97\u6cd5","text":"<p>\u975e\u5bf9\u79f0\u52a0\u5bc6\u4e3b\u8981\u7528\u9014\u662f\u505a\u5bc6\u94a5\u534f\u5546\uff08\u5bc6\u94a5\u4ea4\u6362\uff09\u3001\u751f\u6210\u548c\u9a8c\u8bc1\u6570\u5b57\u7b7e\u540d\u548c\u8bc1\u4e66</p> \u7b97\u6cd5 \u540d\u5b57 \u7c7b\u578b \u8bf4\u660e RSA Ron Rivest,\u00a0Adi Shamir,\u00a0Leonard Adleman \u516c\u94a5\u52a0\u5bc6 \u6700\u65e9\u7684\u516c\u94a5\u52a0\u5bc6\uff0c\u662f\u76ee\u524d\u5e94\u7528\u6700\u5e7f\u6cdb\u7684\u516c\u94a5\u52a0\u5bc6\uff0c\u76ee\u524d\u8ba4\u4e3a2048\u4f4d\u7684RSA\u5bc6\u94a5\u662f\u5b89\u5168\u7684\uff081024\u4f4d\u7684\u5bc6\u94a5\u5df2\u4e0d\u5b89\u5168\uff09 DSA Digital Signature Algorithm \u4e13\u95e8\u7528\u4e8e\u6570\u5b57\u7b7e\u540d\uff0c\u7531\u7f8e\u56fd\u56fd\u5bb6\u6807\u51c6\u4e0e\u6280\u672f\u7814\u7a76\u9662 (NIST) \u4e8e 1991 \u5e74\u63d0\u51fa\uff0c\u5e76\u4e8e 1993 \u5e74\u88ab\u8054\u90a6\u4fe1\u606f\u5904\u7406\u6807\u51c6 (FIPS) \u91c7\u7528 \u5b58\u5728\u5df2\u77e5\u7684\u5b89\u5168\u6027\u548c\u653f\u6cbb\u95ee\u9898\uff0c\u53c2\u8003https://www.fisec.cn/1256.html ECC \u692d\u5706\u66f2\u7ebf\u52a0\u5bc6\u7b97\u6cd5 \u4e00\u7c7b\u7b97\u6cd5 \u7528\u4e8e\u975e\u5bf9\u79f0\u52a0\u5bc6\uff0c\u5bc6\u94a5\u4ea4\u6362\u548c\u6570\u5b57\u7b7e\u540d\u3002\u5bc6\u94a5\u6bd4RSA\u77ed\uff0c\u6027\u80fd\u548c\u5b89\u5168\u6027\u5f3a\u4e8eRSA ECDSA \u692d\u5706\u66f2\u7ebf\u6570\u5b57\u7b7e\u540d\u7b97\u6cd5 \u6570\u5b57\u7b7e\u540d \u7528\u4e8e\u6570\u5b57\u7b7e\u540d\uff0c\u662fDSA\u7684ECC\u5b9e\u73b0\u3002\u5728\u533a\u5757\u94fe\u7f51\u7edc\uff08\u6bd4\u7279\u5e01\u3001\u4ee5\u592a\u574a\uff09\u4e2d\u88ab\u5927\u91cf\u4f7f\u7528 ECDH \u692d\u5706\u66f2\u7ebf\u5bc6\u94a5\u4ea4\u6362\u7b97\u6cd5 \u5bc6\u94a5\u4ea4\u6362 DH\uff08Diffie-Hellman\uff09\u662f\u4e00\u79cd\u5bc6\u94a5\u4ea4\u6362\u7b97\u6cd5\uff0cDH\u5bc6\u94a5\u4ea4\u6362\u7684ECC\u5b9e\u73b0\u3002\u7531\u4e8e\u5bc6\u94a5\u4e0d\u662f\u4e34\u65f6\u7684\uff0c\u4e0d\u5b89\u5168\uff0c\u88abopenssl\u9ed8\u8ba4\u5f03\u7528 ECDHE \u692d\u5706\u66f2\u7ebf\u5bc6\u94a5\u4ea4\u6362\u7b97\u6cd5 \u5bc6\u94a5\u4ea4\u6362 \u6bd4ECDH\u591a\u4e2aE\uff0c\u4ee3\u8868\u751f\u6210\u7684\u5bc6\u94a5\u662f\u4e34\u65f6\u7684\uff0c\u5373\u6bcf\u6b21\u4f1a\u8bdd\u90fd\u4f1a\u91cd\u65b0\u751f\u6210\u5bc6\u94a5\u3002TLS/SSL\u4e3b\u8981\u7684\u4e24\u79cd\u5bc6\u94a5\u4ea4\u6362\u7b97\u6cd5\u4e4b\u4e00\uff08ECDHE\u548cRSA\uff09 EdDSA \u7231\u5fb7\u534e\u5179\u66f2\u7ebf\u6570\u5b57\u7b7e\u540d\u7b97\u6cd5 \u6570\u5b57\u7b7e\u540d \u662f\u4e00\u79cd\u57fa\u4e8e\u626d\u66f2\u7231\u5fb7\u534e\u5179\u66f2\u7ebf\u548cSchnorr\u7b7e\u540d\u7684\u6570\u5b57\u7b7e\u540d\u65b9\u6848\u3002\u5b83\u6bd4DSA\u548cECDSA\u66f4\u5b89\u5168 Ed25519 \u57fa\u4e8e25519\u66f2\u7ebf\u7684EdDSA\u6570\u5b57\u7b7e\u540d\u7b97\u6cd5 \u6570\u5b57\u7b7e\u540d \u662f\u4e00\u79cd\u57fa\u4e8eSHA-512\u548ced25519\u7684EdDSA\u6570\u5b57\u7b7e\u540d\u7b97\u6cd5\uff08ed25519\u66f2\u7ebf\u662f\u626d\u66f2\u7231\u5fb7\u534e\u5179\u66f2\u7ebf\u7684\u4e00\u4e2a\u5b9e\u4f8b\uff0c\u7531Daniel J. Bernstein\u63d0\u51fa\uff09\u3002\u88ab\u5927\u91cf\u4f7f\u7528\u7684\u8d77\u56e0\u662f2013\u5e74\u65af\u8bfa\u767b\u66dd\u5149\u7684\u7f8e\u56fd\u68f1\u955c\u8ba1\u5212\uff0c\u6b64\u524d25519\u66f2\u7ebf\u53ea\u5728\u5b66\u672f\u754c\u88ab\u4f7f\u7528\u3002\u65e0\u8bba\u662f\u5b89\u5168\u6027\u8fd8\u662f\u6027\u80fd\uff0c\u90fd\u4f18\u4e8eRSA\u3001ECDSA\u7b97\u6cd5\u3002\u4f7f\u7528\u5c11\uff0c\u662f\u56e0\u4e3a\u51fa\u73b0\u65f6\u95f4\u665a x25519 \u57fa\u4e8ecurve25519\u66f2\u7ebf\u7684\u5bc6\u94a5\u4ea4\u6362\u7b97\u6cd5 \u5bc6\u94a5\u4ea4\u6362 Curve25519\u66f2\u7ebf\u662f\u8499\u54e5\u9a6c\u5229\u692d\u5706\u66f2\u7ebf\u7684\u4e00\u4e2a\u5b9e\u4f8b\uff0c\u7531Daniel J. Bernstein\u63d0\u51fa","tags":["\u4fe1\u606f\u5b89\u5168","\u7f51\u7edc"]},{"location":"others/12.digital-signatures-certificates/#_15","title":"\u5173\u4e8e\u692d\u5706\u66f2\u7ebf\u52a0\u5bc6","text":"<p>\u692d\u5706\u66f2\u7ebf\u52a0\u5bc6\u6709\u4e24\u79cd\u6709\u9650\u57df\uff0cFp\u57df\uff08\u7d20\u6570\u57df\uff09\uff0c\u5373\u6709\u9650\u57df\u7684\u8303\u56f4\u4e3a\u7d20\u6570\uff1bF2m\u57df\uff0c\u5373\u7279\u5f81\u4e3a2\u7684\u6709\u9650\u57df\uff0c\u79f0\u4e4b\u4e3a\u4e8c\u5143\u57df\u6216\u8005\u4e8c\u8fdb\u5236\u6269\u5c55\u57df\uff0c\u8be5\u57df\u4e2d\uff0c\u5143\u7d20\u7684\u4e2a\u6570\u4e3a2m\u4e2a\u3002</p> <p>\u7d20\u6570\u57df\u7684\u4e94\u4e2a\u53c2\u6570(p,a,b,G,n,h)\uff0cp\u662f\u6709\u9650\u57df\u7684\u8303\u56f4\uff0ca\u548cb\u786e\u5b9a\u66f2\u7ebf\u7684\u5f62\u72b6\uff0cG\u662f\u8ba1\u7b97\u7684\u57fa\u70b9\uff0cn\u662f\u52a0\u6cd5\u7684\u6b21\u6570\uff0ch\u662f\u534f\u56e0\u5b50</p> <p>\u4e8c\u8fdb\u5236\u6269\u5c55\u57df\u7684\u53c2\u6570(m,f(x),a,b,G,n,h)\uff0c\u5176\u4e2d\uff0cm\u786e\u5b9aF2m\uff0cf(x)\u4e3a\u4e0d\u53ef\u7ea6\u591a\u9879\u5f0f\uff0ca\u548cb\u7528\u4e8e\u786e\u5b9a\u692d\u5706\u66f2\u7ebf\u65b9\u7a0b\uff0cG\u4e3a\u57fa\u70b9\uff0cn\u4e3aG\u7684\u9636\uff0ch\u4e3a\u4f59\u56e0\u5b50\u3002</p> <p>\u79c1\u94a5=\u4e00\u4e2a\u968f\u673a\u6570\uff0c\u516c\u94a5=\u79c1\u94a5\u4e58\u4ee5\u57fa\u70b9G</p> <p>\u692d\u5706\u66f2\u7ebf\u6709\u591a\u79cd\u56fd\u9645\u6807\u51c6</p> <p>1) X9.62\uff0cPublic Key Cryptography For The Financial Services Industry: The Elliptic Curve Digital Signature Algorithm (ECDSA)\uff1b 2) SEC 1\uff0cElliptic Curve Cryptography\uff1b 3) SEC 2\uff0cRecommended Elliptic Curve Domain Parameters\uff1b 4) NIST\uff0c(U.S.) National Institute of Standards and Technology\uff0c\u7f8e\u56fd\u56fd\u5bb6\u6807\u51c6\u3002</p> <p>\u8fd9\u4e9b\u6807\u51c6\u4e00\u822c\u90fd\u63cf\u8ff0\u4e86Fp\u57df\u548cF2m\u57df\u3001\u692d\u5706\u66f2\u7ebf\u53c2\u6570\u3001\u6570\u636e\u8f6c\u6362\u3001\u5bc6\u94a5\u751f\u6210\u4ee5\u53ca\u63a8\u8350\u4e86\u591a\u79cd\u692d\u5706\u66f2\u7ebf\u3002</p>","tags":["\u4fe1\u606f\u5b89\u5168","\u7f51\u7edc"]},{"location":"others/12.digital-signatures-certificates/#oid","title":"\u52a0\u5bc6\u7b97\u6cd5\u7684OID","text":"<p>OID\uff0cObject Identifier\uff0c\u5bf9\u8c61\u6807\u8bc6\u7b26\uff0c\u7528\u4e8e\u6807\u8bc6\u4e00\u4e2a\u5bf9\u8c61\uff0cOID\u4e00\u822c\u7528\u6765\u6807\u8bc6\u4e00\u4e2a\u7b97\u6cd5\u3001\u4e00\u4e2a\u786e\u5b9a\u53c2\u6570\u7684\u692d\u5706\u66f2\u7ebf\u4e4b\u7c7b\u7684\u4e1c\u897f\u3002</p>","tags":["\u4fe1\u606f\u5b89\u5168","\u7f51\u7edc"]},{"location":"others/12.digital-signatures-certificates/#ssltls","title":"SSL/TLS","text":"<ul> <li>SSL\uff0cSecure Sockets Layer</li> <li>TLS\uff0cTransport Layer Security</li> <li>SSL/TLS\u662f\u5bf9\u56e0\u7279\u7f51\u4e0a\u7684\u6570\u636e\u4f20\u8f93\u8fdb\u884c\u8eab\u4efd\u9a8c\u8bc1\u548c\u52a0\u5bc6\u7684\u534f\u8bae\uff0cSSL/TLS\u662f\u5bf9ssl\u548ctls\u7684\u7edf\u79f0\uff0ctls\u66f4\u5148\u8fdb\uff0c\u66f4\u5b89\u5168\u7684ssl\uff0c\u6b63\u5728\u9010\u6e10\u53d6\u4ee3ssl</li> <li>SSL/TLS\u6709\u591a\u4e2a\u7248\u672c\uff0c\u4f7f\u7528How\u2019s My SSL\u5de5\u5177\u67e5\u770b\u4f60\u7684\u6d4f\u89c8\u5668\u4f7f\u7528\u7684\u662f\u54ea\u4e2aSSL/TLS\u7248\u672c</li> <li>SSL/TLS\u7684\u63e1\u624b\u8fc7\u7a0b<ol> <li>\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u4e92\u76f8\u544a\u77e5\u5404\u81ea\u652f\u6301\u7684SSL/TLS\u7248\u672c\uff0c\u52a0\u5bc6\u7b97\u6cd5\u548c\u538b\u7f29\u7b97\u6cd5</li> <li>\u5ba2\u6237\u7aef\u9a8c\u8bc1\u670d\u52a1\u5668\u8bc1\u4e66\uff0c\u5e76\u83b7\u5f97\u670d\u52a1\u5668\u516c\u94a5</li> <li>\u53cc\u65b9\u901a\u8fc7\u534f\u5546\u751f\u6210\u4f1a\u8bdd\u79d8\u94a5\uff08\u4f1a\u8bdd\u79d8\u94a5\u662f\u4e00\u4e2a\u5bf9\u79f0\u79d8\u94a5\uff0c\u5bf9\u79f0\u52a0\u5bc6\u6bd4\u516c\u94a5\u52a0\u5bc6\u5feb\uff09</li> <li>\u53cc\u65b9\u4f7f\u7528\u4f1a\u8bdd\u79d8\u94a5\u8fdb\u884c\u52a0\u5bc6\u901a\u4fe1</li> </ol> </li> </ul>","tags":["\u4fe1\u606f\u5b89\u5168","\u7f51\u7edc"]},{"location":"others/12.digital-signatures-certificates/#https","title":"https\u534f\u8bae","text":"<ol> <li>https\u5728http\u7684\u57fa\u7840\u4e0a\u589e\u52a0\u4e86SSL/TLS\u534f\u8bae\uff0cSSL/TLS\u4f9d\u9760\u8bc1\u4e66\u9a8c\u8bc1\u670d\u52a1\u5668\u8eab\u4efd\uff0c\u5e76\u5bf9\u6d4f\u89c8\u5668\u548c\u670d\u52a1\u5668\u4e4b\u95f4\u7684\u901a\u4fe1\u8fdb\u884c\u52a0\u5bc6</li> <li>https\u4f7f\u7528443\u7aef\u53e3\uff0chttp\u4f7f\u752880\u7aef\u53e3</li> </ol>","tags":["\u4fe1\u606f\u5b89\u5168","\u7f51\u7edc"]},{"location":"others/34.bluetooth-specification-introduction/","title":"\u84dd\u7259\u76f8\u5173\u77e5\u8bc6","text":"","tags":["\u84dd\u7259"]},{"location":"others/34.bluetooth-specification-introduction/#_1","title":"\u84dd\u7259\u6280\u672f","text":"<p>\u84dd\u7259\u662f\u4e00\u79cd\u65e0\u7ebf\u901a\u8baf\u6280\u672f\uff0c\u84dd\u7259\u5230\u76ee\u524d\u4e3a\u6b62\u4e00\u5171\u53d1\u5c55\u4e86\u591a\u4ee3\u89c4\u8303\u3002\u4ece\u84dd\u72594.0\u5f00\u59cb\u63d0\u51fa\u4e86BLE\u6280\u672f\uff08Bluetooth Low Energy\uff0c\u84dd\u7259\u4f4e\u529f\u8017\uff09\uff0c\u4e00\u822c\u628a\u84dd\u72594.0\u79f0\u4e3aBLE\uff0c\u628a\u4e4b\u524d\u7684\u7248\u672c\u79f0\u4e3a\u7ecf\u5178\u84dd\u7259\uff08BR/EDR\uff09\u6216\u4f20\u7edf\u84dd\u7259\u3002</p> <p>\u4ee5\u4e0b\u5217\u51fa\u4e86\u5404\u4ee3\u84dd\u7259\u6280\u672f</p> \u6280\u672f \u89c4\u8303 \u7248\u672c BR 1.1(2003) Basic Rate (1 Mbit/s) EDR 2.0(2004) Enhance Data Rate (2-3 Mbit/s) HS 3.0(2009) High Speed (Alternate MAC/PHY) LE 4.0(2010) Low Energy (1 Mbit/s ultra low power) <ul> <li>BR\uff0c\u57fa\u7840\u901f\u7387\uff08Basic Rate\uff09\uff0c1.1\u7248\u672c\uff0c\u4f20\u8f93\u7387\u7ea6\u57281Mbit/s\uff0c\u56e0\u4e3a\u662f\u65e9\u671f\u8bbe\u8ba1\uff0c\u5bb9\u6613\u53d7\u5230\u540c\u9891\u7387\u7684\u4ea7\u54c1\u5e72\u6270\uff0c\u5f71\u54cd\u901a\u8baf\u8d28\u91cf\u3002</li> <li>EDR\uff0c\u589e\u5f3a\u901f\u7387\uff08Enhanced Data Rate\uff09\uff0c\u5927\u5927\u63d0\u9ad8\u4e86\u84dd\u7259\u6570\u636e\u4f20\u8f93\u901f\u7387\uff0c\u8fbe\u5230\u4e862-3Mbit/s \u3002\u9664\u4e86\u97f3\u9891\u6d41\u4f20\u8f93\u66f4\u7a33\u5b9a\u548c\u8017\u7535\u91cf\u66f4\u4f4e\u4e4b\u5916\uff0c\u8fd8\u53ef\u5145\u5206\u5229\u7528\u5e26\u5bbd\u4f18\u52bf\u540c\u65f6\u8fde\u63a5\u591a\u4e2a\u84dd\u7259\u8bbe\u5907\u3002</li> <li>HS\uff0cHigh Speed\u3002\u80fd\u5229\u7528WiFi\u4f5c\u4e3a\u6570\u636e\u4f20\u8f93\u65b9\u5f0f\uff0c\u4f20\u8f93\u901f\u5ea6\u6700\u9ad8\u53ef\u8fbe24Mbps\u3002\u5176\u6838\u5fc3\u662f\u5728802.11\u7684\u57fa\u7840\u4e0a\uff0c\u901a\u8fc7\u96c6\u6210802.11\u534f\u8bae\u9002\u914d\u5c42\uff0c\u4f7f\u5f97\u84dd\u7259\u534f\u8bae\u6808\u53ef\u4ee5\u6839\u636e\u4efb\u52a1\u548c\u8bbe\u5907\u7684\u4e0d\u540c\uff0c\u9009\u62e9\u6b63\u786e\u7684\u5c04\u9891\u3002</li> <li>LE\uff0c\u4f4e\u80fd\u8017\uff08Low Energy\uff09\uff0c\u662f\u84dd\u72594.0\u7248\u672c\u63d0\u51fa\u7684\u7279\u6027\uff0c\u7279\u70b9\u662f\u4f4e\u529f\u8017\u3001\u77ed\u8ddd\u79bb\u3001\u53ef\u4e92\u64cd\u4f5c\uff0c\u5de5\u4f5c\u5728\u514d\u8bb8\u53ef\u76842.4GHz ISM\u5c04\u9891\u9891\u6bb5\u3002</li> </ul>","tags":["\u84dd\u7259"]},{"location":"others/34.bluetooth-specification-introduction/#hostcontroller","title":"\u84dd\u7259host\u548c\u84dd\u7259controller","text":"<p>\u84dd\u7259controller\u4e00\u822c\u6307\u84dd\u7259\u82af\u7247\u63a7\u5236\u90e8\u5206\uff0c\u4f4d\u4e8e\u84dd\u7259\u6280\u672f\u7684\u4e0b\u5c42</p> <p>\u84dd\u7259host\u4e00\u822c\u6307\u84dd\u7259\u534f\u8bae\u6808\uff0c\u4f4d\u4e8e\u84dd\u7259\u6280\u672f\u7684\u4e0a\u5c42</p>","tags":["\u84dd\u7259"]},{"location":"others/34.bluetooth-specification-introduction/#bredr","title":"\u7ecf\u5178\u84dd\u7259\uff08BR/EDR\uff09","text":"","tags":["\u84dd\u7259"]},{"location":"others/34.bluetooth-specification-introduction/#_2","title":"\u84dd\u7259\u5730\u5740","text":"<p>\u7ecf\u5178\u84dd\u7259\u5730\u5740\uff0c\u957f\u5ea648\u4f4d\uff086\u5b57\u8282\uff09\uff0c\u6bcf\u4e2a\u8bbe\u5907\u7684\u7ecf\u5178\u84dd\u7259\u5730\u5740\u662f\u552f\u4e00\u7684\uff0c\u9700\u8981\u7531\u4f01\u4e1a\u5411IEEE\u7533\u8bf7\u8d2d\u4e70\u3002</p>","tags":["\u84dd\u7259"]},{"location":"others/34.bluetooth-specification-introduction/#codclass-of-device","title":"CoD\uff08Class of Device\uff0c\u8bbe\u5907\u7c7b\u578b\uff09","text":"<p>\u957f\u5ea624\u4f4d\uff083\u5b57\u8282\uff09\uff0c\u7528\u6765\u8868\u660e\u8bbe\u5907\u7c7b\u578b</p>","tags":["\u84dd\u7259"]},{"location":"others/34.bluetooth-specification-introduction/#ble","title":"\u4f4e\u529f\u8017\u84dd\u7259(BLE)","text":"","tags":["\u84dd\u7259"]},{"location":"others/34.bluetooth-specification-introduction/#_3","title":"\u5730\u5740\u7c7b\u578b","text":"<p>public\u5730\u5740\uff1a\u548c\u7ecf\u5178\u84dd\u7259\u5730\u5740\u4e00\u6837\uff0c\u662f\u56fa\u5b9a\u7684</p> <p>random\u5730\u5740\uff1a\u968f\u673a\u5730\u5740\uff0c\u4f1a\u7ecf\u5e38\u53d8\u5316\uff0815\u5206\u949f\u53d8\u4e00\u6b21\uff09</p>","tags":["\u84dd\u7259"]},{"location":"others/34.bluetooth-specification-introduction/#_4","title":"\u5e7f\u64ad\u548c\u626b\u63cf","text":"<p>\u5e7f\u64ad\u5305\u53d1\u51fa\u540e\uff0c\u53ef\u88ab\u5176\u4ed6\u8bbe\u5907\u626b\u63cf\u5230\uff0c\u626b\u63cf\u5206\u4e3a\u4e3b\u52a8\u626b\u63cf\u548c\u88ab\u52a8\u626b\u63cf\uff0c\u88ab\u52a8\u626b\u63cf\u53ea\u662f\u5355\u7eaf\u5730\u63a5\u6536\u5e7f\u64ad\u5305\uff0c\u4e3b\u52a8\u626b\u63cf\u4f1a\u7ed9\u53d1\u5e7f\u64ad\u7684\u8bbe\u5907\u53d1\u9001\u626b\u63cf\u8bf7\u6c42\u5305\uff0c\u53d1\u9001\u5e7f\u64ad\u7684\u8bbe\u5907\u4f1a\u56de\u590d\u626b\u63cf\u54cd\u5e94\u5305</p> <p>\u5e7f\u64ad\u5305\u7684payload\u7531\u4e00\u4e2a\u4e2adata section\u7ec4\u6210\uff0cdata section\u662f\u4e00\u79cdkey-value\u7ed3\u6784\uff0c\u5e38\u89c1\u7684key\u67090x09\uff08local name\uff09\uff0c0x16\uff08service uuids\uff09</p>","tags":["\u84dd\u7259"]},{"location":"others/34.bluetooth-specification-introduction/#gattgeneric-attribute-profile","title":"GATT\uff08Generic Attribute Profile\uff09","text":"<p>GATT\uff08Generic Attribute Profile\uff09\u662f\u4e00\u79cd\u84dd\u7259\u901a\u8baf\u89c4\u8303\uff0c\u7528\u4e8e\u5728BLE\u8fde\u63a5\u4e0a\u53d1\u9001\u548c\u63a5\u53d7\u77ed\u6570\u636e\u6bb5\u3002GATT\u662f\u4e00\u79cd\u4e00\u5bf9\u4e00\u7684\u901a\u4fe1\u65b9\u5f0f\u3002</p> <p>GATT\u901a\u4fe1\u7684\u53cc\u65b9\u662fC/S\u5173\u7cfb\u3002\u5916\u8bbe\u4f5c\u4e3aGATT\u670d\u52a1\u7aef\uff08Server\uff09\uff0c\u7ef4\u6301ATT\u7684\u67e5\u627e\u8868\u4ee5\u53caservice\u548ccharacteristic\u7684\u5b9a\u4e49\u3002\u4e2d\u5fc3\u8bbe\u5907\u662fGATT\u5ba2\u6237\u7aef\uff08Client\uff09\uff0c\u8d1f\u8d23\u5411Server\u53d1\u8d77\u8bf7\u6c42\u3002</p> <p>GATT\u4ece\u903b\u8f91\u4e0a\u7531Profile\u3001Service\u548cCharacteristic\u5d4c\u5957\u7ec4\u6210\uff0c\u4e00\u4e2aProfile\u5305\u542b\u591a\u4e2aService\uff0c\u4e00\u4e2aService\u5305\u542b\u591a\u4e2aCharacteristic\uff0cService\u548cCharacteristic\u90fd\u7531\u552f\u4e00\u7684UUID\u6807\u8bc6\u3002</p> <p>UUID\u957f\u5ea6\u4e3a128\u4f4d\uff0816\u4e2a\u5b57\u8282\uff09\uff0c\u5b98\u65b9\u9884\u5148\u6307\u5b9a\u4e86\u4e00\u4e9bUUID\u4f5c\u4e3a\u901a\u7528Service\u548cCharacteristic\uff0c\u5f62\u5f0f\u662f<code>0000xxxx-0000-1000-8000-00805f9b34fb</code>\uff0c\u53ea\u9760\u7b2c96~111\u4f4d\u8fd916\u4f4d\u533a\u5206\uff0c\u5176\u4ed6\u4f4d\u90fd\u662f\u76f8\u540c\u7684\u3002\u56e0\u6b64\u5728\u5b98\u65b9\u6587\u6863\u4e2d\uff0cUUID\u90fd\u662f\u4ee5\u7c7b\u4f3c<code>0x1800</code>\u7684\u5f62\u5f0f\u51fa\u73b0\u3002</p> <p>\u4e00\u4e2aService\u901a\u5e38\u5bf9\u5e94\u4e00\u79cd\u901a\u4fe1\u534f\u8bae\u3002</p> <p>Characteristic\u662fGATT\u7684\u6700\u5c0f\u901a\u4fe1\u5355\u4f4d\uff0c\u4e00\u4e2aCharacteristic\u5305\u542b\u4e00\u4e2aCharacteristic declaration\uff0c\u4e00\u4e2aCharacteristic value\u548c\u591a\u4e2aCharacteristic descriptor\u3002</p> <p>GATT\u57fa\u4e8eATT\uff08attribute protocol\uff09\u534f\u8bae\u8fdb\u884c\u901a\u4fe1\u3002</p>","tags":["\u84dd\u7259"]},{"location":"others/34.bluetooth-specification-introduction/#_5","title":"\u5305\u957f\u5ea6\u9650\u5236","text":"<p>ble\u5e7f\u64ad\u5305\u548c\u626b\u63cf\u54cd\u5e94\u5305\u957f\u5ea6\u662f31\u5b57\u8282\uff0cble 5.0 \u63d0\u51fa\u4e86Extented Advertising\u673a\u5236\uff0c\u5373\u6269\u5c55\u5e7f\u64ad\u673a\u5236\uff0c\u53ef\u4ee5\u5c06\u5e7f\u64ad\u5305\u6570\u636e\u6700\u5927\u957f\u5ea6\u63d0\u5347\u5230255\u5b57\u8282</p> <p>gatt\u5305\u957f\u5ea6\uff08MTU\uff09\u4e5f\u6709\u9650\u5236\uff0c\u901a\u5e38\u662f512\u5b57\u8282\uff0c\u4e24\u53f0\u8bbe\u5907\u5efa\u7acb\u8fde\u63a5\u4e4b\u524d\u4f1a\u8fdb\u884cMTU\u534f\u5546</p>","tags":["\u84dd\u7259"]},{"location":"others/34.bluetooth-specification-introduction/#_6","title":"\u84dd\u7259\u914d\u5bf9\u65b9\u6848","text":"<p>\u6839\u636e\u84dd\u7259\u89c4\u83035.3\uff0c\u84dd\u7259\u5b89\u5168\u67b6\u6784\u4e2d\u6709\u4e09\u79cd\u914d\u5bf9\u65b9\u6848</p> <ol> <li>BR/EDR Legacy Pairing </li> <li>BR/EDR Secure Simple Pairing</li> <li>LE Legacy Pairing</li> </ol> <p>Secure Simple Pairing (SSP) \u6709\u56db\u79cd\u8ba4\u8bc1\u6a21\u5f0f\uff0cJust Works, Numeric Comparison, Passkey Entry and Out-Of-Band\u3002</p> <ul> <li>Numeric Comparison\uff0c\u4e24\u4e2a\u8bbe\u5907\u90fd\u7ed9\u7528\u6237\u5c55\u793a\u4e00\u4e2a6\u4f4d\u7684\u6570\u5b57\uff0c\u7136\u540e\u8ba9\u7528\u6237\u5224\u65ad\u4e24\u4e2a\u6570\u5b57\u662f\u5426\u76f8\u540c\u3002\u548c BR/EDR Legacy Pairing \u7684\u8f93\u5165PIN\u7801\u6709\u4e2a\u5f88\u5927\u7684\u533a\u522b\uff0cNumeric Comparison\u76846\u4f4d\u6570\u5b57\u662f\u7531\u7b97\u6cd5\u751f\u6210\u7684\uff0c\u800c\u4e0d\u662f\u7531\u7528\u6237\u8f93\u5165\u7684\u3002\u4f7f\u7528\u8fd9\u79cd\u6a21\u5f0f\u7684\u5178\u578b\u7684\u6709\u624b\u673a\u548cPC\u4e4b\u95f4\u914d\u5bf9\u3002</li> <li>Just Works\uff0c\u8fd9\u4e2a\u6a21\u5f0f\u7684\u8bbe\u8ba1\u76ee\u7684\u662f\u9632\u6b62\u6709\u8bbe\u5907\u4e0d\u80fd\u5c55\u793a\u6570\u5b57\u548c\u8ba9\u7528\u6237\u8f93\u5165\u786e\u8ba4\uff0c\u5178\u578b\u7684\u662f\u624b\u673a\u548c\u8033\u673a\u4e4b\u95f4\u914d\u5bf9\u3002Just Works\u6a21\u5f0f\u4f7f\u7528\u7684\u4e5f\u662fNumeric Comparison\u534f\u8bae\uff0c\u4f46\u662f\u4e0d\u7ed9\u7528\u6237\u5c55\u793a\u6570\u5b57\uff0c\u53ea\u4f1a\u8ba9\u7528\u6237\u786e\u8ba4\u914d\u5bf9\u3002</li> <li>Out-Of-Band\uff0c\u4f8b\u5982NFC\uff0c\u4ea4\u4e92\u8fc7\u7a0b\u6839\u636e\u4e0d\u540c\u7684OOB\u65b9\u6848\u800c\u6709\u6240\u5dee\u5f02\u3002</li> <li>Passkey Entry\uff0c\u8fd9\u4e2a\u6a21\u5f0f\u662f\u9488\u5bf9\u5176\u4e2d\u4e00\u4e2a\u8bbe\u5907\u53ea\u80fd\u8f93\u5165\u4e0d\u80fd\u5c55\u793a\uff0c\u4ea4\u4e92\u8fc7\u7a0b\u662f\u8ba9\u4e00\u4e2a\u8bbe\u5907\u7ed9\u7528\u6237\u5c55\u793a6\u4f4d\u6570\u5b57\uff0c\u7136\u540e\u8ba9\u7528\u6237\u5728\u53e6\u4e00\u4e2a\u8bbe\u5907\u4e0a\u8f93\u51656\u4f4d\u6570\u5b57\u3002</li> </ul> <p>LE Legacy Pairing\uff0c\u548c SSP \u7c7b\u4f3c\u6709\u56db\u79cd\u6a21\u5f0f\uff0c\u529f\u80fd\u4e00\u6837\uff0c\u5e95\u5c42\u7684\u7b97\u6cd5\u6709\u6240\u5dee\u5f02</p>","tags":["\u84dd\u7259"]},{"location":"others/34.bluetooth-specification-introduction/#bredr-security-mode","title":"BR/EDR security mode","text":"<p>BR/EDR \u6709\u56db\u79cd security mode\uff0c\u5206\u522b\u662f security mode 1\uff0csecurity mode 2\uff0csecurity mode 3\uff0csecurity mode 4\uff0c\u6570\u5b57\u8d8a\u5927\u5b89\u5168\u7b49\u7ea7\u8d8a\u9ad8\u3002</p> <p>\u540c\u4e00\u4e2a\u8bbe\u5907\u6709\u53ef\u80fd\u540c\u65f6\u652f\u6301\u4e24\u79cd\u5b89\u5168\u6a21\u5f0f\uff0c\u4e00\u4e2a\u662fsecurity mode 2\uff0c\u7528\u6765\u4f5c\u4e3a\u5bf9\u7aef\u8bbe\u5907\u4e0d\u652f\u6301SSP\u7684\u517c\u5bb9\u65b9\u6848\uff0c\u4e00\u4e2a\u662fsecurity mode 4\uff0c\u9488\u5bf9\u652f\u6301SSP\u7684\u8bbe\u5907</p> <ul> <li>Legacy security modes\uff0csecurity mode 1~3\u7684\u7edf\u79f0<ul> <li>security mode 1\uff0c\u4e0d\u5b89\u5168</li> <li>security mode 2 <ul> <li>\u53ea\u80fd\u4f5c\u4e3a\u5bf9\u7aef\u8bbe\u5907\u4e0d\u652f\u6301 mode 4\u65f6\u7684\u517c\u5bb9\u6a21\u5f0f\u3002  </li> <li>mode 2\u8bbe\u5907\u628aservice\u7684\u5b89\u5168\u9700\u6c42\u5206\u4e3a\u4e09\u7c7battributes\uff0c\u5373Authorization required\uff08\u6388\u6743\uff09\u3001Authentication required\uff08\u8ba4\u8bc1\uff09\u3001Encryption required\uff08\u52a0\u5bc6\uff09  </li> <li>mode 1\u53ef\u4ee5\u770b\u4f5c\u662fmode 2\u7684\u4e00\u79cd\u7279\u6b8a\u60c5\u51b5\uff0c\u5373\u6ca1\u6709service\u6ce8\u518c\u8fd9\u4e9battribute</li> </ul> </li> <li>security mode 3</li> </ul> </li> <li>security mode 4<ul> <li>\u628aservice\u7684\u5b89\u5168\u9700\u6c42\u5206\u4e3a\u4e09\u7c7battributes\uff0c\u5373Authenticated link key required\u3001Unauthenticated link key required\u3001Security optional; limited to specific services\u3002</li> <li>\u5206\u4e3alevel 0~4\uff0c\u6570\u5b57\u8d8a\u5927\u8d8a\u5b89\u5168</li> </ul> </li> </ul>","tags":["\u84dd\u7259"]},{"location":"others/34.bluetooth-specification-introduction/#le-security-mode","title":"LE security mode","text":"<p>\u6709\u4e09\u79cd\uff0c\u5206\u522b\u662fLE security mode 1, LE security mode 2,  and LE security mode 3</p>","tags":["\u84dd\u7259"]},{"location":"others/34.bluetooth-specification-introduction/#_7","title":"\u5de5\u5177","text":"<ul> <li>NORDIC\u7684\u8c03\u8bd5\u5de5\u5177nRF Connect\uff0c\u53ef\u7528\u4e8e\u8c03\u8bd5ble</li> </ul>","tags":["\u84dd\u7259"]},{"location":"others/34.bluetooth-specification-introduction/#_8","title":"\u8bbe\u5907\u5206\u7c7b","text":"<ul> <li>cell phone\uff0c\u624b\u673a</li> <li>headsets\uff0c\u8033\u673a</li> <li>mono headset\uff0c\u5355\u58f0\u9053\u8033\u673a</li> </ul>","tags":["\u84dd\u7259"]},{"location":"others/34.bluetooth-specification-introduction/#_9","title":"\u53c2\u8003","text":"<ul> <li>\u67e5\u6240\u6709\u7684\u84dd\u7259\u89c4\u8303\uff0chttps://www.bluetooth.com/specifications/specs/</li> <li>\u84dd\u7259\u89c4\u8303\u91cc\u7684\u5404\u79cd\u4ee3\u7801\uff0chttps://www.bluetooth.com/specifications/assigned-numbers/</li> <li>\u84dd\u7259\u6838\u5fc3\u6587\u6863\uff0chttps://www.bluetooth.com/specifications/specs/?types=adopted&amp;keyword=core&amp;filter=</li> </ul>","tags":["\u84dd\u7259"]},{"location":"others/40.bug-record/","title":"\u4e00\u4e9b\u5f00\u53d1\u8fc7\u7a0b\u4e2d\u9047\u5230\u7684\u5947\u602a\u95ee\u9898","text":"","tags":["\u95ee\u9898\u8bb0\u5f55"]},{"location":"others/40.bug-record/#ssl-socket","title":"ssl socket\u8bfb\u6570\u636e\u603b\u662f\u4f1a\u5361\u4f4f","text":"<p>\u9700\u6c42\u662f\u8981\u7ed9\u4e00\u4e2a\u5f00\u6e90\u5e93\u4e2d\u7684socket\u901a\u4fe1\u52a0\u5165ssl/tls\u5c42\uff0c\u8fd9\u4e2a\u7b2c\u4e09\u65b9\u5e93\u5b9e\u73b0\u4e86\u4e00\u5957nfs\u534f\u8bae\uff0c\u7528\u4e8e\u5c40\u57df\u7f51\u6587\u4ef6\u5171\u4eab</p> <p>ssl/tls\u5c42\u662f\u7528openssl\u5e93\u5b9e\u73b0\u7684\uff0c\u6d4b\u8bd5\u8fc7\u7a0b\u4e2d\u9047\u5230\u4e86\u4e00\u4e2a\u95ee\u9898\uff0c\u5728\u4f20\u8f93\u5927\u6587\u4ef6\u7684\u65f6\u5019\uff08\u51e0\u5341MB\u4ee5\u4e0a\uff09\uff0c\u4f20\u8f93\u8fc7\u7a0b\u603b\u662f\u4f1a\u5361\u4f4f\uff0c\u767e\u601d\u4e0d\u5f97\u5176\u89e3</p> <p>\u4ed4\u7ec6\u5206\u6790\u65e5\u5fd7\u540e\u53d1\u73b0\u4f20\u8f93\u8fc7\u7a0b\u5361\u5728\u4e86ssl socket\u63d0\u4f9b\u7684peek\u51fd\u6570\u4e0a\uff0c\u67e5\u770bopenssl\u6587\u6863\u540e\u53d1\u73b0\uff0copenssl\u7684ssl socket\u4e0d\u662f\u6d41\u5f0f\u4f20\u8f93\uff0c\u662f\u4ee5\u5305\u4e3a\u5355\u4f4d\u7684\u4f20\u8f93\uff0c\u4e00\u4e2a\u5305\u6700\u592716KB\uff0copenssl\u5185\u90e8\u7684read buffer\u4e2d\u7684\u6570\u636e\u91cf\u4e00\u65e6\u8fbe\u5230\u4e8616KB\uff0c\u5982\u679c\u4e0d\u628a\u8fd9\u4e9b\u6570\u636e\u8bfb\u8d70\u662fpeek\u4e0d\u5230\u66f4\u591a\u6570\u636e\u7684</p> <p>\u540e\u6765\u5bf9peek\u64cd\u4f5c\u505a\u4e86\u4e00\u4e2a\u4e8c\u6b21\u5c01\u88c5\uff0c\u5728\u4ee3\u7801\u4e2d\u7ef4\u62a4\u4e86\u4e00\u4e2a\u4e34\u65f6\u7684buffer\uff0c\u628apeek\u5230\u7684\u6570\u636e\u5148\u8bfb\u5230buffer\u91cc\uff0c\u8fd9\u6837\u5c31\u4e0d\u4f1a\u5bfc\u81f4\u7a0b\u5e8f\u5361\u5728peek\u4e0a\u4e86</p> <p>\u95ee\u9898\u5206\u6790\u8fc7\u7a0b\u975e\u5e38\u574e\u5777\uff0c\u9996\u5148\u5f88\u96be\u6253\u65ad\u70b9\u8c03\u8bd5\uff0c\u56e0\u4e3a\u9700\u8981\u540c\u65f6\u8c03\u8bd5\u4e24\u4e2a\u8fdb\u7a0b\uff0c\u800c\u4e14\u4e24\u4e2a\u8fdb\u7a0b\u4e4b\u95f4\u5b58\u5728\u7f51\u7edc\u901a\u4fe1\uff0c\u4e3a\u4e86\u6d4b\u8bd5\u771f\u5b9e\u7684\u7f51\u7edc\u901a\u4fe1\u73af\u5883\uff0c\u8fd9\u4e24\u4e2a\u8fdb\u7a0b\u5206\u522b\u8dd1\u5728\u4e24\u53f0\u4e0d\u540c\u7684pc\u4e0a\uff0c\u5982\u679c\u5728\u4e00\u4e2a\u8fdb\u7a0b\u91cc\u6253\u65ad\u70b9\uff0c\u53e6\u5916\u4e00\u4e2a\u8fdb\u7a0b\u5f88\u53ef\u80fd\u51fa\u9519\u6216\u8005\u5d29\u6e83\uff0c\u6240\u4ee5\u53ea\u80fd\u901a\u8fc7\u6253\u65e5\u5fd7\u5206\u6790\uff0c\u7136\u800c\u539f\u672c\u7684\u65e5\u5fd7\u5e93\u662f\u540c\u6b65\u7684\uff0c\u53ca\u5176\u5f71\u54cd\u6027\u80fd\uff0c\u6211\u82b1\u4e86\u5f88\u591a\u65f6\u95f4\u5148\u628a\u65e5\u5fd7\u5e93\u6539\u6210\u5f02\u6b65\u8f93\u51fa\u65e5\u5fd7\uff0c\u8fd9\u624d\u987a\u5229\u5730\u5b8c\u6210\u4e86\u95ee\u9898\u5b9a\u4f4d</p>","tags":["\u95ee\u9898\u8bb0\u5f55"]},{"location":"others/40.bug-record/#win10-sdkwin-8sdk","title":"\u7f16\u8bd1\u73af\u5883\u4ecewin10 sdk\u964d\u7ea7\u5230win 8sdk\u540e\uff0c\u8fdb\u7a0b\u4e00\u542f\u52a8\u5c31\u5361\u6b7b","text":"<p>\u9879\u76ee\u6700\u5f00\u59cb\u7684\u5f00\u53d1\u73af\u5883\u662fwin10 sdk\uff0cvs2022(v143)\u5de5\u5177\u96c6\uff0c\u7a0b\u5e8f\u5de5\u4f5c\u4e00\u5207\u6b63\u5e38\uff0c\u540e\u6765\u8981\u5c06\u9879\u76ee\u4f5c\u4e3a\u63d2\u4ef6\u96c6\u6210\u5230\u53e6\u5916\u4e00\u4e2a\u5e73\u53f0\uff0c\u4e3a\u4e86\u517c\u5bb9\u5c06\u9879\u76ee\u7684\u5f00\u53d1\u73af\u5883\u964d\u7ea7\u5230win8 sdk\uff0cvs2015(v140)\u5de5\u5177\u96c6\uff0c\u964d\u7ea7\u540e\u53d1\u73b0\u8fdb\u7a0b\u4e00\u542f\u52a8\u5c31\u5361\u6b7b</p> <p>\u5728\u8c03\u8bd5\u6a21\u5f0f\u4e0b\u8fd0\u884c\u53d1\u73b0\uff0c\u603b\u662f\u5361\u5728\u521b\u5efa\u4e00\u4e2a\u7ebf\u7a0b\u7684\u5730\u65b9\uff0c\u8fd9\u4e2a\u521b\u5efa\u7ebf\u7a0b\u7684\u4f4d\u7f6e\u6bd4\u8f83\u7279\u6b8a\uff0c\u662f\u5199\u5728\u4e86\u4e00\u4e2adll\u7684\u5168\u5c40\u5bf9\u8c61\u7684\u6784\u9020\u51fd\u6570\u91cc\uff0c\u8fd9\u610f\u5473\u7740dll\u88ab\u52a0\u8f7d\u7684\u65f6\u5019\u4f1a\u89e6\u53d1\u7ebf\u7a0b\u521b\u5efa\u7684\u64cd\u4f5c</p> <p>\u7ecf\u8fc7\u67e5\u9605\u8d44\u6599\u5f97\u77e5\uff0c\u5728windows sdk\u7684\u65e9\u671f\u7248\u672c\u4e2d\uff0c\u662f\u4e0d\u5141\u8bb8\u5728dll\u52a0\u8f7d\u7684\u65f6\u5019\u521b\u5efa\u7ebf\u7a0b\u7684\uff0c\u4f1a\u9020\u6210dll\u52a0\u8f7d\u6b7b\u9501\uff0c\u7136\u540e\u6211\u4eec\u628a\u521b\u5efa\u7ebf\u7a0b\u6539\u4e3a\u7531\u4e0a\u5c42\u8c03\u7528\u51fd\u6570\u89e6\u53d1\uff0c\u89e3\u51b3\u4e86\u95ee\u9898</p>","tags":["\u95ee\u9898\u8bb0\u5f55"]},{"location":"others/40.bug-record/#_1","title":"\u8fdb\u7a0b\u88ab\u591a\u6b21\u62c9\u8d77","text":"<p>\u4e3b\u8fdb\u7a0b\u4f1a\u901a\u8fc7shell\u62c9\u8d77\u591a\u4e2a\u53e6\u5916\u4e00\u4e2a\u8fdb\u7a0b\uff08\u4e4b\u6240\u4ee5\u8981\u7528shell\u62c9\u8d77\uff0c\u662f\u4e3a\u4e86\u4f7f\u88ab\u62c9\u8d77\u7684\u8fdb\u7a0b\u4ee5\u7ba1\u7406\u5458\u6743\u9650\u542f\u52a8\uff09\uff0c\u7136\u800c\u5728\u67d0\u4e9b\u7279\u6b8a\u7684\u60c5\u51b5\u4e0b\uff0c\u62c9\u8d77\u8fdb\u7a0b\u65f6\u4f1a\u6709\u4e00\u4e2a\u989d\u5916\u7684\u8fdb\u7a0b\u542f\u52a8\uff0c\u542f\u52a8\u53c2\u6570\u8fd8\u4e0d\u7b26\u5408\u9884\u671f\uff0c\u6211\u4f5c\u4e3a\u8fdb\u7a0b\u7ba1\u7406\u6a21\u5757\u7684\u5f00\u53d1\u8005\uff0c\u5f88\u6e05\u695a\u8fd9\u4e2a\u989d\u5916\u7684\u8fdb\u7a0b\u4e00\u5b9a\u4e0d\u662f\u7531\u8fdb\u7a0b\u7ba1\u7406\u6a21\u5757\u62c9\u8d77\u7684\uff0c\u4e00\u5b9a\u662f\u6709\u4ec0\u4e48\u7b2c\u4e09\u65b9\u7684\u8fdb\u7a0b\u5728\u62c9\u8d77\u8fd9\u4e2a\u8fdb\u7a0b</p> <p>\u53c8\u662f\u574e\u5777\u7684\u627e\u8bc1\u636e\u8fc7\u7a0b\uff0c\u9996\u5148\uff0c\u8fdb\u7a0b\u62c9\u8d77\u7684\u6570\u91cf\u548c\u65e5\u5fd7\u4e2d\u7684\u65e5\u5fd7\u4e2d\u7684\u62c9\u8d77\u8fdb\u7a0b\u6b21\u6570\u5e76\u4e0d\u5bf9\u5e94\uff0c\u5e76\u4e14\u65e5\u5fd7\u4e2d\u7684\u8fdb\u7a0b\u542f\u52a8\u53c2\u6570\u90fd\u662f\u6b63\u786e\u7684\uff0c\u7136\u800c\u5176\u4ed6\u540c\u4e8b\u5e76\u4e0d\u76f8\u4fe1\u65e5\u5fd7\uff0c\u4e8e\u662f\u6211\u662f\u7528sysinternal\u5957\u4ef6\u4e2d\u7684procmon\u5de5\u5177\u67e5\u770b\u8fdb\u7a0b\u6811\uff0c\u53d1\u73b0\u989d\u5916\u62c9\u8d77\u7684\u8fdb\u7a0b\u5e76\u4e0d\u662f\u7531\u4efb\u4f55\u4e00\u4e2a\u5df2\u77e5\u8fdb\u7a0b\u62c9\u8d77\u7684\uff0c\u800c\u65e5\u5fd7\u4e2d\u5bf9\u5e94\u7684\u90a3\u4e2a\u6b63\u5e38\u62c9\u8d77\u7684\u8fdb\u7a0b\uff0c\u5728\u8fdb\u7a0b\u6811\u4e0a\u5b58\u5728\u4e00\u4e2a\u5df2\u77e5\u7684\u7236\u8fdb\u7a0b\uff0c\u8fd9\u65f6\u540c\u4e8b\u4eec\u8fd8\u662f\u4e0d\u76f8\u4fe1\u8fdb\u7a0b\u662f\u7531\u7b2c\u4e09\u65b9\u62c9\u8d77\u7684\uff0c\u4e8e\u662f\u6211\u4f7f\u7528windows\u7684ifeo\u673a\u5236\u5c06\u8fdb\u7a0b\u7ba1\u7406\u6a21\u5757\u52ab\u6301\u5230windbg\uff0c\u76f4\u63a5\u5bf9\u8fdb\u7a0b\u8fdb\u884c\u5185\u6838\u8c03\u8bd5\uff0c\u5bf9windows\u7684CreateProcess api\u6253\u65ad\u70b9\uff0c\u53d1\u73b0\u95ee\u9898\u590d\u73b0\u65f6\uff0c\u53ea\u80fd\u547d\u4e2d\u4e00\u6b21\u65ad\u70b9\uff0c\u81f3\u6b64\u7ed3\u679c\u5df2\u7ecf\u5f88\u6e05\u695a\u4e86\uff0c\u867d\u7136\u6211\u4eec\u8fd8\u662f\u4e0d\u6e05\u695a\u989d\u5916\u7684\u8fdb\u7a0b\u662f\u7531\u8c01\u62c9\u8d77\u6765\u7684\uff0c\u4f46\u662f\u663e\u7136\u4e0d\u662f\u7531\u6211\u7684\u8fdb\u7a0b\u7ba1\u7406\u6a21\u5757\u62c9\u8d77\u7684</p>","tags":["\u95ee\u9898\u8bb0\u5f55"]},{"location":"others/40.bug-record/#ffmpeggpu","title":"\u4f7f\u7528ffmpeg\u7684GPU\u7f16\u89e3\u7801\u5668\u5904\u7406\u89c6\u9891\u65f6\u5361\u6b7b","text":"<p>\u539f\u56e0\u662f\u51fa\u9519\u65f6ffmpeg\u4e0d\u4f1a\u9000\u51fa\uff0c\u800c\u662f\u4e0d\u505c\u5730\u8f93\u51faerror\u4fe1\u606f\uff0c\u800c\u6211\u4eec\u7684\u7a0b\u5e8f\u903b\u8f91\u662f\u5148\u7b49ffmpeg\u9000\u51fa\uff0c\u518d\u53bb\u68c0\u7d22ffmpeg\u7684\u9519\u8bef\u4fe1\u606f\u4e2d\u662f\u5426\u6709error\uff0c\u5c06\u7a0b\u5e8f\u903b\u8f91\u4fee\u6539\u4e3a\u5728ffmpeg\u8fd0\u884c\u65f6\u5b9e\u65f6\u68c0\u6d4berror\u4fe1\u606f\uff0c\u800c\u4e0d\u662f\u7b49ffmpeg\u9000\u51fa\u65f6\u518d\u53bb\u68c0\u67e5error</p> <p>ffmpeg\u8fdb\u7a0b\u5361\u6b7b\uff0c\u7b2c\u4e00\u53cd\u5e94\u662f\u76f4\u63a5\u5728\u547d\u4ee4\u884c\u6267\u884c\u4e00\u4e0b\u8fd9\u53e5ffmpeg\u547d\u4ee4\uff0c\u901a\u8fc7\u8fd9\u79cd\u65b9\u6cd5\u6392\u67e5\u5230\u4e86\u95ee\u9898</p> <p>\u81f3\u4e8e\u4e3a\u4ec0\u4e48ffmpeg\u4f1a\u51fa\u73b0\u8fd9\u79cd\u60c5\u51b5\uff0c\u539f\u56e0\u662fnvdia\u7684gpu\u89e3\u7801\u5668h264_cuvid\u4e0d\u652f\u6301yuv444p\u50cf\u7d20\u683c\u5f0f\uff0c\u53c2\u8003https://forums.developer.nvidia.com/t/yuv444p-video-decoding-with-ffmpeg-error-cuda-error-not-supported-operation-not-supported/213308</p>","tags":["\u95ee\u9898\u8bb0\u5f55"]},{"location":"others/40.bug-record/#ffmpeg","title":"\u4f7f\u7528ffmpeg\u53e0\u52a0\u4e24\u4e2a\u89c6\u9891\u65f6\uff0c\u65e0\u6cd5\u6b63\u786e\u8bc6\u522b\u524d\u666f\u89c6\u9891\u7684\u900f\u660e\u901a\u9053","text":"<p>\u539f\u56e0\u662f\u524d\u666f\u89c6\u9891\u7684\u7f16\u7801\u65b9\u5f0f\u662fvp9\u7f16\u7801\uff08webm\u5c01\u88c5\u683c\u5f0f\uff09\uff0c\u800cffmpeg\u65e0\u6cd5\u81ea\u52a8\u68c0\u6d4b\u51fa\u89c6\u9891\u7684vp9\u7f16\u7801\uff0c\u9700\u8981\u624b\u52a8\u6307\u5b9alibvpx-vp9\u89e3\u7801\u5668</p> <p>\u67e5stackoverflow\u67e5\u5230\u7684</p>","tags":["\u95ee\u9898\u8bb0\u5f55"]},{"location":"others/40.bug-record/#_2","title":"\u8bfb\u53d6\u5230\u7684\u6587\u4ef6\u540d\u603b\u662f\u4e71\u7801","text":"<p>\u539f\u56e0\u662f\u6587\u4ef6\u540d\u4e2d\u5305\u542b\u4e2d\u6587\u5b57\u7b26\uff0c\u800c\u7cfb\u7edflocale\u8bbe\u7f6e\u7684\u662f\u7f8e\u56fd\uff0c\u4fdd\u5b58\u6587\u4ef6\u540d\u4f7f\u7528\u7684\u662fchar\u7c7b\u578b\u5b57\u7b26\u4e32\uff0cchar\u7c7b\u578b\u5b57\u7b26\u4e32\u9ed8\u8ba4\u4f7f\u7528\u7684\u662fANSI\u7f16\u7801\uff0c\u800c\u7f8e\u56fd\u5bf9\u5e94\u7684ANSI\u7f16\u7801\u5b57\u7b26\u96c6\u662f\u4e0d\u652f\u6301\u4e2d\u6587\u7684\uff0c\u6240\u4ee5char\u7c7b\u578b\u5b57\u7b26\u4e32\u603b\u662f\u4e71\u7801\u3002</p> <p>\u89e3\u51b3\u65b9\u6cd5\u662f\u4f7f\u7528\u5bbd\u5b57\u7b26\u7248\u672c\u7684api\u83b7\u53d6\u6587\u4ef6\u540d\uff0c\u5bbd\u5b57\u7b26\u7248\u672c\u7684api\u4f7f\u7528\u7684\u662futf-16\u7f16\u7801\uff0c\u65e0\u8bbalocale\u662f\u4ec0\u4e48\uff0c\u90fd\u53ef\u4ee5\u6b63\u786e\u8bc6\u522b\u4e2d\u6587</p>","tags":["\u95ee\u9898\u8bb0\u5f55"]},{"location":"others/40.bug-record/#dump","title":"\u5b50\u8fdb\u7a0b\u542f\u52a8\u4e0d\u4e86\uff0c\u5b50\u8fdb\u7a0b\u4e5f\u6ca1\u6253\u51fa\u4efb\u4f55\u65e5\u5fd7\uff0c\u6ca1\u6709dump","text":"<p>\u662f\u56e0\u4e3a\u7f3a\u5c11\u51e0\u4e2a\u88ab\u5b50\u8fdb\u7a0b\u4f9d\u8d56\u7684dll\uff0c\u5bfc\u81f4\u5b50\u8fdb\u7a0b\u542f\u52a8\u5931\u8d25</p> <p>\u662f\u901a\u8fc7\u83b7\u53d6\u5728\u7236\u8fdb\u7a0b\u91cc\u83b7\u53d6\u5b50\u8fdb\u7a0b\u7684\u9000\u51fa\u7801\u5b9a\u4f4d\u5230\u7684\uff0c\u8fd9\u4e5f\u7ed9\u6211\u4eec\u63d0\u4f9b\u4e86\u4e00\u4e2a\u601d\u8def\uff0c\u540e\u7eed\u5982\u679c\u518d\u9047\u5230\u7c7b\u4f3c\u95ee\u9898\uff0c\u53ef\u4ee5\u5f80\u8fd9\u4e2a\u65b9\u5411\u5b9a\u4f4d\u95ee\u9898</p>","tags":["\u95ee\u9898\u8bb0\u5f55"]},{"location":"tools/38.bluetooth-tools/","title":"\u84dd\u7259\u8c03\u8bd5\u5de5\u5177","text":"<p>\u53c2\u8003\uff1a</p> <ul> <li> <p>https://learn.microsoft.com/zh-cn/windows-hardware/drivers/bluetooth/testing-btp-setup-package?source=recommendations</p> </li> <li> <p>\u4e0b\u8f7d\u5fae\u8f6fBTP\u8f6f\u4ef6\u5305</p> <ul> <li>\u7981\u7528 BitLocker</li> <li>\u7981\u7528\u5b89\u5168\u542f\u52a8\uff08\u5148\u7981\u7528bitlocker\uff0c\u518d\u7981\u7528\u5b89\u5168\u542f\u52a8\uff0c\u4e0d\u7136\u542f\u52a8\u7684\u65f6\u5019\u4f1a\u8981\u6c42\u4f60\u8f93\u5165bitlocker\u6062\u590d\u5bc6\u94a5\uff09</li> </ul> </li> <li>\u5b89\u88c5Wireshark<ul> <li>\u80fd\u5b89\u88c5\u7684\u9879\u90fd\u88c5\u4e0a</li> <li>\u5f39\u51fanpcap\u5b89\u88c5\u7a97\u53e3\u7684\u65f6\u5019\uff0c\u9009\u62e9\u201cSupport raw 802.11 traffic(and monitor mode)for wireless adapters\u201d\u548c\u201cInstall Npcap in WinPcap API-compatible Mode\u201d</li> </ul> </li> <li>\u7ed9btvs.exe\u914d\u7f6e\u73af\u5883\u53d8\u91cf\uff08C:\\BTP\\v1.14.0\\x86\uff09</li> <li>\u5728powershell\u4e2d\u8f93\u5165<code>btvs.exe -Mode Wireshark</code>\u5373\u53ef\u81ea\u52a8\u62c9\u8d77wireshark\u5206\u6790\u84dd\u7259\u6570\u636e\u5305</li> </ul>","tags":["\u84dd\u7259"]},{"location":"tools/46.ssh-login-script/","title":"ssh\u767b\u9646\u811a\u672c","text":"","tags":["linux","\u5de5\u5177"]},{"location":"tools/46.ssh-login-script/#ssh","title":"ssh\u957f\u8fde\u63a5","text":"<p>\u5728~/.ssh/config\u4e2d\u6dfb\u52a0\u5982\u4e0b\u914d\u7f6e\uff08\u8be5\u914d\u7f6e\u7684\u542b\u4e49\u662f\u548c\u540c\u4e00\u4e2a\u76ee\u7684\u4e3b\u673a\u7684\u8fde\u63a5\u4f7f\u7528\u957f\u8fde\u63a5\uff0c\u907f\u514d\u591a\u6b21\u8f93\u5165\u5bc6\u7801\uff09</p> <pre><code>Host *\nControlMaster auto\nControlPath ~/.ssh/%h-%p-%r\nControlPersist yes\nServerAliveInterval 30\n</code></pre>","tags":["linux","\u5de5\u5177"]},{"location":"tools/46.ssh-login-script/#ssh_1","title":"ssh\u767b\u5f55\u811a\u672c","text":"<p>\u4f7f\u7528expect\u811a\u672c\u5b9e\u73b0\uff0c\u9002\u7528\u4e8emacbook\uff08\u5148\u5b89\u88c5brew\uff0c\u5728\u901a\u8fc7brew\u5b89\u88c5expect\uff0cwindow\u4e0d\u652f\u6301expect\u811a\u672c\uff09\u3002</p> <pre><code>#\u6587\u4ef6 login.sh   \u5305\u4e00\u5c42\uff0c\u907f\u514drzsz\u4f20\u6587\u4ef6\u5931\u8d25\n#!/bin/bash\n#echo $*\n#echo \"$*\"\n#echo $@\n#echo \"$@\"\nexport LC_CTYPE=en_US\necho \"$@\"\nexpect xxxxx/login.exp \"$@\"\n#end of file\n\n\n#\u6587\u4ef6 login.exp\n#!/usr/bin/expect\nset server [lindex $argv 0];\nset timeout 30\nswitch $server {\n    default {\n    spawn ssh xxx@relay.baidu-int.com\n    expect {\n        \"bash-baidu-ssl\" {\n            switch $server {    #$server\u662f\u4f20\u7ed9login.exp\u7684\u53c2\u6570\n                \"abc\" {\n                    send \"ssh yyy@zzz\\r\" # ssh\u547d\u4ee4\n                    expect \"password:\"\n                    send \"ppp\\r\" # \u5bc6\u7801\n                }\n                default {\n                    send \"echo invalid param args\\r\"\n                }\n            }\n        }\n        \"password:\" {\n            switch $server {\n                default {\n                    send \"\\r\"\n                }\n            }\n        }\n    }\n    }\n}\ninteract\n#end of file\n</code></pre> <p>\u6709\u4e86\u4e0a\u9762\u4e24\u4e2a\u811a\u672c\uff0c\u6267\u884c bash login.sh abc\u4f1a\u53d1\u751f\u4ee5\u4e0b\u884c\u4e3a\uff1a</p> <ol> <li>ssh xxx@relay.baidu-int.com</li> <li>\u5982\u679c\u672a\u767b\u5f55\u8df3\u677f\u673a\uff0c\u4f1a\u63d0\u793a\u8f93\u5165\u5bc6\u7801\u3002</li> <li>\u5982\u679c\u5df2\u767b\u5f55\uff0c\u4f1a\u7ee7\u7eed\u6267\u884c ssh yyy@zzz \u5e76\u53d1\u9001\u5bc6\u7801ppp\u3002</li> </ol> <p>\u5728profile\u4e2d\u4f7f\u7528\u547d\u4ee4\u3002\u914d\u7f6e\u547d\u4ee4\uff1a<code>sh login.sh abc</code>\u3002\u5373\u53ef\u76f4\u63a5\u767b\u5f55\u76ee\u6807\u673a\u5668\u3002</p>","tags":["linux","\u5de5\u5177"]},{"location":"tools/60.vscode-continue-config/","title":"vscode continue AI\u63d2\u4ef6\u914d\u7f6e","text":"","tags":["\u5de5\u5177"]},{"location":"tools/60.vscode-continue-config/#deepseek","title":"deepseek","text":"<pre><code>name: Local Assistant\nversion: 1.0.0\nschema: v1\nmodels:\n  - name: DeepSeek Chat\n    provider: deepseek\n    apiBase: https://api.deepseek.com/beta\n    model: deepseek-chat\n    apiKey: sk-f6001c81996a4fdeb1a660d14f7ef9de\n    roles:\n      - chat\n      - edit\n      - apply\n  - name: DeepSeek Chat Reasoner\n    provider: deepseek\n    apiBase: https://api.deepseek.com/beta\n    model: deepseek-reasoner\n    apiKey: sk-f6001c81996a4fdeb1a660d14f7ef9de\n    roles:\n      - chat\n      - edit\n      - apply\n  - name: DeepSeek Coder\n    provider: deepseek\n    model: deepseek-coder\n    apiKey: sk-f6001c81996a4fdeb1a660d14f7ef9de\n    roles:\n      - autocomplete\ndefaultCompletionOptions:\n  maxTokens: 256\n  temperature: 0\ncontext:\n  - provider: code\n  - provider: docs\n  - provider: diff\n  - provider: terminal\n  - provider: problems\n  - provider: folder\n  - provider: codebase\n  - provider: currentFile\n  - provider: open\n  - provider: search\n\n</code></pre>","tags":["\u5de5\u5177"]},{"location":"tools/61.understand-scitools-keygen/","title":"Scientific Toolworks Understand 7.0.x \u7834\u89e3\u673a\u4f7f\u7528\u65b9\u6cd5","text":"<ol> <li>\u5b89\u88c5understand</li> <li>\u963b\u6b62understand\u8bbf\u95ee\u7f51\u7edc     \u7ed9understand\u52a0\u4e24\u4e2ahosts\u89c4\u5219 <code>hosts     0.0.0.0 licensing.scitools.com     0.0.0.0 stats.scitools.com</code></li> <li>\u542f\u52a8understand\uff0c\u521b\u5efa\u65b0\u9879\u76ee</li> <li>understand\u4f1a\u5f39\u51fa\u4e00\u4e2a\u5bf9\u8bdd\u6846\uff0c\u5bf9\u8bdd\u6846\u4e2d\u6709\u4e00\u9879\u662f\u201cLicense Request Code\u201d\uff0c\u503c\u5927\u6982\u662f\u201cxxx-xxx-xxx\u201d\u8fd9\u79cd\u683c\u5f0f\uff0c\u628a\u201cLicense Request Code\u201d\u7684\u503c\u8bb0\u4e0b\u6765\u3002\uff08\u6ce8\u610f\uff0c\u5982\u679c\u6ca1\u505a\u7b2c2\u6b65\uff0cunderstand\u662f\u4e0d\u4f1a\u663e\u793a\u201cLicense Request Code\u201d\u7684\uff09</li> <li>\u6253\u5f00\u6ce8\u518c\u673a\uff0c\u8f93\u5165\u7b2c4\u6b65\u8bb0\u4e0b\u6765\u7684\u201cLicense Request Code\u201d</li> <li>\u5c06\u6ce8\u518c\u673a\u751f\u6210\u7684\u201cReplay Code\u201d\u548c\u201cExpiration Date\u201d\u586b\u5165understand\u521a\u521a\u5f39\u51fa\u7684\u5bf9\u8bdd\u6846\u4e2d</li> </ol>","tags":["\u5de5\u5177"]},{"location":"tools/build/21.makefile-tutorial/","title":"makefile\u7b14\u8bb0","text":"","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#_1","title":"\u53c2\u8003","text":"<p>\u8ddf\u6211\u4e00\u8d77\u5199 Makefile\u7cfb\u5217 GNU make\u5b98\u65b9\u6587\u6863 Makefile \u4e2d:= ?= += =\u7684\u533a\u522b Four Dollar signs in Makefile</p>","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#_2","title":"\u6982\u8ff0","text":"<p>makefile\u53ef\u4ee5\u7406\u89e3\u6210\u662f\u4e13\u95e8\u7528\u6765\u5728unix\u4e0b\u7f16\u8bd1\u5de5\u7a0b\u7684\u4e00\u4e2a\u7279\u6b8a\u7684\u811a\u672c\u3002makefile\u5173\u7cfb\u5230\u4e86\u6574\u4e2a\u5de5\u7a0b\u7684\u7f16\u8bd1\u89c4\u5219\u3002\u4e00\u4e2a\u5de5\u7a0b\u4e2d\u7684\u6e90\u6587\u4ef6\u4e0d\u8ba1\u6570\uff0c\u5176\u6309\u7c7b\u578b\u3001\u529f\u80fd\u3001\u6a21\u5757\u5206\u522b\u653e\u5728\u82e5\u5e72\u4e2a\u76ee\u5f55\u4e2d\uff0cmakefile\u5b9a\u4e49\u4e86\u4e00\u7cfb\u5217\u7684\u89c4\u5219\u6765\u6307\u5b9a\u54ea\u4e9b\u6587\u4ef6\u9700\u8981\u5148\u7f16\u8bd1\u3001\u54ea\u4e9b\u6587\u4ef6\u9700\u8981\u540e\u7f16\u8bd1\u3001\u54ea\u4e9b\u6587\u4ef6\u9700\u8981\u91cd\u65b0\u7f16\u8bd1\uff0c\u751a\u81f3\u8fdb\u884c\u66f4\u590d\u6742\u7684\u64cd\u4f5c\u3002\u6b64\u5916\uff0c\u8fd8\u80fd\u5728makefile\u4e2d\u6267\u884c\u64cd\u4f5c\u7cfb\u7edf\u7684\u547d\u4ee4\u3002</p> <p>makefile\u5e26\u6765\u7684\u597d\u5904\u5c31\u662f\u201c\u81ea\u52a8\u5316\u7f16\u8bd1\u201d\uff0c\u4e00\u65e6\u5199\u597d\uff0c\u53ea\u9700\u8981\u4e00\u4e2amake\u547d\u4ee4\uff0c\u6574\u4e2a\u5de5\u7a0b\u5b8c\u5168\u81ea\u52a8\u7f16\u8bd1\uff0c\u6781\u5927\u7684\u63d0\u9ad8\u4e86\u8f6f\u4ef6\u5f00\u53d1\u7684\u6548\u7387\u3002make\u662f\u4e00\u4e2a\u7528\u6765\u89e3\u91camakefile\u8bed\u53e5\u7684\u547d\u4ee4\u884c\u7a0b\u5e8f\u3002</p> <p>\u672c\u6587\u9ed8\u8ba4\u7684\u7f16\u8bd1\u5668\u662fUNIX\u4e0b\u7684GCC\u3002</p>","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#_3","title":"\u5173\u4e8e\u7a0b\u5e8f\u7684\u7f16\u8bd1\u548c\u94fe\u63a5","text":"<p>\u5728\u6b64\uff0c\u6211\u60f3\u591a\u8bf4\u5173\u4e8e\u7a0b\u5e8f\u7f16\u8bd1\u7684\u4e00\u4e9b\u89c4\u8303\u548c\u65b9\u6cd5\u3002\u4e00\u822c\u6765\u8bf4\uff0c\u65e0\u8bba\u662fC\u8fd8\u662fC++\uff0c\u9996\u5148\u8981\u628a\u6e90\u6587\u4ef6\u7f16\u8bd1\u6210\u76ee\u6807\u6587\u4ef6\uff08\u5373Object File\uff09\uff0c\u5728Windows\u4e0b\u662f.obj\u6587\u4ef6\uff0cUNIX\u4e0b\u662f.o\u6587\u4ef6\uff0c\u8fd9\u4e2a\u52a8\u4f5c\u53eb\u505a\u7f16\u8bd1\uff08compile\uff09\u3002\u7136\u540e\u518d\u628a\u5927\u91cf\u7684\u76ee\u6807\u6587\u4ef6\u5408\u5e76\u6210\u53ef\u6267\u884c\u6587\u4ef6\uff0c\u8fd9\u4e2a\u52a8\u4f5c\u53eb\u4f5c\u94fe\u63a5\uff08link\uff09\u3002</p> <p>\u7f16\u8bd1\u65f6\uff0c\u7f16\u8bd1\u5668\u9700\u8981\u7684\u662f\u8bed\u6cd5\u7684\u6b63\u786e\uff0c\u51fd\u6570\u4e0e\u53d8\u91cf\u7684\u58f0\u660e\u7684\u6b63\u786e\u3002\u5bf9\u4e8e\u540e\u8005\uff0c\u901a\u5e38\u662f\u4f60\u9700\u8981\u544a\u8bc9\u7f16\u8bd1\u5668\u5934\u6587\u4ef6\u7684\u6240\u5728\u4f4d\u7f6e\uff08\u5934\u6587\u4ef6\u4e2d\u5e94\u8be5\u53ea\u662f\u58f0\u660e\uff0c\u800c\u5b9a\u4e49\u5e94\u8be5\u653e\u5728C/C++\u6587\u4ef6\u4e2d\uff09\uff0c\u53ea\u8981\u6240\u6709\u7684\u8bed\u6cd5\u6b63\u786e\uff0c\u7f16\u8bd1\u5668\u5c31\u53ef\u4ee5\u7f16\u8bd1\u51fa\u76ee\u6807\u6587\u4ef6\u3002\u4e00\u822c\u6765\u8bf4\uff0c\u6bcf\u4e2a\u6e90\u6587\u4ef6\u90fd\u5e94\u8be5\u5bf9\u5e94\u4e00\u4e2a\u76ee\u6807\u6587\u4ef6\uff08.o\u6587\u4ef6\u6216\u662f.obj\u6587\u4ef6\uff09\u3002</p> <p>\u94fe\u63a5\u65f6\uff0c\u4e3b\u8981\u662f\u94fe\u63a5\u51fd\u6570\u548c\u5168\u5c40\u53d8\u91cf\u3002\u94fe\u63a5\u5668\u5e76\u4e0d\u7ba1\u6e90\u6587\u4ef6\uff0c\u53ea\u7ba1\u76ee\u6807\u6587\u4ef6\u3002\u5728\u5927\u591a\u6570\u65f6\u5019\uff0c\u7531\u4e8e\u7f16\u8bd1\u751f\u6210\u7684\u76ee\u6807\u6587\u4ef6\u592a\u591a\uff0c\u800c\u5728\u94fe\u63a5\u65f6\u9700\u8981\u660e\u786e\u5730\u6307\u51fa\u76ee\u6807\u6587\u4ef6\u540d\uff0c\u8fd9\u5c31\u4f7f\u5f97\u7f16\u8bd1\u5f88\u4e0d\u65b9\u4fbf\u3002\u6240\u4ee5\u6211\u4eec\u8981\u7ed9\u76ee\u6807\u6587\u4ef6\u6253\u4e2a\u5305\uff0c\u5728Windows\u4e0b\u8fd9\u79cd\u5305\u53eb\u201c\u5e93\u6587\u4ef6\u201d\uff08Library File)\uff0c\u5728UNIX\u4e0b\u662fArchive File\u3002</p>","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#makefile","title":"Makefile\u4ecb\u7ecd","text":"<p>make\u547d\u4ee4\u6267\u884c\u65f6\uff0c\u9700\u8981\u4e00\u4e2a Makefile \u6587\u4ef6\uff0c\u4ee5\u544a\u8bc9make\u547d\u4ee4\u9700\u8981\u600e\u6837\u7f16\u8bd1\u548c\u94fe\u63a5\u7a0b\u5e8f\u3002</p> <p>\u9996\u5148\u6211\u4f1a\u7528\u4e00\u4e2a\u793a\u4f8b\u6765\u8bf4\u660eMakefile\u7684\u4e66\u5199\u89c4\u5219\uff0c\u4ee5\u4fbf\u7ed9\u5927\u5bb6\u4e00\u4e2a\u76f4\u89c2\u7684\u8ba4\u8bc6\u3002\u8fd9\u4e2a\u793a\u4f8b\u6765\u6e90\u4e8eGNU\u7684make\u4f7f\u7528\u624b\u518c\u3002\u5728\u8fd9\u4e2a\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u7684\u5de5\u7a0b\u67098\u4e2a.c\u6587\u4ef6\uff0c\u548c3\u4e2a\u5934\u6587\u4ef6\uff0c\u6211\u4eec\u8981\u5199\u4e00\u4e2aMakefile\u6765\u544a\u8bc9make\u547d\u4ee4\u5982\u4f55\u7f16\u8bd1\u548c\u94fe\u63a5\u8fd9\u51e0\u4e2a\u6587\u4ef6\u3002\u6211\u4eec\u7684\u89c4\u5219\u662f\uff1a     1\uff09\u5982\u679c\u8fd9\u4e2a\u5de5\u7a0b\u6ca1\u6709\u7f16\u8bd1\u8fc7\uff0c\u90a3\u4e48\u6211\u4eec\u7684\u6240\u6709.c\u6587\u4ef6\u90fd\u8981\u7f16\u8bd1\u5e76\u88ab\u94fe\u63a5\u3002     2\uff09\u5982\u679c\u8fd9\u4e2a\u5de5\u7a0b\u7684\u67d0\u51e0\u4e2a.c\u6587\u4ef6\u88ab\u4fee\u6539\uff0c\u90a3\u4e48\u6211\u4eec\u53ea\u7f16\u8bd1\u88ab\u4fee\u6539\u7684.c\u6587\u4ef6\uff0c\u5e76\u94fe\u63a5\u76ee\u6807\u7a0b\u5e8f\u3002     3\uff09\u5982\u679c\u8fd9\u4e2a\u5de5\u7a0b\u7684\u5934\u6587\u4ef6\u88ab\u6539\u53d8\u4e86\uff0c\u90a3\u4e48\u6211\u4eec\u9700\u8981\u7f16\u8bd1\u5f15\u7528\u4e86\u8fd9\u51e0\u4e2a\u5934\u6587\u4ef6\u7684.c\u6587\u4ef6\uff0c\u5e76\u94fe\u63a5\u76ee\u6807\u7a0b\u5e8f\u3002</p> <p>\u53ea\u8981\u6211\u4eec\u7684Makefile\u5199\u5f97\u591f\u597d\uff0c\u6240\u6709\u7684\u8fd9\u4e00\u5207\uff0c\u6211\u4eec\u53ea\u7528\u4e00\u4e2amake\u547d\u4ee4\u5c31\u53ef\u4ee5\u5b8c\u6210\uff0cmake\u547d\u4ee4\u4f1a\u81ea\u52a8\u5730\u6839\u636e\u5f53\u524d\u6587\u4ef6\u7684\u4fee\u6539\u60c5\u51b5\u6765\u786e\u5b9a\u54ea\u4e9b\u6587\u4ef6\u9700\u8981\u91cd\u7f16\u8bd1\uff0c\u4ece\u800c\u81ea\u5df1\u7f16\u8bd1\u6240\u9700\u8981\u7684\u6587\u4ef6\u548c\u94fe\u63a5\u76ee\u6807\u7a0b\u5e8f\u3002</p>","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#makefile_1","title":"\u4e00\u3001Makefile\u7684\u89c4\u5219","text":"<p>Makefile\u7684\u7b80\u8981\u89c4\u5219\uff1a</p> <pre><code>target ... : prerequisites ...\n        command\n        ...\n</code></pre> <p>target\u662fmakefile\u4e2d\u7684\u4e00\u4e2a\u76ee\u6807\u6587\u4ef6\uff0c\u53ef\u4ee5\u662fObject File\uff0c\u4e5f\u53ef\u4ee5\u662f\u53ef\u6267\u884c\u6587\u4ef6\uff0c\u8fd8\u53ef\u4ee5\u662f\u4e00\u4e2a\u6807\u7b7e\uff08\u4f2a\u76ee\u6807\uff09\u3002prerequisites\u8868\u793a\u7684\u662f\u8981\u751f\u6210\u90a3\u4e2atarget\u6240\u9700\u8981\u7684\u6587\u4ef6\u6216\u76ee\u6807\u3002command\u4e5f\u5c31\u662fmake\u9700\u8981\u6267\u884c\u7684\u547d\u4ee4\u3002\uff08\u53ef\u4ee5\u662f\u4efb\u610f\u7684Shell\u547d\u4ee4\uff09</p> <p>\u8fd9\u662f\u4e00\u4e2a\u6587\u4ef6\u7684\u4f9d\u8d56\u5173\u7cfb\u3002\u4e5f\u5c31\u662f\u8bf4\uff0ctarget\u8fd9\u4e2a\u76ee\u6807\u6587\u4ef6\u4f9d\u8d56\u4e8eprerequisites\u4e2d\u7684\u6587\u4ef6\uff0c\u5176\u751f\u6210\u89c4\u5219\u5b9a\u4e49\u5728command\u4e2d\u3002\u4e5f\u5c31\u662f\u8bf4\uff0cprerequisites\u4e2d\u5982\u679c\u6709\u4e00\u4e2a\u4ee5\u4e0a\u7684\u6587\u4ef6\u6bd4target\u6587\u4ef6\u66f4\u65b0\uff0ccommand\u6240\u5b9a\u4e49\u7684\u547d\u4ee4\u5c31\u4f1a\u88ab\u6267\u884c\u3002\u8fd9\u5c31\u662fMakefile\u7684\u89c4\u5219\uff0c\u4e5f\u662fMakefile\u4e2d\u6700\u6838\u5fc3\u7684\u5185\u5bb9\u3002</p>","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#_4","title":"\u4e8c\u3001\u4e00\u4e2a\u793a\u4f8b","text":"<p>\u6b63\u5982\u524d\u9762\u6240\u8bf4\u7684\uff0c\u5982\u679c\u4e00\u4e2a\u5de5\u7a0b\u67093\u4e2a\u5934\u6587\u4ef6\uff0c\u548c8\u4e2a.c\u6587\u4ef6\uff0c\u6211\u4eec\u4e3a\u4e86\u5b8c\u6210\u524d\u9762\u6240\u8ff0\u7684\u90a3\u4e09\u4e2a\u89c4\u5219\uff0c\u6211\u4eec\u7684Makefile\u5e94\u8be5\u662f\u4e0b\u9762\u7684\u8fd9\u4e2a\u6837\u5b50\u7684\u3002</p> <pre><code>edit : main.o kbd.o command.o display.o \\\n        insert.o search.o files.o utils.o\n        cc -o edit main.o kbd.o command.o display.o \\\n                    insert.o search.o files.o utils.o\n\nmain.o : main.c defs.h\n        cc -c main.c\nkbd.o : kbd.c defs.h command.h\n        cc -c kbd.c\ncommand.o : command.c defs.h command.h\n        cc -c command.c\ndisplay.o : display.c defs.h buffer.h\n        cc -c display.c\ninsert.o : insert.c defs.h buffer.h\n        cc -c insert.c\nsearch.o : search.c defs.h buffer.h\n        cc -c search.c\nfiles.o : files.c defs.h buffer.h command.h\n        cc -c files.c\nutils.o : utils.c defs.h\n        cc -c utils.c\nclean :\n        rm edit main.o kbd.o command.o display.o \\\n            insert.o search.o files.o utils.o\n</code></pre> <p>\u53cd\u659c\u6760\uff08\\\uff09\u662f\u547d\u4ee4\u6362\u884c\u3002\u8fd9\u6837\u4f7fMakefile\u66f4\u6613\u8bfb\u3002\u6211\u4eec\u53ef\u4ee5\u628a\u8fd9\u4e2a\u5185\u5bb9\u4fdd\u5b58\u5728\u540d\u4e3a\u201cMakefile\u201d\u6216\u201cmakefile\u201d\u7684\u6587\u4ef6\u4e2d\uff0c\u7136\u540e\u5728\u8be5\u76ee\u5f55\u4e0b\u76f4\u63a5\u8f93\u5165\u547d\u4ee4\u201cmake\u201d\u5c31\u53ef\u4ee5\u751f\u6210\u53ef\u6267\u884c\u6587\u4ef6edit\u3002\u5982\u679c\u8981\u5220\u9664\u6267\u884c\u6587\u4ef6\u548c\u6240\u6709\u7684\u4e2d\u95f4\u76ee\u6807\u6587\u4ef6\uff0c\u90a3\u4e48\uff0c\u53ea\u8981\u7b80\u5355\u5730\u6267\u884c\u4e00\u4e0b\u201cmake clean\u201d\u5c31\u53ef\u4ee5\u4e86\u3002</p> <p>\u5728\u8fd9\u4e2amakefile\u4e2d\uff0c\u76ee\u6807\u6587\u4ef6\uff08target\uff09\u5305\u62ec\u53ef\u6267\u884c\u6587\u4ef6edit\u548c\u6240\u6709.o\u6587\u4ef6\uff0c\u4f9d\u8d56\u6587\u4ef6\uff08prerequisites\uff09\u5c31\u662f\u5192\u53f7\u540e\u9762\u7684\u90a3\u4e9b.c\u6587\u4ef6\u548c.h\u6587\u4ef6\u3002\u6bcf\u4e00\u4e2a.o\u6587\u4ef6\u90fd\u6709\u4e00\u7ec4\u4f9d\u8d56\u6587\u4ef6\uff0c\u800c\u8fd9\u4e9b.o\u6587\u4ef6\u53c8\u662f\u53ef\u6267\u884c\u6587\u4ef6edit\u7684\u4f9d\u8d56\u6587\u4ef6\u3002\u4f9d\u8d56\u5173\u7cfb\u5b9e\u8d28\u4e0a\u5c31\u662f\u6307\u76ee\u6807\u6587\u4ef6\u662f\u7531\u54ea\u4e9b\u6587\u4ef6\u751f\u6210\u7684\u3002</p> <p>\u5728\u5b9a\u4e49\u597d\u4f9d\u8d56\u5173\u7cfb\u540e\uff0c\u540e\u7eed\u7684\u90a3\u4e00\u884c\u5b9a\u4e49\u4e86\u5982\u4f55\u751f\u6210\u76ee\u6807\u6587\u4ef6\u7684\u64cd\u4f5c\u7cfb\u7edf\u547d\u4ee4\uff0c\u4e00\u5b9a\u8981\u4ee5\u4e00\u4e2aTab\u952e\u4f5c\u4e3a\u5f00\u5934\u3002\u8bb0\u4f4f\uff0cmake\u5e76\u4e0d\u7ba1\u547d\u4ee4\u662f\u600e\u4e48\u5de5\u4f5c\u7684\uff0c\u4ed6\u53ea\u7ba1\u6267\u884c\u6240\u5b9a\u4e49\u7684\u547d\u4ee4\u3002make\u4f1a\u6bd4\u8f83targets\u6587\u4ef6\u548cprerequisites\u6587\u4ef6\u7684\u4fee\u6539\u65e5\u671f\uff0c\u5982\u679cprerequisites\u6587\u4ef6\u7684\u65e5\u671f\u8981\u6bd4targets\u6587\u4ef6\u7684\u65e5\u671f\u8981\u65b0\uff0c\u6216\u8005target\u4e0d\u5b58\u5728\u7684\u8bdd\uff0c\u90a3\u4e48\uff0cmake\u5c31\u4f1a\u6267\u884c\u540e\u7eed\u5b9a\u4e49\u7684\u547d\u4ee4\u3002</p> <p>\u8fd9\u91cc\u8981\u8bf4\u660e\u4e00\u70b9\u7684\u662f\uff0cclean\u662f\u4e00\u4e2a\u6807\u7b7e\uff0c\u6ca1\u6709\u4efb\u4f55\u4e00\u4e2a\u6587\u4ef6\u4f9d\u8d56clean\uff0cmake\u4e0d\u4f1a\u81ea\u52a8\u6267\u884c\u5176\u540e\u7684\u547d\u4ee4\u3002\u8981\u6267\u884c\u5b9a\u4e49\u5728clean\u540e\u9762\u7684\u547d\u4ee4\uff0c\u5c31\u8981\u5728make\u547d\u4ee4\u540e\u660e\u786e\u5730\u6307\u51faclean\u8fd9\u4e2a\u6807\u7b7e\u7684\u540d\u5b57\u3002\u8fd9\u6837\u7684\u65b9\u6cd5\u975e\u5e38\u6709\u7528\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u4e00\u4e2amakefile\u4e2d\u5b9a\u4e49\u4e0d\u7528\u7684\u7f16\u8bd1\u6216\u662f\u548c\u7f16\u8bd1\u65e0\u5173\u7684\u547d\u4ee4\uff0c\u6bd4\u5982\u7a0b\u5e8f\u7684\u6253\u5305\uff0c\u7a0b\u5e8f\u7684\u5907\u4efd\uff0c\u7b49\u7b49\u3002</p>","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#make","title":"\u4e09\u3001make\u662f\u5982\u4f55\u5de5\u4f5c\u7684","text":"<p>\u5728\u9ed8\u8ba4\u7684\u60c5\u51b5\u4e0b\uff0c\u4e5f\u5c31\u662f\u6211\u4eec\u53ea\u8f93\u5165make\u547d\u4ee4\u3002\u90a3\u4e48\uff0c</p> <p>1\u3001make\u4f1a\u5728\u5f53\u524d\u76ee\u5f55\u4e0b\u627e\u540d\u5b57\u53eb\u201cMakefile\u201d\u6216\u201cmakefile\u201d\u7684\u6587\u4ef6\u3002 2\u3001\u5982\u679c\u627e\u5230\uff0c\u5b83\u4f1a\u627e\u6587\u4ef6\u4e2d\u7684\u7b2c\u4e00\u4e2a\u76ee\u6807\u6587\u4ef6\uff08target\uff09\uff0c\u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u4ed6\u4f1a\u627e\u5230\u201cedit\u201d\u8fd9\u4e2a\u6587\u4ef6\uff0c\u5e76\u628a\u8fd9\u4e2a\u6587\u4ef6\u4f5c\u4e3a\u6700\u7ec8\u7684\u76ee\u6807\u6587\u4ef6\u3002 3\u3001\u5982\u679cedit\u6587\u4ef6\u4e0d\u5b58\u5728\uff0c\u6216\u662fedit\u6240\u4f9d\u8d56\u7684\u540e\u9762\u7684.o\u6587\u4ef6\u7684\u6587\u4ef6\u4fee\u6539\u65f6\u95f4\u8981\u6bd4edit\u8fd9\u4e2a\u6587\u4ef6\u65b0\uff0c\u90a3\u4e48\uff0c\u4ed6\u5c31\u4f1a\u6267\u884c\u540e\u9762\u6240\u5b9a\u4e49\u7684\u547d\u4ee4\u6765\u751f\u6210edit\u8fd9\u4e2a\u6587\u4ef6\u3002 4\u3001\u5982\u679cedit\u6240\u4f9d\u8d56\u7684.o\u6587\u4ef6\u4e5f\u5b58\u5728\uff0c\u90a3\u4e48make\u4f1a\u5728\u5f53\u524d\u6587\u4ef6\u4e2d\u627e\u76ee\u6807\u4e3a.o\u6587\u4ef6\u7684\u4f9d\u8d56\u6027\uff0c\u5982\u679c\u627e\u5230\u5219\u518d\u6839\u636e\u90a3\u4e00\u4e2a\u89c4\u5219\u751f\u6210.o\u6587\u4ef6\u3002\uff08\u8fd9\u6709\u70b9\u50cf\u4e00\u4e2a\u5806\u6808\u7684\u8fc7\u7a0b\uff09 5\u3001\u5f53\u7136\uff0c\u4f60\u7684.c\u6587\u4ef6\u548c.h\u6587\u4ef6\u662f\u5b58\u5728\u7684\u5566\uff0c\u4e8e\u662fmake\u4f1a\u751f\u6210.o\u6587\u4ef6\uff0c\u7136\u540e\u518d\u7528.o\u6587\u4ef6\u751f\u6210\u53ef\u6267\u884c\u6587\u4ef6edit\u3002</p> <p>\u8fd9\u5c31\u662f\u6574\u4e2amake\u7684\u4f9d\u8d56\u6027\uff0cmake\u4f1a\u4e00\u5c42\u53c8\u4e00\u5c42\u5730\u53bb\u627e\u6587\u4ef6\u7684\u4f9d\u8d56\u5173\u7cfb\uff0c\u76f4\u5230\u6700\u7ec8\u7f16\u8bd1\u51fa\u7b2c\u4e00\u4e2a\u76ee\u6807\u6587\u4ef6\u3002\u5728\u627e\u5bfb\u7684\u8fc7\u7a0b\u4e2d\uff0c\u5982\u679c\u51fa\u73b0\u9519\u8bef\uff0c\u6bd4\u5982\u6700\u540e\u88ab\u4f9d\u8d56\u7684\u6587\u4ef6\u627e\u4e0d\u5230\uff0c\u90a3\u4e48make\u5c31\u4f1a\u76f4\u63a5\u9000\u51fa\uff0c\u5e76\u62a5\u9519\uff0c\u800c\u5bf9\u4e8e\u6240\u5b9a\u4e49\u7684\u547d\u4ee4\u7684\u9519\u8bef\uff0c\u6216\u662f\u7f16\u8bd1\u4e0d\u6210\u529f\uff0cmake\u6839\u672c\u4e0d\u7406\u3002make\u53ea\u7ba1\u6587\u4ef6\u7684\u4f9d\u8d56\u6027\uff0c\u5373\uff0c\u5982\u679c\u5728\u6211\u627e\u4e86\u4f9d\u8d56\u5173\u7cfb\u4e4b\u540e\uff0c\u5192\u53f7\u540e\u9762\u7684\u6587\u4ef6\u8fd8\u662f\u4e0d\u5728\uff0c\u90a3\u4e48\u5bf9\u4e0d\u8d77\uff0c\u6211\u5c31\u4e0d\u5de5\u4f5c\u5566\u3002</p> <p>\u901a\u8fc7\u4e0a\u8ff0\u5206\u6790\uff0c\u6211\u4eec\u77e5\u9053\uff0c\u50cfclean\u8fd9\u79cd\uff0c\u6ca1\u6709\u88ab\u7b2c\u4e00\u4e2a\u76ee\u6807\u6587\u4ef6\u76f4\u63a5\u6216\u95f4\u63a5\u5173\u8054\uff0c\u90a3\u4e48\u5b83\u540e\u9762\u6240\u5b9a\u4e49\u7684\u547d\u4ee4\u5c06\u4e0d\u4f1a\u88ab\u81ea\u52a8\u6267\u884c\uff0c\u4e0d\u8fc7\uff0c\u6211\u4eec\u53ef\u4ee5\u663e\u793a\u8981make\u6267\u884c\u3002\u5373\u547d\u4ee4\u2014\u2014\u201cmake clean\u201d\uff0c\u4ee5\u6b64\u6765\u6e05\u9664\u6240\u6709\u7684\u76ee\u6807\u6587\u4ef6\uff0c\u4ee5\u4fbf\u91cd\u7f16\u8bd1\u3002</p> <p>\u5982\u679c\u4e00\u4e2a\u5de5\u7a0b\u5df2\u88ab\u7f16\u8bd1\u8fc7\u4e86\uff0c\u5f53\u6211\u4eec\u4fee\u6539\u4e86\u5176\u4e2d\u7684\u4e00\u4e2a\u6e90\u6587\u4ef6\u540e\uff0c\u6bd4\u5982file.c\uff0c\u6839\u636e\u6587\u4ef6\u4f9d\u8d56\u6027\uff0c\u76ee\u6807file.o\u4f1a\u88ab\u91cd\u7f16\u8bd1\uff0c\u91cd\u7f16\u8bd1\u540efile.o\u7684\u6587\u4ef6\u4fee\u6539\u65f6\u95f4\u8981\u6bd4edit\u8981\u65b0\uff0c\u6240\u4ee5edit\u4e5f\u4f1a\u88ab\u91cd\u65b0\u94fe\u63a5\u4e86\u3002</p> <p>\u800c\u5982\u679c\u6211\u4eec\u6539\u53d8\u4e86\u201ccommand.h\u201d\uff0c\u90a3\u4e48\uff0ckdb.o\u3001command.o\u548cfiles.o\u90fd\u4f1a\u88ab\u91cd\u7f16\u8bd1\uff0c\u5e76\u4e14\uff0cedit\u4f1a\u88ab\u91cd\u94fe\u63a5\u3002</p>","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#makefile_2","title":"\u56db\u3001\u5728makefile\u4e2d\u4f7f\u7528\u53d8\u91cf","text":"<p>\u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u5148\u8ba9\u6211\u4eec\u770b\u770bedit\u7684\u89c4\u5219\uff1a</p> <pre><code>edit : main.o kbd.o command.o display.o \\\n            insert.o search.o files.o utils.o\n    cc -o edit main.o kbd.o command.o display.o \\\n                insert.o search.o files.o utils.o\n</code></pre> <p>\u6211\u4eec\u53ef\u4ee5\u770b\u5230.o\u6587\u4ef6\u88ab\u91cd\u590d\u4e86\u4e24\u6b21\uff0c\u5982\u679c\u6211\u4eec\u7684\u5de5\u7a0b\u9700\u8981\u52a0\u5165\u4e00\u4e2a\u65b0\u7684.o\u6587\u4ef6\uff0c\u90a3\u4e48\u6211\u4eec\u9700\u8981\u5728\u4e24\u4e2a\u5730\u65b9\u6dfb\u52a0\uff08\u5e94\u8be5\u662f\u4e09\u4e2a\u5730\u65b9\uff0c\u8fd8\u6709\u4e00\u4e2a\u5730\u65b9\u5728clean\u4e2d\uff09\u3002\u5982\u679cmakefile\u53d8\u5f97\u590d\u6742\uff0c\u90a3\u4e48\u6211\u4eec\u5c31\u6709\u53ef\u80fd\u4f1a\u5fd8\u6389\u4e00\u4e2a\u9700\u8981\u52a0\u5165\u7684\u5730\u65b9\uff0c\u800c\u5bfc\u81f4\u7f16\u8bd1\u5931\u8d25\u3002\u4e3a\u4e86\u4f7fmakefile\u66f4\u5bb9\u6613\u7ef4\u62a4\uff0c\u5728makefile\u4e2d\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u53d8\u91cf\u3002</p> <p>\u6bd4\u5982\uff0c\u6211\u4eec\u8981\u58f0\u660e\u4e00\u4e2a\u53d8\u91cf\uff0c\u6211\u4eec\u5728makefile\u4e00\u5f00\u59cb\u8fd9\u6837\u5b9a\u4e49\uff1a</p> <pre><code>objects = main.o kbd.o command.o display.o \\\n        insert.o search.o files.o utils.o\n</code></pre> <p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u53ef\u4ee5\u5f88\u65b9\u4fbf\u5730\u5728\u6211\u4eec\u7684makefile\u4e2d\u4ee5<code>$(objects)</code>\u7684\u65b9\u5f0f\u6765\u4f7f\u7528\u8fd9\u4e2a\u53d8\u91cf\uff0c\u4e8e\u662f\u6211\u4eec\u7684\u6539\u826f\u7248makefile\u5c31\u53d8\u6210\u4e0b\u9762\u8fd9\u4e2a\u6837\u5b50\uff1a</p> <pre><code>objects = main.o kbd.o command.o display.o \\\n            insert.o search.o files.o utils.o\n\nedit : $(objects)\n        cc -o edit $(objects)\nmain.o : main.c defs.h\n        cc -c main.c\nkbd.o : kbd.c defs.h command.h\n        cc -c kbd.c\ncommand.o : command.c defs.h command.h\n        cc -c command.c\ndisplay.o : display.c defs.h buffer.h\n        cc -c display.c\ninsert.o : insert.c defs.h buffer.h\n        cc -c insert.c\nsearch.o : search.c defs.h buffer.h\n        cc -c search.c\nfiles.o : files.c defs.h buffer.h command.h\n        cc -c files.c\nutils.o : utils.c defs.h\n        cc -c utils.c\nclean :\n        rm edit $(objects)\n</code></pre> <p>\u5982\u679c\u6709\u65b0\u7684.o\u6587\u4ef6\u52a0\u5165\uff0c\u6211\u4eec\u53ea\u9700\u7b80\u5355\u5730\u4fee\u6539\u4e00\u4e0b objects \u53d8\u91cf\u5c31\u53ef\u4ee5\u4e86\u3002</p> <p>\u6709\u56db\u79cd\u5b9a\u4e49\u53d8\u91cf/\u4e3a\u53d8\u91cf\u8d4b\u503c\u7684\u65b9\u6cd5\uff1a(\u53c2\u8003Makefile \u4e2d:= ?= += =\u7684\u533a\u522b  )  </p> <ol> <li>=\uff0c\u4f7f\u7528\u6700\u540e\u4e00\u4e2a=\u5b9a\u4e49\u7684\u503c\u4f5c\u4e3a\u5168\u5c40\u7684\u503c  </li> <li>:=\uff0c\u8986\u76d6\u4e4b\u524d\u7684\u503c\uff0c\u5e76\u4f5c\u4e3a\u5f53\u524d\u503c  </li> <li>?=\uff0c\u5982\u679c\u6ca1\u6709\u88ab\u8d4b\u503c\u8fc7\u5c31\u8d4b\u4e88\u7b49\u53f7\u540e\u9762\u7684\u503c  </li> <li>+=\uff0c\u6dfb\u52a0\u7b49\u53f7\u540e\u9762\u7684\u503c  </li> </ol> <p>\u201c=\u201d\u548c\u201c:=\u201d\u7684\u533a\u522b: 1\u3001\u201c=\u201d make\u4f1a\u5c06\u6574\u4e2amakefile\u5c55\u5f00\u540e\uff0c\u518d\u51b3\u5b9a\u53d8\u91cf\u7684\u503c\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u53d8\u91cf\u7684\u503c\u5c06\u4f1a\u662f\u6574\u4e2amakefile\u4e2d\u6700\u540e\u88ab\u6307\u5b9a\u7684\u503c\u3002\u770b\u4f8b\u5b50\uff1a  </p> <pre><code>x = foo\ny = $(x) bar\nx = xyz\n</code></pre> <p>\u5728\u4e0a\u4f8b\u4e2d\uff0cy\u7684\u503c\u5c06\u4f1a\u662f xyz bar \uff0c\u800c\u4e0d\u662f foo bar \u3002</p> <p>2\u3001\u201c:=\u201d \u201c:=\u201d\u8868\u793a\u53d8\u91cf\u7684\u503c\u51b3\u5b9a\u4e8e\u5b83\u5728makefile\u4e2d\u7684\u4f4d\u7f6e\uff0c\u800c\u4e0d\u662f\u6574\u4e2amakefile\u5c55\u5f00\u540e\u7684\u6700\u7ec8\u503c\u3002</p> <pre><code>x := foo\ny := $(x) bar\nx := xyz\n</code></pre> <p>\u5728\u4e0a\u4f8b\u4e2d\uff0cy\u7684\u503c\u5c06\u4f1a\u662f foo bar \uff0c\u800c\u4e0d\u662f xyz bar\u3002</p>","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#make_1","title":"\u4e94\u3001make\u81ea\u52a8\u63a8\u5bfc","text":"<p>make\u5f88\u5f3a\u5927\uff0c\u5b83\u53ef\u4ee5\u81ea\u52a8\u63a8\u5bfc\u6587\u4ef6\u4ee5\u53ca\u6587\u4ef6\u4f9d\u8d56\u5173\u7cfb\u540e\u9762\u7684\u547d\u4ee4\u3002\u6211\u4eec\u6ca1\u5fc5\u8981\u53bb\u5728\u6bcf\u4e00\u4e2a.o\u6587\u4ef6\u540e\u90fd\u5199\u4e0a\u7c7b\u4f3c\u7684\u547d\u4ee4\uff0c\u56e0\u4e3amake\u4f1a\u81ea\u52a8\u8bc6\u522b\u5e76\u81ea\u5df1\u63a8\u5bfc\u547d\u4ee4\u3002</p> <p>\u53ea\u8981make\u770b\u5230\u4e00\u4e2a.o\u6587\u4ef6\uff0c\u5b83\u5c31\u4f1a\u81ea\u52a8\u7684\u628a.c\u6587\u4ef6\u52a0\u5728\u4f9d\u8d56\u5173\u7cfb\u4e2d\uff0c\u5982\u679cmake\u627e\u5230\u4e00\u4e2awhatever.o\uff0c\u90a3\u4e48whatever.c\u5c31\u4f1a\u662fwhatever.o\u7684\u4f9d\u8d56\u6587\u4ef6\u3002\u5e76\u4e14<code>cc -c whatever.c</code>\u4e5f\u4f1a\u88ab\u63a8\u5bfc\u51fa\u6765\u3002\u4e8e\u662f\uff0c\u6211\u4eec\u7684makefile\u518d\u4e5f\u4e0d\u7528\u5199\u5f97\u90a3\u4e48\u590d\u6742\u3002</p> <pre><code>objects = main.o kbd.o command.o display.o \\\n            insert.o search.o files.o utils.o\n\nedit : $(objects)\n        cc -o edit $(objects)\n\nmain.o : defs.h\nkbd.o : defs.h command.h\ncommand.o : defs.h command.h\ndisplay.o : defs.h buffer.h\ninsert.o : defs.h buffer.h\nsearch.o : defs.h buffer.h\nfiles.o : defs.h buffer.h command.h\nutils.o : defs.h\n\n.PHONY : clean\nclean :\n        rm edit $(objects)\n</code></pre> <p>\u8fd9\u5c31\u662fmake\u7684\u201c\u9690\u6666\u89c4\u5219\u201d\u3002\u4e0a\u9762\u6587\u4ef6\u5185\u5bb9\u4e2d\uff0c\u201c.PHONY\u201d\u8868\u793a\uff0cclean\u662f\u4e2a\u4f2a\u76ee\u6807\u6587\u4ef6\u3002</p>","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#_5","title":"\u516d\u3001\u591a\u4e2a\u76ee\u6807\u6587\u4ef6\u4f9d\u8d56\u76f8\u540c\u7684\u6587\u4ef6","text":"<pre><code>objects = main.o kbd.o command.o display.o \\\n            insert.o search.o files.o utils.o\n\nedit : $(objects)\n        cc -o edit $(objects)\n\n$(objects) : defs.h\nkbd.o command.o files.o : command.h\ndisplay.o insert.o search.o files.o : buffer.h\n\n.PHONY : clean\nclean :\n        rm edit $(objects)\n</code></pre>","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#clean","title":"\u4e03\u3001\u6e05\u7a7a\u76ee\u6807\u6587\u4ef6\u7684\u89c4\u5219\uff08clean\uff09","text":"<p>\u6bcf\u4e2aMakefile\u4e2d\u90fd\u5e94\u8be5\u5199\u4e00\u4e2a\u6e05\u7a7a\u76ee\u6807\u6587\u4ef6\uff08.o\u548c\u6267\u884c\u6587\u4ef6\uff09\u7684\u89c4\u5219\uff0c\u8fd9\u4e0d\u4ec5\u4fbf\u4e8e\u91cd\u7f16\u8bd1\uff0c\u4e5f\u5229\u4e8e\u4fdd\u6301\u6587\u4ef6\u7684\u6e05\u6d01\u3002\u4e00\u822c\u7684\u98ce\u683c\u90fd\u662f\uff1a</p> <pre><code>clean:\n    rm edit $(objects)\n</code></pre> <p>\u66f4\u4e3a\u7a33\u5065\u7684\u505a\u6cd5\u662f\uff1a</p> <pre><code>.PHONY : clean\nclean :\n    -rm edit $(objects)\n</code></pre> <p>\u524d\u9762\u8bf4\u8fc7\uff0c.PHONY\u8868\u793aclean\u662f\u4e00\u4e2a\u201c\u4f2a\u76ee\u6807\u201d\u3002</p> <p>\u5728rm\u547d\u4ee4\u524d\u9762\u52a0\u4e86\u4e00\u4e2a\u5c0f\u51cf\u53f7\u7684\u610f\u601d\u5c31\u662f\uff0c\u5982\u679c\u8fd9\u6761\u547d\u4ee4\u6267\u884c\u51fa\u9519\u4e86\uff0c\u5219\u5ffd\u7565\u8fd9\u4e2a\u9519\u8bef\uff0c\u7ee7\u7eed\u6267\u884c\u540e\u9762\u7684\u547d\u4ee4\u3002\u5f53\u7136\uff0cclean\u7684\u89c4\u5219\u4e0d\u8981\u653e\u5728\u6587\u4ef6\u7684\u5f00\u5934\uff0c\u4e0d\u7136\uff0c\u8fd9\u5c31\u4f1a\u53d8\u6210make\u7684\u9ed8\u8ba4\u76ee\u6807\u3002\u4e0d\u6210\u6587\u7684\u89c4\u77e9\u662f\u2014\u2014\u201cclean\u4ece\u6765\u90fd\u662f\u653e\u5728\u6587\u4ef6\u7684\u6700\u540e\u201d\u3002</p>","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#makefile_3","title":"\u66f4\u8be6\u7ec6\u7684Makefile\u4ecb\u7ecd","text":"","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#makefile_4","title":"\u4e00\u3001Makefile\u91cc\u6709\u4ec0\u4e48","text":"<p>Makefile\u91cc\u4e3b\u8981\u5305\u542b\u4e86\u4e94\u79cd\u4e1c\u897f\uff1a\u663e\u5f0f\u89c4\u5219\u3001\u9690\u6666\u89c4\u5219\u3001\u53d8\u91cf\u5b9a\u4e49\u3001\u6587\u4ef6\u6307\u793a\u548c\u6ce8\u91ca\u3002</p> <p>1\u3001\u663e\u5f0f\u89c4\u5219\u3002\u663e\u5f0f\u89c4\u5219\u8bf4\u660e\u4e86\u5982\u4f55\u751f\u6210\u4e00\u4e2a\u6216\u591a\u4e2a\u76ee\u6807\u6587\u4ef6\u3002\u8fd9\u8981\u7531Makefile\u7684\u4e66\u5199\u8005\u660e\u786e\u6307\u51fa\u8981\u751f\u6210\u7684\u6587\u4ef6\u3001\u6587\u4ef6\u7684\u4f9d\u8d56\u6587\u4ef6\u548c\u547d\u4ee4\u3002</p> <p>2\u3001\u9690\u6666\u89c4\u5219\u3002make\u6709\u81ea\u52a8\u63a8\u5bfc\u7684\u529f\u80fd\uff0c\u6240\u4ee5\u9690\u6666\u89c4\u5219\u53ef\u4ee5\u8ba9\u6211\u4eec\u7b80\u7565\u5730\u4e66\u5199Makefile\u3002</p> <p>3\u3001\u53d8\u91cf\u5b9a\u4e49\u3002\u5728Makefile\u4e2d\u6211\u4eec\u8981\u5b9a\u4e49\u4e00\u7cfb\u5217\u53d8\u91cf\uff0c\u53d8\u91cf\u4e00\u822c\u90fd\u662f\u5b57\u7b26\u4e32\u3002\u8fd9\u4e2a\u6709\u70b9\u50cfC\u8bed\u8a00\u4e2d\u7684\u5b8f\uff0c\u5f53Makefile\u88ab\u6267\u884c\u65f6\uff0c\u5176\u4e2d\u7684\u53d8\u91cf\u90fd\u4f1a\u88ab\u6269\u5c55\u5230\u76f8\u5e94\u7684\u5f15\u7528\u4f4d\u7f6e\u4e0a\u3002</p> <p>4\u3001\u6587\u4ef6\u6307\u793a\u3002\u6709\u4e09\u7c7b\u6587\u4ef6\u6307\u793a\uff1a\uff081\uff09\u5728\u4e00\u4e2aMakefile\u4e2d\u5f15\u7528\u53e6\u4e00\u4e2aMakefile\uff0c\u5c31\u50cfC\u8bed\u8a00\u4e2d\u7684include\u4e00\u6837\uff1b\uff082\uff09\u6307\u6839\u636e\u67d0\u4e9b\u60c5\u51b5\u6307\u5b9aMakefile\u4e2d\u7684\u6709\u6548\u90e8\u5206\uff0c\u5c31\u50cfC\u8bed\u8a00\u4e2d\u7684\u9884\u7f16\u8bd1#if\u4e00\u6837\uff1b\uff083\uff09\u5b9a\u4e49\u4e00\u4e2a\u591a\u884c\u7684\u547d\u4ee4\u3002\u8fd9\u4e00\u90e8\u5206\u7684\u5185\u5bb9\u540e\u9762\u518d\u8bf4\u3002</p> <p>5\u3001\u6ce8\u91ca\u3002Makefile\u4e2d\u53ea\u6709\u884c\u6ce8\u91ca\u3002\u548cUNIX\u7684Shell\u811a\u672c\u4e00\u6837\uff0c\u6ce8\u91ca\u662f\u7528\u201c#\u201d\u5b57\u7b26\uff0c\u5982\u679c\u4f60\u8981\u5728\u4f60\u7684Makefile\u4e2d\u4f7f\u7528\u201c#\u201d\u5b57\u7b26\uff0c\u53ef\u4ee5\u7528\u53cd\u659c\u6846\u8fdb\u884c\u8f6c\u4e49\uff0c\u5982\uff1a\u201c<code>\\#</code>\u201d\u3002</p> <p>\u6700\u540e\uff0c\u503c\u5f97\u4e00\u63d0\u7684\u662f\uff0cMakefile\u4e2d\u7684\u547d\u4ee4\u5fc5\u987b\u8981\u4ee5Tab\u952e\u5f00\u59cb\u3002</p>","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#makefile_5","title":"\u4e8c\u3001Makefile\u547d\u540d","text":"<p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cmake\u547d\u4ee4\u4f1a\u5728\u5f53\u524d\u76ee\u5f55\u4e0b\u6309\u987a\u5e8f\u627e\u5bfb\u6587\u4ef6\u540d\u4e3a\u201cGNUmakefile\u201d\u3001\u201cmakefile\u201d\u3001\u201cMakefile\u201d\u7684\u6587\u4ef6\u3002\u6700\u597d\u4e0d\u8981\u7528\u201cGNUmakefile\u201d\uff0c\u8fd9\u4e2a\u6587\u4ef6\u662fGNU\u7684make\u8bc6\u522b\u7684\u3002\u6709\u53e6\u5916\u4e00\u4e9bmake\u53ea\u5bf9\u5168\u5c0f\u5199\u7684\u201cmakefile\u201d\u6587\u4ef6\u540d\u654f\u611f\uff0c\u4f46\u662f\u57fa\u672c\u4e0a\u6765\u8bf4\uff0c\u5927\u591a\u6570\u7684make\u90fd\u652f\u6301\u201cmakefile\u201d\u548c\u201cMakefile\u201d\u8fd9\u4e24\u79cd\u9ed8\u8ba4\u6587\u4ef6\u540d\u3002</p> <p>\u5f53\u7136\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u522b\u7684\u6587\u4ef6\u540d\u6765\u4e66\u5199Makefile\uff0c\u6bd4\u5982\uff1a\u201cMake.Linux\u201d\uff0c\u201cMake.Solaris\u201d\uff0c\u201cMake.AIX\u201d\u7b49\uff0c\u5982\u679c\u8981\u6307\u5b9a\u7279\u5b9a\u7684Makefile\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528make\u7684\u201c-f\u201d\u548c\u201c--file\u201d\u53c2\u6570\uff0c\u5982\uff1a<code>make -f Make.Linux</code>\u6216<code>make --file Make.AIX</code>\u3002</p>","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#makefile_6","title":"\u4e09\u3001\u5f15\u7528\u5176\u5b83Makefile","text":"<p>\u5728Makefile\u4f7f\u7528include\u5173\u952e\u5b57\u53ef\u4ee5\u628a\u522b\u7684Makefile\u5305\u542b\u8fdb\u6765\uff0c\u88ab\u5305\u542b\u7684\u6587\u4ef6\u4f1a\u88ab\u539f\u6a21\u539f\u6837\u7684\u653e\u5728\u5f53\u524d\u6587\u4ef6\u7684\u5305\u542b\u4f4d\u7f6e\u3002include\u7684\u8bed\u6cd5\u662f: <code>include {filename}</code> filename\u53ef\u4ee5\u662f\u5f53\u524d\u64cd\u4f5c\u7cfb\u7edfShell\u7684\u6587\u4ef6\u6a21\u5f0f\uff08\u53ef\u4ee5\u4fdd\u542b\u8def\u5f84\u548c\u901a\u914d\u7b26\uff09\u3002 include\u524d\u9762\u53ef\u4ee5\u6709\u4e00\u4e9b\u7a7a\u5b57\u7b26\uff0c\u4f46\u7edd\u4e0d\u80fd\u4ee5Tab\u952e\u5f00\u59cb\u3002include\u548c{filename}\u53ef\u4ee5\u7528\u4e00\u4e2a\u6216\u591a\u4e2a\u7a7a\u683c\u9694\u5f00\u3002\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u4f60\u6709\u8fd9\u6837\u51e0\u4e2aMakefile\uff1aa.mk\u3001b.mk\u3001c.mk\uff0c\u8fd8\u6709\u4e00\u4e2a\u6587\u4ef6\u53ebfoo.make\uff0c\u4ee5\u53ca\u4e00\u4e2a\u53d8\u91cf<code>$(bar)</code>\uff0c\u5176\u5305\u542b\u4e86e.mk\u548cf.mk\uff0c\u90a3\u4e48\uff0c\u4e0b\u9762\u7684\u8bed\u53e5\uff1a <code>include foo.make *.mk $(bar)</code> \u7b49\u4ef7\u4e8e\uff1a <code>include foo.make a.mk b.mk c.mk e.mk f.mk</code></p> <p>make\u547d\u4ee4\u5f00\u59cb\u65f6\uff0c\u4f1a\u67e5\u627einclude\u6240\u6307\u51fa\u7684\u5176\u5b83Makefile\uff0c\u5e76\u628a\u5176\u5185\u5bb9\u5b89\u7f6e\u5728\u5f53\u524d\u7684\u4f4d\u7f6e\u3002\u5982\u679c\u6587\u4ef6\u90fd\u6ca1\u6709\u6307\u5b9a\u7edd\u5bf9\u8def\u5f84\u6216\u662f\u76f8\u5bf9\u8def\u5f84\u7684\u8bdd\uff0cmake\u4f1a\u5728\u5f53\u524d\u76ee\u5f55\u4e0b\u9996\u5148\u5bfb\u627e\uff0c\u5982\u679c\u5f53\u524d\u76ee\u5f55\u4e0b\u6ca1\u6709\u627e\u5230\uff0c\u90a3\u4e48\uff0cmake\u8fd8\u4f1a\u5728\u4e0b\u9762\u7684\u51e0\u4e2a\u76ee\u5f55\u4e0b\u627e\uff1a 1\u3001\u5982\u679cmake\u6267\u884c\u65f6\u6709\u201c-I\u201d\u6216\u201c--include-dir\u201d\u53c2\u6570\uff0c\u90a3\u4e48make\u5c31\u4f1a\u5728\u8fd9\u4e2a\u53c2\u6570\u6240\u6307\u5b9a\u7684\u76ee\u5f55\u4e0b\u53bb\u5bfb\u627e\u3002 2\u3001\u5982\u679c\u76ee\u5f55{prefix}/include\uff08\u4e00\u822c\u662f\uff1a/usr/local/bin\u6216/usr/include\uff09\u5b58\u5728\u7684\u8bdd\uff0cmake\u4e5f\u4f1a\u53bb\u627e\u3002</p> <p>\u5982\u679c\u6709\u6587\u4ef6\u6ca1\u6709\u627e\u5230\u7684\u8bdd\uff0cmake\u4f1a\u751f\u6210\u4e00\u6761\u8b66\u544a\u4fe1\u606f\uff0c\u4f46\u4e0d\u4f1a\u9a6c\u4e0a\u51fa\u73b0\u81f4\u547d\u9519\u8bef\u3002\u5b83\u4f1a\u7ee7\u7eed\u8f7d\u5165\u5176\u5b83\u7684\u6587\u4ef6\uff0c\u4e00\u65e6\u5b8c\u6210makefile\u7684\u8bfb\u53d6\uff0cmake\u4f1a\u518d\u91cd\u65b0\u67e5\u627e\u8fd9\u4e9b\u6ca1\u6709\u627e\u5230\uff0c\u6216\u662f\u4e0d\u80fd\u8bfb\u53d6\u7684\u6587\u4ef6\uff0c\u5982\u679c\u8fd8\u662f\u4e0d\u884c\uff0cmake\u624d\u4f1a\u51fa\u73b0\u4e00\u6761\u81f4\u547d\u4fe1\u606f\u3002\u5982\u679c\u4f60\u60f3\u8ba9make\u4e0d\u7406\u90a3\u4e9b\u65e0\u6cd5\u8bfb\u53d6\u7684\u6587\u4ef6\uff0c\u800c\u7ee7\u7eed\u6267\u884c\uff0c\u4f60\u53ef\u4ee5\u5728include\u524d\u52a0\u4e00\u4e2a\u51cf\u53f7\u201c-\u201d\u3002\u5982\uff1a <code>-include {filename}</code> \u5176\u8868\u793a\uff0c\u65e0\u8bbainclude\u8fc7\u7a0b\u4e2d\u51fa\u73b0\u4ec0\u4e48\u9519\u8bef\uff0c\u90fd\u4e0d\u8981\u62a5\u9519\u7ee7\u7eed\u6267\u884c\u3002\u548c\u5176\u5b83\u7248\u672cmake\u517c\u5bb9\u7684\u76f8\u5173\u547d\u4ee4\u662fsinclude\uff0c\u5176\u4f5c\u7528\u548c\u8fd9\u4e00\u4e2a\u662f\u4e00\u6837\u7684\u3002</p>","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#makefiles","title":"\u56db\u3001\u73af\u5883\u53d8\u91cfMAKEFILES","text":"<p>\u5982\u679c\u4f60\u7684\u5f53\u524d\u73af\u5883\u4e2d\u5b9a\u4e49\u4e86\u73af\u5883\u53d8\u91cfMAKEFILES\uff0c\u90a3\u4e48\uff0cmake\u4f1a\u628a\u8fd9\u4e2a\u53d8\u91cf\u4e2d\u7684\u503c\u505a\u4e00\u4e2a\u7c7b\u4f3c\u4e8einclude\u7684\u52a8\u4f5c\u3002\u8fd9\u4e2a\u53d8\u91cf\u4e2d\u7684\u503c\u662f\u5176\u5b83\u7684Makefile\uff0c\u7528\u7a7a\u683c\u5206\u9694\u3002\u53ea\u662f\uff0c\u5b83\u548cinclude\u4e0d\u540c\u7684\u662f\uff0c\u4ece\u8fd9\u4e2a\u73af\u5883\u53d8\u91cf\u4e2d\u5f15\u5165\u7684Makefile\u7684\u201c\u76ee\u6807\u201d\u4e0d\u4f1a\u8d77\u4f5c\u7528\uff0c\u5982\u679c\u73af\u5883\u53d8\u91cf\u4e2d\u5b9a\u4e49\u7684\u6587\u4ef6\u53d1\u73b0\u9519\u8bef\uff0cmake\u4e5f\u4f1a\u4e0d\u7406\u3002</p> <p>\u5728\u8fd9\u91cc\u6211\u5efa\u8bae\u4e0d\u8981\u4f7f\u7528\u8fd9\u4e2a\u73af\u5883\u53d8\u91cf\uff0c\u56e0\u4e3a\u8fd9\u4e2a\u53d8\u91cf\u4e00\u65e6\u88ab\u5b9a\u4e49\uff0c\u90a3\u4e48\u5f53\u4f60\u4f7f\u7528make\u65f6\uff0c\u6240\u6709\u7684Makefile\u90fd\u4f1a\u53d7\u5230\u5b83\u7684\u5f71\u54cd\uff0c\u8fd9\u7edd\u4e0d\u662f\u4f60\u60f3\u770b\u5230\u7684\u3002\u5728\u8fd9\u91cc\u63d0\u8fd9\u4e2a\u4e8b\uff0c\u4e5f\u8bb8\u6709\u65f6\u5019\u4f60\u7684Makefile\u51fa\u73b0\u4e86\u602a\u4e8b\uff0c\u90a3\u4e48\u4f60\u53ef\u4ee5\u770b\u770b\u5f53\u524d\u73af\u5883\u4e2d\u6709\u6ca1\u6709\u5b9a\u4e49\u8fd9\u4e2a\u53d8\u91cf\u3002</p>","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#makefile_7","title":"\u4e94\u3001makefile\u7684\u6267\u884c\u6b65\u9aa4","text":"<p>make\u5de5\u4f5c\u65f6\u7684\u6267\u884c\u6b65\u9aa4\u5982\u4e0b\uff1a\uff08\u5176\u5b83\u7684make\u4e5f\u662f\u7c7b\u4f3c\u7684\uff09 1\u3001\u8bfb\u5165\u6240\u6709\u7684Makefile\u3002 2\u3001\u8bfb\u5165\u88abinclude\u7684\u5176\u5b83Makefile\u3002 3\u3001\u521d\u59cb\u5316\u6587\u4ef6\u4e2d\u7684\u53d8\u91cf\u3002 4\u3001\u63a8\u5bfc\u9690\u6666\u89c4\u5219\uff0c\u5e76\u5206\u6790\u6240\u6709\u89c4\u5219\u3002 5\u3001\u4e3a\u6240\u6709\u7684\u76ee\u6807\u6587\u4ef6\u521b\u5efa\u4f9d\u8d56\u5173\u7cfb\u94fe\u3002 6\u3001\u6839\u636e\u4f9d\u8d56\u5173\u7cfb\uff0c\u51b3\u5b9a\u54ea\u4e9b\u76ee\u6807\u8981\u91cd\u65b0\u751f\u6210\u3002 7\u3001\u6267\u884c\u751f\u6210\u547d\u4ee4\u3002  </p> <p>1-5\u6b65\u4e3a\u7b2c\u4e00\u4e2a\u9636\u6bb5\uff0c6-7\u4e3a\u7b2c\u4e8c\u4e2a\u9636\u6bb5\u3002\u7b2c\u4e00\u4e2a\u9636\u6bb5\u4e2d\uff0c\u5982\u679c\u5b9a\u4e49\u7684\u53d8\u91cf\u88ab\u4f7f\u7528\u4e86\uff0c\u90a3\u4e48make\u4f1a\u628a\u5176\u5c55\u5f00\u5728\u4f7f\u7528\u7684\u4f4d\u7f6e\u3002\u4f46make\u5e76\u4e0d\u4f1a\u628a\u53d8\u91cf\u9a6c\u4e0a\u5b8c\u5168\u5c55\u5f00\uff0cmake\u4f7f\u7528\u7684\u662f\u62d6\u5ef6\u7b56\u7565\uff0c\u5982\u679c\u53d8\u91cf\u51fa\u73b0\u5728\u4f9d\u8d56\u5173\u7cfb\u7684\u89c4\u5219\u4e2d\uff0c\u90a3\u4e48\u4ec5\u5f53\u8fd9\u6761\u89c4\u5219\u88ab\u51b3\u5b9a\u8981\u4f7f\u7528\u4e86\uff0c\u53d8\u91cf\u624d\u4f1a\u5728\u5176\u5185\u90e8\u5c55\u5f00\u3002</p>","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#makefile_8","title":"\u66f4\u66f4\u8be6\u7ec6\u7684makefile\u7684\u4ecb\u7ecd","text":"<p>\u89c4\u5219\u5305\u542b\u4e24\u4e2a\u90e8\u5206\uff0c\u4e00\u4e2a\u662f\u4f9d\u8d56\u5173\u7cfb\uff0c\u4e00\u4e2a\u662f\u751f\u6210\u76ee\u6807\u7684\u547d\u4ee4\u3002</p> <p>\u5728Makefile\u4e2d\uff0c\u89c4\u5219\u7684\u987a\u5e8f\u662f\u5f88\u91cd\u8981\u7684\uff0c\u56e0\u4e3aMakefile\u4e2d\u5e94\u8be5\u53ea\u6709\u4e00\u4e2a\u6700\u7ec8\u76ee\u6807\uff0c\u5176\u5b83\u7684\u76ee\u6807\u90fd\u662f\u88ab\u8fd9\u4e2a\u76ee\u6807\u6240\u8fde\u5e26\u51fa\u6765\u7684\uff0c\u6240\u4ee5\u4e00\u5b9a\u8981\u8ba9make\u77e5\u9053\u4f60\u7684\u6700\u7ec8\u76ee\u6807\u662f\u4ec0\u4e48\u3002\u4e00\u822c\u6765\u8bf4\uff0c\u5b9a\u4e49\u5728Makefile\u4e2d\u7684\u76ee\u6807\u53ef\u80fd\u4f1a\u6709\u5f88\u591a\uff0c\u4f46\u662f\u7b2c\u4e00\u6761\u89c4\u5219\u4e2d\u7684\u76ee\u6807\u5c06\u88ab\u9ed8\u8ba4\u786e\u7acb\u4e3a\u6700\u7ec8\u7684\u76ee\u6807\u3002\u5982\u679c\u7b2c\u4e00\u6761\u89c4\u5219\u4e2d\u7684\u76ee\u6807\u6709\u5f88\u591a\u4e2a\uff0c\u90a3\u4e48\u7b2c\u4e00\u4e2a\u76ee\u6807\u4f1a\u9ed8\u8ba4\u6210\u4e3a\u6700\u7ec8\u7684\u76ee\u6807\u3002</p>","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#_6","title":"\u4e00\u3001\u89c4\u5219\u4e3e\u4f8b","text":"<p>\u7565</p>","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#_7","title":"\u4e8c\u3001\u89c4\u5219\u7684\u8bed\u6cd5","text":"<pre><code>targets : prerequisites\n        command\n        ...\n</code></pre> <p>\u6216\u662f\u8fd9\u6837\uff1a</p> <pre><code>targets : prerequisites ; command\n        command\n        ...\n</code></pre> <p>command\u662f\u547d\u4ee4\u884c\uff0c\u5982\u679c\u5176\u4e0d\u4e0e\u201ctarget:prerequisites\u201d\u5728\u4e00\u884c\uff0c\u90a3\u4e48\u5fc5\u987b\u4ee5Tab\u952e\u5f00\u5934\uff0c\u5982\u679c\u548cprerequisites\u5728\u4e00\u884c\uff0c\u90a3\u4e48\u53ef\u4ee5\u7528\u5206\u53f7\u505a\u4e3a\u5206\u9694\u3002\u8fd9\u4e24\u79cd\u5199\u6cd5\u7684\u542b\u4e49\u662f\u4e0d\u540c\u7684\u3002</p>","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#_8","title":"\u4e09\u3001\u5728\u89c4\u5219\u4e2d\u4f7f\u7528\u901a\u914d\u7b26","text":"<p>\u5982\u679c\u6211\u4eec\u60f3\u5b9a\u4e49\u4e00\u7cfb\u5217\u6bd4\u8f83\u7c7b\u4f3c\u7684\u6587\u4ef6\uff0c\u6211\u4eec\u5f88\u81ea\u7136\u5730\u5c31\u60f3\u8d77\u4f7f\u7528\u901a\u914d\u7b26\u3002make\u652f\u6301\u4e09\u79cd\u901a\u914d\u7b26\uff1a\u201c*\u201d\uff0c\u201c?\u201d\u548c\u201c[...]\u201d\u3002\u8fd9\u662f\u548cUnix\u7684B-Shell\u662f\u76f8\u540c\u7684\u3002</p> <p>\u5982\u679c\u8981\u5728\u6587\u4ef6\u540d\u4e2d\u4f7f\u7528\u201c*\u201d\u5b57\u7b26\uff0c\u53ef\u4ee5\u5728\u524d\u9762\u52a0\u4e0a\u8f6c\u4e49\u5b57\u7b26\u201c\\\u201d\u3002</p> <p>\u5148\u6765\u770b\u51e0\u4e2a\u4f8b\u5b50\uff1a</p> <pre><code>clean:\n        rm -f *.o\n</code></pre> <p>\u4e0a\u9762\u8fd9\u4e2a\u4f8b\u5b50\u662f\u5728\u547d\u4ee4\u4e2d\u7684\u901a\u914d\u7b26\u3002</p> <pre><code>print: *.c\n        lpr -p $?\n        touch print\n</code></pre> <p>\u4e0a\u9762\u8fd9\u4e2a\u4f8b\u5b50\u8bf4\u660e\u4e86\u901a\u914d\u7b26\u4e5f\u53ef\u4ee5\u7528\u5728\u89c4\u5219\u4e2d\uff0c\u76ee\u6807print\u4f9d\u8d56\u4e8e\u6240\u6709\u7684.c\u6587\u4ef6\u3002\u5176\u4e2d\u7684\u201c<code>$?</code>\u201d\u662f\u4e00\u4e2a\u81ea\u52a8\u5316\u53d8\u91cf\uff08\u4f1a\u5217\u51fa\u6240\u6709\u6bd4\u76ee\u6807\u65b0\u7684\u4f9d\u8d56\u6587\u4ef6\uff08\u53ef\u4ee5\u7406\u89e3\u6210\u53ea\u5217\u51fa\u66f4\u65b0\u8fc7\u7684\u4f9d\u8d56\uff09\uff09\uff0c\u6211\u4eec\u4f1a\u5728\u540e\u9762\u8ba8\u8bba\u3002</p> <p>\u5982\u679c\u5c06\u901a\u914d\u7b26\u7528\u5728\u53d8\u91cf\u4e2d\uff0c\u4f8b\u5982<code>objects = *.o</code>\u3002<code>*.o</code>\u5e76\u4e0d\u4f1a\u5c55\u5f00\uff0cobjects\u7684\u503c\u5c31\u662f\u201c<code>*.o</code>\u201d\uff01Makefile\u4e2d\u7684\u53d8\u91cf\u7c7b\u4f3c\u4e8eC/C++\u4e2d\u7684\u5b8f\u3002\u5982\u679c\u4f60\u8981\u8ba9\u901a\u914d\u7b26\u5728\u53d8\u91cf\u4e2d\u5c55\u5f00\uff0c\u4e5f\u5c31\u662f\u8ba9objects\u7684\u503c\u662f\u6240\u6709.o\u6587\u4ef6\u7684\u96c6\u5408\uff0c\u90a3\u4e48\u53ef\u4ee5\u8fd9\u6837\uff1a</p> <p><code>objects := $(wildcard *.o)</code></p> <p>\u8fd9\u79cd\u7528\u6cd5\u7531\u5173\u952e\u5b57\u201cwildcard\u201d\u6307\u51fa\u3002\u5173\u4e8eMakefile\u7684\u5173\u952e\u5b57\uff0c\u6211\u4eec\u5c06\u5728\u540e\u9762\u8ba8\u8bba\u3002</p>","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#_9","title":"\u56db\u3001\u6587\u4ef6\u641c\u7d22","text":"<p>\u6ce8\u610f\uff1avpath\u53ea\u5bf9\u67e5\u627e\u6587\u4ef6\u7684\u4f9d\u8d56\u5173\u7cfb\u6709\u6548\u3002\u5373\uff0c\u4f9d\u8d56\u4e2d\u7684\u6587\u4ef6\u540d\u4e0d\u9700\u8981\u5199\u5168\u8def\u5f84\uff0c\u800c\u547d\u4ee4\u4e2d\u7684\u6587\u4ef6\u540d\u8fd8\u662f\u8981\u5199\u5168\u8def\u5f84\uff01\uff01\uff01 \u4e00\u4e9b\u5927\u7684\u5de5\u7a0b\u4e2d\u6709\u5927\u91cf\u7684\u6e90\u6587\u4ef6\uff0c\u6211\u4eec\u901a\u5e38\u7684\u505a\u6cd5\u662f\u628a\u8fd9\u4e9b\u6e90\u6587\u4ef6\u5206\u7c7b\u5e76\u5b58\u653e\u5728\u4e0d\u540c\u7684\u76ee\u5f55\u4e2d\u3002\u6240\u4ee5\uff0c\u5f53make\u9700\u8981\u53bb\u67e5\u627e\u6587\u4ef6\u7684\u4f9d\u8d56\u5173\u7cfb\u65f6\uff0c\u4f60\u53ef\u4ee5\u5728\u6587\u4ef6\u524d\u52a0\u4e0a\u8def\u5f84\uff08\u5fc5\u987b\u8981\u5728\u4f9d\u8d56\u6587\u4ef6\u548c\u547d\u4ee4\u4e2d\u7684\u6587\u4ef6\u540d\u524d\u90fd\u52a0\u4e0a\u8def\u5f84\u624d\u884c\uff01\uff09\uff0c\u4f46\u6700\u597d\u7684\u65b9\u6cd5\u662f\u628a\u4e00\u4e2a\u8def\u5f84\u544a\u8bc9make\uff0c\u8ba9make\u5728\u81ea\u52a8\u53bb\u627e\u3002</p> <p>Makefile\u6587\u4ef6\u4e2d\u7684\u7279\u6b8a\u53d8\u91cf\u201cVPATH\u201d\u5c31\u662f\u7528\u6765\u5b8c\u6210\u8fd9\u4e2a\u529f\u80fd\u7684\uff0c\u5982\u679c\u6ca1\u6709\u5b9a\u4e49\u8fd9\u4e2a\u53d8\u91cf\uff0cmake\u53ea\u4f1a\u5728\u5f53\u524d\u76ee\u5f55\u4e2d\u53bb\u67e5\u627e\u4f9d\u8d56\u6587\u4ef6\u3002\u5982\u679c\u5b9a\u4e49\u4e86\u8fd9\u4e2a\u53d8\u91cf\uff0c\u90a3\u4e48make\u5c31\u4f1a\u5728\u5f53\u524d\u76ee\u5f55\u627e\u4e0d\u5230\u7684\u60c5\u51b5\u4e0b\uff0c\u5230\u6307\u5b9a\u7684\u76ee\u5f55\u4e2d\u53bb\u67e5\u627e\u6587\u4ef6\u4e86\u3002</p> <p><code>VPATH = src:../headers</code> </p> <p>\u4e0a\u9762\u7684\u7684\u5b9a\u4e49\u6307\u5b9a\u4e24\u4e2a\u76ee\u5f55\uff0c\u201csrc\u201d\u548c\u201c../headers\u201d\uff0cmake\u4f1a\u6309\u7167\u8fd9\u4e2a\u987a\u5e8f\u8fdb\u884c\u641c\u7d22\u3002\u76ee\u5f55\u7531\u201c:\u201d\u5206\u9694\u3002\uff08\u5f53\u524d\u76ee\u5f55\u6c38\u8fdc\u662f\u6700\u4f18\u5148\u641c\u7d22\u7684\u76ee\u5f55\u3002\uff09</p> <p>\u53e6\u4e00\u4e2a\u8bbe\u7f6e\u6587\u4ef6\u641c\u7d22\u8def\u5f84\u7684\u65b9\u6cd5\u662f\u4f7f\u7528make\u7684\u201cvpath\u201d\u5173\u952e\u5b57\uff08\u6ce8\u610f\uff0c\u5b83\u662f\u5168\u5c0f\u5199\u7684\uff09\u3002\u8fd9\u4e0d\u662f\u53d8\u91cf\uff0c\u8fd9\u662f\u4e00\u4e2amake\u7684\u5173\u952e\u5b57\uff0c\u8fd9\u548c\u4e0a\u9762\u63d0\u5230\u7684\u90a3\u4e2aVPATH\u53d8\u91cf\u5f88\u7c7b\u4f3c\uff0c\u4f46\u662f\u5b83\u66f4\u4e3a\u7075\u6d3b\u3002\u5b83\u53ef\u4ee5\u6307\u5b9a\u5728\u4e0d\u540c\u7684\u641c\u7d22\u76ee\u5f55\u4e2d\u641c\u7d22\u4e0d\u540c\u7684\u6587\u4ef6\u3002\u8fd9\u662f\u4e00\u4e2a\u5f88\u7075\u6d3b\u7684\u529f\u80fd\u3002\u5b83\u7684\u4f7f\u7528\u65b9\u6cd5\u6709\u4e09\u79cd\uff1a</p> <p>1\u3001<code>vpath {pattern} {directories}</code> \u4e3a\u7b26\u5408\u6a21\u5f0f{pattern}\u7684\u6587\u4ef6\u6307\u5b9a\u641c\u7d22\u76ee\u5f55{directories}\u3002</p> <p>2\u3001<code>vpath {pattern}</code> \u6e05\u9664\u7b26\u5408\u6a21\u5f0f{pattern}\u7684\u6587\u4ef6\u7684\u641c\u7d22\u76ee\u5f55\u3002</p> <p>3\u3001<code>vpath</code> \u6e05\u9664\u6240\u6709\u5df2\u88ab\u8bbe\u7f6e\u597d\u4e86\u7684\u6587\u4ef6\u641c\u7d22\u76ee\u5f55\u3002</p> <p>{pattern}\u9700\u8981\u5305\u542b\u201c%\u201d\u5b57\u7b26\u3002\u201c%\u201d\u7684\u610f\u601d\u662f\u5339\u914d\u96f6\u6216\u82e5\u5e72\u5b57\u7b26\uff0c\u4f8b\u5982\uff0c\u201c%.h\u201d\u8868\u793a\u6240\u6709\u4ee5\u201c.h\u201d\u7ed3\u5c3e\u7684\u6587\u4ef6\u3002{pattern}\u6307\u5b9a\u4e86\u8981\u641c\u7d22\u7684\u6587\u4ef6\u96c6\uff0c\u800c{directories}\u5219\u6307\u5b9a\u4e86{pattern}\u7684\u6587\u4ef6\u96c6\u7684\u641c\u7d22\u7684\u76ee\u5f55\u3002\u4f8b\u5982\uff1a</p> <p><code>vpath %.h ../headers</code></p> <p>\u8be5\u8bed\u53e5\u8868\u793a\uff0c\u8981\u6c42make\u5728\u201c../headers\u201d\u76ee\u5f55\u4e0b\u641c\u7d22\u6240\u6709\u4ee5\u201c.h\u201d\u7ed3\u5c3e\u7684\u6587\u4ef6\u3002\uff08\u5982\u679c\u67d0\u6587\u4ef6\u5728\u5f53\u524d\u76ee\u5f55\u6ca1\u6709\u627e\u5230\u7684\u8bdd\uff09</p> <p>\u6211\u4eec\u53ef\u4ee5\u8fde\u7eed\u5730\u4f7f\u7528vpath\u8bed\u53e5\uff0c\u4ee5\u6307\u5b9a\u4e0d\u540c\u641c\u7d22\u7b56\u7565\u3002\u5982\u679c\u8fde\u7eed\u7684vpath\u8bed\u53e5\u4e2d\u51fa\u73b0\u4e86\u76f8\u540c\u7684{pattern}\uff0c\u6216\u662f\u88ab\u91cd\u590d\u4e86\u7684{pattern}\uff0c\u90a3\u4e48\uff0cmake\u4f1a\u6309\u7167vpath\u8bed\u53e5\u7684\u5148\u540e\u987a\u5e8f\u6765\u6267\u884c\u641c\u7d22\u3002\u5982\uff1a</p> <pre><code>vpath %.c foo\nvpath % blish\nvpath %.c bar\n</code></pre> <p>\u5176\u8868\u793a\u201c.c\u201d\u7ed3\u5c3e\u7684\u6587\u4ef6\uff0c\u5148\u5728\u201cfoo\u201d\u76ee\u5f55\u641c\u7d22\uff0c\u7136\u540e\u662f\u201cblish\u201d\uff0c\u6700\u540e\u662f\u201cbar\u201d\u76ee\u5f55\u3002</p> <pre><code>vpath %.c foo:bar\nvpath %   blish\n</code></pre> <p>\u4e0a\u9762\u7684\u8bed\u53e5\u8868\u793a\u201c.c\u201d\u7ed3\u5c3e\u7684\u6587\u4ef6\uff0c\u5148\u5728\u201cfoo\u201d\u76ee\u5f55\u641c\u7d22\uff0c\u7136\u540e\u662f\u201cbar\u201d\u76ee\u5f55\uff0c\u6700\u540e\u624d\u662f\u201cblish\u201d\u76ee\u5f55\u3002</p>","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#_10","title":"\u4e94\u3001\u4f2a\u76ee\u6807","text":"<p>\u5728\u6700\u5f00\u59cb\u7684\u4e00\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u63d0\u5230\u8fc7\u4e00\u4e2a\u540d\u4e3a\u201cclean\u201d\u7684\u76ee\u6807\uff0c\u8fd9\u662f\u4e00\u4e2a\u201c\u4f2a\u76ee\u6807\u201d\uff0c</p> <pre><code>clean:\n        rm *.o temp\n</code></pre> <p>\u201c\u4f2a\u76ee\u6807\u201d\u5e76\u4e0d\u662f\u4e00\u4e2a\u6587\u4ef6\uff0c\u53ea\u662f\u4e00\u4e2a\u6807\u7b7e\uff0c\u6240\u4ee5make\u65e0\u6cd5\u751f\u6210\u5b83\u7684\u4f9d\u8d56\u5173\u7cfb\u548c\u51b3\u5b9a\u5b83\u662f\u5426\u8981\u6267\u884c\u3002\u6211\u4eec\u53ea\u6709\u901a\u8fc7\u663e\u793a\u5730\u6307\u660e\u8fd9\u4e2a\u201c\u76ee\u6807\u201d\u624d\u80fd\u8ba9\u5176\u751f\u6548\u3002\u201c\u4f2a\u76ee\u6807\u201d\u7684\u53d6\u540d\u4e0d\u80fd\u548c\u6587\u4ef6\u540d\u91cd\u540d\uff0c\u4e0d\u7136\u5c31\u5931\u53bb\u4e86\u201c\u4f2a\u76ee\u6807\u201d\u7684\u610f\u4e49\u4e86\u3002</p> <p>\u4e3a\u4e86\u907f\u514d\u548c\u6587\u4ef6\u91cd\u540d\u7684\u8fd9\u79cd\u60c5\u51b5\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u4e00\u4e2a\u7279\u6b8a\u7684\u6807\u8bb0\u201c.PHONY\u201d\u6765\u663e\u793a\u5730\u6307\u660e\u4e00\u4e2a\u76ee\u6807\u662f\u201c\u4f2a\u76ee\u6807\u201d\uff0c\u5411make\u8bf4\u660e\uff0c\u4e0d\u7ba1\u662f\u5426\u6709\u8fd9\u4e2a\u6587\u4ef6\uff0c\u8fd9\u4e2a\u76ee\u6807\u5c31\u662f\u201c\u4f2a\u76ee\u6807\u201d\u3002</p> <p>\u6574\u4e2a\u8fc7\u7a0b\u53ef\u4ee5\u8fd9\u6837\u5199\uff1a</p> <pre><code>.PHONY: clean\nclean:\n        rm *.o temp\n</code></pre> <p>\u6211\u4eec\u4e5f\u53ef\u4ee5\u4e3a\u4f2a\u76ee\u6807\u6307\u5b9a\u6240\u4f9d\u8d56\u7684\u6587\u4ef6\u3002\u4f2a\u76ee\u6807\u540c\u6837\u53ef\u4ee5\u4f5c\u4e3a\u201c\u9ed8\u8ba4\u76ee\u6807\u201d\uff0c\u53ea\u8981\u5c06\u5176\u653e\u5728\u7b2c\u4e00\u4e2a\u3002\u4e00\u4e2a\u4f8b\u5b50\u5c31\u662f\uff0c\u5982\u679c\u4f60\u7684Makefile\u9700\u8981\u4e00\u53e3\u6c14\u751f\u6210\u82e5\u5e72\u4e2a\u53ef\u6267\u884c\u6587\u4ef6\uff0c\u4f46\u4f60\u53ea\u60f3\u7b80\u5355\u5730\u6572\u4e00\u4e2amake\u5b8c\u4e8b\uff0c\u5e76\u4e14\u6240\u6709\u7684\u76ee\u6807\u6587\u4ef6\u90fd\u5199\u5728\u4e00\u4e2aMakefile\u4e2d\uff0c\u90a3\u4e48\u4f60\u53ef\u4ee5\u4f7f\u7528\u201c\u4f2a\u76ee\u6807\u201d\u8fd9\u4e2a\u7279\u6027\uff1a</p> <pre><code>all : prog1 prog2 prog3\n.PHONY : all\n\nprog1 : prog1.o utils.o\n        cc -o prog1 prog1.o utils.o\n\nprog2 : prog2.o\n        cc -o prog2 prog2.o\n\nprog3 : prog3.o sort.o utils.o\n        cc -o prog3 prog3.o sort.o utils.o\n</code></pre> <p>\u4f2a\u76ee\u6807\u540c\u6837\u4e5f\u53ef\u6210\u4e3a\u4f9d\u8d56\u3002\u770b\u4e0b\u9762\u7684\u4f8b\u5b50\uff1a</p> <pre><code>.PHONY: cleanall cleanobj cleandiff\n\ncleanall : cleanobj cleandiff\n        rm program\n\ncleanobj :\n        rm *.o\n\ncleandiff :\n        rm *.diff\n</code></pre> <p>\u201cmake cleanall\u201d\u5c06\u6e05\u9664\u6240\u6709\u8981\u88ab\u6e05\u9664\u7684\u6587\u4ef6\u3002\u6211\u4eec\u53ef\u4ee5\u8f93\u5165\u201cmake cleanall\u201d\u548c\u201cmake cleanobj\u201d\u548c\u201cmake cleandiff\u201d\u547d\u4ee4\u6765\u8fbe\u5230\u6e05\u9664\u4e0d\u540c\u79cd\u7c7b\u6587\u4ef6\u7684\u76ee\u7684\u3002</p>","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#_11","title":"\u516d\u3001\u591a\u4e2a\u76ee\u6807\u4f9d\u8d56\u76f8\u540c\u7684\u6587\u4ef6","text":"<p>Makefile\u7684\u4e00\u4e2a\u89c4\u5219\u4e2d\u7684\u53ef\u4ee5\u6709\u591a\u4e2a\u76ee\u6807\u3002\u6709\u53ef\u80fd\u6211\u4eec\u7684\u591a\u4e2a\u76ee\u6807\u540c\u65f6\u4f9d\u8d56\u4e8e\u4e00\u4e2a\u6587\u4ef6\uff0c\u5e76\u4e14\u5176\u751f\u6210\u7684\u547d\u4ee4\u5927\u4f53\u7c7b\u4f3c\uff0c\u4e8e\u662f\u6211\u4eec\u5c31\u80fd\u628a\u5176\u5408\u5e76\u8d77\u6765\u3002</p> <p>\u591a\u4e2a\u76ee\u6807\u7684\u751f\u6210\u89c4\u5219\u7684\u6267\u884c\u547d\u4ee4\u662f\u540c\u4e00\u4e2a\uff0c\u8fd9\u53ef\u80fd\u4f1a\u53ef\u6211\u4eec\u5e26\u6765\u9ebb\u70e6\uff0c\u4e0d\u8fc7\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u4e00\u4e2a\u81ea\u52a8\u5316\u53d8\u91cf\u201c$@\u201d\uff0c\u8fd9\u4e2a\u53d8\u91cf\u8868\u793a\u7740\u76ee\u524d\u89c4\u5219\u4e2d\u6240\u6709\u7684\u76ee\u6807\u7684\u96c6\u5408\uff0c\u8fd9\u6837\u8bf4\u53ef\u80fd\u5f88\u62bd\u8c61\uff0c\u770b\u4e00\u4e2a\u4f8b\u5b50\u5427\u3002</p> <pre><code>bigoutput littleoutput : text.g\n        generate text.g -$(subst output,,$@) &gt; $@\n</code></pre> <p>\u4e0a\u8ff0\u89c4\u5219\u7b49\u4ef7\u4e8e\uff1a</p> <pre><code>bigoutput : text.g\n        generate text.g -big &gt; bigoutput\nlittleoutput : text.g\n        generate text.g -little &gt; littleoutput\n</code></pre> <p>\u5176\u4e2d\uff0c<code>-$(subst output,,$@)</code>\u4e2d\u7684\u7b2c\u4e00\u4e2a\u201c<code>$</code>\u201d\u8868\u793a\u6267\u884c\u4e00\u4e2aMakefile\u7684\u51fd\u6570\uff0c\u51fd\u6570\u540d\u4e3asubst\uff0c\u540e\u9762\u7684\u4e3a\u53c2\u6570\u3002\u5173\u4e8e\u51fd\u6570\uff0c\u5c06\u5728\u540e\u9762\u8bb2\u8ff0\u3002subst\u8fd9\u4e2a\u51fd\u6570\u7684\u529f\u80fd\u662f\u66ff\u6362\u5b57\u7b26\u4e32\uff08\u5c06\u53c2\u65703\u4e2d\u5305\u542b\u7684\u53c2\u65701\u66ff\u6362\u4e3a\u53c2\u65702\uff09\uff0c\u201c<code>$@</code>\u201d\u8868\u793a\u76ee\u6807\u7684\u96c6\u5408\uff0c\u5c31\u50cf\u4e00\u4e2a\u6570\u7ec4\uff0c\u201c<code>$@</code>\u201d\u4f9d\u6b21\u53d6\u51fa\u76ee\u6807\uff0c\u5e76\u6267\u4e8e\u547d\u4ee4\u3002</p>","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#_12","title":"\u4e03\u3001\u591a\u76ee\u6807\u7684\u9759\u6001\u6a21\u5f0f","text":"<p>\u4f7f\u7528\u9759\u6001\u6a21\u5f0f\u53ef\u4ee5\u66f4\u52a0\u5bb9\u6613\u5730\u5b9a\u4e49\u591a\u76ee\u6807\u7684\u89c4\u5219\uff0c\u53ef\u4ee5\u8ba9\u6211\u4eec\u7684\u89c4\u5219\u53d8\u5f97\u66f4\u6709\u5f39\u6027\u548c\u7075\u6d3b\u6027\u3002\u6211\u4eec\u5148\u6765\u770b\u4e00\u4e0b\u8bed\u6cd5\uff1a</p> <pre><code>{targets ...}: {target-pattern}: {prereq-patterns ...}\n        {commands}\n        ...\n</code></pre> <p>targets\u5b9a\u4e49\u4e86\u4e00\u7cfb\u5217\u76ee\u6807\u6587\u4ef6\uff0c\u53ef\u4ee5\u6709\u901a\u914d\u7b26\uff0c\u662f\u76ee\u6807\u7684\u4e00\u4e2a\u96c6\u5408\u3002 target-parrtern\u6307\u660e\u4e86targets\u7684\u6a21\u5f0f\uff0c\u4e5f\u5c31\u662f\u76ee\u6807\u96c6\u6a21\u5f0f\u3002 prereq-parrterns\u662f\u76ee\u6807\u7684\u4f9d\u8d56\u6a21\u5f0f\uff0c\u5b83\u7528target-parrtern\u8fdb\u884c\u4f9d\u8d56\u7684\u6a21\u5f0f\u5b9a\u4e49\u3002</p> <p>\u4e3e\u4e2a\u4f8b\u5b50\u6765\u8bf4\u660e\u4e00\u4e0b\u5427\u3002\u5982\u679c\u6211\u4eec\u7684{target-parrtern}\u5b9a\u4e49\u6210\u201c%.o\u201d\uff0c\u610f\u601d\u662f{target}\u96c6\u5408\u4e2d\u90fd\u662f\u4ee5\u201c.o\u201d\u7ed3\u5c3e\u7684\uff0c\u800c\u5982\u679c\u6211\u4eec\u7684{prereq-parrterns}\u5b9a\u4e49\u6210\u201c%.c\u201d\uff0c\u5219\u53d6{target-parrtern}\u6a21\u5f0f\u4e2d\u7684\u201c%\u201d\uff08\u53bb\u6389\u4e86.o\u8fd9\u4e2a\u7ed3\u5c3e\uff09\uff0c\u5e76\u4e3a\u5176\u52a0\u4e0a.c\u8fd9\u4e2a\u7ed3\u5c3e\uff0c\u5f62\u6210\u4f9d\u8d56\u6a21\u5f0f\u3002\u6240\u4ee5\u201c\u76ee\u6807\u6a21\u5f0f\u201d\u548c\u201c\u4f9d\u8d56\u6a21\u5f0f\u201d\u4e2d\u90fd\u5e94\u8be5\u6709\u201c%\u201d\u8fd9\u4e2a\u5b57\u7b26\uff0c\u5982\u679c\u4f60\u7684\u6587\u4ef6\u540d\u4e2d\u6709\u201c%\u201d\u90a3\u4e48\u4f60\u53ef\u4ee5\u4f7f\u7528\u53cd\u659c\u6760\u201c\\\u201d\u8fdb\u884c\u8f6c\u4e49\uff0c\u6765\u4f7f\u7528\u201c%\u201d\u8fd9\u4e2a\u5b57\u7b26\u3002</p> <p>\u770b\u4e00\u4e2a\u4f8b\u5b50\uff1a</p> <pre><code>objects = foo.o bar.o\n\nall: $(objects)\n\n$(objects): %.o: %.c\n        $(CC) -c $(CFLAGS) $&lt; -o $@\n</code></pre> <p>\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u6307\u660e\u4e86\u76ee\u6807\u4ece$object\u4e2d\u83b7\u53d6\uff0c\u76ee\u6807\u6a21\u5f0f\u201c%.o\u201d\u8868\u660e\u8981\u6240\u6709\u4ee5\u201c.o\u201d\u7ed3\u5c3e\u7684\u76ee\u6807\uff0c\u4e5f\u5c31\u662f\u201cfoo.o bar.o\u201d\u3002\u4f9d\u8d56\u6a21\u5f0f\u201c%.c\u201d\u53d6\u6a21\u5f0f\u201c%.o\u201d\u7684\u201c%\u201d\uff0c\u4e5f\u5c31\u662f\u201cfoo bar\u201d\uff0c\u5e76\u4e3a\u5176\u52a0\u4e0b\u201c.c\u201d\u7684\u540e\u7f00\uff0c\u4e8e\u662f\u6211\u4eec\u7684\u4f9d\u8d56\u76ee\u6807\u5c31\u662f\u201cfoo.c bar.c\u201d\u3002</p> <p>\u547d\u4ee4\u4e2d\u7684\u201c<code>$&lt;</code>\u201d\u548c\u201c<code>$@</code>\u201d\u662f\u81ea\u52a8\u5316\u53d8\u91cf\uff0c\uff08<code>$&lt;</code>\u8868\u793a\u4f9d\u8d56\u76ee\u6807\u4e2d\u7684\u7b2c\u4e00\u4e2a\u76ee\u6807\u540d\u5b57\u3002\u5982\u679c\u4f9d\u8d56\u76ee\u6807\u662f\u4ee5\u6a21\u5f0f\uff08\u5373 % \uff09\u5b9a\u4e49\u7684\uff0c\u90a3\u4e48 <code>$&lt;</code> \u5c06\u662f\u7b26\u5408\u6a21\u5f0f\u7684\u4e00\u7cfb\u5217\u7684\u6587\u4ef6\u96c6\u3002\u6ce8\u610f\uff0c\u5176\u662f\u4e00\u4e2a\u4e00\u4e2a\u53d6\u51fa\u6765\u7684\u3002\uff0c\u201c<code>$@</code>\u201d\u8868\u793a\u76ee\u6807\u96c6\uff0c\u4e5f\u662f\u4e00\u4e2a\u4e00\u4e2a\u53d6\u51fa\u6765\u7684\uff09\u3002\u4e8e\u662f\uff0c\u4e0a\u9762\u7684\u89c4\u5219\u5c55\u5f00\u540e\u7b49\u4ef7\u4e8e\u4e0b\u9762\u7684\u89c4\u5219\uff1a</p> <pre><code>foo.o : foo.c\n        $(CC) -c $(CFLAGS) foo.c -o foo.o\nbar.o : bar.c\n        $(CC) -c $(CFLAGS) bar.c -o bar.o\n</code></pre> <p>\u201c\u9759\u6001\u6a21\u5f0f\u89c4\u5219\u201d\u7684\u7528\u6cd5\u5f88\u7075\u6d3b\uff0c\u5982\u679c\u7528\u5f97\u597d\uff0c\u90a3\u4f1a\u4e00\u4e2a\u5f88\u5f3a\u5927\u7684\u529f\u80fd\u3002\u518d\u770b\u4e00\u4e2a\u4f8b\u5b50\uff1a</p> <pre><code>files = foo.elc bar.o lose.o\n\n$(filter %.o,$(files)): %.o: %.c\n        $(CC) -c $(CFLAGS) $&lt; -o $@\n$(filter %.elc,$(files)): %.elc: %.el\n        emacs -f batch-byte-compile $&lt;\n</code></pre> <p><code>$(filter %.o,$(files))</code>\u8868\u793a\u8c03\u7528Makefile\u7684filter\u51fd\u6570\uff0c\u8fc7\u6ee4\u201c<code>$files</code>\u201d\u96c6\uff0c\u53ea\u8981\u5176\u4e2d\u6a21\u5f0f\u4e3a\u201c%.o\u201d\u7684\u5185\u5bb9\u3002\u8fd9\u4e2a\u4f8b\u5b50\u5c55\u793a\u4e86Makefile\u4e2d\u66f4\u5927\u7684\u5f39\u6027\u3002</p>","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#_13","title":"\u516b\u3001\u81ea\u52a8\u751f\u6210\u5934\u6587\u4ef6\u4f9d\u8d56","text":"<p>\u5728Makefile\u4e2d\uff0c\u4f9d\u8d56\u5173\u7cfb\u53ef\u80fd\u4f1a\u5305\u542b\u4e00\u7cfb\u5217\u7684\u5934\u6587\u4ef6\u3002\u6bd4\u5982\uff0c\u5982\u679cmain.c\u4e2d\u6709\u4e00\u53e5<code>#include \"defs.h\"</code>\uff0c\u90a3\u4e48\u4f9d\u8d56\u5173\u7cfb\u5e94\u8be5\u662f\uff1a</p> <p><code>main.o : main.c defs.h</code></p> <p>\u4f46\u662f\u5bf9\u4e8e\u4e00\u4e2a\u5927\u578b\u7684\u5de5\u7a0b\uff0c\u4f60\u5fc5\u987b\u6e05\u695a\u54ea\u4e9b.c\u6587\u4ef6\u5305\u542b\u4e86\u54ea\u4e9b\u5934\u6587\u4ef6\u3002\u5e76\u4e14\uff0c\u5728\u52a0\u5165\u6216\u5220\u9664\u5934\u6587\u4ef6\u65f6\uff0c\u4e5f\u9700\u8981\u5c0f\u5fc3\u5730\u4fee\u6539Makefile\uff0c\u8fd9\u662f\u4e00\u4e2a\u5f88\u6ca1\u6709\u7ef4\u62a4\u6027\u7684\u5de5\u4f5c\u3002\u4e3a\u4e86\u907f\u514d\u8fd9\u79cd\u7e41\u91cd\u800c\u53c8\u5bb9\u6613\u51fa\u9519\u7684\u4e8b\u60c5\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528C/C++\u7f16\u8bd1\u7684\u4e00\u4e2a\u529f\u80fd\u3002\u5927\u591a\u6570\u7684C/C++\u7f16\u8bd1\u5668\u90fd\u652f\u6301\u4e00\u4e2a\u201c-M\u201d\u7684\u9009\u9879\uff0c\u5373\u81ea\u52a8\u627e\u5bfb\u6e90\u6587\u4ef6\u4e2d\u5305\u542b\u7684\u5934\u6587\u4ef6\uff0c\u5e76\u751f\u6210\u4e00\u4e2a\u4f9d\u8d56\u5173\u7cfb\u3002\u4f8b\u5982\uff0c\u5982\u679c\u6211\u4eec\u6267\u884c\u4e0b\u9762\u7684\u547d\u4ee4\uff1a</p> <p><code>cc -M main.c</code></p> <p>\u5176\u8f93\u51fa\u662f\uff1a</p> <p><code>main.o : main.c defs.h</code></p> <p>\u8fd9\u662f\u7531\u7f16\u8bd1\u5668\u81ea\u52a8\u751f\u6210\u7684\u4f9d\u8d56\u5173\u7cfb\uff0c\u8fd9\u6837\u4e00\u6765\uff0c\u6211\u4eec\u5c31\u4e0d\u5fc5\u518d\u624b\u52a8\u4e66\u5199\u67d0\u4e9b\u6587\u4ef6\u7684\u4f9d\u8d56\u5173\u7cfb\uff0c\u800c\u662f\u7531\u7f16\u8bd1\u5668\u81ea\u52a8\u751f\u6210\u4e86\u3002\u9700\u8981\u63d0\u9192\u4e00\u53e5\u7684\u662f\uff0c\u5982\u679c\u4f60\u4f7f\u7528GNU\u7684C/C++\u7f16\u8bd1\u5668\uff0c\u4f60\u5f97\u7528\u201c-MM\u201d\u53c2\u6570\uff0c\u4e0d\u7136\uff0c\u201c-M\u201d\u53c2\u6570\u4f1a\u628a\u4e00\u4e9b\u6807\u51c6\u5e93\u7684\u5934\u6587\u4ef6\u4e5f\u5305\u542b\u8fdb\u6765\u3002</p> <p>\u4f8b\u5982<code>gcc -M main.c</code>\u7684\u8f93\u51fa\u662f\uff1a</p> <pre><code>main.o: main.c defs.h /usr/include/stdio.h /usr/include/features.h /\n        /usr/include/sys/cdefs.h /usr/include/gnu/stubs.h /\n        /usr/lib/gcc-lib/i486-suse-linux/2.95.3/include/stddef.h /\n        /usr/include/bits/types.h /usr/include/bits/pthreadtypes.h /\n        /usr/include/bits/sched.h /usr/include/libio.h /\n        /usr/include/_G_config.h /usr/include/wchar.h /\n        /usr/include/bits/wchar.h /usr/include/gconv.h /\n        /usr/lib/gcc-lib/i486-suse-linux/2.95.3/include/stdarg.h /\n        /usr/include/bits/stdio_lim.h\n</code></pre> <p>\u800c<code>gcc -MM main.c</code>\u7684\u8f93\u51fa\u5219\u662f\uff1a</p> <p><code>main.o: main.c defs.h</code></p> <p>\u90a3\u4e48\uff0c\u5982\u4f55\u628a\u7f16\u8bd1\u5668\u7684\u8fd9\u4e2a\u529f\u80fd\u4e0e\u6211\u4eec\u7684Makefile\u8054\u7cfb\u5728\u4e00\u8d77\u5462\uff1fGNU\u5efa\u8bae\u628a\u7f16\u8bd1\u5668\u4e3a\u6bcf\u4e00\u4e2a\u6e90\u6587\u4ef6\u7684\u81ea\u52a8\u751f\u6210\u7684\u4f9d\u8d56\u5173\u7cfb\u653e\u5230\u4e00\u4e2a\u6587\u4ef6\u4e2d\uff0c\u5373\u4e3a\u6bcf\u4e00\u4e2a\u201cname.c\u201d\u7684\u6587\u4ef6\u90fd\u751f\u6210\u4e00\u4e2a\u201cname.d\u201d\u7684Makefile\u6587\u4ef6\uff0c.d\u6587\u4ef6\u4e2d\u5c31\u5b58\u653e\u5bf9\u5e94.c\u6587\u4ef6\u7684\u4f9d\u8d56\u5173\u7cfb\u3002</p> <p>\u7136\u540e\u6211\u4eec\u53ef\u4ee5\u5199\u51fa.c\u6587\u4ef6\u548c.d\u6587\u4ef6\u7684\u4f9d\u8d56\u5173\u7cfb\uff0c\u8ba9make\u81ea\u52a8\u66f4\u65b0\u6216\u751f\u6210.d\u6587\u4ef6\uff0c\u5e76\u5c06\u5176\u5305\u542b\u5728\u6211\u4eec\u7684\u4e3bMakefile\u4e2d\u3002\u8fd9\u6837\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u81ea\u52a8\u5316\u5730\u751f\u6210\u6bcf\u4e2a\u6587\u4ef6\u7684\u4f9d\u8d56\u5173\u7cfb\u4e86\u3002</p> <p>\u8fd9\u91cc\uff0c\u6211\u4eec\u7ed9\u51fa\u4e86\u4e00\u4e2a\u6a21\u5f0f\u89c4\u5219\u6765\u4ea7\u751f.d\u6587\u4ef6\uff1a</p> <pre><code> %.d: %.c\n    @set -e; rm -f $@; \\\n     $(CC) -M $(CPPFLAGS) $&lt; &gt; $@.$$$$; \\\n     sed \u2019s,\\($*\\)\\.o[ :]*,\\1.o $@ : ,g\u2019 &lt; $@.$$$$ &gt; $@; \\\n     rm -f $@.$$$$\n</code></pre> <p>\u8fd9\u4e2a\u89c4\u5219\u7684\u610f\u601d\u662f\uff0c\u6240\u6709\u7684.d\u6587\u4ef6\u4f9d\u8d56\u4e8e.c\u6587\u4ef6\uff0c<code>rm -f $@</code>\u7684\u610f\u601d\u662f\u5220\u9664\u6240\u6709\u7684\u76ee\u6807\uff0c\u4e5f\u5c31\u662f.d\u6587\u4ef6\u3002\u7b2c\u4e8c\u884c\u7684\u610f\u601d\u662f\uff0c\u4e3a\u6bcf\u4e2a\u4f9d\u8d56\u6587\u4ef6\u201c<code>$&lt;</code>\u201d\uff08\u4e5f\u5c31\u662f.c\u6587\u4ef6\uff09\u751f\u6210\u76ee\u6807\u6587\u4ef6\u7684\u4f9d\u8d56\uff0c\u201c<code>$@</code>\u201d\u8868\u793a\u6a21\u5f0f\u201c%.d\u201d\u6587\u4ef6\uff0c\u5982\u679c\u6709\u4e00\u4e2a.c\u6587\u4ef6\u662fname.c\uff0c\u90a3\u4e48\u201c%\u201d\u5c31\u662f\u201cname\u201d\uff0c<code>\u201c$$$$\u201d</code>\u751f\u6210\u4e00\u4e2a\u968f\u673a\u7f16\u53f7\uff0c\u7b2c\u4e8c\u884c\u751f\u6210\u7684\u6587\u4ef6\u6709\u53ef\u80fd\u662f\u201cname.d.12345\u201d\u3002\u7b2c\u4e09\u884c\u4f7f\u7528sed\u547d\u4ee4\u505a\u4e86\u4e00\u4e2a\u66ff\u6362\uff0c\u5173\u4e8esed\u547d\u4ee4\u7684\u7528\u6cd5\u8bf7\u53c2\u770b\u76f8\u5173\u7684\u4f7f\u7528\u6587\u6863\u3002\u7b2c\u56db\u884c\u5c31\u662f\u5220\u9664\u4e34\u65f6\u6587\u4ef6\u3002</p> <p>\u8fd9\u91cc\u89e3\u91ca\u4e00\u4e0b<code>$</code>\u8fd9\u4e2a\u5b57\u7b26\u3002\u5728makefile\u4e2d\uff0c\u7528<code>$</code>\u6765\u5c55\u5f00\u53d8\u91cf\u6216\u8c03\u7528\u51fd\u6570\u7b49\u7b49\u3002makefile\u4e2d\u6709\u4e00\u4e2a\u5f00\u542f\u4e8c\u7ea7\u6269\u5c55\uff08Enable secondary expansion\uff09\u7684\u529f\u80fd\uff0c\u5f53\u4e8c\u7ea7\u6269\u5c55\u672a\u5f00\u542f\u65f6\uff0c\u8fde\u7eed\u7684\u4e24\u4e2a<code>$</code>\uff0c\u5373<code>$$</code>\uff0c\u7528\u6765\u8868\u793a<code>$</code>\u8fd9\u4e2a\u5b57\u7b26\uff0c\u7c7b\u4f3c\u4e8e\u5728\u524d\u9762\u52a0\u4e86\u4e00\u4e2a\u8f6c\u4e49\u5b57\u7b26\u3002\u5f53\u4e8c\u7ea7\u6269\u5c55\u5f00\u542f\u540e\uff0c<code>$$</code>\u8fd9\u79cd\u5199\u6cd5\u4e0d\u518d\u6709\u8f6c\u4e49\u5b57\u7b26\u7684\u542b\u4e49\uff0c\u5982\u679c\u8fd9\u65f6\u518d\u60f3\u4f7f\u7528<code>$</code>\u8fd9\u4e2a\u5b57\u7b26\uff0c\u9700\u8981\u5199\u56db\u4e2a<code>$</code>\uff0c\u5373<code>$$$$</code>\u3002</p> <p>\u4e0a\u9762\u8fd9\u4e2a\u4f8b\u5b50\u672a\u5f00\u542f\u4e8c\u7ea7\u6269\u5c55\uff0c\u56e0\u6b64<code>$$$$</code>\u5c31\u8868\u793a\u8fde\u7eed\u7684\u4e24\u4e2a<code>$</code>\u5b57\u7b26\uff0c\u5728Unix Shell\u4e2d\uff0c<code>$$</code>\u8868\u793a\u8981\u8f93\u51fa\u8fdb\u7a0bID\uff0c\u8fd9\u4e2a\u4f8b\u5b50\u628a\u8fdb\u7a0bID\u5f53\u4f5c\u968f\u673a\u6570\u4f7f\u7528</p> <p>\u4ee5\u4e0a\u5173\u4e8e<code>$</code>\u5b57\u7b26\u7684\u89e3\u91ca\u53c2\u8003Four Dollar signs in Makefile</p> <p>\u4e0a\u9762\u4f8b\u5b50\u4e2d\u7684sed\u547d\u4ee4\u628a\u4f9d\u8d56\u5173\u7cfb\uff1a</p> <p><code>main.o : main.c defs.h</code></p> <p>\u8f6c\u6362\u4e3a\u4e86\uff1a</p> <p><code>main.o main.d : main.c defs.h</code></p> <p>\u8fd9\u6837\u6211\u4eec\u7684.d\u6587\u4ef6\u4e5f\u4f1a\u81ea\u52a8\u751f\u6210\u548c\u81ea\u52a8\u66f4\u65b0\u4e86\u3002\u5f53\u7136\uff0c\u4f60\u5728\u8fd9\u4e2a.d\u6587\u4ef6\u4e2d\u53ef\u4ee5\u52a0\u5165\u7684\u4e0d\u53ea\u662f\u4f9d\u8d56\u5173\u7cfb\uff0c\u547d\u4ee4\u4e5f\u53ef\u4e00\u5e76\u52a0\u5165\uff0c\u8ba9\u6bcf\u4e2a.d\u6587\u4ef6\u90fd\u5305\u542b\u4e00\u4e2a\u5b8c\u8d56\u7684\u89c4\u5219\u3002\u4e00\u65e6\u6211\u4eec\u5b8c\u6210\u8fd9\u4e2a\u5de5\u4f5c\uff0c\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u5c31\u8981\u628a\u8fd9\u4e9b\u81ea\u52a8\u751f\u6210\u7684\u89c4\u5219\u653e\u8fdb\u6211\u4eec\u7684\u4e3bMakefile\u4e2d\u3002\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528Makefile\u7684\u201cinclude\u201d\u547d\u4ee4\uff0c\u6765\u5f15\u5165\u522b\u7684Makefile\u6587\u4ef6\uff0c\u4f8b\u5982\uff1a</p> <pre><code>sources = foo.c bar.c\ninclude $(sources:.c=.d)\n</code></pre> <p>\u4e0a\u8ff0\u8bed\u53e5\u4e2d\u7684<code>\u201c$(sources:.c=.d)\u201d</code>\u4e2d\u7684\u201c.c=.d\u201d\u7684\u610f\u601d\u662f\u505a\u4e00\u4e2a\u66ff\u6362\uff0c\u628a\u53d8\u91cf<code>$(sources)</code>\u4e2d\u6240\u6709.c\u5b57\u4e32\u90fd\u66ff\u6362\u6210.d\u3002\u5f53\u7136\uff0c\u4f60\u5f97\u6ce8\u610f\u6b21\u5e8f\uff0c\u56e0\u4e3ainclude\u662f\u6309\u6b21\u6765\u8f7d\u5165\u6587\u4ef6\uff0c\u6700\u5148\u8f7d\u5165\u7684.d\u6587\u4ef6\u4e2d\u7684\u76ee\u6807\u4f1a\u6210\u4e3a\u9ed8\u8ba4\u76ee\u6807\u3002</p>","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#_14","title":"\u4e66\u5199\u547d\u4ee4","text":"<p>\u89c4\u5219\u4e2d\u7684\u547d\u4ee4\u548cShell\u7684\u547d\u4ee4\u662f\u4e00\u81f4\u7684\u3002make\u4f1a\u6309\u987a\u5e8f\u4e00\u6761\u4e00\u6761\u7684\u6267\u884c\u547d\u4ee4\uff0c\u6bcf\u6761\u547d\u4ee4\u7684\u5f00\u5934\u5fc5\u987b\u4ee5Tab\u952e\u5f00\u5934\uff0c\u9664\u975e\u547d\u4ee4\u662f\u7d27\u8ddf\u5728\u4f9d\u8d56\u89c4\u5219\u540e\u9762\u7684\u5206\u53f7\u540e\u7684\u3002\u5728\u547d\u4ee4\u4e4b\u95f4\u4e2d\u7684\u7a7a\u683c\u6216\u662f\u7a7a\u884c\u4f1a\u88ab\u5ffd\u7565\uff0c\u4f46\u662f\u5982\u679c\u8be5\u7a7a\u683c\u6216\u7a7a\u884c\u662f\u4ee5Tab\u952e\u5f00\u5934\u7684\uff0c\u90a3\u4e48make\u4f1a\u8ba4\u4e3a\u5176\u662f\u4e00\u4e2a\u7a7a\u547d\u4ee4\u3002</p> <p>\u6211\u4eec\u5728UNIX\u4e0b\u53ef\u80fd\u4f1a\u4f7f\u7528\u4e0d\u540c\u7684Shell\uff0c\u4f46\u662fmake\u7684\u547d\u4ee4\u9ed8\u8ba4\u662f\u88ab\u201c/bin/sh\u201d\u2014\u2014UNIX\u7684\u6807\u51c6Shell\u89e3\u91ca\u6267\u884c\u7684\uff0c\u9664\u975e\u4f60\u6307\u5b9a\u4e00\u4e2a\u5176\u5b83Shell\u3002Makefile\u4e2d\u201c#\u201d\u662f\u6ce8\u91ca\u7b26\u3002</p>","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#_15","title":"\u4e00\u3001\u663e\u793a\u547d\u4ee4","text":"<p>\u901a\u5e38\uff0cmake\u4f1a\u628a\u8981\u6267\u884c\u7684\u547d\u4ee4\u8f93\u51fa\u5230\u5c4f\u5e55\u4e0a\u3002\u5f53\u6211\u4eec\u7528\u201c@\u201d\u5b57\u7b26\u5728\u547d\u4ee4\u884c\u524d\uff0c\u90a3\u4e48\uff0c\u8fd9\u4e2a\u547d\u4ee4\u5c06\u4e0d\u88abmake\u663e\u793a\u51fa\u6765\uff0c\u6700\u5177\u4ee3\u8868\u6027\u7684\u4f8b\u5b50\u662f\uff0c\u6211\u4eec\u7528\u8fd9\u4e2a\u529f\u80fd\u6765\u50cf\u5c4f\u5e55\u663e\u793a\u4e00\u4e9b\u4fe1\u606f\u3002\u5982\uff1a</p> <p><code>@echo \u6b63\u5728\u7f16\u8bd1XXX\u6a21\u5757......</code></p> <p>\u5f53make\u6267\u884c\u65f6\uff0c\u4f1a\u8f93\u51fa\u201c\u6b63\u5728\u7f16\u8bd1XXX\u6a21\u5757......\u201d\uff0c\u4f46\u4e0d\u4f1a\u8f93\u51fa\u547d\u4ee4\u672c\u8eab\uff0c\u5982\u679c\u6ca1\u6709\u201c@\u201d\uff0c\u90a3\u4e48\uff0cmake\u5c06\u8f93\u51fa\uff1a</p> <pre><code>echo \u6b63\u5728\u7f16\u8bd1XXX\u6a21\u5757......`\n\u6b63\u5728\u7f16\u8bd1XXX\u6a21\u5757......\n</code></pre> <p>\u5982\u679cmake\u6267\u884c\u65f6\uff0c\u5e26\u5165make\u53c2\u6570\u201c-n\u201d\u6216\u201c--just-print\u201d\uff0c\u90a3\u4e48make\u53ea\u662f\u663e\u793a\u547d\u4ee4\uff0c\u4f46\u4e0d\u4f1a\u6267\u884c\u547d\u4ee4\u3002\u8fd9\u4e2a\u529f\u80fd\u6709\u5229\u4e8e\u6211\u4eec\u8c03\u8bd5Makefile\uff0c\u770b\u770b\u6211\u4eec\u4e66\u5199\u7684\u547d\u4ee4\u662f\u4ee5\u4ec0\u4e48\u987a\u5e8f\u6267\u884c\u7684\u3002</p> <p>\u800cmake\u53c2\u6570\u201c-s\u201d\u6216\u201c--slient\u201d\u5219\u662f\u5168\u9762\u7981\u6b62\u547d\u4ee4\u7684\u663e\u793a\u3002</p>","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#_16","title":"\u4e8c\u3001\u547d\u4ee4\u6267\u884c","text":"<p>\u5f53\u4f9d\u8d56\u6bd4\u76ee\u6807\u66f4\u65b0\u65f6\uff0c\u4e5f\u5c31\u662f\u5f53\u89c4\u5219\u4e2d\u7684\u76ee\u6807\u9700\u8981\u88ab\u66f4\u65b0\u65f6\uff0cmake\u4f1a\u4e00\u6761\u4e00\u6761\u7684\u6267\u884c\u5176\u540e\u7684\u547d\u4ee4\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5982\u679c\u4f60\u8981\u8ba9\u4e0a\u4e00\u6761\u547d\u4ee4\u7684\u7ed3\u679c\u5e94\u7528\u5728\u4e0b\u4e00\u6761\u547d\u4ee4\u65f6\uff0c\u4f60\u5e94\u8be5\u4f7f\u7528\u5206\u53f7\u5206\u9694\u8fd9\u4e24\u6761\u547d\u4ee4\u3002\u6bd4\u5982\u4f60\u7684\u7b2c\u4e00\u6761\u547d\u4ee4\u662fcd\u547d\u4ee4\uff0c\u4f60\u5e0c\u671b\u7b2c\u4e8c\u6761\u547d\u4ee4\u5f97\u5728cd\u4e4b\u540e\u7684\u57fa\u7840\u4e0a\u8fd0\u884c\uff0c\u90a3\u4e48\u4f60\u5c31\u4e0d\u80fd\u628a\u8fd9\u4e24\u6761\u547d\u4ee4\u5199\u5728\u4e24\u884c\u4e0a\uff0c\u800c\u5e94\u8be5\u628a\u8fd9\u4e24\u6761\u547d\u4ee4\u5199\u5728\u4e00\u884c\u4e0a\uff0c\u7528\u5206\u53f7\u5206\u9694\u3002\u5982\uff1a</p> <p>\u793a\u4f8b\u4e00\uff1a</p> <pre><code>exec:\n        cd /home/hchen\n        pwd\n</code></pre> <p>\u793a\u4f8b\u4e8c\uff1a</p> <pre><code>exec:\n        cd /home/hchen; pwd\n</code></pre> <p>\u5f53\u6211\u4eec\u6267\u884c\u201cmake exec\u201d\u65f6\uff0c\u7b2c\u4e00\u4e2a\u4f8b\u5b50\u4e2d\u7684cd\u6ca1\u6709\u4f5c\u7528\uff0cpwd\u4f1a\u6253\u5370\u51fa\u5f53\u524d\u7684Makefile\u76ee\u5f55\uff0c\u800c\u7b2c\u4e8c\u4e2a\u4f8b\u5b50\u4e2d\uff0ccd\u5c31\u8d77\u4f5c\u7528\u4e86\uff0cpwd\u4f1a\u6253\u5370\u51fa\u201c/home/hchen\u201d\u3002</p> <p>make\u4e00\u822c\u662f\u4f7f\u7528\u73af\u5883\u53d8\u91cfSHELL\u4e2d\u6240\u5b9a\u4e49\u7684\u7cfb\u7edfShell\u6765\u6267\u884c\u547d\u4ee4\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u4f7f\u7528UNIX\u7684\u6807\u51c6Shell\u2014\u2014/bin/sh\u6765\u6267\u884c\u547d\u4ee4\u3002\u4f46\u5728MS-DOS\u4e0b\u6709\u70b9\u7279\u6b8a\uff0c\u56e0\u4e3aMS-DOS\u4e0b\u6ca1\u6709SHELL\u73af\u5883\u53d8\u91cf\uff0c\u5f53\u7136\u4f60\u4e5f\u53ef\u4ee5\u6307\u5b9a\u3002\u5982\u679c\u4f60\u6307\u5b9a\u4e86UNIX\u98ce\u683c\u7684\u76ee\u5f55\u5f62\u5f0f\uff0c\u9996\u5148\uff0cmake\u4f1a\u5728SHELL\u6240\u6307\u5b9a\u7684\u8def\u5f84\u4e2d\u627e\u5bfb\u547d\u4ee4\u89e3\u91ca\u5668\uff0c\u5982\u679c\u627e\u4e0d\u5230\uff0c\u5176\u4f1a\u5728\u5f53\u524d\u76d8\u7b26\u4e2d\u7684\u5f53\u524d\u76ee\u5f55\u4e2d\u5bfb\u627e\uff0c\u5982\u679c\u518d\u627e\u4e0d\u5230\uff0c\u5176\u4f1a\u5728PATH\u73af\u5883\u53d8\u91cf\u4e2d\u6240\u5b9a\u4e49\u7684\u6240\u6709\u8def\u5f84\u4e2d\u5bfb\u627e\u3002MS-DOS\u4e2d\uff0c\u5982\u679c\u4f60\u5b9a\u4e49\u7684\u547d\u4ee4\u89e3\u91ca\u5668\u6ca1\u6709\u627e\u5230\uff0c\u4f1a\u7ed9\u4f60\u7684\u547d\u4ee4\u89e3\u91ca\u5668\u52a0\u4e0a\u8bf8\u5982\u201c.exe\u201d\u3001\u201c.com\u201d\u3001\u201c.bat\u201d\u3001\u201c.sh\u201d\u7b49\u540e\u7f00\u3002</p>","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#_17","title":"\u4e09\u3001\u547d\u4ee4\u51fa\u9519","text":"<p>\u6bcf\u5f53\u547d\u4ee4\u8fd0\u884c\u5b8c\u540e\uff0cmake\u4f1a\u68c0\u6d4b\u6bcf\u4e2a\u547d\u4ee4\u7684\u8fd4\u56de\u7801\u3002\u5982\u679c\u547d\u4ee4\u8fd4\u56de\u6210\u529f\uff0c\u90a3\u4e48make\u4f1a\u6267\u884c\u4e0b\u4e00\u6761\u547d\u4ee4\uff0c\u5f53\u89c4\u5219\u4e2d\u6240\u6709\u7684\u547d\u4ee4\u6210\u529f\u8fd4\u56de\u540e\uff0c\u8fd9\u4e2a\u89c4\u5219\u5c31\u7b97\u662f\u6210\u529f\u5b8c\u6210\u4e86\u3002\u5982\u679c\u89c4\u5219\u4e2d\u7684\u67d0\u4e2a\u547d\u4ee4\u51fa\u9519\u4e86\uff08\u547d\u4ee4\u9000\u51fa\u7801\u975e\u96f6\uff09\uff0c\u90a3\u4e48make\u5c31\u4f1a\u7ec8\u6b62\u6267\u884c\u5f53\u524d\u89c4\u5219\uff0c\u8fd9\u5c06\u6709\u53ef\u80fd\u7ec8\u6b62\u6240\u6709\u89c4\u5219\u7684\u6267\u884c\u3002</p> <p>\u6709\u4e9b\u65f6\u5019\uff0c\u547d\u4ee4\u7684\u51fa\u9519\u5e76\u4e0d\u8868\u793a\u5c31\u662f\u9519\u8bef\u7684\u3002\u4f8b\u5982mkdir\u547d\u4ee4\uff0c\u6211\u4eec\u4e00\u5b9a\u9700\u8981\u5efa\u7acb\u4e00\u4e2a\u76ee\u5f55\uff0c\u5982\u679c\u76ee\u5f55\u4e0d\u5b58\u5728\uff0c\u90a3\u4e48mkdir\u5c31\u6210\u529f\u6267\u884c\uff0c\u4e07\u4e8b\u5927\u5409\uff0c\u5982\u679c\u76ee\u5f55\u5b58\u5728\uff0c\u90a3\u4e48\u5c31\u51fa\u9519\u4e86\u3002\u6211\u4eec\u4e4b\u6240\u4ee5\u4f7f\u7528mkdir\u7684\u610f\u601d\u5c31\u662f\u4e00\u5b9a\u8981\u6709\u8fd9\u6837\u7684\u4e00\u4e2a\u76ee\u5f55\uff0c\u4e8e\u662f\u6211\u4eec\u5c31\u4e0d\u5e0c\u671bmkdir\u51fa\u9519\u800c\u7ec8\u6b62\u89c4\u5219\u7684\u8fd0\u884c\u3002</p> <p>\u4e3a\u4e86\u5ffd\u7565\u547d\u4ee4\u7684\u51fa\u9519\uff0c\u6211\u4eec\u53ef\u4ee5\u5728Makefile\u7684\u547d\u4ee4\u884c\u524d\u52a0\u4e00\u4e2a\u51cf\u53f7\u201c-\u201d\uff08\u5728Tab\u952e\u4e4b\u540e\uff09\uff0c\u6807\u8bb0\u4e3a\u4e0d\u7ba1\u547d\u4ee4\u51fa\u4e0d\u51fa\u9519\u90fd\u8ba4\u4e3a\u662f\u6210\u529f\u7684\u3002\u5982\uff1a</p> <pre><code>clean:\n        -rm -f *.o\n</code></pre> <p>\u8fd8\u6709\u4e00\u4e2a\u5168\u5c40\u7684\u529e\u6cd5\u662f\uff0c\u7ed9make\u52a0\u4e0a\u201c-i\u201d\u6216\u662f\u201c--ignore-errors\u201d\u53c2\u6570\uff0c\u90a3\u4e48\uff0cMakefile\u4e2d\u6240\u6709\u547d\u4ee4\u90fd\u4f1a\u5ffd\u7565\u9519\u8bef\u3002\u800c\u5982\u679c\u4e00\u4e2a\u89c4\u5219\u662f\u4ee5\u201c.IGNORE\u201d\u4f5c\u4e3a\u76ee\u6807\u7684\uff0c\u90a3\u4e48\u8fd9\u4e2a\u89c4\u5219\u4e2d\u7684\u6240\u6709\u547d\u4ee4\u5c06\u4f1a\u5ffd\u7565\u9519\u8bef\u3002\u8fd9\u4e9b\u662f\u4e0d\u540c\u7ea7\u522b\u7684\u9632\u6b62\u547d\u4ee4\u51fa\u9519\u7684\u65b9\u6cd5\uff0c\u4f60\u53ef\u4ee5\u6839\u636e\u4f60\u7684\u4e0d\u540c\u559c\u6b22\u8bbe\u7f6e\u3002</p> <p>\u8fd8\u8981\u63d0\u4e00\u4e0bmake\u7684\u53c2\u6570\u201c-k\u201d\u6216\u201c--keep-going\u201d\uff0c\u8fd9\u4e24\u4e2a\u53c2\u6570\u8868\u793a\uff0c\u5982\u679c\u89c4\u5219\u4e2d\u7684\u547d\u4ee4\u51fa\u9519\u4e86\uff0c\u90a3\u4e48\u5c31\u7ec8\u6b62\u8be5\u89c4\u5219\u7684\u6267\u884c\uff0c\u7ee7\u7eed\u6267\u884c\u5176\u5b83\u89c4\u5219\u3002</p>","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#make_2","title":"\u56db\u3001\u5d4c\u5957\u6267\u884cmake","text":"<p>\u5728\u4e00\u4e9b\u5927\u7684\u5de5\u7a0b\u4e2d\uff0c\u6211\u4eec\u4f1a\u628a\u6211\u4eec\u4e0d\u540c\u6a21\u5757\u6216\u662f\u4e0d\u540c\u529f\u80fd\u7684\u6e90\u6587\u4ef6\u653e\u5728\u4e0d\u540c\u7684\u76ee\u5f55\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u6bcf\u4e2a\u76ee\u5f55\u4e2d\u90fd\u4e66\u5199\u4e00\u4e2a\u8be5\u76ee\u5f55\u7684Makefile\uff0c\u8fd9\u6709\u5229\u4e8e\u8ba9\u6211\u4eec\u7684Makefile\u53d8\u5f97\u66f4\u52a0\u5730\u7b80\u6d01\uff0c\u800c\u4e0d\u81f3\u4e8e\u628a\u6240\u6709\u7684\u4e1c\u897f\u5168\u90e8\u5199\u5728\u4e00\u4e2aMakefile\u4e2d\uff0c\u8fd9\u6837\u4f1a\u5f88\u96be\u7ef4\u62a4\u6211\u4eec\u7684Makefile\uff0c\u8fd9\u4e2a\u6280\u672f\u5bf9\u4e8e\u6211\u4eec\u6a21\u5757\u7f16\u8bd1\u548c\u5206\u6bb5\u7f16\u8bd1\u6709\u7740\u975e\u5e38\u5927\u7684\u597d\u5904\u3002</p> <p>\u4f8b\u5982\uff0c\u6211\u4eec\u6709\u4e00\u4e2a\u5b50\u76ee\u5f55\u53ebsubdir\uff0c\u8fd9\u4e2a\u76ee\u5f55\u4e0b\u6709\u4e2aMakefile\u6587\u4ef6\uff0c\u6765\u6307\u660e\u4e86\u8fd9\u4e2a\u76ee\u5f55\u4e0b\u6587\u4ef6\u7684\u7f16\u8bd1\u89c4\u5219\u3002\u90a3\u4e48\u6211\u4eec\u603b\u63a7\u7684Makefile\u53ef\u4ee5\u8fd9\u6837\u4e66\u5199\uff1a</p> <pre><code>subsystem:\n        cd subdir &amp;&amp; $(MAKE)\n</code></pre> <p>\u5176\u7b49\u4ef7\u4e8e\uff1a</p> <pre><code>subsystem:\n        $(MAKE) -C subdir\n</code></pre> <p>\u5b9a\u4e49<code>$(MAKE)</code>\u5b8f\u53d8\u91cf\u7684\u610f\u601d\u662f\uff0c\u4e5f\u8bb8\u6211\u4eec\u7684make\u9700\u8981\u4e00\u4e9b\u53c2\u6570\uff0c\u6240\u4ee5\u5b9a\u4e49\u6210\u4e00\u4e2a\u53d8\u91cf\u6bd4\u8f83\u5229\u4e8e\u7ef4\u62a4\u3002\u8fd9\u4e24\u4e2a\u4f8b\u5b50\u7684\u610f\u601d\u90fd\u662f\u5148\u8fdb\u5165\u201csubdir\u201d\u76ee\u5f55\uff0c\u7136\u540e\u6267\u884cmake\u547d\u4ee4\u3002</p> <p>\u6211\u4eec\u628a\u8fd9\u4e2aMakefile\u53eb\u505a\u201c\u603b\u63a7Makefile\u201d\uff0c\u603b\u63a7Makefile\u7684\u53d8\u91cf\u53ef\u4ee5\u4f20\u9012\u5230\u4e0b\u7ea7\u7684Makefile\u4e2d\uff08\u901a\u8fc7\u663e\u793a\u7684\u58f0\u660e\uff09\uff0c\u4f46\u662f\u4e0d\u4f1a\u8986\u76d6\u4e0b\u5c42\u7684Makefile\u4e2d\u6240\u5b9a\u4e49\u7684\u53d8\u91cf\uff0c\u9664\u975e\u6307\u5b9a\u4e86\u201c-e\u201d\u53c2\u6570\u3002</p> <p>\u5982\u679c\u4f60\u8981\u4f20\u9012\u53d8\u91cf\u5230\u4e0b\u7ea7Makefile\u4e2d\uff0c\u90a3\u4e48\u4f60\u53ef\u4ee5\u4f7f\u7528\u8fd9\u6837\u7684\u58f0\u660e\uff1a</p> <p><code>export {variable ...}</code></p> <p>\u5982\u679c\u4f60\u4e0d\u60f3\u8ba9\u67d0\u4e9b\u53d8\u91cf\u4f20\u9012\u5230\u4e0b\u7ea7Makefile\u4e2d\uff0c\u90a3\u4e48\u4f60\u53ef\u4ee5\u8fd9\u6837\u58f0\u660e\uff1a</p> <p><code>unexport {variable ...}</code></p> <p>\u5982\uff1a \u793a\u4f8b\u4e00\uff1a</p> <pre><code>export variable = value\n\n\u7b49\u4ef7\u4e8e\uff1a\nvariable = value\nexport variable\n\n\u7b49\u4ef7\u4e8e\uff1a\nexport variable := value\n\n\u7b49\u4ef7\u4e8e\uff1a\nvariable := value\nexport variable\n</code></pre> <p>\u793a\u4f8b\u4e8c\uff1a</p> <pre><code>export variable += value\n\n\u7b49\u4ef7\u4e8e\uff1a\n\nvariable += value\nexport variable\n</code></pre> <p>\u5982\u679c\u4f60\u8981\u4f20\u9012\u6240\u6709\u7684\u53d8\u91cf\uff0c\u90a3\u4e48\u53ea\u8981\u4e00\u4e2aexport\u5c31\u884c\u4e86\uff0c\u540e\u9762\u4ec0\u4e48\u4e5f\u4e0d\u7528\u8ddf\u3002</p> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u6709\u4e24\u4e2a\u53d8\u91cf\uff0c\u4e00\u4e2a\u662fSHELL\uff0c\u4e00\u4e2a\u662fMAKEFLAGS\uff0c\u8fd9\u4e24\u4e2a\u53d8\u91cf\u4e0d\u7ba1\u4f60\u662f\u5426export\uff0c\u5176\u603b\u662f\u8981\u4f20\u9012\u5230\u4e0b\u5c42Makefile\u4e2d\uff0c\u7279\u522b\u662fMAKEFILES\u53d8\u91cf\uff0c\u5176\u4e2d\u5305\u542b\u4e86make\u7684\u53c2\u6570\u4fe1\u606f\uff0c\u5982\u679c\u6211\u4eec\u6267\u884c\u201c\u603b\u63a7Makefile\u201d\u65f6\u6709make\u53c2\u6570\u6216\u662f\u5728\u4e0a\u5c42Makefile\u4e2d\u5b9a\u4e49\u4e86\u8fd9\u4e2a\u53d8\u91cf\uff0c\u90a3\u4e48MAKEFILES\u53d8\u91cf\u5c06\u4f1a\u662f\u8fd9\u4e9b\u53c2\u6570\uff0c\u5e76\u4f1a\u4f20\u9012\u5230\u4e0b\u5c42Makefile\u4e2d\uff0c\u8fd9\u662f\u4e00\u4e2a\u7cfb\u7edf\u7ea7\u7684\u73af\u5883\u53d8\u91cf\u3002</p> <p>\u4f46\u662fmake\u547d\u4ee4\u4e2d\u7684\u6709\u51e0\u4e2a\u53c2\u6570\u5e76\u4e0d\u5f80\u4e0b\u4f20\u9012\uff0c\u5b83\u4eec\u662f\u201c-C\u201d,\u201c-f\u201d,\u201c-h\u201d\u201c-o\u201d\u548c\u201c-W\u201d\uff08\u6709\u5173Makefile\u53c2\u6570\u7684\u7ec6\u8282\u5c06\u5728\u540e\u9762\u8bf4\u660e\uff09\uff0c\u5982\u679c\u4f60\u4e0d\u60f3\u5f80\u4e0b\u5c42\u4f20\u9012\u53c2\u6570\uff0c\u90a3\u4e48\uff0c\u4f60\u53ef\u4ee5\u8fd9\u6837\u6765\uff1a</p> <pre><code>subsystem:\n        cd subdir &amp;&amp; $(MAKE) MAKEFLAGS=\n</code></pre> <p>\u5982\u679c\u4f60\u5b9a\u4e49\u4e86\u73af\u5883\u53d8\u91cfMAKEFLAGS\uff0c\u90a3\u4e48\u4f60\u5f97\u786e\u4fe1\u5176\u4e2d\u7684\u9009\u9879\u662f\u5927\u5bb6\u90fd\u4f1a\u7528\u5230\u7684\uff0c\u5982\u679c\u5176\u4e2d\u6709\u201c-t\u201d,\u201c-n\u201d,\u548c\u201c-q\u201d\u53c2\u6570\uff0c\u90a3\u4e48make\u65f6\u53ef\u80fd\u4f1a\u5f97\u5230\u8ba9\u4eba\u610f\u60f3\u4e0d\u5230\u7684\u7ed3\u679c\u3002</p> <p>\u8fd8\u6709\u4e00\u4e2a\u5728\u201c\u5d4c\u5957\u6267\u884c\u201d\u4e2d\u6bd4\u8f83\u6709\u7528\u7684\u53c2\u6570\uff0c\u201c-w\u201d\u6216\u662f\u201c--print-directory\u201d\u4f1a\u5728make\u7684\u8fc7\u7a0b\u4e2d\u8f93\u51fa\u4e00\u4e9b\u4fe1\u606f\uff0c\u8ba9\u4f60\u770b\u5230\u76ee\u524d\u7684\u5de5\u4f5c\u76ee\u5f55\u3002\u6bd4\u5982\uff0c\u5982\u679c\u6211\u4eec\u7684\u4e0b\u7ea7make\u76ee\u5f55\u662f\u201c/home/hchen/gnu/make\u201d\uff0c\u5982\u679c\u6211\u4eec\u4f7f\u7528\u201cmake -w\u201d\u6765\u6267\u884c\uff0c\u90a3\u4e48\u5f53\u8fdb\u5165\u8be5\u76ee\u5f55\u65f6\uff0c\u6211\u4eec\u4f1a\u770b\u5230\uff1a</p> <p>make: Entering directory `/home/hchen/gnu/make'</p> <p>\u800c\u5728\u5b8c\u6210\u4e0b\u5c42make\u540e\u79bb\u5f00\u76ee\u5f55\u65f6\uff0c\u6211\u4eec\u4f1a\u770b\u5230\uff1a</p> <p>make: Leaving directory `/home/hchen/gnu/make'</p> <p>\u5f53\u4f60\u4f7f\u7528\u201c-C\u201d\u53c2\u6570\u6765\u6307\u5b9amake\u4e0b\u5c42Makefile\u65f6\uff0c\u201c-w\u201d\u4f1a\u88ab\u81ea\u52a8\u6253\u5f00\u7684\u3002\u5982\u679c\u53c2\u6570\u4e2d\u6709\u201c-s\u201d\uff08\u201c--slient\u201d\uff09\u6216\u662f\u201c--no-print-directory\u201d\uff0c\u90a3\u4e48\uff0c\u201c-w\u201d\u603b\u662f\u5931\u6548\u7684\u3002</p>","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#_18","title":"\u4e94\u3001\u5b9a\u4e49\u547d\u4ee4\u5305","text":"<p>\u5982\u679cMakefile\u4e2d\u51fa\u73b0\u4e00\u4e9b\u76f8\u540c\u547d\u4ee4\u5e8f\u5217\uff0c\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u4e3a\u8fd9\u4e9b\u76f8\u540c\u7684\u547d\u4ee4\u5e8f\u5217\u5b9a\u4e49\u4e00\u4e2a\u53d8\u91cf\u3002\u5b9a\u4e49\u8fd9\u79cd\u547d\u4ee4\u5e8f\u5217\u7684\u8bed\u6cd5\u4ee5\u201cdefine\u201d\u5f00\u59cb\uff0c\u4ee5\u201cendef\u201d\u7ed3\u675f\uff0c\u5982\uff1a</p> <pre><code>define run-yacc\nyacc $(firstword $^)\nmv y.tab.c $@\nendef\n</code></pre> <p>\u201crun-yacc\u201d\u662f\u8fd9\u4e2a\u547d\u4ee4\u5305\u7684\u540d\u5b57\u3002\u547d\u4ee4\u5305\u7684\u540d\u5b57\u4e0d\u80fd\u548cMakefile\u4e2d\u7684\u53d8\u91cf\u91cd\u540d\u3002\u5728\u201cdefine\u201d\u548c\u201cendef\u201d\u4e4b\u95f4\u7684\u4e24\u884c\u5c31\u662f\u547d\u4ee4\u5e8f\u5217\u3002\u8fd9\u4e2a\u547d\u4ee4\u5305\u4e2d\u7684\u7b2c\u4e00\u4e2a\u547d\u4ee4\u662f\u8fd0\u884cyacc\u7a0b\u5e8f\uff0c\u56e0\u4e3ayacc\u7a0b\u5e8f\u603b\u662f\u751f\u6210\u201cy.tab.c\u201d\u7684\u6587\u4ef6\uff0c\u6240\u4ee5\u7b2c\u4e8c\u884c\u7684\u547d\u4ee4\u5c31\u662f\u628a\u8fd9\u4e2a\u6587\u4ef6\u6539\u6539\u540d\u5b57\u3002\u4e0b\u9762\u662f\u4e00\u4e2a\u547d\u4ee4\u5305\u7684\u4f7f\u7528\u793a\u4f8b\uff1a</p> <pre><code>foo.c : foo.y\n        $(run-yacc)\n</code></pre> <p>\u53ef\u4ee5\u770b\u5230\uff0c\u4f7f\u7528\u547d\u4ee4\u5305\u5c31\u597d\u50cf\u4f7f\u7528\u53d8\u91cf\u4e00\u6837\u3002\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u547d\u4ee4\u5305\u201crun-yacc\u201d\u4e2d\u7684\u201c<code>$^</code>\u201d\u5c31\u662f\u201cfoo.y\u201d\uff0c\u201c<code>$@</code>\u201d\u5c31\u662f\u201cfoo.c\u201d\uff08\u6709\u5173\u8fd9\u79cd\u4ee5\u201c<code>$</code>\u201d\u5f00\u5934\u7684\u7279\u6b8a\u53d8\u91cf\uff0c\u6211\u4eec\u4f1a\u5728\u540e\u9762\u4ecb\u7ecd\uff09\uff0cmake\u5728\u6267\u884c\u547d\u4ee4\u5305\u65f6\uff0c\u547d\u4ee4\u5305\u4e2d\u7684\u6bcf\u4e2a\u547d\u4ee4\u4f1a\u88ab\u4f9d\u6b21\u72ec\u7acb\u6267\u884c\u3002</p>","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#_19","title":"\u4f7f\u7528\u53d8\u91cf","text":"<p>\u5728Makefile\u4e2d\u7684\u5b9a\u4e49\u7684\u53d8\u91cf\uff0c\u5c31\u50cfC/C++\u4e2d\u7684\u5b8f\u4e00\u6837\uff0c\u4ee3\u8868\u4e86\u4e00\u4e2a\u6587\u672c\u5b57\u4e32\u3002\u5728Makefile\u4e2d\u6267\u884c\u7684\u65f6\u5019\u5176\u4f1a\u5c55\u5f00\u5728\u6240\u4f7f\u7528\u7684\u5730\u65b9\u3002\u4e0eC/C++\u6240\u4e0d\u540c\u7684\u662f\uff0c\u4f60\u53ef\u4ee5\u5728Makefile\u4e2d\u6539\u53d8\u5176\u503c\u3002\u5728Makefile\u4e2d\uff0c\u53d8\u91cf\u53ef\u4ee5\u4f7f\u7528\u5728\u201c\u76ee\u6807\u201d\uff0c\u201c\u4f9d\u8d56\u201d\uff0c\u201c\u547d\u4ee4\u201d\u6216\u662fMakefile\u7684\u5176\u5b83\u90e8\u5206\u4e2d\u3002</p> <p>\u53d8\u91cf\u7684\u547d\u540d\u5b57\u53ef\u4ee5\u5305\u542b\u5b57\u7b26\u3001\u6570\u5b57\uff0c\u4e0b\u5212\u7ebf\uff08\u53ef\u4ee5\u662f\u6570\u5b57\u5f00\u5934\uff09\uff0c\u4f46\u4e0d\u5e94\u8be5\u542b\u6709\u201c:\u201d\u3001\u201c#\u201d\u3001\u201c=\u201d\u6216\u662f\u7a7a\u5b57\u7b26\uff08\u7a7a\u683c\u3001\u56de\u8f66\u7b49\uff09\u3002\u53d8\u91cf\u662f\u5927\u5c0f\u5199\u654f\u611f\u7684\uff0c\u201cfoo\u201d\u3001\u201cFoo\u201d\u548c\u201cFOO\u201d\u662f\u4e09\u4e2a\u4e0d\u540c\u7684\u53d8\u91cf\u540d\u3002\u63a8\u8350\u4f7f\u7528\u5927\u5c0f\u5199\u642d\u914d\u7684\u53d8\u91cf\u540d\uff0c\u8fd9\u6837\u53ef\u4ee5\u907f\u514d\u548c\u7cfb\u7edf\u7684\u53d8\u91cf\u51b2\u7a81\u3002</p> <p>\u6709\u4e00\u4e9b\u53d8\u91cf\u662f\u5f88\u5947\u602a\u5b57\u4e32\uff0c\u5982\u201c<code>$&lt;</code>\u201d\u3001\u201c<code>$@</code>\u201d\u7b49\uff0c\u8fd9\u4e9b\u662f\u81ea\u52a8\u5316\u53d8\u91cf\uff0c\u4f1a\u5728\u540e\u9762\u4ecb\u7ecd\u3002</p> <p>\u6709\u4e09\u79cd\u53d8\u91cf\uff1a\u73af\u5883\u53d8\u91cf\u3001\u5728make\u7684\u53c2\u6570\u4e2d\u5b9a\u4e49\u7684\u53d8\u91cf\u3001\u5728makefile\u4e2d\u5b9a\u4e49\u7684\u53d8\u91cf\u3002</p> <p>\u540c\u540d\u53d8\u91cf\u4f18\u5148\u7ea7\uff1amake\u53c2\u6570\u53d8\u91cf &gt; makefile\u4e2d\u7684\u53d8\u91cf &gt; \u73af\u5883\u53d8\u91cf\u3002</p> <p>\u5d4c\u5957makefile\u65f6\u7684\u53d8\u91cf\u4f20\u9012\uff1a\u9ed8\u8ba4\u4f20\u9012make\u53c2\u6570\u53d8\u91cf\uff0c\u7528export\u5173\u952e\u5b57\u4f20\u9012makefile\u4e2d\u7684\u53d8\u91cf\u3002\u8fd9\u4e9b\u4f20\u9012\u7684\u53d8\u91cf\u4f1a\u88ab\u4e0b\u4e00\u7ea7makefile\u770b\u4f5c\u73af\u5883\u53d8\u91cf\u3002</p>","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#_20","title":"\u4e00\u3001\u53d8\u91cf\u7684\u57fa\u7840","text":"<p>\u53d8\u91cf\u5728\u58f0\u660e\u65f6\u9700\u8981\u7ed9\u4e88\u521d\u503c\uff0c\u800c\u5728\u4f7f\u7528\u65f6\uff0c\u9700\u8981\u7ed9\u5728\u53d8\u91cf\u540d\u524d\u52a0\u4e0a\u201c<code>$</code>\u201d\u7b26\u53f7\uff0c\u4f46\u6700\u597d\u7528\u5c0f\u62ec\u53f7\u201c\uff08\uff09\u201d\u6216\u662f\u5927\u62ec\u53f7\u201c{}\u201d\u628a\u53d8\u91cf\u7ed9\u5305\u62ec\u8d77\u6765\u3002\u5982\u679c\u4f60\u8981\u4f7f\u7528\u771f\u5b9e\u7684\u201c<code>$</code>\u201d\u5b57\u7b26\uff0c\u90a3\u4e48\u4f60\u9700\u8981\u7528\u201c<code>$$</code>\u201d\u6765\u8868\u793a\u3002</p> <p>\u53d8\u91cf\u53ef\u4ee5\u4f7f\u7528\u5728\u8bb8\u591a\u5730\u65b9\uff0c\u5982\u89c4\u5219\u4e2d\u7684\u201c\u76ee\u6807\u201d\u3001\u201c\u4f9d\u8d56\u201d\u3001\u201c\u547d\u4ee4\u201d\u4ee5\u53ca\u65b0\u7684\u53d8\u91cf\u4e2d\u3002\u5148\u770b\u4e00\u4e2a\u4f8b\u5b50\uff1a</p> <pre><code>objects = program.o foo.o utils.o\nprogram : $(objects)\n        cc -o program $(objects)\n\n$(objects) : defs.h\n</code></pre> <p>\u53e6\u5916\uff0c\u7ed9\u53d8\u91cf\u52a0\u4e0a\u62ec\u53f7\u5b8c\u5168\u662f\u4e3a\u4e86\u66f4\u52a0\u5b89\u5168\u5730\u4f7f\u7528\u8fd9\u4e2a\u53d8\u91cf\uff0c\u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u5982\u679c\u4f60\u4e0d\u60f3\u7ed9\u53d8\u91cf\u52a0\u4e0a\u62ec\u53f7\uff0c\u90a3\u4e5f\u53ef\u4ee5\uff0c\u4f46\u6211\u8fd8\u662f\u5f3a\u70c8\u5efa\u8bae\u4f60\u7ed9\u53d8\u91cf\u52a0\u4e0a\u62ec\u53f7\u3002</p>","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#_21","title":"\u4e8c\u3001\u53d8\u91cf\u4e2d\u7684\u53d8\u91cf","text":"<p>\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u5176\u5b83\u53d8\u91cf\u6765\u5b9a\u4e49\u53d8\u91cf\u7684\u503c\uff0c\u5728Makefile\u4e2d\u6709\u4e24\u79cd\u65b9\u5f0f\u6765\u5728\u7528\u53d8\u91cf\u5b9a\u4e49\u53d8\u91cf\u7684\u503c\u3002</p> <p>\u7b2c\u4e00\u79cd\u65b9\u5f0f\u662f\u4f7f\u7528\u201c=\u201d\u53f7\uff0c\u5728\u201c=\u201d\u5de6\u4fa7\u662f\u53d8\u91cf\uff0c\u53f3\u4fa7\u662f\u53d8\u91cf\u7684\u503c\u3002\u53f3\u4fa7\u53d8\u91cf\u7684\u503c\u53ef\u4ee5\u5b9a\u4e49\u5728\u6587\u4ef6\u7684\u4efb\u4f55\u4e00\u5904\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u53f3\u4fa7\u4e2d\u7684\u53d8\u91cf\u4e0d\u4e00\u5b9a\u975e\u8981\u662f\u5df2\u5b9a\u4e49\u597d\u7684\u503c\uff0c\u5176\u4e5f\u53ef\u4ee5\u4f7f\u7528\u540e\u9762\u5b9a\u4e49\u7684\u503c\u3002\u5982\uff1a</p> <pre><code>foo = $(bar)\nbar = $(ugh)\nugh = Huh?\n\nall:\n        echo $(foo)\n</code></pre> <p>\u6211\u4eec\u6267\u884c\u201cmake all\u201d\u5c06\u4f1a\u6253\u51fa\u53d8\u91cf<code>$(foo)</code>\u7684\u503c\u662f\u201cHuh?\u201d\uff08 <code>$(foo)</code>\u7684\u503c\u662f<code>$(bar)</code>\uff0c<code>$(bar)</code>\u7684\u503c\u662f<code>$(ugh)</code>\uff0c<code>$(ugh)</code>\u7684\u503c\u662f\u201cHuh?\u201d\uff09\u53ef\u89c1\uff0c\u7528\u201c=\u201d\u5b9a\u4e49\u7684\u53d8\u91cf\u662f\u53ef\u4ee5\u4f7f\u7528\u540e\u9762\u5b9a\u4e49\u7684\u53d8\u91cf\u6765\u5b9a\u4e49\u7684\u3002</p> <p>\u8fd9\u79cd\u5f62\u5f0f\u6709\u4e0d\u597d\u7684\u5730\u65b9\uff0c\u90a3\u5c31\u662f\u9012\u5f52\u5b9a\u4e49\uff0c\u4f8b\u5982\uff1a</p> <pre><code>CFLAGS = $(CFLAGS) -O\n\n\u6216\uff1a\n\nA = $(B)\nB = $(A)\n</code></pre> <p>\u8fd9\u4f1a\u8ba9make\u9677\u5165\u65e0\u9650\u7684\u53d8\u91cf\u5c55\u5f00\u8fc7\u7a0b\u4e2d\u53bb\u3002\u5f53\u7136\uff0c\u6211\u4eec\u7684make\u662f\u6709\u80fd\u529b\u68c0\u6d4b\u8fd9\u6837\u7684\u5b9a\u4e49\uff0c\u5e76\u4f1a\u62a5\u9519\u3002\u8fd8\u6709\u5c31\u662f\u5982\u679c\u5728\u53d8\u91cf\u4e2d\u4f7f\u7528\u51fd\u6570\uff0c\u90a3\u4e48\uff0c\u8fd9\u79cd\u65b9\u5f0f\u4f1a\u8ba9\u6211\u4eec\u7684make\u8fd0\u884c\u65f6\u975e\u5e38\u6162\uff0c\u66f4\u7cdf\u7cd5\u7684\u662f\uff0c\u4ed6\u4f1a\u4f7f\u7528\u5f97\u4e24\u4e2amake\u7684\u51fd\u6570\u201cwildcard\u201d\u548c\u201cshell\u201d\u53d1\u751f\u4e0d\u53ef\u9884\u77e5\u7684\u9519\u8bef\u3002\u56e0\u4e3a\u4f60\u4e0d\u4f1a\u77e5\u9053\u8fd9\u4e24\u4e2a\u51fd\u6570\u4f1a\u88ab\u8c03\u7528\u591a\u5c11\u6b21\u3002</p> <p>\u4e3a\u4e86\u907f\u514d\u4e0a\u8ff0\u95ee\u9898\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528make\u4e2d\u53e6\u4e00\u79cd\u65b9\u6cd5\u5b9a\u4e49\u53d8\u91cf\u3002\u8fd9\u79cd\u65b9\u6cd5\u4f7f\u7528\u7684\u662f\u201c:=\u201d\u64cd\u4f5c\u7b26\uff0c\u5982\uff1a</p> <pre><code>x := foo\ny := $(x) bar\nx := later\n\n\u5176\u7b49\u4ef7\u4e8e\uff1a\n\ny := foo bar\nx := later\n</code></pre> <p>\u503c\u5f97\u4e00\u63d0\u7684\u662f\uff0c\u8fd9\u79cd\u65b9\u6cd5\uff0c\u524d\u9762\u7684\u53d8\u91cf\u4e0d\u80fd\u4f7f\u7528\u540e\u9762\u7684\u53d8\u91cf\uff0c\u53ea\u80fd\u4f7f\u7528\u524d\u9762\u5df2\u5b9a\u4e49\u597d\u4e86\u7684\u53d8\u91cf\u3002\u5982\u679c\u662f\u8fd9\u6837\uff1a</p> <pre><code>y := $(x) bar\nx := foo\n</code></pre> <p>\u90a3\u4e48\uff0cy\u7684\u503c\u662f\u201cbar\u201d\uff0c\u800c\u4e0d\u662f\u201cfoo bar\u201d\u3002</p> <p>\u4e0a\u9762\u90fd\u662f\u4e00\u4e9b\u7b80\u5355\u7684\u53d8\u91cf\u4f7f\u7528\uff0c\u8ba9\u6211\u4eec\u6765\u770b\u4e00\u4e2a\u590d\u6742\u7684\u4f8b\u5b50\u3002\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\u5305\u62ec\u4e86make\u7684\u51fd\u6570\u3001\u6761\u4ef6\u8868\u8fbe\u5f0f\u548c\u4e00\u4e2a\u7cfb\u7edf\u53d8\u91cf\u201cMAKELEVEL\u201d\u7684\u4f7f\u7528\uff1a</p> <pre><code>ifeq (0,${MAKELEVEL})\ncur-dir   := $(shell pwd)\nwhoami    := $(shell whoami)\nhost-type := $(shell arch)\nMAKE := ${MAKE} host-type=${host-type} whoami=${whoami}\nendif\n</code></pre> <p>\u5173\u4e8e\u6761\u4ef6\u8868\u8fbe\u5f0f\u548c\u51fd\u6570\uff0c\u6211\u4eec\u5728\u540e\u9762\u518d\u8bf4\u3002\u5bf9\u4e8e\u7cfb\u7edf\u53d8\u91cf\u201cMAKELEVEL\u201d\uff0c\u5176\u610f\u601d\u662f\uff0c\u5982\u679c\u6211\u4eec\u7684make\u6709\u4e00\u4e2a\u5d4c\u5957\u6267\u884c\u7684\u52a8\u4f5c\uff08\u53c2\u89c1\u524d\u9762\u7684\u201c\u5d4c\u5957\u4f7f\u7528make\u201d\uff09\uff0c\u90a3\u4e48\uff0c\u8fd9\u4e2a\u53d8\u91cf\u4f1a\u8bb0\u5f55\u4e86\u6211\u4eec\u7684\u5f53\u524dMakefile\u7684\u8c03\u7528\u5c42\u6570\u3002</p> <p>\u4e0b\u9762\u518d\u4ecb\u7ecd\u4e24\u4e2a\u5b9a\u4e49\u53d8\u91cf\u65f6\u6211\u4eec\u9700\u8981\u77e5\u9053\u7684\uff0c\u8bf7\u5148\u770b\u4e00\u4e2a\u4f8b\u5b50\uff0c\u5982\u679c\u6211\u4eec\u8981\u5b9a\u4e49\u4e00\u4e2a\u53d8\u91cf\uff0c\u5176\u503c\u662f\u4e00\u4e2a\u7a7a\u683c\uff0c\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u8fd9\u6837\u5b9a\u4e49\uff1a</p> <pre><code>nullstring :=\nspace := $(nullstring)  #end of the line\n\n\u6216\u8005\uff1a\nnullstring :=\nspace := $(nullstring) $(nullstring)\n</code></pre> <p>nullstring\u662f\u4e00\u4e2a\u7a7a\u53d8\u91cf\uff0c\u5176\u4e2d\u4ec0\u4e48\u4e5f\u6ca1\u6709\uff0c\u800c\u6211\u4eec\u7684space\u7684\u503c\u662f\u4e00\u4e2a\u7a7a\u683c\u3002\u5728\u64cd\u4f5c\u7b26\u7684\u53f3\u8fb9\u662f\u5f88\u96be\u63cf\u8ff0\u4e00\u4e2a\u7a7a\u683c\u7684\uff0c\u4f46\u8fd9\u91cc\u91c7\u7528\u7684\u6280\u672f\u5f88\u7ba1\u7528\u3002\u5148\u7528\u4e00\u4e2a\u7a7a\u53d8\u91cf\u6807\u660e\u53d8\u91cf\u7684\u503c\u5f00\u59cb\u4e86\uff0c\u540e\u9762\u91c7\u7528\u201c#\u201d\u6ce8\u91ca\u7b26\u6765\u8868\u793a\u53d8\u91cf\u5b9a\u4e49\u7684\u7ec8\u6b62\u3002\u8fd9\u6837\uff0c\u6211\u4eec\u53ef\u4ee5\u5b9a\u4e49\u51fa\u503c\u662f\u4e00\u4e2a\u7a7a\u683c\u7684\u53d8\u91cf\u3002\u8bf7\u6ce8\u610f\u8fd9\u91cc\u5173\u4e8e\u201c#\u201d\u7684\u4f7f\u7528\uff0c\u6ce8\u91ca\u7b26\u201c#\u201d\u7684\u8fd9\u79cd\u7279\u6027\u503c\u5f97\u6211\u4eec\u6ce8\u610f\uff0c\u5982\u679c\u6211\u4eec\u8fd9\u6837\u5b9a\u4e49\u4e00\u4e2a\u53d8\u91cf\uff1a</p> <p><code>dir :=/foo/bar    #directory to put the frobs in</code></p> <p>dir\u8fd9\u4e2a\u53d8\u91cf\u7684\u503c\u662f\u201c/foo/bar    \u201d\uff0c\u6ce8\u610f\u540e\u9762\u8fd8\u8ddf\u4e864\u4e2a\u7a7a\u683c\u3002\u5982\u679c\u6211\u4eec\u4f7f\u7528\u8fd9\u6837\u7684\u53d8\u91cf\u6765\u6307\u5b9a\u76ee\u5f55\u2014\u2014<code>\u201c$(dir)/file\u201d</code>\u90a3\u4e48\u5c31\u5b8c\u86cb\u4e86\u3002</p> <p>\u8fd8\u6709\u4e00\u4e2a\u6bd4\u8f83\u6709\u7528\u7684\u64cd\u4f5c\u7b26\u662f\u201c?=\u201d\u3002\u4f8b\u5982\uff1aFOO ?= bar\u3002\u5176\u542b\u4e49\u662f\uff0c\u5982\u679cFOO\u6ca1\u6709\u88ab\u5b9a\u4e49\u8fc7\uff0c\u90a3\u4e48\u53d8\u91cfFOO\u7684\u503c\u5c31\u662f\u201cbar\u201d\uff0c\u5982\u679cFOO\u5148\u524d\u88ab\u5b9a\u4e49\u8fc7\uff0c\u90a3\u4e48\u8fd9\u6761\u8bed\u5c06\u4ec0\u4e48\u4e5f\u4e0d\u505a\uff0c\u5176\u7b49\u4ef7\u4e8e\uff1a</p> <pre><code>ifeq ($(origin FOO), undefined)\n    FOO = bar\nendif\n</code></pre>","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#_22","title":"\u4e09\u3001\u53d8\u91cf\u9ad8\u7ea7\u7528\u6cd5","text":"<p>\u8fd9\u91cc\u4ecb\u7ecd\u4e24\u79cd\u53d8\u91cf\u7684\u9ad8\u7ea7\u4f7f\u7528\u65b9\u6cd5\u3002\u7b2c\u4e00\u79cd\u65b9\u6cd5\u662f\u53d8\u91cf\u503c\u7684\u66ff\u6362\uff0c\u683c\u5f0f\u662f<code>\u201c$(var:a=b)\u201d</code>\u6216\u662f<code>\u201c${var:a=b}\u201d</code>\uff0c\u610f\u601d\u662f\uff0c\u628a\u53d8\u91cf\u201cvar\u201d\u4e2d\u6240\u6709\u4ee5\u201ca\u201d\u7ed3\u5c3e\u7684\u5b57\u7b26\u4e32\u66ff\u6362\u6210\u201cb\u201d\u5b57\u7b26\u4e32\u3002\u8fd9\u91cc\u7684\u201c\u7ed3\u5c3e\u201d\u610f\u601d\u662f\u540e\u9762\u662f\u201c\u7a7a\u683c\u201d\u6216\u201c\u7ed3\u675f\u7b26\u201d\u3002</p> <p>\u770b\u4e00\u4e2a\u4f8b\u5b50\uff1a</p> <pre><code>foo := a.o b.o c.o\nbar := $(foo:.o=.c)\n</code></pre> <p>\u8fd9\u4e2a\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u5148\u5b9a\u4e49\u4e86\u4e00\u4e2a<code>\u201c$(foo)\u201d</code>\u53d8\u91cf\uff0c\u7b2c\u4e8c\u884c\u662f\u628a<code>\u201c$(foo)\u201d</code>\u4e2d\u7ed3\u5c3e\u7684\u201c.o\u201d\u5168\u90e8\u66ff\u6362\u6210\u201c.c\u201d\uff0c\u6240\u4ee5\u6211\u4eec\u7684<code>\u201c$(bar)\u201d</code>\u7684\u503c\u5c31\u662f\u201ca.c b.c c.c\u201d\u3002</p> <p>\u53e6\u5916\u4e00\u79cd\u53d8\u91cf\u66ff\u6362\u7684\u6280\u672f\u662f\u4ee5\u201c\u9759\u6001\u6a21\u5f0f\u201d\uff08\u53c2\u89c1\u524d\u9762\u7ae0\u8282\uff09\u5b9a\u4e49\u7684\uff0c\u5982\uff1a</p> <pre><code>foo := a.o b.o c.o\nbar := $(foo:%.o=%.c)\n</code></pre> <p>\u8fd9\u4f9d\u8d56\u4e8e\u88ab\u66ff\u6362\u5b57\u4e32\u4e2d\u7684\u6709\u76f8\u540c\u7684\u6a21\u5f0f\uff0c\u6a21\u5f0f\u4e2d\u5fc5\u987b\u5305\u542b\u4e00\u4e2a\u201c%\u201d\u5b57\u7b26\uff0c\u8fd9\u4e2a\u4f8b\u5b50\u540c\u6837\u8ba9<code>$(bar)</code>\u53d8\u91cf\u7684\u503c\u4e3a\u201ca.c b.c c.c\u201d\u3002</p> <p>\u7b2c\u4e8c\u79cd\u9ad8\u7ea7\u7528\u6cd5\u662f\u2014\u2014\u201c\u628a\u53d8\u91cf\u7684\u503c\u518d\u5f53\u6210\u53d8\u91cf\u201d\u3002\u4f8b\u5982\uff1a</p> <pre><code>x = y\ny = z\na := $($(x))\n</code></pre> <p>\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c<code>$(x)</code>\u7684\u503c\u662f\u201cy\u201d\uff0c\u6240\u4ee5<code>$($(x))</code>\u5c31\u662f<code>$(y)</code>\uff0c\u4e8e\u662f<code>$(a)</code>\u7684\u503c\u5c31\u662f\u201cz\u201d\u3002\uff08\u6ce8\u610f\uff0c\u662f\u201cx=y\u201d\uff0c\u800c\u4e0d\u662f<code>\u201cx=$(y)\u201d</code>\uff09</p> <p>\u8fd8\u53ef\u4ee5\u4f7f\u7528\u66f4\u591a\u7684\u5c42\u6b21\uff1a</p> <pre><code>x = y\ny = z\nz = u\na := $($($(x)))\n</code></pre> <p>\u518d\u590d\u6742\u4e00\u70b9\uff0c\u6211\u4eec\u5728\u53d8\u91cf\u5b9a\u4e49\u4e2d\u52a0\u4e0a\u51fd\u6570\uff1a</p> <pre><code>x = variable1\nvariable2 := Hello\ny = $(subst 1,2,$(x))\nz = y\na := $($($(z)))\n</code></pre> <p>\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c<code>$($($(z)))</code>\u6269\u5c55\u4e3a<code>$($(y))</code>\uff0c\u800c\u5176\u518d\u6b21\u88ab\u6269\u5c55\u4e3a<code>$($(subst 1,2,$(x)))</code>\u3002<code>$(x)</code>\u7684\u503c\u662f<code>variable1</code>\uff0c<code>subst</code>\u51fd\u6570\u628a<code>variable1</code>\u4e2d\u7684\u6240\u6709<code>1</code>\u5b57\u4e32\u66ff\u6362\u6210<code>2</code>\u5b57\u4e32\uff0c\u4e8e\u662f\uff0c<code>variable1</code>\u53d8\u6210<code>variable2</code>\uff0c\u518d\u53d6\u5176\u503c\uff0c\u6240\u4ee5\uff0c\u6700\u7ec8\uff0c<code>$(a)</code>\u7684\u503c\u5c31\u662f<code>$(variable2)</code>\u7684\u503c\u2014\u2014<code>Hello</code>\u3002\uff08\u5594\uff0c\u597d\u4e0d\u5bb9\u6613\uff09</p> <p>\u4e5f\u53ef\u4ee5\u4f7f\u7528\u591a\u4e2a\u53d8\u91cf\u6765\u7ec4\u6210\u4e00\u4e2a\u53d8\u91cf\u7684\u540d\u5b57\uff0c\u7136\u540e\u518d\u53d6\u5176\u503c\uff1a</p> <pre><code>first_second = Hello\na = first\nb = second\nall = $($a_$b)\n</code></pre> <p>\u8fd9\u91cc\u7684<code>\u201c$a_$b\u201d</code>\u7ec4\u6210\u4e86\u201cfirst_second\u201d\uff0c\u4e8e\u662f\uff0c<code>$(all)</code>\u7684\u503c\u5c31\u662f\u201cHello\u201d\u3002</p> <p>\u518d\u6765\u770b\u4e00\u4e2a\u53d8\u91cf\u3001\u51fd\u6570\u4e0e\u6761\u4ef6\u8bed\u53e5\u4e00\u540c\u4f7f\u7528\u7684\u4f8b\u5b50\uff1a</p> <pre><code>ifdef do_sort\nfunc := sort\nelse\nfunc := strip\nendif\n\nbar := a d b g q c\nfoo := $($(func) $(bar))\n</code></pre> <p>\u8fd9\u4e2a\u793a\u4f8b\u4e2d\uff0c\u5982\u679c\u5b9a\u4e49\u4e86\u201cdo_sort\u201d\uff0c\u90a3\u4e48<code>foo := $(sort a d b g q c)</code>\uff0c\u4e8e\u662f<code>$(foo)</code>\u7684\u503c\u5c31\u662f\u201ca b c d g q\u201d\uff0c\u800c\u5982\u679c\u6ca1\u6709\u5b9a\u4e49\u201cdo_sort\u201d\uff0c\u90a3\u4e48<code>foo := $(sort a d b g q c)</code>\u8c03\u7528\u7684\u5c31\u662fstrip\u51fd\u6570\u3002</p> <p>\u201c\u628a\u53d8\u91cf\u7684\u503c\u518d\u5f53\u6210\u53d8\u91cf\u201d\u8fd9\u79cd\u7528\u6cd5\uff0c\u540c\u6837\u53ef\u4ee5\u7528\u5728\u64cd\u4f5c\u7b26\u7684\u5de6\u8fb9\uff1a</p> <pre><code>dir = foo\n$(dir)_sources := $(wildcard $(dir)/*.c)\ndefine $(dir)_print\nlpr $($(dir)_sources)\nendef\n</code></pre> <p>\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\u5b9a\u4e49\u4e86\u4e09\u4e2a\u53d8\u91cf\uff1a\u201cdir\u201d\uff0c\u201cfoo_sources\u201d\u548c\u201cfoo_print\u201d\u3002</p>","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#_23","title":"\u56db\u3001\u8ffd\u52a0\u53d8\u91cf\u503c","text":"<p>\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u201c+=\u201d\u64cd\u4f5c\u7b26\u7ed9\u53d8\u91cf\u8ffd\u52a0\u503c\uff0c\u5982\uff1a</p> <pre><code>objects = main.o foo.o bar.o utils.o\nobjects += another.o\n</code></pre> <p>\u4e8e\u662f\uff0c\u6211\u4eec\u7684<code>$(objects)</code>\u503c\u53d8\u6210\u4e86\u201cmain.o foo.o bar.o utils.o another.o\u201d\uff08another.o\u88ab\u8ffd\u52a0\u8fdb\u53bb\u4e86\uff09\u3002</p> <p>\u4e0a\u9762\u8fd9\u4e2a\u4f8b\u5b50\u7b49\u4ef7\u4e8e\u4e0b\u9762\u8fd9\u79cd\u5199\u6cd5\uff1a</p> <pre><code>objects = main.o foo.o bar.o utils.o\nobjects := $(objects) another.o\n</code></pre> <p>\u6240\u4e0d\u540c\u7684\u662f\uff0c\u4f7f\u7528\u201c+=\u201d\u66f4\u4e3a\u7b80\u6d01\u3002</p> <p>\u5982\u679c\u53d8\u91cf\u4e4b\u524d\u6ca1\u6709\u5b9a\u4e49\u8fc7\uff0c\u90a3\u4e48\uff0c\u201c+=\u201d\u4f1a\u81ea\u52a8\u53d8\u6210\u201c=\u201d\uff0c\u5982\u679c\u524d\u9762\u6709\u53d8\u91cf\u5b9a\u4e49\uff0c\u90a3\u4e48\u201c+=\u201d\u4f1a\u7ee7\u627f\u4e8e\u524d\u6b21\u64cd\u4f5c\u7684\u8d4b\u503c\u7b26\u3002\u5982\u679c\u524d\u4e00\u6b21\u7684\u662f\u201c:=\u201d\uff0c\u90a3\u4e48\u201c+=\u201d\u4f1a\u4ee5\u201c:=\u201d\u4f5c\u4e3a\u5176\u8d4b\u503c\u7b26\uff0c\u5982\uff1a</p> <pre><code>variable := value\nvariable += more\n</code></pre> <p>\u7b49\u4ef7\u4e8e\uff1a</p> <pre><code>variable := value\nvariable := $(variable) more\n</code></pre> <p>\u4f46\u5982\u679c\u662f\u8fd9\u79cd\u60c5\u51b5\uff1a</p> <pre><code>variable = value\nvariable += more\n</code></pre> <p>\u7531\u4e8e\u524d\u6b21\u7684\u8d4b\u503c\u7b26\u662f\u201c=\u201d\uff0c\u6240\u4ee5\u201c+=\u201d\u4e5f\u4f1a\u4ee5\u201c=\u201d\u6765\u505a\u4e3a\u8d4b\u503c\uff0c\u90a3\u4e48\u5c82\u4e0d\u4f1a\u53d1\u751f\u53d8\u91cf\u7684\u9012\u8865\u5f52\u5b9a\u4e49\u5417\uff0c\u8fd9\u662f\u6211\u4eec\u4e0d\u5e0c\u671b\u770b\u5230\u7684\uff0c\u6240\u5e78make\u4f1a\u4e3a\u6211\u4eec\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002</p>","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#override","title":"\u4e94\u3001override\u6307\u793a\u7b26","text":"<p>\u5982\u679c\u6709\u53d8\u91cf\u662f\u901a\u8fc7make\u7684\u547d\u4ee4\u884c\u53c2\u6570\u8bbe\u7f6e\u7684\uff0c\u90a3\u4e48Makefile\u4e2d\u5bf9\u8fd9\u4e2a\u53d8\u91cf\u7684\u8d4b\u503c\u4f1a\u88ab\u5ffd\u7565\u3002\u5982\u679c\u4f60\u60f3\u5728Makefile\u4e2d\u8bbe\u7f6e\u8fd9\u7c7b\u53c2\u6570\u7684\u503c\uff0c\u90a3\u4e48\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u201coverride\u201d\u6307\u793a\u7b26\u3002\u5176\u8bed\u6cd5\u662f\uff1a</p> <p><code>override {variable} = {value}</code> \u6216 <code>override {variable} := {value}</code> \u6216 <code>override {variable} += {more text}</code></p> <p>\u5bf9\u4e8e\u591a\u884c\u7684\u53d8\u91cf\u5b9a\u4e49\uff0c\u6211\u4eec\u7528define\u6307\u793a\u7b26\uff0c\u5728define\u6307\u793a\u7b26\u524d\uff0c\u4e5f\u540c\u6837\u53ef\u4ee5\u4f7f\u7528overide\u6307\u793a\u7b26\uff0c\u5982\uff1a</p> <pre><code>override define foo\nbar\nendef\n</code></pre>","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#_24","title":"\u516d\u3001\u591a\u884c\u53d8\u91cf","text":"<p>\u8fd8\u6709\u4e00\u79cd\u8bbe\u7f6e\u53d8\u91cf\u503c\u7684\u65b9\u6cd5\u662f\u4f7f\u7528define\u5173\u952e\u5b57\u3002\u4f7f\u7528define\u5173\u952e\u5b57\u8bbe\u7f6e\u53d8\u91cf\u7684\u503c\u53ef\u4ee5\u6709\u6362\u884c\uff0c\u8fd9\u6709\u5229\u4e8e\u5b9a\u4e49\u4e00\u7cfb\u5217\u7684\u547d\u4ee4\uff08\u524d\u9762\u6211\u4eec\u8bb2\u8fc7\u201c\u547d\u4ee4\u5305\u201d\u7684\u6280\u672f\u5c31\u662f\u5229\u7528define\u5b9e\u73b0\u7684\uff09\u3002</p> <p>define\u540e\u9762\u8ddf\u7684\u662f\u53d8\u91cf\u7684\u540d\u5b57\uff0c\u4ee5endef\u5173\u952e\u5b57\u7ed3\u675f\u5b9a\u4e49\u3002\u5176\u5de5\u4f5c\u65b9\u5f0f\u548c\u201c=\u201d\u64cd\u4f5c\u7b26\u4e00\u6837\u3002\u53d8\u91cf\u7684\u503c\u53ef\u4ee5\u5305\u542b\u51fd\u6570\u3001\u547d\u4ee4\u3001\u6587\u5b57\uff0c\u6216\u662f\u5176\u5b83\u53d8\u91cf\u3002\u56e0\u4e3a\u547d\u4ee4\u9700\u8981\u4ee5Tab\u952e\u5f00\u5934\uff0c\u6240\u4ee5\u5982\u679c\u4f60\u7528define\u5b9a\u4e49\u7684\u547d\u4ee4\u53d8\u91cf\u4e2d\u6ca1\u6709\u4ee5Tab\u952e\u5f00\u5934\uff0c\u90a3\u4e48make\u5c31\u4e0d\u4f1a\u628a\u5176\u8ba4\u4e3a\u662f\u547d\u4ee4\u3002</p> <p>\u4e0b\u9762\u7684\u8fd9\u4e2a\u793a\u4f8b\u5c55\u793a\u4e86define\u7684\u7528\u6cd5\uff1a</p> <pre><code>define two-lines\necho foo\necho $(bar)\nendef\n</code></pre>","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#_25","title":"\u4e03\u3001\u73af\u5883\u53d8\u91cf","text":"<p>make\u8fd0\u884c\u65f6\u7684\u7cfb\u7edf\u73af\u5883\u53d8\u91cf\u53ef\u4ee5\u5728make\u5f00\u59cb\u8fd0\u884c\u65f6\u88ab\u8f7d\u5165\u5230Makefile\u6587\u4ef6\u4e2d\uff0c\u4f46\u662f\u5982\u679cMakefile\u4e2d\u5df2\u5b9a\u4e49\u4e86\u8fd9\u4e2a\u53d8\u91cf\uff0c\u6216\u662f\u8fd9\u4e2a\u53d8\u91cf\u7531make\u547d\u4ee4\u884c\u5e26\u5165\uff0c\u90a3\u4e48\u7cfb\u7edf\u7684\u73af\u5883\u53d8\u91cf\u7684\u503c\u5c06\u88ab\u8986\u76d6\u3002\uff08\u5982\u679cmake\u6307\u5b9a\u4e86\u201c-e\u201d\u53c2\u6570\uff0c\u90a3\u4e48\uff0c\u7cfb\u7edf\u73af\u5883\u53d8\u91cf\u5c06\u8986\u76d6Makefile\u4e2d\u5b9a\u4e49\u7684\u53d8\u91cf\uff09</p> <p>\u56e0\u6b64\uff0c\u5982\u679c\u6211\u4eec\u5728\u73af\u5883\u53d8\u91cf\u4e2d\u8bbe\u7f6e\u4e86\u201cCFLAGS\u201d\u73af\u5883\u53d8\u91cf\uff0c\u90a3\u4e48\u6211\u4eec\u5c31\u53ef\u4ee5\u5728\u6240\u6709\u7684Makefile\u4e2d\u4f7f\u7528\u8fd9\u4e2a\u53d8\u91cf\u3002\u8fd9\u5bf9\u4e8e\u6211\u4eec\u4f7f\u7528\u7edf\u4e00\u7684\u7f16\u8bd1\u53c2\u6570\u6709\u6bd4\u8f83\u5927\u7684\u597d\u5904\u3002\u5982\u679cMakefile\u4e2d\u5b9a\u4e49\u4e86CFLAGS\uff0c\u90a3\u4e48\u5219\u4f1a\u4f7f\u7528Makefile\u4e2d\u7684\u8fd9\u4e2a\u53d8\u91cf\uff0c\u5982\u679c\u6ca1\u6709\u5b9a\u4e49\u5219\u4f7f\u7528\u7cfb\u7edf\u73af\u5883\u53d8\u91cf\u7684\u503c\uff0c\u5f88\u50cf\u201c\u5168\u5c40\u53d8\u91cf\u201d\u548c\u201c\u5c40\u90e8\u53d8\u91cf\u201d\u7684\u7279\u6027\u3002</p> <p>\u5f53make\u5d4c\u5957\u8c03\u7528\u65f6\uff08\u53c2\u89c1\u524d\u9762\u7684\u201c\u5d4c\u5957\u8c03\u7528\u201d\u7ae0\u8282\uff09\uff0c\u4e0a\u5c42Makefile\u4e2d\u5b9a\u4e49\u7684\u53d8\u91cf\u4f1a\u4ee5\u7cfb\u7edf\u73af\u5883\u53d8\u91cf\u7684\u65b9\u5f0f\u4f20\u9012\u5230\u4e0b\u5c42\u7684Makefile\u4e2d\u3002\u5f53\u7136\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u53ea\u6709\u901a\u8fc7\u547d\u4ee4\u884c\u8bbe\u7f6e\u7684\u53d8\u91cf\u4f1a\u88ab\u4f20\u9012\u3002\u800c\u5b9a\u4e49\u5728\u6587\u4ef6\u4e2d\u7684\u53d8\u91cf\uff0c\u5982\u679c\u8981\u5411\u4e0b\u5c42Makefile\u4f20\u9012\uff0c\u5219\u9700\u8981\u4f7f\u7528exprot\u5173\u952e\u5b57\u6765\u58f0\u660e\u3002</p>","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#_26","title":"\u516b\u3001\u76ee\u6807\u53d8\u91cf","text":"<p>\u5728Makefile\u4e2d\u5b9a\u4e49\u7684\u53d8\u91cf\u90fd\u662f\u201c\u5168\u5c40\u53d8\u91cf\u201d\uff0c\u5728\u6574\u4e2a\u6587\u4ef6\u4e2d\u90fd\u53ef\u4ee5\u8bbf\u95ee\u8fd9\u4e9b\u53d8\u91cf\u3002\u7136\u800c\u201c\u81ea\u52a8\u5316\u53d8\u91cf\u201d\u9664\u5916\uff0c\u4f8b\u5982<code>\u201c$&lt;\u201d</code>\u8fd9\u6837\u7684\u53d8\u91cf\u3002\u81ea\u52a8\u5316\u53d8\u91cf\u5c5e\u4e8e\u201c\u89c4\u5219\u578b\u53d8\u91cf\u201d\uff0c\u8fd9\u79cd\u53d8\u91cf\u7684\u503c\u4f9d\u8d56\u4e8e\u89c4\u5219\u7684\u76ee\u6807\u548c\u4f9d\u8d56\u7684\u5b9a\u4e49\u3002</p> <p>\u6211\u6837\u540c\u6837\u53ef\u4ee5\u4e3a\u67d0\u4e2a\u76ee\u6807\u8bbe\u7f6e\u5c40\u90e8\u53d8\u91cf\uff0c\u8fd9\u79cd\u53d8\u91cf\u88ab\u79f0\u4e3a\u76ee\u6807\u53d8\u91cf\uff08Target-specific Variable\uff09\uff0c\u5b83\u53ef\u4ee5\u548c\u201c\u5168\u5c40\u53d8\u91cf\u201d\u540c\u540d\uff0c\u56e0\u4e3a\u5b83\u7684\u4f5c\u7528\u8303\u56f4\u53ea\u5728\u8fd9\u6761\u89c4\u5219\u4ee5\u53ca\u8fde\u5e26\u89c4\u5219\u4e2d\uff0c\u6240\u4ee5\u5b83\u7684\u503c\u4e5f\u53ea\u5728\u4f5c\u7528\u8303\u56f4\u5185\u6709\u6548\uff0c\u4e0d\u4f1a\u5f71\u54cd\u89c4\u5219\u94fe\u4ee5\u5916\u7684\u201c\u5168\u5c40\u53d8\u91cf\u201d\u7684\u503c\u3002</p> <p>\u76ee\u6807\u53d8\u91cf\u7684\u8bed\u6cd5\u662f\uff1a</p> <pre><code>{target ...} : {variable-assignment}\n\u6216\n{target ...} : override {variable-assignment}\n</code></pre> <p>{variable-assignment}\u53ef\u4ee5\u662f\u524d\u9762\u8bb2\u8fc7\u7684\u5404\u79cd\u8d4b\u503c\u8868\u8fbe\u5f0f\uff0c\u5982\u201c=\u201d\u3001\u201c:=\u201d\u3001\u201c+=\u201d\u548c\u201c\uff1f=\u201d\u3002\u7b2c\u4e8c\u4e2a\u8bed\u6cd5\u662f\u9488\u5bf9\u4e8emake\u547d\u4ee4\u884c\u5e26\u5165\u7684\u53d8\u91cf\uff0c\u6216\u662f\u7cfb\u7edf\u73af\u5883\u53d8\u91cf\u3002</p> <p>\u8fd9\u4e2a\u7279\u6027\u975e\u5e38\u7684\u6709\u7528\uff0c\u5f53\u6211\u4eec\u8bbe\u7f6e\u4e86\u8fd9\u6837\u4e00\u4e2a\u53d8\u91cf\uff0c\u8fd9\u4e2a\u53d8\u91cf\u4f1a\u4f5c\u7528\u5230\u7531\u8fd9\u4e2a\u76ee\u6807\u6240\u5f15\u53d1\u7684\u6240\u6709\u7684\u89c4\u5219\u4e2d\u53bb\u3002\u5982\uff1a</p> <pre><code>prog : CFLAGS = -g\nprog : prog.o foo.o bar.o\n        $(CC) $(CFLAGS) prog.o foo.o bar.o\n\nprog.o : prog.c\n        $(CC) $(CFLAGS) prog.c\n\nfoo.o : foo.c\n        $(CC) $(CFLAGS) foo.c\n\nbar.o : bar.c\n        $(CC) $(CFLAGS) bar.c\n</code></pre> <p>\u5728\u8fd9\u4e2a\u793a\u4f8b\u4e2d\uff0c\u4e0d\u7ba1\u5168\u5c40\u7684<code>$(CFLAGS)</code>\u7684\u503c\u662f\u4ec0\u4e48\uff0c\u5728prog\u76ee\u6807\uff0c\u4ee5\u53ca\u5176\u6240\u5f15\u53d1\u7684\u6240\u6709\u89c4\u5219\u4e2d\uff08prog.o foo.o bar.o\u7684\u89c4\u5219\uff09\uff0c<code>$(CFLAGS)</code>\u7684\u503c\u90fd\u662f\u201c-g\u201d\u3002</p>","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#_27","title":"\u4e5d\u3001\u6a21\u5f0f\u53d8\u91cf","text":"<p>\u5728GNU\u7684make\u4e2d\uff0c\u8fd8\u652f\u6301\u6a21\u5f0f\u53d8\u91cf\uff08Pattern-specific Variable\uff09\u3002\u901a\u8fc7\u76ee\u6807\u53d8\u91cf\u6211\u4eec\u53ef\u4ee5\u4e86\u89e3\u5230\u53d8\u91cf\u53ef\u4ee5\u5b9a\u4e49\u5728\u67d0\u4e2a\u76ee\u6807\u4e0a\u3002\u6a21\u5f0f\u53d8\u91cf\u7684\u597d\u5904\u5c31\u662f\uff0c\u6211\u4eec\u53ef\u4ee5\u7ed9\u5b9a\u4e00\u79cd\u201c\u6a21\u5f0f\u201d\uff0c\u53ef\u4ee5\u628a\u53d8\u91cf\u5b9a\u4e49\u5728\u7b26\u5408\u8fd9\u79cd\u6a21\u5f0f\u7684\u6240\u6709\u76ee\u6807\u4e0a\u3002</p> <p>\u6211\u4eec\u77e5\u9053\uff0cmake\u7684\u201c\u6a21\u5f0f\u201d\u4e00\u822c\u662f\u81f3\u5c11\u542b\u6709\u4e00\u4e2a\u201c%\u201d\u7684\uff0c\u6240\u4ee5\uff0c\u6211\u4eec\u53ef\u4ee5\u4ee5\u5982\u4e0b\u65b9\u5f0f\u7ed9\u6240\u6709\u4ee5.o\u7ed3\u5c3e\u7684\u76ee\u6807\u5b9a\u4e49\u76ee\u6807\u53d8\u91cf\uff1a</p> <p><code>%.o : CFLAGS = -O</code></p> <p>\u540c\u6837\uff0c\u6a21\u5f0f\u53d8\u91cf\u7684\u8bed\u6cd5\u548c\u201c\u76ee\u6807\u53d8\u91cf\u201d\u4e00\u6837\uff1a</p> <pre><code>{pattern ...} : {variable-assignment}\n\u6216\n{pattern ...} : override {variable-assignment}\n</code></pre>","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#_28","title":"\u4f7f\u7528\u6761\u4ef6\u5224\u65ad","text":"<p>\u4f7f\u7528\u6761\u4ef6\u5224\u65ad\uff0c\u53ef\u4ee5\u8ba9make\u6839\u636e\u8fd0\u884c\u65f6\u7684\u4e0d\u540c\u60c5\u51b5\u9009\u62e9\u4e0d\u540c\u7684\u6267\u884c\u5206\u652f\u3002\u6761\u4ef6\u8868\u8fbe\u5f0f\u53ef\u4ee5\u662f\u6bd4\u8f83\u53d8\u91cf\u7684\u503c\uff0c\u6216\u8005\u662f\u6bd4\u8f83\u53d8\u91cf\u548c\u5e38\u91cf\u7684\u503c\u3002</p>","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#_29","title":"\u4e00\u3001\u793a\u4f8b","text":"<p>\u4e0b\u9762\u7684\u4f8b\u5b50\uff0c\u5224\u65ad<code>$(CC)</code>\u53d8\u91cf\u662f\u5426\u7b49\u4e8e\u201cgcc\u201d\uff0c\u5982\u679c\u662f\u7684\u8bdd\uff0c\u5219\u4f7f\u7528GNU\u51fd\u6570\u7f16\u8bd1\u76ee\u6807\u3002</p> <pre><code>libs_for_gcc = -lgnu\nnormal_libs =\n#\u5728\u89c4\u5219\u4e2d\u4f7f\u7528\u6761\u4ef6\u8bed\u53e5\nfoo: $(objects)\nifeq ($(CC),gcc)\n        $(CC) -o foo $(objects) $(libs_for_gcc)\nelse\n        $(CC) -o foo $(objects) $(normal_libs)\nendif\n</code></pre> <p>\u5728\u4e0a\u9762\u7684\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u76ee\u6807\u201cfoo\u201d\u53ef\u4ee5\u6839\u636e\u53d8\u91cf<code>\u201c$(CC)\u201d</code>\u503c\u6765\u9009\u53d6\u4e0d\u540c\u7684\u51fd\u6570\u5e93\u6765\u7f16\u8bd1\u7a0b\u5e8f\u3002</p> <p>\u6211\u4eec\u53ef\u4ee5\u4ece\u4e0a\u9762\u7684\u793a\u4f8b\u4e2d\u770b\u5230\u4e09\u4e2a\u5173\u952e\u5b57\uff1aifeq\u3001else\u548cendif\u3002ifeq\u8868\u793a\u6761\u4ef6\u8bed\u53e5\u7684\u5f00\u59cb\uff0c\u5e76\u6307\u5b9a\u4e00\u4e2a\u6761\u4ef6\u8868\u8fbe\u5f0f\u3002\u8868\u8fbe\u5f0f\u5305\u542b\u4e24\u4e2a\u53c2\u6570\uff0c\u4ee5\u9017\u53f7\u5206\u9694\uff0c\u8868\u8fbe\u5f0f\u4ee5\u5706\u62ec\u53f7\u62ec\u8d77\u3002else\u8868\u793a\u6761\u4ef6\u8868\u8fbe\u5f0f\u4e3a\u5047\u7684\u60c5\u51b5\u3002endif\u8868\u793a\u4e00\u4e2a\u6761\u4ef6\u8bed\u53e5\u7684\u7ed3\u675f\u3002</p> <p>\u6211\u4eec\u53ef\u4ee5\u628a\u4e0a\u9762\u7684\u90a3\u4e2a\u4f8b\u5b50\u5199\u5f97\u66f4\u7b80\u6d01\u4e00\u4e9b\uff1a</p> <pre><code>libs_for_gcc = -lgnu\nnormal_libs =\n\n#\u5728\u89c4\u5219\u5916\u4f7f\u7528\u6761\u4ef6\u8bed\u53e5\nifeq ($(CC),gcc)\n    libs=$(libs_for_gcc)\nelse\n    libs=$(normal_libs)\nendif\n\nfoo: $(objects)\n        $(CC) -o foo $(objects) $(libs)\n</code></pre>","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#_30","title":"\u4e8c\u3001\u8bed\u6cd5","text":"<p>\u6761\u4ef6\u8868\u8fbe\u5f0f\u7684\u8bed\u6cd5\u4e3a\uff1a</p> <pre><code>{conditional-directive}\n{text-if-true}\nendif\n\n\u4ee5\u53ca\uff1a\n\n{conditional-directive}\n{text-if-true}\nelse\n{text-if-false}\nendif\n</code></pre> <p>\u5176\u4e2d{conditional-directive}\u8868\u793a\u6761\u4ef6\u8bed\u53e5\u3002\u6761\u4ef6\u8bed\u53e5\u6709\u56db\u4e2a\u5173\u952e\u5b57\u3002</p> <p>\u7b2c\u4e00\u4e2a\u662f\u201cifeq\u201d\uff0c\u6bd4\u8f83\u53c2\u6570\u201carg1\u201d\u548c\u201carg2\u201d\u7684\u503c\u662f\u5426\u76f8\u540c\u3002</p> <pre><code>ifeq ({arg1}, {arg2})\nifeq '{arg1}' '{arg2}'\nifeq \"{arg1}\" \"{arg2}\"\nifeq \"{arg1}\" '{arg2}'\nifeq '{arg1}' \"{arg2}\"\n</code></pre> <p>\u6211\u4eec\u8fd8\u53ef\u4ee5\u5728\u53c2\u6570\u4e2d\u4f7f\u7528make\u7684\u51fd\u6570\u3002\u5982\uff1a</p> <pre><code>ifeq ($(strip $(foo)),)\n{text-if-empty}\nendif\n</code></pre> <p>\u8fd9\u4e2a\u793a\u4f8b\u4e2d\u4f7f\u7528\u4e86\u201cstrip\u201d\u51fd\u6570\uff0c\u5982\u679c\u8fd9\u4e2a\u51fd\u6570\u7684\u8fd4\u56de\u503c\u662f\u7a7a\uff0c\u90a3\u4e48{text-if-empty}\u5c31\u751f\u6548\u3002</p> <p>\u7b2c\u4e8c\u4e2a\u6761\u4ef6\u5173\u952e\u5b57\u662f\u201cifneq\u201d\uff0c\u548c\u201cifeq\u201d\u662f\u76f8\u53cd\u7684\u3002\u8bed\u6cd5\u662f\uff1a</p> <pre><code>ifneq ({arg1}, {arg2})\nifneq '{arg1}' '{arg2}'\nifneq \"{arg1}\" \"{arg2}\"\nifneq \"{arg1}\" '{arg2}'\nifneq '{arg1}' \"{arg2}\"\n</code></pre> <p>\u7b2c\u4e09\u4e2a\u6761\u4ef6\u5173\u952e\u5b57\u662f\u201cifdef\u201d\u3002\u8bed\u6cd5\u662f\uff1a</p> <p><code>ifdef {variable-name}</code></p> <p>\u5982\u679c\u53d8\u91cf{variable-name}\u7684\u503c\u975e\u7a7a\uff0c\u90a3\u5230\u8868\u8fbe\u5f0f\u4e3a\u771f\u3002\u5426\u5219\uff0c\u8868\u8fbe\u5f0f\u4e3a\u5047\u3002\u5f53\u7136\uff0c{variable-name}\u540c\u6837\u53ef\u4ee5\u662f\u4e00\u4e2a\u51fd\u6570\u7684\u8fd4\u56de\u503c\u3002\u6ce8\u610f\uff0cifdef\u53ea\u662f\u6d4b\u8bd5\u4e00\u4e2a\u53d8\u91cf\u662f\u5426\u6709\u503c\uff0c\u5176\u5e76\u4e0d\u4f1a\u628a\u53d8\u91cf\u6269\u5c55\u5230\u5f53\u524d\u4f4d\u7f6e\u3002\u6765\u770b\u4e24\u4e2a\u4f8b\u5b50\uff1a</p> <pre><code>#\u793a\u4f8b\u4e00\uff1a\nbar =\nfoo = $(bar)\nifdef foo\nfrobozz = yes\nelse\nfrobozz = no\nendif\n\n#\u793a\u4f8b\u4e8c\uff1a\nfoo =\nifdef foo\nfrobozz = yes\nelse\nfrobozz = no\nendif\n</code></pre> <p>\u7b2c\u4e00\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u201c<code>$(frobozz)</code>\u201d\u503c\u662f\u201cyes\u201d\uff0c\u7b2c\u4e8c\u4e2a\u5219\u662f\u201cno\u201d\u3002</p> <p>\u7b2c\u56db\u4e2a\u6761\u4ef6\u5173\u952e\u5b57\u662f\u201cifndef\u201d\uff0c\u548c\u201cifdef\u201d\u662f\u76f8\u53cd\u7684\u3002\u8bed\u6cd5\u662f\uff1a</p> <p><code>ifndef {variable-name}</code></p> <p>\u5728{conditional-directive}\u8fd9\u4e00\u884c\u4e0a\uff0c\u591a\u4f59\u7684\u7a7a\u683c\u662f\u88ab\u5141\u8bb8\u7684\uff0c\u4f46\u662f\u4e0d\u80fd\u4ee5Tab\u952e\u505a\u4e3a\u5f00\u59cb\uff08\u4e0d\u7136\u5c31\u88ab\u8ba4\u4e3a\u662f\u547d\u4ee4\uff09\u3002\u800c\u6ce8\u91ca\u7b26\u201c#\u201d\u540c\u6837\u4e5f\u662f\u5b89\u5168\u7684\u3002\u201celse\u201d\u548c\u201cendif\u201d\u4e5f\u4e00\u6837\uff0c\u53ea\u8981\u4e0d\u662f\u4ee5Tab\u952e\u5f00\u59cb\u5c31\u884c\u4e86\u3002</p> <p>\u7279\u522b\u6ce8\u610f\u7684\u662f\uff0cmake\u662f\u5728\u8bfb\u53d6Makefile\u65f6\u5c31\u8ba1\u7b97\u6761\u4ef6\u8868\u8fbe\u5f0f\u7684\u503c\uff0c\u5e76\u6839\u636e\u6761\u4ef6\u8868\u8fbe\u5f0f\u7684\u503c\u6765\u9009\u62e9\u8bed\u53e5\uff0c\u6240\u4ee5\uff0c\u4f60\u6700\u597d\u4e0d\u8981\u628a\u81ea\u52a8\u5316\u53d8\u91cf\uff08\u5982\u201c<code>$@</code>\u201d\u7b49\uff09\u653e\u5165\u6761\u4ef6\u8868\u8fbe\u5f0f\u4e2d\uff0c\u56e0\u4e3a\u81ea\u52a8\u5316\u53d8\u91cf\u662f\u5728\u8fd0\u884c\u65f6\u624d\u6709\u7684\u3002</p> <p>\u800c\u4e14\uff0c\u4e3a\u4e86\u907f\u514d\u6df7\u4e71\uff0cmake\u4e0d\u5141\u8bb8\u628a\u6574\u4e2a\u6761\u4ef6\u8bed\u53e5\u5206\u6210\u4e24\u90e8\u5206\u653e\u5728\u4e0d\u540c\u7684\u6587\u4ef6\u4e2d\u3002</p>","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#_31","title":"\u4f7f\u7528\u51fd\u6570","text":"","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#_32","title":"\u4e00\u3001\u51fd\u6570\u7684\u8c03\u7528\u8bed\u6cd5","text":"<p>\u51fd\u6570\u8c03\u7528\uff0c\u548c\u53d8\u91cf\u7684\u4f7f\u7528\u4e00\u6837\uff0c\u4e5f\u662f\u4ee5<code>\u201c$\u201d</code>\u6765\u6807\u8bc6\u7684\u3002\u8bed\u6cd5\u5982\u4e0b\uff1a</p> <p><code>$({function} {arguments})</code></p> <p>\u6216</p> <p><code>$&lt;{function} {arguments}}</code></p> <p>\u8fd9\u91cc\uff0c{function}\u5c31\u662f\u51fd\u6570\u540d\uff0cmake\u652f\u6301\u7684\u51fd\u6570\u4e0d\u591a\u3002{arguments}\u662f\u51fd\u6570\u7684\u53c2\u6570\uff0c\u53c2\u6570\u95f4\u4ee5\u9017\u53f7\u201c,\u201d\u5206\u9694\uff0c\u800c\u51fd\u6570\u540d\u548c\u53c2\u6570\u4e4b\u95f4\u4ee5\u201c\u7a7a\u683c\u201d\u5206\u9694\u3002\u51fd\u6570\u8c03\u7528\u4ee5<code>\u201c$\u201d</code>\u5f00\u5934\uff0c\u4ee5\u5706\u62ec\u53f7\u6216\u82b1\u62ec\u53f7\u628a\u51fd\u6570\u540d\u548c\u53c2\u6570\u62ec\u8d77\u3002\u51fd\u6570\u4e2d\u7684\u53c2\u6570\u53ef\u4ee5\u4f7f\u7528\u53d8\u91cf\uff0c\u5982<code>\u201c$(subst a,b,$(x))\u201d</code>\u8fd9\u6837\u7684\u5f62\u5f0f\u3002</p> <p>\u6765\u770b\u4e00\u4e2a\u4f8b\u5b50\uff1a</p> <pre><code>comma:= ,\nempty:=\nspace:= $(empty) $(empty)\nfoo:= a b c\nbar:= $(subst $(space),$(comma),$(foo))\n</code></pre> <p>\u5728\u8fd9\u4e2a\u793a\u4f8b\u4e2d\uff0c<code>$(comma)</code>\u7684\u503c\u662f\u4e00\u4e2a\u9017\u53f7\u3002<code>$(space)</code>\u4f7f\u7528\u4e86<code>$(empty)</code>\u5b9a\u4e49\u4e86\u4e00\u4e2a\u7a7a\u683c\uff0c<code>$(foo)</code>\u7684\u503c\u662f\u201ca b c\u201d\uff0c<code>$(bar)</code>\u7684\u5b9a\u4e49\u7528\uff0c\u8c03\u7528\u4e86\u51fd\u6570\u201csubst\u201d\uff0c\u8fd9\u662f\u4e00\u4e2a\u66ff\u6362\u51fd\u6570\uff0c\u8fd9\u4e2a\u51fd\u6570\u6709\u4e09\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u88ab\u66ff\u6362\u5b57\u4e32\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u66ff\u6362\u5b57\u4e32\uff0c\u7b2c\u4e09\u4e2a\u53c2\u6570\u662f\u66ff\u6362\u64cd\u4f5c\u4f5c\u7528\u7684\u5b57\u4e32\u3002\u8fd9\u4e2a\u51fd\u6570\u4e5f\u5c31\u662f\u628a<code>$(foo)</code>\u4e2d\u7684\u7a7a\u683c\u66ff\u6362\u6210\u9017\u53f7\uff0c\u6240\u4ee5<code>$(bar)</code>\u7684\u503c\u662f\u201ca,b,c\u201d\u3002</p>","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#_33","title":"\u4e8c\u3001\u5b57\u7b26\u4e32\u5904\u7406\u51fd\u6570","text":"<ul> <li> <p><code>$(subst {from},{to},{text})</code> \u5b57\u7b26\u4e32\u66ff\u6362\u51fd\u6570\u3002 \u529f\u80fd\uff1a\u628a\u5b57\u7b26\u4e32{text}\u4e2d\u7684{from}\u66ff\u6362\u6210{to}\u3002 \u8fd4\u56de\uff1a\u88ab\u66ff\u6362\u8fc7\u540e\u7684\u5b57\u7b26\u4e32\u3002 \u793a\u4f8b\uff1a <code>$(subst ee,EE,feet on the street)</code></p> <p>\u628a\u201cfeet on the street\u201d\u4e2d\u7684\u201cee\u201d\u66ff\u6362\u6210\u201cEE\u201d\uff0c\u8fd4\u56de\u7ed3\u679c\u662f\u201cfEEt on the strEEt\u201d\u3002</p> </li> <li> <p><code>$(patsubst {pattern},{replacement},{text})</code> \u6a21\u5f0f\u5b57\u7b26\u4e32\u66ff\u6362\u51fd\u6570\u3002 \u529f\u80fd\uff1a\u67e5\u627e{text}\u4e2d\u7684\u5355\u8bcd\uff08\u5355\u8bcd\u4ee5\u201c\u7a7a\u683c\u201d\u3001\u201cTab\u201d\u6216\u201c\u56de\u8f66\u201d\u201c\u6362\u884c\u201d\u5206\u9694\uff09\u662f\u5426\u7b26\u5408\u6a21\u5f0f{pattern}\uff0c\u5982\u679c\u5339\u914d\u7684\u8bdd\uff0c\u5219\u4ee5{replacement}\u66ff\u6362\u3002{pattern}\u53ef\u4ee5\u5305\u62ec\u901a\u914d\u7b26\u201c%\u201d\uff0c\u8868\u793a\u4efb\u610f\u957f\u5ea6\u7684\u5b57\u4e32\u3002\u5982\u679c{replacement}\u4e2d\u4e5f\u5305\u542b\u201c%\u201d\uff0c\u90a3\u4e48{replacement}\u4e2d\u7684\u8fd9\u4e2a\u201c%\u201d\u5c06\u662f{pattern}\u4e2d\u7684\u90a3\u4e2a\u201c%\u201d\u6240\u4ee3\u8868\u7684\u5b57\u4e32\u3002\uff08\u53ef\u4ee5\u7528\u201c\\\u201d\u6765\u8f6c\u4e49\uff0c\u4ee5\u201c\\%\u201d\u6765\u8868\u793a\u771f\u5b9e\u542b\u4e49\u7684\u201c%\u201d\u5b57\u7b26\uff09 \u8fd4\u56de\uff1a\u88ab\u66ff\u6362\u8fc7\u540e\u7684\u5b57\u7b26\u4e32\u3002  </p> <p>\u793a\u4f8b\uff1a <code>$(patsubst %.c,%.o,x.c.c bar.c)</code></p> <p>\u628a\u5b57\u7b26\u4e32\u201cx.c.c bar.c\u201d\u7b26\u5408\u6a21\u5f0f%.c\u7684\u5355\u8bcd\u66ff\u6362\u6210%.o\uff0c\u8fd4\u56de\u7ed3\u679c\u662f\u201cx.c.o bar.o\u201d</p> <p>\u5907\u6ce8\uff1a     \u8fd9\u548c\u6211\u4eec\u524d\u9762\u201c\u53d8\u91cf\u201d\u7ae0\u8282\u8bf4\u8fc7\u7684\u76f8\u5173\u77e5\u8bc6\u6709\u70b9\u76f8\u4f3c\u3002\u5982\uff1a</p> <p>```makefile \u201c$(var:{pattern}={replacement})\u201d</p> </li> <li> <p><code>$(strip {string})</code> \u53bb\u7a7a\u683c\u51fd\u6570\u3002 \u529f\u80fd\uff1a\u53bb\u6389{string}\u5b57\u7b26\u4e32\u4e2d\u5f00\u5934\u548c\u7ed3\u5c3e\u7684\u7a7a\u5b57\u7b26\u3002 \u8fd4\u56de\uff1a\u88ab\u53bb\u6389\u7a7a\u683c\u7684\u5b57\u7b26\u4e32\u503c\u3002 \u793a\u4f8b\uff1a <code>$(strip a b c )</code></p> <p>\u628a\u5b57\u7b26\u4e32\u201ca b c \u201d\u53bb\u5230\u5f00\u5934\u548c\u7ed3\u5c3e\u7684\u7a7a\u683c\uff0c\u7ed3\u679c\u662f\u201ca b c\u201d\u3002</p> </li> <li> <p><code>$(findstring {find},{in})</code> \u67e5\u627e\u5b57\u7b26\u4e32\u51fd\u6570\u3002 \u529f\u80fd\uff1a\u5728\u5b57\u4e32{in}\u4e2d\u67e5\u627e{find}\u5b57\u4e32\u3002 \u8fd4\u56de\uff1a\u5982\u679c\u627e\u5230\uff0c\u90a3\u4e48\u8fd4\u56de{find}\uff0c\u5426\u5219\u8fd4\u56de\u7a7a\u5b57\u7b26\u4e32\u3002 \u793a\u4f8b\uff1a <code>$(findstring a,a b c)</code> <code>$(findstring a,b c)</code></p> <p>\u7b2c\u4e00\u4e2a\u51fd\u6570\u8fd4\u56de\u201ca\u201d\u5b57\u7b26\u4e32\uff0c\u7b2c\u4e8c\u4e2a\u8fd4\u56de\u7a7a\u5b57\u7b26\u4e32</p> </li> <li> <p><code>$(filter {pattern...},{text})</code> \u8fc7\u6ee4\u51fd\u6570\u3002 \u529f\u80fd\uff1a\u4ee5{pattern}\u6a21\u5f0f\u8fc7\u6ee4{text}\u5b57\u7b26\u4e32\u4e2d\u7684\u5355\u8bcd\uff0c\u4fdd\u7559\u7b26\u5408\u6a21\u5f0f{pattern}\u7684\u5355\u8bcd\u3002\u53ef\u4ee5\u6709\u591a\u4e2a\u6a21\u5f0f\u3002 \u8fd4\u56de\uff1a\u7b26\u5408\u6a21\u5f0f{pattern}\u7684\u5b57\u4e32\u3002 \u793a\u4f8b\uff1a</p> <p><code>makefile sources := foo.c bar.c baz.s ugh.h foo: $(sources)         cc $(filter %.c %.s,$(sources)) -o foo</code></p> <p>\\((filter %.c %.s,\\)(sources))\u8fd4\u56de\u7684\u503c\u662f\u201cfoo.c bar.c baz.s\u201d\u3002</p> </li> <li> <p><code>$(filter-out {pattern...},{text})</code> \u53cd\u8fc7\u6ee4\u51fd\u6570\u3002 \u529f\u80fd\uff1a\u4ee5{pattern}\u6a21\u5f0f\u8fc7\u6ee4{text}\u5b57\u7b26\u4e32\u4e2d\u7684\u5355\u8bcd\uff0c\u53bb\u9664\u7b26\u5408\u6a21\u5f0f{pattern}\u7684\u5355\u8bcd\u3002\u53ef\u4ee5\u6709\u591a\u4e2a\u6a21\u5f0f\u3002 \u8fd4\u56de\uff1a\u4e0d\u7b26\u5408\u6a21\u5f0f{pattern}\u7684\u5b57\u7b26\u4e32\u3002 \u793a\u4f8b\uff1a</p> <p>```makefile objects=main1.o foo.o main2.o bar.o mains=main1.o main2.o</p> <p>$(filter-out \\((mains),\\)(objects))</p> </li> <li> <p><code>$(sort {list})</code> \u6392\u5e8f\u51fd\u6570\u3002 \u529f\u80fd\uff1a\u7ed9\u5b57\u7b26\u4e32{list}\u4e2d\u7684\u5355\u8bcd\u6392\u5e8f\uff08\u5347\u5e8f\uff09\uff0c\u53bb\u6389{list}\u4e2d\u76f8\u540c\u7684\u5355\u8bcd\u3002 \u8fd4\u56de\uff1a\u6392\u5e8f\u540e\u7684\u5b57\u7b26\u4e32\u3002 \u793a\u4f8b\uff1a<code>$(sort foo bar lose)</code>\u8fd4\u56de\u201cbar foo lose\u201d \u3002</p> </li> <li> <p><code>$(word {n},{text})</code> \u53d6\u5355\u8bcd\u51fd\u6570\u3002 \u529f\u80fd\uff1a\u53d6\u5b57\u7b26\u4e32{text}\u4e2d\u7b2c{n}\u4e2a\u5355\u8bcd\u3002\uff08\u4ece1\u5f00\u59cb\uff09 \u8fd4\u56de\uff1a\u5b57\u7b26\u4e32{text}\u4e2d\u7b2c{n}\u4e2a\u5355\u8bcd\u3002\u5982\u679c{n}\u6bd4{text}\u4e2d\u7684\u5355\u8bcd\u6570\u8981\u5927\uff0c\u90a3\u4e48\u8fd4\u56de\u7a7a\u5b57\u7b26\u4e32\u3002 \u793a\u4f8b\uff1a<code>$(word 2, foo bar baz)</code>\u8fd4\u56de\u503c\u662f\u201cbar\u201d\u3002</p> </li> <li> <p><code>$(wordlist {s},{e},{text})</code> \u53d6\u5355\u8bcd\u4e32\u51fd\u6570\u3002 \u529f\u80fd\uff1a\u4ece\u5b57\u7b26\u4e32{text}\u4e2d\u53d6\u4ece{s}\u5f00\u59cb\u5230{e}\u7684\u5355\u8bcd\u4e32\u3002{s}\u548c{e}\u662f\u4e00\u4e2a\u6570\u5b57\u3002 \u8fd4\u56de\uff1a\u5b57\u7b26\u4e32{text}\u4e2d\u4ece{s}\u5230{e}\u7684\u5355\u8bcd\u5b57\u4e32\u3002\u5982\u679c{s}\u6bd4{text}\u4e2d\u7684\u5355\u8bcd\u6570\u8981\u5927\uff0c\u90a3\u4e48\u8fd4\u56de\u7a7a\u5b57\u7b26\u4e32\u3002\u5982\u679c{e}\u5927\u4e8e{text}\u7684\u5355\u8bcd\u6570\uff0c\u90a3\u4e48\u8fd4\u56de\u4ece{s}\u5f00\u59cb\uff0c\u5230{text}\u7ed3\u675f\u7684\u5355\u8bcd\u4e32\u3002 \u793a\u4f8b\uff1a <code>$(wordlist 2, 3, foo bar baz)</code>\u8fd4\u56de\u503c\u662f\u201cbar baz\u201d\u3002</p> </li> <li> <p><code>$(words {text})</code> \u5355\u8bcd\u4e2a\u6570\u7edf\u8ba1\u51fd\u6570\u3002 \u529f\u80fd\uff1a\u7edf\u8ba1{text}\u4e2d\u5b57\u7b26\u4e32\u4e2d\u7684\u5355\u8bcd\u4e2a\u6570\u3002 \u8fd4\u56de\uff1a\u8fd4\u56de{text}\u4e2d\u7684\u5355\u8bcd\u6570\u3002 \u793a\u4f8b\uff1a<code>$(words, foo bar baz)</code>\u8fd4\u56de\u503c\u662f\u201c3\u201d\u3002 \u5907\u6ce8\uff1a\u5982\u679c\u6211\u4eec\u8981\u53d6{text}\u4e2d\u6700\u540e\u7684\u4e00\u4e2a\u5355\u8bcd\uff0c\u6211\u4eec\u53ef\u4ee5\u8fd9\u6837\uff1a<code>$(word $(words {text}),{text})</code>\u3002</p> </li> <li> <p><code>$(firstword {text})</code>  \u3001 \u53d6\u9996\u5355\u8bcd\u51fd\u6570\u3002 \u529f\u80fd\uff1a\u53d6\u5b57\u7b26\u4e32{text}\u4e2d\u7684\u7b2c\u4e00\u4e2a\u5355\u8bcd\u3002 \u8fd4\u56de\uff1a\u8fd4\u56de\u5b57\u7b26\u4e32{text}\u7684\u7b2c\u4e00\u4e2a\u5355\u8bcd\u3002 \u793a\u4f8b\uff1a<code>$(firstword foo bar)</code>\u8fd4\u56de\u503c\u662f\u201cfoo\u201d\u3002 \u5907\u6ce8\uff1a\u8fd9\u4e2a\u51fd\u6570\u53ef\u4ee5\u7528word\u51fd\u6570\u6765\u5b9e\u73b0\uff1a<code>$(word 1,{text})</code>\u3002</p> </li> </ul> <p>\u4ee5\u4e0a\uff0c\u662f\u6240\u6709\u7684\u5b57\u7b26\u4e32\u64cd\u4f5c\u51fd\u6570\uff0c\u5982\u679c\u642d\u914d\u6df7\u5408\u4f7f\u7528\uff0c\u53ef\u4ee5\u5b8c\u6210\u6bd4\u8f83\u590d\u6742\u7684\u529f\u80fd\u3002\u8fd9\u91cc\uff0c\u4e3e\u4e00\u4e2a\u5b9e\u9645\u7684\u4f8b\u5b50\u3002\u6211\u4eec\u77e5\u9053\uff0cmake\u4f7f\u7528\u201cVPATH\u201d\u53d8\u91cf\u6765\u6307\u5b9a\u201c\u4f9d\u8d56\u6587\u4ef6\u201d\u7684\u641c\u7d22\u8def\u5f84\u3002\u4e8e\u662f\uff0c\u6211\u4eec\u53ef\u4ee5\u5229\u7528\u8fd9\u4e2a\u641c\u7d22\u8def\u5f84\u6765\u6307\u5b9a\u7f16\u8bd1\u5668\u5bf9\u5934\u6587\u4ef6\u7684\u641c\u7d22\u8def\u5f84\u53c2\u6570CFLAGS\uff0c\u5982\uff1a</p> <p><code>override CFLAGS += $(patsubst %,-I%,$(subst :, ,$(VPATH)))</code></p> <p>\u5982\u679c\u6211\u4eec\u7684\u201c\\((VPATH)\u201d\u503c\u662f\u201csrc:../headers\u201d\uff0c\u90a3\u4e48\u201c\\)(patsubst %,-I%,\\((subst :, ,\\)(VPATH)))\u201d\u5c06\u8fd4\u56de\u201c-Isrc -I../headers\u201d\uff0c\u8fd9\u6b63\u662fcc\u6216gcc\u641c\u7d22\u5934\u6587\u4ef6\u8def\u5f84\u7684\u53c2\u6570\u3002</p>","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#_34","title":"\u76f8\u5f53\u4e8e","text":"<p>\u201c\\((patsubst {pattern},{replacement},\\)(var))\u201d\uff0c</p> <p>\u201c$(var: {suffix}={replacement})\u201d</p>","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#_35","title":"\u76f8\u5f53\u4e8e","text":"<p>\u201c\\((patsubst %{suffix},%{replacement},\\)(var))\u201d\u3002 ```</p>","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#fooo-baro","title":"\u8fd4\u56de\u503c\u662f\u201cfoo.o bar.o\u201d\u3002","text":"<p>```</p>","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#_36","title":"\u4e09\u3001\u6587\u4ef6\u540d\u548c\u76ee\u5f55\u64cd\u4f5c\u51fd\u6570","text":"<p>\u4e0b\u9762\u6211\u4eec\u8981\u4ecb\u7ecd\u7684\u51fd\u6570\u4e3b\u8981\u662f\u5904\u7406\u6587\u4ef6\u540d\u7684\u3002\u6bcf\u4e2a\u51fd\u6570\u7684\u53c2\u6570\u5b57\u7b26\u4e32\u90fd\u4f1a\u88ab\u5f53\u505a\u4e00\u4e2a\u6216\u662f\u4e00\u7cfb\u5217\u7684\u6587\u4ef6\u540d\u6765\u5bf9\u5f85\u3002</p> <ul> <li> <p><code>$(dir {names...})</code> \u53d6\u76ee\u5f55\u51fd\u6570\u3002 \u529f\u80fd\uff1a\u4ece\u6587\u4ef6\u540d\u5e8f\u5217{names}\u4e2d\u53d6\u51fa\u76ee\u5f55\u90e8\u5206\u3002\u76ee\u5f55\u90e8\u5206\u662f\u6307\u6700\u540e\u4e00\u4e2a\u53cd\u659c\u6760\uff08\u201c/\u201d\uff09\u4e4b\u524d\u7684\u90e8\u5206\u3002\u5982\u679c\u6ca1\u6709\u53cd\u659c\u6760\uff0c\u90a3\u4e48\u8fd4\u56de\u201c./\u201d\u3002 \u8fd4\u56de\uff1a\u6587\u4ef6\u540d\u5e8f\u5217{names}\u7684\u76ee\u5f55\u90e8\u5206\u3002 \u793a\u4f8b\uff1a <code>$(dir src/foo.c hacks)</code>\u8fd4\u56de\u503c\u662f\u201csrc/ ./\u201d\u3002</p> </li> <li> <p><code>$(notdir {names...})</code> \u53d6\u6587\u4ef6\u540d\u51fd\u6570\u3002 \u529f\u80fd\uff1a\u4ece\u6587\u4ef6\u540d\u5e8f\u5217{names}\u4e2d\u53d6\u51fa\u975e\u76ee\u5f55\u90e8\u5206\u3002\u975e\u76ee\u5f55\u90e8\u5206\u662f\u6307\u6700\u540e\u4e00\u4e2a\u53cd\u659c\u6760\uff08\u201c/\u201d\uff09\u4e4b\u540e\u7684\u90e8\u5206\u3002 \u8fd4\u56de\uff1a\u6587\u4ef6\u540d\u5e8f\u5217{names}\u7684\u975e\u76ee\u5f55\u90e8\u5206\u3002 \u793a\u4f8b\uff1a <code>$(notdir src/foo.c hacks)</code>\u8fd4\u56de\u503c\u662f\u201cfoo.c hacks\u201d\u3002</p> </li> <li> <p><code>$(suffix {names...})</code> \u53d6\u540e\u7f00\u51fd\u6570\u3002 \u529f\u80fd\uff1a\u4ece\u6587\u4ef6\u540d\u5e8f\u5217{names}\u4e2d\u53d6\u51fa\u5404\u4e2a\u6587\u4ef6\u540d\u7684\u540e\u7f00\u3002 \u8fd4\u56de\uff1a\u6587\u4ef6\u540d\u5e8f\u5217{names}\u7684\u540e\u7f00\u5e8f\u5217\uff0c\u5982\u679c\u6587\u4ef6\u6ca1\u6709\u540e\u7f00\uff0c\u5219\u8fd4\u56de\u7a7a\u5b57\u4e32\u3002 \u793a\u4f8b\uff1a<code>$(suffix src/foo.c src-1.0/bar.c hacks)</code>\u8fd4\u56de\u503c\u662f\u201c.c .c\u201d\u3002</p> </li> <li> <p><code>$(basename {names...})</code></p> <p>\u53d6\u524d\u7f00\u51fd\u6570\u3002 \u529f\u80fd\uff1a\u4ece\u6587\u4ef6\u540d\u5e8f\u5217{names}\u4e2d\u53d6\u51fa\u5404\u4e2a\u6587\u4ef6\u540d\u7684\u524d\u7f00\u90e8\u5206\u3002 \u8fd4\u56de\uff1a\u6587\u4ef6\u540d\u5e8f\u5217{names}\u7684\u524d\u7f00\u5e8f\u5217\uff0c\u5982\u679c\u6587\u4ef6\u6ca1\u6709\u524d\u7f00\uff0c\u5219\u8fd4\u56de\u7a7a\u5b57\u4e32\u3002 \u793a\u4f8b\uff1a<code>$(basename src/foo.c src-1.0/bar.c hacks)</code>\u8fd4\u56de\u503c\u662f\u201csrc/foo src-1.0/bar hacks\u201d\u3002</p> </li> <li> <p><code>$(addsuffix {suffix},{names...})</code></p> <p>\u52a0\u540e\u7f00\u51fd\u6570\u3002 \u529f\u80fd\uff1a\u628a\u540e\u7f00{suffix}\u52a0\u5230{names}\u4e2d\u7684\u6bcf\u4e2a\u5355\u8bcd\u540e\u9762\u3002 \u8fd4\u56de\uff1a\u52a0\u8fc7\u540e\u7f00\u7684\u6587\u4ef6\u540d\u5e8f\u5217\u3002 \u793a\u4f8b\uff1a<code>$(addsuffix .c,foo bar)</code>\u8fd4\u56de\u503c\u662f\u201cfoo.c bar.c\u201d\u3002</p> </li> <li> <p><code>$(addprefix {prefix},{names...})</code></p> <p>\u52a0\u524d\u7f00\u51fd\u6570\u3002 \u529f\u80fd\uff1a\u628a\u524d\u7f00{prefix}\u52a0\u5230{names}\u4e2d\u7684\u6bcf\u4e2a\u5355\u8bcd\u540e\u9762\u3002 \u8fd4\u56de\uff1a\u52a0\u8fc7\u524d\u7f00\u7684\u6587\u4ef6\u540d\u5e8f\u5217\u3002 \u793a\u4f8b\uff1a<code>$(addprefix src/,foo bar)</code>\u8fd4\u56de\u503c\u662f\u201csrc/foo src/bar\u201d\u3002</p> </li> <li> <p><code>$(join {list1},{list2})</code></p> <p>\u8fde\u63a5\u51fd\u6570\u3002 \u529f\u80fd\uff1a\u628a{list2}\u4e2d\u7684\u5355\u8bcd\u5bf9\u5e94\u5730\u52a0\u5230{list1}\u7684\u5355\u8bcd\u540e\u9762\u3002\u5982\u679c{list1}\u7684\u5355\u8bcd\u4e2a\u6570\u8981\u6bd4{list2}\u7684\u591a\uff0c\u90a3\u4e48{list1}\u4e2d\u7684\u591a\u51fa\u6765\u7684\u5355\u8bcd\u5c06\u4fdd\u6301\u539f\u6837\u3002\u5982\u679c{list2}\u7684\u5355\u8bcd\u4e2a\u6570\u8981\u6bd4{list1}\u591a\uff0c\u90a3\u4e48{list2}\u591a\u51fa\u6765\u7684\u5355\u8bcd\u5c06\u88ab\u590d\u5236\u5230{list1}\u4e2d\u3002 \u8fd4\u56de\uff1a\u8fde\u63a5\u8fc7\u540e\u7684\u5b57\u7b26\u4e32\u3002 \u793a\u4f8b\uff1a<code>$(join aaa bbb , 111 222 333)</code>\u8fd4\u56de\u503c\u662f\u201caaa111 bbb222 333\u201d\u3002</p> </li> </ul>","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#foreach","title":"\u56db\u3001foreach\u51fd\u6570","text":"<p>foreach\u51fd\u6570\u662f\u7528\u6765\u505a\u5faa\u73af\u7528\u7684\uff0cMakefile\u4e2d\u7684foreach\u51fd\u6570\u51e0\u4e4e\u662f\u5b8c\u5168\u4eff\u7167Unix\u6807\u51c6Shell\uff08/bin/sh\uff09\u4e2d\u7684for\u8bed\u53e5\uff0c\u6216\u662fC-Shell\uff08/bin/csh\uff09\u4e2d\u7684foreach\u8bed\u53e5\u800c\u6784\u5efa\u7684\u3002\u5b83\u7684\u8bed\u6cd5\u662f\uff1a</p> <p><code>$(foreach {var},{list},{text})</code></p> <p>\u8fd9\u4e2a\u51fd\u6570\u7684\u610f\u601d\u662f\uff0c\u628a\u53c2\u6570{list}\u4e2d\u7684\u5355\u8bcd\u9010\u4e00\u53d6\u51fa\u653e\u5230\u53c2\u6570{var}\u6240\u6307\u5b9a\u7684\u53d8\u91cf\u4e2d\uff0c\u7136\u540e\u518d\u6267\u884c{text}\u6240\u5305\u542b\u7684\u8868\u8fbe\u5f0f\u3002\u6bcf\u4e00\u6b21{text}\u4f1a\u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\u3002\u5faa\u73af\u8fc7\u7a0b\u4e2d\uff0c{text}\u6240\u8fd4\u56de\u7684\u6bcf\u4e2a\u5b57\u7b26\u4e32\u4f1a\u4ee5\u7a7a\u683c\u5206\u9694\u3002\u5f53\u6574\u4e2a\u5faa\u73af\u7ed3\u675f\u65f6\uff0c{text}\u6240\u8fd4\u56de\u7684\u6bcf\u4e2a\u5b57\u7b26\u4e32\u6240\u7ec4\u6210\u7684\u6574\u4e2a\u5b57\u7b26\u4e32\uff08\u4ee5\u7a7a\u683c\u5206\u9694\uff09\u5c06\u4f1a\u662fforeach\u51fd\u6570\u7684\u8fd4\u56de\u503c\u3002</p> <p>\u6240\u4ee5\uff0c{var}\u6700\u597d\u662f\u4e00\u4e2a\u53d8\u91cf\u540d\uff0c{list}\u53ef\u4ee5\u662f\u4e00\u4e2a\u8868\u8fbe\u5f0f\uff0c\u800c{text}\u4e2d\u4e00\u822c\u4f1a\u4f7f\u7528{var}\u8fd9\u4e2a\u53c2\u6570\u6765\u4f9d\u6b21\u679a\u4e3e{list}\u4e2d\u7684\u5355\u8bcd\u3002\u4e3e\u4e2a\u4f8b\u5b50\uff1a</p> <pre><code>names := a b c d\n\nfiles := $(foreach n,$(names),$(n).o)\n</code></pre> <p>\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\\((name)\u4e2d\u7684\u5355\u8bcd\u4f1a\u88ab\u6328\u4e2a\u53d6\u51fa\uff0c\u5e76\u5b58\u5230\u53d8\u91cf\u201cn\u201d\u4e2d\uff0c\u201c\\)(n).o\u201d\u6bcf\u6b21\u6839\u636e\u201c\\((n)\u201d\u8ba1\u7b97\u51fa\u4e00\u4e2a\u503c\uff0c\u8fd9\u4e9b\u503c\u4ee5\u7a7a\u683c\u5206\u9694\uff0c\u6700\u540e\u4f5c\u4e3aforeach\u51fd\u6570\u7684\u8fd4\u56de\uff0c\u6240\u4ee5\uff0c\\)(files)\u7684\u503c\u662f\u201ca.o b.o c.o d.o\u201d\u3002</p> <p>\u6ce8\u610f\uff0cforeach\u4e2d\u7684{var}\u53c2\u6570\u662f\u4e00\u4e2a\u4e34\u65f6\u7684\u5c40\u90e8\u53d8\u91cf\u3002foreach\u51fd\u6570\u6267\u884c\u5b8c\u540e\uff0c\u53c2\u6570{var}\u7684\u53d8\u91cf\u5c06\u4e0d\u518d\u8d77\u4f5c\u7528\uff0c\u5176\u4f5c\u7528\u57df\u53ea\u5728foreach\u51fd\u6570\u5f53\u4e2d\u3002</p>","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#if","title":"\u4e94\u3001if\u51fd\u6570","text":"<p>if\u51fd\u6570\u5f88\u50cf\u6761\u4ef6\u8bed\u53e5ifeq\u3002if\u51fd\u6570\u7684\u8bed\u6cd5\u662f\uff1a</p> <p><code>$(if {condition},{then-part})</code> \u6216 <code>$(if {condition},{then-part},{else-part})</code></p> <p>\u53ef\u89c1\uff0cif\u51fd\u6570\u53ef\u4ee5\u5305\u542b\u201celse\u201d\u90e8\u5206\u3002{condition}\u53c2\u6570\u662fif\u7684\u8868\u8fbe\u5f0f\uff0c\u5982\u679c\u5176\u8fd4\u56de\u7684\u4e3a\u975e\u7a7a\u5b57\u7b26\u4e32\uff0c\u90a3\u4e48\u8fd9\u4e2a\u8868\u8fbe\u5f0f\u5c31\u76f8\u5f53\u4e8e\u8fd4\u56de\u771f\uff0c\u8fd9\u65f6{then-part}\u4f1a\u88ab\u8ba1\u7b97\uff0c\u5426\u5219{else-part}\u4f1a\u88ab\u8ba1\u7b97\u3002</p> <p>\u5982\u679c{condition}\u4e3a\u771f\uff08\u975e\u7a7a\u5b57\u7b26\u4e32\uff09\uff0c\u90a3\u4e48{then-part}\u4f1a\u662f\u6574\u4e2aif\u51fd\u6570\u7684\u8fd4\u56de\u503c\uff1b\u5982\u679c{condition}\u4e3a\u5047\uff08\u7a7a\u5b57\u7b26\u4e32\uff09\uff0c\u90a3\u4e48{else-part}\u4f1a\u662f\u6574\u4e2aif\u51fd\u6570\u7684\u8fd4\u56de\u503c\uff0c\u6b64\u65f6\u5982\u679c{else-part}\u6ca1\u6709\u88ab\u5b9a\u4e49\uff0c\u90a3\u4e48\u6574\u4e2a\u51fd\u6570\u8fd4\u56de\u7a7a\u5b57\u4e32\u3002</p>","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#call","title":"\u516d\u3001call\u51fd\u6570","text":"<p>call\u51fd\u6570\u662f\u4e00\u4e2a\u53ef\u4ee5\u7528\u6765\u521b\u5efa\u65b0\u51fd\u6570\u7684\u51fd\u6570\u3002\u4f60\u53ef\u4ee5\u5199\u4e00\u4e2a\u975e\u5e38\u590d\u6742\u7684\u8868\u8fbe\u5f0f\uff0c\u5728\u8fd9\u4e2a\u8868\u8fbe\u5f0f\u4e2d\uff0c\u4f60\u53ef\u4ee5\u5b9a\u4e49\u8bb8\u591a\u53c2\u6570\uff0c\u7136\u540e\u4f60\u53ef\u4ee5\u7528call\u51fd\u6570\u6765\u5411\u8fd9\u4e2a\u8868\u8fbe\u5f0f\u4f20\u9012\u53c2\u6570\u3002\u5176\u8bed\u6cd5\u662f\uff1a  </p> <p><code>$(call {expression},{parm1},{parm2},{parm3}...)</code></p> <p>\u5f53make\u6267\u884c\u8fd9\u4e2a\u51fd\u6570\u65f6\uff0c{expression}\u7684\u53c2\u6570\uff0c\u5982\\((1)\uff0c\\)(2)\uff0c$(3)\u7b49\uff0c\u4f1a\u88ab\u53c2\u6570{parm1}\uff0c{parm2}\uff0c{parm3}\u4f9d\u6b21\u53d6\u4ee3\u3002\u800c{expression}\u7684\u8fd4\u56de\u503c\u5c31\u662fcall\u51fd\u6570\u7684\u8fd4\u56de\u503c\u3002\u4f8b\u5982\uff1a</p> <pre><code>reverse =  $(1) $(2)\nfoo = $(call reverse,a,b)\n</code></pre> <p>foo\u7684\u503c\u5c31\u662f\u201ca b\u201d\u3002\u53c2\u6570\u7684\u6b21\u5e8f\u662f\u53ef\u4ee5\u81ea\u5b9a\u4e49\u7684\uff0c\u4e0d\u4e00\u5b9a\u662f\u987a\u5e8f\u7684\uff0c\u5982\uff1a</p> <pre><code>reverse =  $(2) $(1)\nfoo = $(call reverse,a,b)\n</code></pre> <p>\u6b64\u65f6\u7684foo\u7684\u503c\u5c31\u662f\u201cb a\u201d\u3002</p>","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#origin","title":"\u4e03\u3001origin\u51fd\u6570","text":"<p>origin\u51fd\u6570\u4e0d\u50cf\u5176\u5b83\u7684\u51fd\u6570\uff0c\u4ed6\u5e76\u4e0d\u64cd\u4f5c\u53d8\u91cf\u7684\u503c\uff0c\u4ed6\u53ea\u662f\u544a\u8bc9\u4f60\u4f60\u7684\u8fd9\u4e2a\u53d8\u91cf\u662f\u4ece\u54ea\u91cc\u6765\u7684\u3002\u8bed\u6cd5\u662f\uff1a</p> <p><code>$(origin {variable})</code></p> <p>{variable}\u662f\u53d8\u91cf\u7684\u540d\u5b57\uff0c\u800c\u4e0d\u5e94\u8be5\u662f\u5f15\u7528\u3002\u6240\u4ee5\u4e0d\u8981\u5728{variable}\u4e2d\u4f7f\u7528\u201c$\u201d\u5b57\u7b26\u3002Origin\u51fd\u6570\u4f1a\u4ee5\u5176\u8fd4\u56de\u503c\u6765\u544a\u8bc9\u4f60\u8fd9\u4e2a\u53d8\u91cf\u7684\u201c\u51fa\u751f\u60c5\u51b5\u201d\uff0c\u4e0b\u9762\u662forigin\u51fd\u6570\u7684\u8fd4\u56de\u503c:</p> <ul> <li>\u201cundefined\u201d \u5982\u679c{variable}\u4ece\u6765\u6ca1\u6709\u5b9a\u4e49\u8fc7\uff0corigin\u51fd\u6570\u8fd4\u56de\u8fd9\u4e2a\u503c\u201cundefined\u201d\u3002</li> <li>\u201cdefault\u201d \u5982\u679c{variable}\u662f\u4e00\u4e2a\u9ed8\u8ba4\u7684\u5b9a\u4e49\uff0c\u6bd4\u5982\u201cCC\u201d\u8fd9\u4e2a\u53d8\u91cf\uff0c\u8fd9\u79cd\u53d8\u91cf\u6211\u4eec\u5c06\u5728\u540e\u9762\u8bb2\u8ff0\u3002</li> <li>\u201cenvironment\u201d \u5982\u679c{variable}\u662f\u4e00\u4e2a\u73af\u5883\u53d8\u91cf\uff0c\u5e76\u4e14\u5f53Makefile\u88ab\u6267\u884c\u65f6\uff0c\u201c-e\u201d\u53c2\u6570\u6ca1\u6709\u88ab\u6253\u5f00\u3002</li> <li>\u201cfile\u201d \u5982\u679c{variable}\u8fd9\u4e2a\u53d8\u91cf\u88ab\u5b9a\u4e49\u5728Makefile\u4e2d\u3002</li> <li>\u201ccommand line\u201d \u5982\u679c{variable}\u8fd9\u4e2a\u53d8\u91cf\u662f\u88ab\u547d\u4ee4\u884c\u5b9a\u4e49\u7684\u3002</li> <li>\u201coverride\u201d \u5982\u679c{variable}\u662f\u88aboverride\u6307\u793a\u7b26\u91cd\u65b0\u5b9a\u4e49\u7684\u3002</li> <li>\u201cautomatic\u201d \u5982\u679c{variable}\u662f\u4e00\u4e2a\u547d\u4ee4\u8fd0\u884c\u4e2d\u7684\u81ea\u52a8\u5316\u53d8\u91cf\u3002\u5173\u4e8e\u81ea\u52a8\u5316\u53d8\u91cf\u5c06\u5728\u540e\u9762\u8bb2\u8ff0\u3002</li> </ul> <p>\u8fd9\u4e9b\u4fe1\u606f\u5bf9\u4e8e\u6211\u4eec\u7f16\u5199Makefile\u662f\u975e\u5e38\u6709\u7528\u7684\u3002\u5047\u8bbe\u6211\u4eec\u6709\u4e00\u4e2aMakefile\uff0c\u5176\u4e2d\u5305\u542b\u4e86\u4e00\u4e2a\u5b9a\u4e49\u6587\u4ef6Make.def\u3002\u5728Make.def\u4e2d\u5b9a\u4e49\u4e86\u4e00\u4e2a\u53d8\u91cf\u201cbletch\u201d\uff0c\u800c\u6211\u4eec\u7684\u73af\u5883\u4e2d\u4e5f\u6709\u4e00\u4e2a\u73af\u5883\u53d8\u91cf\u201cbletch\u201d\uff0c\u6b64\u65f6\u6211\u4eec\u60f3\u5224\u65ad\u4e00\u4e0b\uff0c\u5982\u679c\u53d8\u91cf\u6765\u6e90\u4e8e\u73af\u5883\uff0c\u90a3\u4e48\u6211\u4eec\u5c31\u91cd\u5b9a\u4e49\u8fd9\u4e2a\u53d8\u91cf\uff0c\u5982\u679c\u6765\u6e90\u4e8eMake.def\u6216\u662f\u547d\u4ee4\u884c\u7b49\u975e\u73af\u5883\u7684\uff0c\u90a3\u4e48\u6211\u4eec\u5c31\u4e0d\u91cd\u65b0\u5b9a\u4e49\u5b83\u3002\u4e8e\u662f\uff0c\u5728\u6211\u4eec\u7684Makefile\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u8fd9\u6837\u5199\uff1a</p> <pre><code>ifdef bletch\nifeq \"$(origin bletch)\" \"environment\"\nbletch = barf, gag, etc.\nendif\n</code></pre> <p>\u5f53\u7136\uff0c\u4f60\u4e5f\u8bb8\u4f1a\u8bf4\uff0c\u4f7f\u7528override\u5173\u952e\u5b57\u4e0d\u5c31\u53ef\u4ee5\u91cd\u65b0\u5b9a\u4e49\u73af\u5883\u4e2d\u7684\u53d8\u91cf\u4e86\u5417\uff1f\u4e3a\u4ec0\u4e48\u9700\u8981\u4f7f\u7528\u8fd9\u6837\u7684\u6b65\u9aa4\uff1f\u662f\u7684\uff0c\u6211\u4eec\u7528override\u662f\u53ef\u4ee5\u8fbe\u5230\u8fd9\u6837\u7684\u6548\u679c\uff0c\u53ef\u662foverride\u8fc7\u4e8e\u7c97\u66b4\uff0c\u5b83\u540c\u65f6\u4f1a\u628a\u4ece\u547d\u4ee4\u884c\u5b9a\u4e49\u7684\u53d8\u91cf\u4e5f\u8986\u76d6\u4e86\uff0c\u800c\u6211\u4eec\u53ea\u60f3\u91cd\u65b0\u5b9a\u4e49\u73af\u5883\u4f20\u6765\u7684\uff0c\u800c\u4e0d\u60f3\u91cd\u65b0\u5b9a\u4e49\u547d\u4ee4\u884c\u4f20\u6765\u7684\u3002</p>","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#shell","title":"\u516b\u3001shell\u51fd\u6570","text":"<p>shell\u51fd\u6570\u7684\u53c2\u6570\u662fShell\u547d\u4ee4\u3002\u5b83\u548c\u53cd\u5f15\u53f7\u201c`\u201d\u662f\u76f8\u540c\u7684\u529f\u80fd\u3002shell\u51fd\u6570\u628a\u6267\u884c\u64cd\u4f5c\u7cfb\u7edf\u547d\u4ee4\u540e\u7684\u8f93\u51fa\u4f5c\u4e3a\u8fd4\u56de\u503c\u8fd4\u56de\u3002\u4e8e\u662f\uff0c\u6211\u4eec\u53ef\u4ee5\u7528\u64cd\u4f5c\u7cfb\u7edf\u547d\u4ee4\u4ee5\u53ca\u5b57\u7b26\u4e32\u5904\u7406\u547d\u4ee4awk\uff0csed\u7b49\u7b49\u547d\u4ee4\u6765\u751f\u6210\u4e00\u4e2a\u53d8\u91cf\uff0c\u5982\uff1a</p> <p><code>contents := $(shell cat foo)</code> <code>files := $(shell echo *.c)</code></p> <p>\u6ce8\u610f\uff0c\u8fd9\u4e2a\u51fd\u6570\u4f1a\u65b0\u751f\u6210\u4e00\u4e2aShell\u7a0b\u5e8f\u6765\u6267\u884c\u547d\u4ee4\uff0c\u6240\u4ee5\u8981\u6ce8\u610f\u5176\u8fd0\u884c\u6027\u80fd\u3002\u5982\u679c\u4f60\u7684Makefile\u4e2d\u6709\u4e00\u4e9b\u6bd4\u8f83\u590d\u6742\u7684\u89c4\u5219\uff0c\u5e76\u5927\u91cf\u4f7f\u7528\u4e86\u8fd9\u4e2a\u51fd\u6570\uff0c\u90a3\u4e48\u5bf9\u4e8e\u4f60\u7684\u7cfb\u7edf\u6027\u80fd\u662f\u6709\u5bb3\u7684\u3002\u7279\u522b\u662fMakefile\u7684\u9690\u6666\u7684\u89c4\u5219\u53ef\u80fd\u4f1a\u8ba9\u4f60\u7684shell\u51fd\u6570\u6267\u884c\u7684\u6b21\u6570\u6bd4\u4f60\u60f3\u50cf\u7684\u591a\u5f97\u591a\u3002</p>","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#make_3","title":"\u4e5d\u3001\u63a7\u5236make\u7684\u51fd\u6570","text":"<p>make\u63d0\u4f9b\u4e86\u4e00\u4e9b\u51fd\u6570\u6765\u63a7\u5236make\u7684\u8fd0\u884c\u3002\u901a\u5e38\uff0c\u4f60\u9700\u8981\u68c0\u6d4b\u4e00\u4e9b\u8fd0\u884cMakefile\u65f6\u7684\u8fd0\u884c\u65f6\u4fe1\u606f\uff0c\u5e76\u4e14\u6839\u636e\u8fd9\u4e9b\u4fe1\u606f\u6765\u51b3\u5b9a\u662f\u8ba9make\u7ee7\u7eed\u6267\u884c\u8fd8\u662f\u505c\u6b62\u3002</p> <ul> <li> <p><code>$(error {text ...})</code>     \u4ea7\u751f\u4e00\u4e2a\u81f4\u547d\u7684\u9519\u8bef\u5e76\u4f7fmake\u505c\u6b62\u6267\u884c\uff0c{text ...}\u662f\u9519\u8bef\u4fe1\u606f\u3002\u6ce8\u610f\uff0cerror\u51fd\u6570\u4e0d\u4f1a\u5728\u4e00\u88ab\u4f7f\u7528\u5c31\u4f1a\u4ea7\u751f\u9519\u8bef\u4fe1\u606f\uff0c\u6240\u4ee5\u5982\u679c\u4f60\u628a\u5176\u5b9a\u4e49\u5728\u67d0\u4e2a\u53d8\u91cf\u4e2d\uff0c\u5e76\u5728\u540e\u7eed\u7684\u811a\u672c\u4e2d\u4f7f\u7528\u8fd9\u4e2a\u53d8\u91cf\uff0c\u90a3\u4e48\u4e5f\u662f\u53ef\u4ee5\u7684\u3002\u4f8b\u5982\uff1a</p> <p>\u793a\u4f8b\u4e00\uff1a</p> <p><code>makefile ifdef ERROR_001 $(error error is $(ERROR_001)) endif</code></p> <p>\u793a\u4f8b\u4e8c\uff1a</p> <p><code>makefile ERR = $(error found an error!) .PHONY: err err: ; $(ERR)</code></p> <p>\u793a\u4f8b\u4e00\u4f1a\u5728\u53d8\u91cfERROR_001\u5b9a\u4e49\u4e86\u540e\u4ea7\u751ferror\u8c03\u7528\uff0c\u800c\u793a\u4f8b\u4e8c\u5219\u5728\u76ee\u6807err\u88ab\u6267\u884c\u65f6\u624d\u53d1\u751ferror\u8c03\u7528\u3002</p> </li> <li> <p><code>$(warning {text ...})</code>     \u8fd9\u4e2a\u51fd\u6570\u5f88\u50cferror\u51fd\u6570\uff0c\u53ea\u662f\u5b83\u5e76\u4e0d\u4f1a\u8ba9make\u9000\u51fa\uff0c\u53ea\u662f\u8f93\u51fa\u4e00\u6bb5\u8b66\u544a\u4fe1\u606f\uff0c\u800cmake\u7ee7\u7eed\u6267\u884c\u3002</p> </li> </ul>","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#_37","title":"\u5176\u4ed6\u51fd\u6570","text":"<ul> <li><code>$(wildcard *.c)</code> wildcard\u51fd\u6570\u7528\u6765\u5c55\u5f00\u901a\u914d\u7b26\u3002</li> </ul>","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#make_4","title":"make\u7684\u8fd0\u884c","text":"<p>\u4e00\u822c\u6765\u8bf4\uff0c\u6700\u7b80\u5355\u7684\u5c31\u662f\u76f4\u63a5\u5728\u547d\u4ee4\u884c\u4e0b\u8f93\u5165make\u547d\u4ee4\uff0cmake\u547d\u4ee4\u4f1a\u53bb\u627e\u5f53\u524d\u76ee\u5f55\u4e0b\u7684makefile\u6765\u6267\u884c\u3002\u6709\u65f6\u4f60\u4e5f\u8bb8\u53ea\u60f3\u8ba9make\u91cd\u65b0\u7f16\u8bd1\u67d0\u4e9b\u6587\u4ef6\uff0c\u800c\u4e0d\u662f\u6574\u4e2a\u5de5\u7a0b\u3002\u6709\u7684\u65f6\u5019\u4f60\u6709\u51e0\u5957\u7f16\u8bd1\u89c4\u5219\uff0c\u4f60\u60f3\u5728\u4e0d\u540c\u7684\u65f6\u5019\u4f7f\u7528\u4e0d\u540c\u7684\u7f16\u8bd1\u89c4\u5219\uff0c\u7b49\u7b49\u3002\u672c\u7ae0\u8282\u5c31\u662f\u8bb2\u8ff0\u5982\u4f55\u4f7f\u7528make\u547d\u4ee4\u7684\u3002</p>","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#make_5","title":"\u4e00\u3001make\u7684\u9000\u51fa\u7801","text":"<p>make\u547d\u4ee4\u6267\u884c\u540e\u6709\u4e09\u4e2a\u9000\u51fa\u7801\uff1a</p> <p>0 \u2014\u2014 \u8868\u793a\u6210\u529f\u6267\u884c\u3002 1 \u2014\u2014 \u5982\u679cmake\u8fd0\u884c\u65f6\u51fa\u73b0\u4efb\u4f55\u9519\u8bef\uff0c\u8fd4\u56de1\u3002 2 \u2014\u2014 \u5982\u679c\u4f60\u4f7f\u7528\u4e86make\u7684\u201c-q\u201d\u9009\u9879\uff0c\u5e76\u4e14make\u4f7f\u5f97\u4e00\u4e9b\u76ee\u6807\u4e0d\u9700\u8981\u66f4\u65b0\uff0c\u90a3\u4e48\u8fd4\u56de2\u3002</p> <p>Make\u7684\u76f8\u5173\u53c2\u6570\u6211\u4eec\u4f1a\u5728\u540e\u7eed\u7ae0\u8282\u4e2d\u8bb2\u8ff0\u3002</p>","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#makefile_9","title":"\u4e8c\u3001\u6307\u5b9aMakefile","text":"<p>\u524d\u9762\u6211\u4eec\u8bf4\u8fc7\uff0cGNU make\u5bfb\u627e\u9ed8\u8ba4Makefile\u7684\u89c4\u5219\u662f\u5728\u5f53\u524d\u76ee\u5f55\u4e0b\u4f9d\u6b21\u627e\u4e09\u4e2a\u6587\u4ef6\u2014\u2014\u201cGNUmakefile\u201d\u3001\u201cmakefile\u201d\u548c\u201cMakefile\u201d\u3002</p> <p>\u6211\u4eec\u4e5f\u53ef\u4ee5\u901a\u8fc7\u4f7f\u7528make\u7684\u201c-f\u201d\u3001\u201c--file\u201d\u6216\u8005\u201c--makefile\u201d\u53c2\u6570\u7ed9make\u6307\u5b9aMakefile\u3002\u4f8b\u5982\uff0c\u6211\u4eec\u6709\u4e2amakefile\u7684\u540d\u5b57\u662f\u201chchen.mk\u201d\uff0c\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u8fd9\u6837\u6765\u8ba9make\u6765\u6267\u884c\u8fd9\u4e2a\u6587\u4ef6\uff1a <code>make \u2013f hchen.mk</code></p> <p>\uff08\uff1f\uff1f\uff1f\u5982\u679c\u5728make\u7684\u547d\u4ee4\u884c\u662f\uff0c\u4f60\u4e0d\u53ea\u4e00\u6b21\u5730\u4f7f\u7528\u4e86\u201c-f\u201d\u53c2\u6570\uff0c\u90a3\u4e48\uff0c\u6240\u6709\u6307\u5b9a\u7684makefile\u5c06\u4f1a\u88ab\u8fde\u5728\u4e00\u8d77\u4f20\u9012\u7ed9make\u6267\u884c\u3002\uff09</p>","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#_38","title":"\u4e09\u3001\u6307\u5b9a\u76ee\u6807","text":"<p>\u4e00\u822c\u6765\u8bf4\uff0cmake\u7684\u9ed8\u8ba4\u76ee\u6807\u662fmakefile\u4e2d\u7684\u7b2c\u4e00\u4e2a\u76ee\u6807\uff0c\u800c\u5176\u5b83\u76ee\u6807\u4e00\u822c\u662f\u7531\u8fd9\u4e2a\u76ee\u6807\u8fde\u5e26\u51fa\u6765\u7684\u3002\u4f60\u53ef\u4ee5\u6307\u793amake\uff0c\u8ba9\u5176\u5b8c\u6210\u4f60\u6240\u6307\u5b9a\u7684\u76ee\u6807\u3002\u8981\u8fbe\u5230\u8fd9\u4e00\u76ee\u7684\u5f88\u7b80\u5355\uff0c\u9700\u5728make\u547d\u4ee4\u540e\u76f4\u63a5\u8ddf\u76ee\u6807\u7684\u540d\u5b57\u5c31\u53ef\u4ee5\u5b8c\u6210\uff08\u5982\u524d\u9762\u63d0\u5230\u7684\u201cmake clean\u201d\u5f62\u5f0f\uff09\u3002</p> <p>\u4efb\u4f55\u5728makefile\u4e2d\u7684\u76ee\u6807\u90fd\u53ef\u4ee5\u88ab\u6307\u5b9a\u6210\u6700\u7ec8\u76ee\u6807\uff08\u9664\u4e86\u4ee5\u201c-\u201d\u6253\u5934\uff0c\u6216\u662f\u5305\u542b\u4e86\u201c=\u201d\u7684\u76ee\u6807\uff0c\u56e0\u4e3a\u6709\u8fd9\u4e9b\u5b57\u7b26\u7684\u76ee\u6807\uff0c\u4f1a\u88ab\u89e3\u6790\u6210\u547d\u4ee4\u884c\u53c2\u6570\u6216\u662f\u53d8\u91cf\uff09\uff0c\u751a\u81f3\u6ca1\u6709\u88ab\u6211\u4eec\u660e\u786e\u5199\u51fa\u6765\u7684\u76ee\u6807\u4e5f\u53ef\u4ee5\u6210\u4e3amake\u7684\u6700\u7ec8\u76ee\u6807\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u53ea\u8981make\u53ef\u4ee5\u627e\u5230\u9690\u542b\u89c4\u5219\uff0c\u90a3\u4e48\u8fd9\u4e2a\u9690\u542b\u76ee\u6807\u540c\u6837\u53ef\u4ee5\u88ab\u6307\u5b9a\u6210\u6700\u7ec8\u76ee\u6807\u3002</p> <p>\u6709\u4e00\u4e2amake\u7684\u73af\u5883\u53d8\u91cf\u53eb\u201cMAKECMDGOALS\u201d\uff0c\u8fd9\u4e2a\u53d8\u91cf\u4e2d\u4f1a\u5b58\u653e\u4f60\u6240\u6307\u5b9a\u7684\u6700\u7ec8\u76ee\u6807\u7684\u5217\u8868\u3002\u5982\u679c\u5728\u547d\u4ee4\u884c\u4e0a\u6ca1\u6709\u6307\u5b9a\u76ee\u6807\uff0c\u90a3\u4e48\u8fd9\u4e2a\u53d8\u91cf\u662f\u7a7a\u503c\u3002\u8fd9\u4e2a\u53d8\u91cf\u53ef\u4ee5\u8ba9\u4f60\u4f7f\u7528\u5728\u4e00\u4e9b\u6bd4\u8f83\u7279\u6b8a\u7684\u60c5\u5f62\u4e0b\u3002\u6bd4\u5982\u4e0b\u9762\u7684\u4f8b\u5b50\uff1a</p> <pre><code>sources = foo.c bar.c\nifneq ( $(MAKECMDGOALS),clean)\ninclude $(sources:.c=.d)\nendif\n</code></pre> <p>\u57fa\u4e8e\u4e0a\u9762\u7684\u8fd9\u4e2a\u4f8b\u5b50\uff0c\u53ea\u8981\u6211\u4eec\u8f93\u5165\u7684\u547d\u4ee4\u4e0d\u662f\u201cmake clean\u201d\uff0c\u90a3\u4e48makefile\u4f1a\u81ea\u52a8\u5305\u542b\u201cfoo.d\u201d\u548c\u201cbar.d\u201d\u8fd9\u4e24\u4e2amakefile\u3002</p> <p>\u4f7f\u7528\u6307\u5b9a\u6700\u7ec8\u76ee\u6807\u7684\u65b9\u6cd5\u53ef\u4ee5\u5f88\u65b9\u4fbf\u5730\u8ba9\u6211\u4eec\u7f16\u8bd1\u6211\u4eec\u7684\u7a0b\u5e8f\uff0c\u4f8b\u5982\u4e0b\u9762\u8fd9\u4e2a\u4f8b\u5b50\uff1a</p> <pre><code>.PHONY: all\nall: prog1 prog2 prog3 prog4\n</code></pre> <p>\u5728\u4e0a\u9762\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u201cmake all\u201d\u547d\u4ee4\u6765\u7f16\u8bd1\u6240\u6709\u7684\u76ee\u6807\uff08\u5982\u679c\u628aall\u7f6e\u6210\u7b2c\u4e00\u4e2a\u76ee\u6807\uff0c\u90a3\u4e48\u53ea\u9700\u6267\u884c\u201cmake\u201d\uff09\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u4f7f\u7528\u201cmake prog2\u201d\u6765\u5355\u72ec\u7f16\u8bd1\u76ee\u6807\u201cprog2\u201d\u3002</p> <p>\u5728Unix\u8f6f\u4ef6\u53d1\u5e03\u65f6\uff0c\u7279\u522b\u662fGNU\u8fd9\u79cd\u5f00\u6e90\u8f6f\u4ef6\u53d1\u5e03\u65f6\uff0c\u5176makefile\u90fd\u5305\u542b\u4e86\u7f16\u8bd1\u3001\u5b89\u88c5\u3001\u6253\u5305\u7b49\u529f\u80fd\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u7ea6\u5b9a\u4fd7\u6210\u7684\u4f2a\u76ee\u6807\uff1a</p> <ul> <li>\u201call\u201d \u8fd9\u4e2a\u4f2a\u76ee\u6807\u662f\u6240\u6709\u76ee\u6807\u7684\u76ee\u6807\uff0c\u5176\u529f\u80fd\u4e00\u822c\u662f\u7f16\u8bd1\u6240\u6709\u7684\u76ee\u6807\u3002</li> <li>\u201cclean\u201d \u8fd9\u4e2a\u4f2a\u76ee\u6807\u529f\u80fd\u662f\u5220\u9664\u6240\u6709\u88abmake\u521b\u5efa\u7684\u6587\u4ef6\u3002</li> <li>\u201cinstall\u201d \u8fd9\u4e2a\u4f2a\u76ee\u6807\u529f\u80fd\u662f\u5b89\u88c5\u5df2\u7f16\u8bd1\u597d\u7684\u7a0b\u5e8f\uff0c\u5176\u5b9e\u5c31\u662f\u628a\u76ee\u6807\u6267\u884c\u6587\u4ef6\u62f7\u8d1d\u5230\u6307\u5b9a\u7684\u76ee\u6807\u4e2d\u53bb\u3002</li> <li>\u201cprint\u201d \u8fd9\u4e2a\u4f2a\u76ee\u6807\u7684\u529f\u80fd\u662f\u5217\u51fa\u6539\u53d8\u8fc7\u7684\u6e90\u6587\u4ef6\u3002</li> <li>\u201ctar\u201d \u8fd9\u4e2a\u4f2a\u76ee\u6807\u529f\u80fd\u662f\u628a\u6e90\u7a0b\u5e8f\u6253\u5305\u5907\u4efd\u3002\u4e5f\u5c31\u662f\u4e00\u4e2atar\u6587\u4ef6\u3002</li> <li>\u201cdist\u201d \u8fd9\u4e2a\u4f2a\u76ee\u6807\u529f\u80fd\u662f\u521b\u5efa\u4e00\u4e2a\u538b\u7f29\u6587\u4ef6\uff0c\u4e00\u822c\u662f\u628atar\u6587\u4ef6\u538b\u6210Z\u6587\u4ef6\u3002\u6216\u662fgz\u6587\u4ef6\u3002</li> <li>\u201cTAGS\u201d \u8fd9\u4e2a\u4f2a\u76ee\u6807\u529f\u80fd\u662f\u66f4\u65b0\u6240\u6709\u7684\u76ee\u6807\uff0c\u4ee5\u5907\u5b8c\u6574\u5730\u91cd\u7f16\u8bd1\u4f7f\u7528\u3002</li> <li>\u201ccheck\u201d\u548c\u201ctest\u201d \u8fd9\u4e24\u4e2a\u4f2a\u76ee\u6807\u4e00\u822c\u7528\u6765\u6d4b\u8bd5makefile\u7684\u6d41\u7a0b\u3002</li> </ul> <p>\u5982\u679c\u4f60\u8981\u5728makefile\u91cc\u52a0\u4e0a\u8fd9\u4e9b\u529f\u80fd\uff0c\u6700\u597d\u4f7f\u7528\u4e0a\u9762\u7684\u540d\u5b57\u547d\u540d\u4f60\u7684\u76ee\u6807\uff0c\u8fd9\u6837\u4f1a\u89c4\u8303\u4e00\u4e9b\u3002\u89c4\u8303\u7684\u597d\u5904\u5c31\u662f\u4e0d\u7528\u89e3\u91ca\uff0c\u5927\u5bb6\u90fd\u660e\u767d\u3002\u800c\u4e14\u5982\u679c\u4f60\u7684makefile\u4e2d\u6709\u8fd9\u4e9b\u529f\u80fd\uff0c\u4e00\u662f\u5f88\u5b9e\u7528\uff0c\u4e8c\u662f\u53ef\u4ee5\u663e\u5f97\u4f60\u7684makefile\u5f88\u4e13\u4e1a\u3002</p>","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#_39","title":"\u56db\u3001\u68c0\u67e5\u89c4\u5219","text":"<p>\u6709\u65f6\u5019\u6211\u4eec\u4e0d\u60f3\u6267\u884cmakefile\uff0c\u53ea\u60f3\u68c0\u67e5\u4e00\u4e0b\u547d\u4ee4\u6267\u884c\u7684\u987a\u5e8f\u3002\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528make\u547d\u4ee4\u7684\u4e0b\u5217\u53c2\u6570\uff1a</p> <ul> <li> <p>\u201c-n\u201d \u201c--just-print\u201d \u201c--dry-run\u201d \u201c--recon\u201d     \u8fd9\u4e9b\u53c2\u6570\u53ea\u662f\u6253\u5370\u547d\u4ee4\uff0c\u4f46\u4e0d\u6267\u884c\u3002</p> </li> <li> <p>\u201c-t\u201d     \u201c--touch\u201d     \u8fd9\u4e2a\u53c2\u6570\u662f\u628a\u76ee\u6807\u6587\u4ef6\u7684\u65f6\u95f4\u66f4\u65b0\uff0c\u4f46\u4e0d\u66f4\u6539\u76ee\u6807\u6587\u4ef6\u3002\u4e5f\u5c31\u662f\u8bf4\uff0cmake\u4e0d\u771f\u6b63\u7f16\u8bd1\u76ee\u6807\uff0c\u53ea\u662f\u628a\u76ee\u6807\u53d8\u6210\u5df2\u7f16\u8bd1\u8fc7\u7684\u72b6\u6001\u3002</p> </li> <li> <p>\u201c-q\u201d     \u201c--question\u201d     \u8fd9\u4e2a\u53c2\u6570\u7684\u884c\u4e3a\u662f\u627e\u76ee\u6807\u3002\u5982\u679c\u76ee\u6807\u5b58\u5728\uff0c\u90a3\u4e48make\u4ec0\u4e48\u4e5f\u4e0d\u4f1a\u8f93\u51fa\uff0c\u4e5f\u4e0d\u4f1a\u6267\u884c\u7f16\u8bd1\u3002\u5982\u679c\u76ee\u6807\u4e0d\u5b58\u5728\uff0c\u5176\u4f1a\u6253\u5370\u51fa\u4e00\u6761\u51fa\u9519\u4fe1\u606f\u3002</p> </li> <li> <p>\u201c-W {file}\u201d     \u201c--what-if={file}\u201d     \u201c--assume-new={file}\u201d     \u201c--new-file={file}\u201d     \u8fd9\u4e2a\u53c2\u6570\u9700\u8981\u6307\u5b9a\u4e00\u4e2a\u6587\u4ef6\u3002\u4e00\u822c\u662f\u662f\u6e90\u6587\u4ef6\uff08\u6216\u4f9d\u8d56\u6587\u4ef6\uff09\uff0cMake\u4f1a\u6839\u636e\u89c4\u5219\u63a8\u5bfc\u6765\u8fd0\u884c\u4f9d\u8d56\u4e8e\u8fd9\u4e2a\u6587\u4ef6\u7684\u547d\u4ee4\uff0c\u4e00\u822c\u6765\u8bf4\uff0c\u53ef\u4ee5\u548c\u201c-n\u201d\u53c2\u6570\u4e00\u540c\u4f7f\u7528\uff0c\u6765\u67e5\u770b\u8fd9\u4e2a\u4f9d\u8d56\u6587\u4ef6\u6240\u53d1\u751f\u7684\u89c4\u5219\u547d\u4ee4\u3002</p> <p>\u53e6\u5916\u4e00\u4e2a\u5f88\u6709\u610f\u601d\u7684\u7528\u6cd5\u662f\u7ed3\u5408\u201c-p\u201d\u548c\u201c-v\u201d\u6765\u8f93\u51famakefile\u88ab\u6267\u884c\u65f6\u7684\u4fe1\u606f\uff08\u8fd9\u4e2a\u5c06\u5728\u540e\u9762\u8bb2\u8ff0\uff09\u3002</p> </li> </ul>","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#make_6","title":"\u4e94\u3001make\u7684\u53c2\u6570","text":"<p>\u4e0b\u9762\u5217\u4e3e\u4e86\u6240\u6709GNU make 3.80\u7248\u672c\u7684\u53c2\u6570\u5b9a\u4e49\u3002</p> <ul> <li> <p>\u201c-b\u201d \u201c-m\u201d \u8fd9\u4e24\u4e2a\u53c2\u6570\u7684\u4f5c\u7528\u662f\u5ffd\u7565\u548c\u5176\u5b83\u7248\u672cmake\u7684\u517c\u5bb9\u6027\u3002</p> </li> <li> <p>\u201c-B\u201d \u201c--always-make\u201d \u8ba4\u4e3a\u6240\u6709\u7684\u76ee\u6807\u90fd\u9700\u8981\u66f4\u65b0\uff08\u91cd\u65b0\u7f16\u8bd1\uff09\u3002</p> </li> <li> <p>\u201c-C {dir}\u201d \u201c--directory={dir}\u201d \u6307\u5b9amakefile\u7684\u76ee\u5f55\u3002\u5982\u679c\u6709\u591a\u4e2a\u201c-C\u201d\u53c2\u6570\uff0cmake\u7684\u89e3\u91ca\u662f\u540e\u9762\u7684\u8def\u5f84\u4ee5\u524d\u9762\u7684\u4f5c\u4e3a\u76f8\u5bf9\u8def\u5f84\uff0c\u5e76\u4ee5\u6700\u540e\u7684\u76ee\u5f55\u4f5c\u4e3a\u88ab\u6307\u5b9a\u76ee\u5f55\u3002\u5982\uff1a\u201cmake \u2013C ~hchen/test \u2013C prog\u201d\u7b49\u4ef7\u4e8e\u201cmake \u2013C ~hchen/test/prog\u201d\u3002</p> </li> <li> <p>\u201c\u2014debug[={options}]\u201d \u8f93\u51famake\u7684\u8c03\u8bd5\u4fe1\u606f\u3002\u5b83\u6709\u51e0\u79cd\u4e0d\u540c\u7684\u7ea7\u522b\u53ef\u4f9b\u9009\u62e9\uff0c\u5982\u679c\u6ca1\u6709\u53c2\u6570\uff0c\u90a3\u5c31\u662f\u8f93\u51fa\u6700\u7b80\u5355\u7684\u8c03\u8bd5\u4fe1\u606f\u3002\u4e0b\u9762\u662f{options}\u7684\u53d6\u503c\uff1a \u2003a \u2014 \u4e5f\u5c31\u662fall\uff0c\u8f93\u51fa\u6240\u6709\u7684\u8c03\u8bd5\u4fe1\u606f\u3002 \u2003b \u2014 \u4e5f\u5c31\u662fbasic\uff0c\u53ea\u8f93\u51fa\u7b80\u5355\u7684\u8c03\u8bd5\u4fe1\u606f\u3002\u5373\u8f93\u51fa\u4e0d\u9700\u8981\u91cd\u7f16\u8bd1\u7684\u76ee\u6807\u3002 \u2003v \u2014 \u4e5f\u5c31\u662fverbose\uff0c\u5728b\u9009\u9879\u7684\u7ea7\u522b\u4e4b\u4e0a\u3002\u8f93\u51fa\u7684\u4fe1\u606f\u5305\u62ec\u54ea\u4e2amakefile\u88ab\u89e3\u6790\uff0c\u4e0d\u9700\u8981\u88ab\u91cd\u7f16\u8bd1\u7684\u4f9d\u8d56\u6587\u4ef6\uff08\u6216\u662f\u4f9d\u8d56\u76ee\u6807\uff09\u7b49\u3002 \u2003i \u2014 \u4e5f\u5c31\u662fimplicit\uff0c\u8f93\u51fa\u6240\u4ee5\u7684\u9690\u542b\u89c4\u5219\u3002 \u2003j \u2014 \u4e5f\u5c31\u662fjobs\uff0c\u8f93\u51fa\u6267\u884c\u89c4\u5219\u4e2d\u547d\u4ee4\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u5982\u547d\u4ee4\u7684PID\u3001\u8fd4\u56de\u7801\u7b49\u3002 \u2003m \u2014 \u4e5f\u5c31\u662fmakefile\uff0c\u8f93\u51famake\u8bfb\u53d6makefile\uff0c\u66f4\u65b0makefile\uff0c\u6267\u884cmakefile\u7684\u4fe1\u606f\u3002</p> </li> <li> <p>\u201c-d\u201d \u76f8\u5f53\u4e8e\u201c--debug=a\u201d\u3002</p> </li> <li> <p>\u201c-e\u201d \u201c--environment-overrides\u201d \u6307\u660e\u73af\u5883\u53d8\u91cf\u7684\u503c\u8986\u76d6makefile\u4e2d\u5b9a\u4e49\u7684\u53d8\u91cf\u7684\u503c\u3002</p> </li> <li> <p>\u201c-f={file}\u201d \u201c--file={file}\u201d \u201c--makefile={file}\u201d \u6307\u5b9a\u9700\u8981\u6267\u884c\u7684makefile\u3002</p> </li> <li> <p>\u201c-h\u201d \u201c--help\u201d \u663e\u793a\u5e2e\u52a9\u4fe1\u606f\u3002</p> </li> <li> <p>\u201c-i\u201d \u201c--ignore-errors\u201d \u5728\u6267\u884c\u65f6\u5ffd\u7565\u6240\u6709\u7684\u9519\u8bef\u3002</p> </li> <li> <p>\u201c-I {dir}\u201d \u201c--include-dir={dir}\u201d \u6307\u5b9a\u4e00\u4e2a\u88ab\u5305\u542bmakefile\u7684\u641c\u7d22\u76ee\u6807\u3002\u53ef\u4ee5\u4f7f\u7528\u591a\u4e2a\u201c-I\u201d\u53c2\u6570\u6765\u6307\u5b9a\u591a\u4e2a\u76ee\u5f55\u3002</p> </li> <li> <p>\u201c-j [{jobsnum}]\u201d \u201c--jobs[={jobsnum}]\u201d \u6307\u540c\u65f6\u8fd0\u884c\u547d\u4ee4\u7684\u4e2a\u6570\u3002\u5982\u679c\u6ca1\u6709\u8fd9\u4e2a\u53c2\u6570\uff0cmake\u8fd0\u884c\u547d\u4ee4\u65f6\u80fd\u8fd0\u884c\u591a\u5c11\u5c31\u8fd0\u884c\u591a\u5c11\u3002\u5982\u679c\u6709\u4e00\u4e2a\u4ee5\u4e0a\u7684\u201c-j\u201d\u53c2\u6570\uff0c\u90a3\u4e48\u4ec5\u6700\u540e\u4e00\u4e2a\u201c-j\u201d\u624d\u662f\u6709\u6548\u7684\u3002\uff08\u6ce8\u610f\u8fd9\u4e2a\u53c2\u6570\u5728MS-DOS\u4e2d\u662f\u65e0\u7528\u7684\uff09</p> </li> <li> <p>\u201c-k\u201d \u201c--keep-going\u201d \u51fa\u9519\u4e5f\u4e0d\u505c\u6b62\u8fd0\u884c\u3002\u5982\u679c\u751f\u6210\u4e00\u4e2a\u76ee\u6807\u5931\u8d25\u4e86\uff0c\u90a3\u4e48\u4f9d\u8d56\u4e8e\u5176\u4e0a\u7684\u76ee\u6807\u5c31\u4e0d\u4f1a\u88ab\u6267\u884c\u4e86\u3002</p> </li> <li> <p>\u201c-l {load}\u201d \u201c--load-average[={load}]\u201d \u201c\u2014max-load[={load}]\u201d \u6307\u5b9amake\u8fd0\u884c\u547d\u4ee4\u7684\u8d1f\u8f7d\u3002</p> </li> <li> <p>\u201c-n\u201d \u201c--just-print\u201d \u201c--dry-run\u201d \u201c--recon\u201d \u4ec5\u8f93\u51fa\u6267\u884c\u8fc7\u7a0b\u4e2d\u7684\u547d\u4ee4\u5e8f\u5217\uff0c\u4f46\u5e76\u4e0d\u6267\u884c\u3002</p> </li> <li> <p>\u201c-o {file}\u201d \u201c--old-file={file}\u201d \u201c--assume-old={file}\u201d \u4e0d\u91cd\u65b0\u751f\u6210\u7684\u6307\u5b9a\u7684{file}\uff0c\u5373\u4f7f\u8fd9\u4e2a\u76ee\u6807\u7684\u4f9d\u8d56\u6587\u4ef6\u65b0\u4e8e\u5b83\u3002</p> </li> <li> <p>\u201c-p\u201d \u201c--print-data-base\u201d \u8f93\u51famakefile\u4e2d\u7684\u6240\u6709\u6570\u636e\uff0c\u5305\u62ec\u6240\u6709\u7684\u89c4\u5219\u548c\u53d8\u91cf\u3002\u8fd9\u4e2a\u53c2\u6570\u4f1a\u8ba9\u4e00\u4e2a\u7b80\u5355\u7684makefile\u90fd\u4f1a\u8f93\u51fa\u4e00\u5806\u4fe1\u606f\u3002 \u5982\u679c\u4f60\u53ea\u662f\u60f3\u8f93\u51fa\u4fe1\u606f\u800c\u4e0d\u60f3\u6267\u884cmakefile\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u201cmake -qp\u201d\u547d\u4ee4\u3002 \u5982\u679c\u4f60\u60f3\u67e5\u770b\u6267\u884cmakefile\u524d\u7684\u9884\u8bbe\u53d8\u91cf\u548c\u89c4\u5219\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u201cmake \u2013p \u2013f /dev/null\u201d\u3002\u8fd9\u4e2a\u53c2\u6570\u8f93\u51fa\u7684\u4fe1\u606f\u4f1a\u5305\u542b\u7740\u4f60\u7684makefile\u6587\u4ef6\u7684\u6587\u4ef6\u540d\u548c\u884c\u53f7\uff0c\u7528\u8fd9\u4e2a\u53c2\u6570\u6765\u8c03\u8bd5\u4f60\u7684makefile\u4f1a\u662f\u5f88\u6709\u7528\u7684\uff0c\u7279\u522b\u662f\u5f53\u4f60\u7684\u73af\u5883\u53d8\u91cf\u5f88\u590d\u6742\u7684\u65f6\u5019\u3002</p> </li> <li> <p>\u201c-q\u201d \u201c--question\u201d \u4e0d\u8fd0\u884c\u547d\u4ee4\uff0c\u4e5f\u4e0d\u8f93\u51fa\u3002\u4ec5\u4ec5\u662f\u68c0\u67e5\u6240\u6307\u5b9a\u7684\u76ee\u6807\u662f\u5426\u9700\u8981\u66f4\u65b0\u3002\u5982\u679c\u662f0\uff0c\u5219\u8bf4\u660e\u8981\u66f4\u65b0\uff1b\u5982\u679c\u662f2\uff0c\u5219\u8bf4\u660e\u6709\u9519\u8bef\u53d1\u751f\u3002</p> </li> <li> <p>\u201c-r\u201d \u201c--no-builtin-rules\u201d \u7981\u6b62make\u4f7f\u7528\u4efb\u4f55\u9690\u542b\u89c4\u5219\u3002</p> </li> <li> <p>\u201c-R\u201d \u201c--no-builtin-variabes\u201d \u7981\u6b62make\u4f7f\u7528\u4efb\u4f55\u5f71\u54cd\u9690\u542b\u89c4\u5219\u7684\u53d8\u91cf\u5b9a\u4e49\u3002</p> </li> <li> <p>\u201c-s\u201d \u201c--silent\u201d \u201c--quiet\u201d \u5728\u547d\u4ee4\u8fd0\u884c\u65f6\u4e0d\u8f93\u51fa\u547d\u4ee4\u7684\u8f93\u51fa\u3002</p> </li> <li> <p>\u201c-S\u201d \u201c--no-keep-going\u201d \u201c--stop\u201d \u53d6\u6d88\u201c-k\u201d\u9009\u9879\u7684\u4f5c\u7528\u3002\u56e0\u4e3a\u6709\u4e9b\u65f6\u5019\uff0cmake\u7684\u9009\u9879\u662f\u4ece\u73af\u5883\u53d8\u91cf\u201cMAKEFLAGS\u201d\u4e2d\u7ee7\u627f\u4e0b\u6765\u7684\u3002\u6240\u4ee5\u4f60\u53ef\u4ee5\u5728\u547d\u4ee4\u884c\u4e2d\u4f7f\u7528\u8fd9\u4e2a\u53c2\u6570\u6765\u8ba9\u73af\u5883\u53d8\u91cf\u4e2d\u7684\u201c-k\u201d\u9009\u9879\u5931\u6548\u3002</p> </li> <li> <p>\u201c-t\u201d \u201c--touch\u201d \u76f8\u5f53\u4e8eUNIX\u7684touch\u547d\u4ee4\uff0c\u53ea\u662f\u628a\u76ee\u6807\u7684\u4fee\u6539\u65e5\u671f\u53d8\u6210\u6700\u65b0\u7684\uff0c\u4e5f\u5c31\u662f\u963b\u6b62\u751f\u6210\u76ee\u6807\u7684\u547d\u4ee4\u8fd0\u884c\u3002</p> </li> <li> <p>\u201c-v\u201d \u201c--version\u201d \u8f93\u51famake\u7a0b\u5e8f\u7684\u7248\u672c\u3001\u7248\u6743\u7b49\u5173\u4e8emake\u7684\u4fe1\u606f\u3002</p> </li> <li> <p>\u201c-w\u201d \u201c--print-directory\u201d \u8f93\u51fa\u8fd0\u884cmakefile\u4e4b\u524d\u548c\u4e4b\u540e\u7684\u4fe1\u606f\u3002\u8fd9\u4e2a\u53c2\u6570\u5bf9\u4e8e\u8ddf\u8e2a\u5d4c\u5957\u5f0f\u8c03\u7528make\u65f6\u5f88\u6709\u7528\u3002</p> </li> <li> <p>\u201c--no-print-directory\u201d \u7981\u6b62\u201c-w\u201d\u9009\u9879\u3002</p> </li> <li> <p>\u201c-W {file}\u201d \u201c--what-if={file}\u201d \u201c--new-file={file}\u201d \u201c--assume-file={file}\u201d \u5047\u5b9a\u76ee\u6807{file}\u9700\u8981\u66f4\u65b0\uff0c\u5982\u679c\u548c\u201c-n\u201d\u9009\u9879\u4f7f\u7528\uff0c\u90a3\u4e48\u8fd9\u4e2a\u53c2\u6570\u4f1a\u8f93\u51fa\u8be5\u76ee\u6807\u66f4\u65b0\u65f6\u7684\u8fd0\u884c\u52a8\u4f5c\u3002\u5982\u679c\u6ca1\u6709\u201c-n\u201d\u90a3\u4e48\u5c31\u50cf\u8fd0\u884cUNIX\u7684\u201ctouch\u201d\u547d\u4ee4\u4e00\u6837\uff0c\u4f7f\u5f97{file}\u7684\u4fee\u6539\u65f6\u95f4\u4e3a\u5f53\u524d\u65f6\u95f4\u3002</p> </li> <li> <p>\u201c--warn-undefined-variables\u201d \u53ea\u8981make\u53d1\u73b0\u6709\u672a\u5b9a\u4e49\u7684\u53d8\u91cf\uff0c\u90a3\u4e48\u5c31\u8f93\u51fa\u8b66\u544a\u4fe1\u606f\u3002</p> </li> </ul>","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#_40","title":"\u9690\u542b\u89c4\u5219","text":"<p>\u672c\u7ae0\u8bb2\u8ff0\u7684\u5c31\u662f\u4e00\u4e9b\u5728Makefile\u4e2d\u7684\u9690\u542b\u7684\uff0c\u4e0d\u9700\u8981\u6211\u4eec\u518d\u5199\u51fa\u6765\u7684\u89c4\u5219\u3002</p> <p>\u201c\u9690\u542b\u89c4\u5219\u201d\u662f\u4e00\u79cd\u4e0d\u9700\u8981\u5199\u51fa\u6765\u7684\u89c4\u5219\u3002\u4f8b\u5982\uff0c\u628a.c\u6587\u4ef6\u7f16\u8bd1\u6210.o\u6587\u4ef6\u8fd9\u4e00\u89c4\u5219\uff0c\u6211\u4eec\u4e0d\u7528\u5199\u51fa\u6765\uff0cmake\u4f1a\u81ea\u52a8\u63a8\u5bfc\u51fa\u8fd9\u79cd\u89c4\u5219\uff0c\u5e76\u751f\u6210\u6211\u4eec\u9700\u8981\u7684.o\u6587\u4ef6\u3002</p> <p>\u201c\u9690\u542b\u89c4\u5219\u201d\u4f1a\u4f7f\u7528\u4e00\u4e9b\u7cfb\u7edf\u53d8\u91cf\uff0c\u6211\u4eec\u53ef\u4ee5\u6539\u53d8\u8fd9\u4e9b\u7cfb\u7edf\u53d8\u91cf\u7684\u503c\u6765\u4fee\u6539\u9690\u542b\u89c4\u5219\u8fd0\u884c\u65f6\u7684\u53c2\u6570\u3002\u5982\u7cfb\u7edf\u53d8\u91cf\u201cCFLAGS\u201d\u53ef\u4ee5\u63a7\u5236\u7f16\u8bd1\u65f6\u7684\u7f16\u8bd1\u5668\u53c2\u6570\u3002</p> <p>\uff08\uff1f\uff1f\uff1f\u6211\u4eec\u8fd8\u53ef\u4ee5\u5229\u7528\u201c\u6a21\u5f0f\u89c4\u5219\u201d\u5199\u81ea\u5df1\u7684\u9690\u542b\u89c4\u5219\u3002\u7528\u201c\u540e\u7f00\u89c4\u5219\u201d\u6765\u5b9a\u4e49\u9690\u542b\u89c4\u5219\u4f1a\u6709\u8bb8\u591a\u7684\u9650\u5236\u3002\u4f7f\u7528\u201c\u6a21\u5f0f\u89c4\u5219\u201d\u4f1a\u66f4\u56de\u5f97\u667a\u80fd\u548c\u6e05\u695a\uff0c\u4f46\u201c\u540e\u7f00\u89c4\u5219\u201d\u53ef\u4ee5\u7528\u6765\u4fdd\u8bc1\u6211\u4eecMakefile\u7684\u517c\u5bb9\u6027\u3002\uff09</p>","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#_41","title":"\u4e00\u3001\u4f7f\u7528\u9690\u542b\u89c4\u5219","text":"<p>\u6211\u4eec\u6709\u4e0b\u9762\u8fd9\u6837\u4e00\u4e2aMakefile\uff1a</p> <pre><code>foo : foo.o bar.o\n        cc \u2013o foo foo.o bar.o $(CFLAGS) $(LDFLAGS)\n</code></pre> <p>\u8fd9\u4e2aMakefile\u4e2d\u5e76\u6ca1\u6709\u5199\u4e0b\u751f\u6210foo.o\u548cbar.o\u8fd9\u4e24\u4e2a\u76ee\u6807\u7684\u89c4\u5219\uff0cmake\u7684\u201c\u9690\u542b\u89c4\u5219\u201d\u529f\u80fd\u4f1a\u81ea\u52a8\u4e3a\u6211\u4eec\u81ea\u52a8\u53bb\u63a8\u5bfc\u8fd9\u4e24\u4e2a\u76ee\u6807\u7684\u4f9d\u8d56\u548c\u547d\u4ee4\u3002</p> <p>make\u4f1a\u5728\u81ea\u5df1\u7684\u201c\u9690\u542b\u89c4\u5219\u201d\u5e93\u4e2d\u5bfb\u627e\u53ef\u4ee5\u7528\u7684\u89c4\u5219\uff0c\u5982\u679c\u627e\u5230\uff0c\u5c31\u4f1a\u4f7f\u7528\u3002\u5982\u679c\u627e\u4e0d\u5230\uff0c\u5c31\u4f1a\u62a5\u9519\u3002\u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0cmake\u8c03\u7528\u7684\u9690\u542b\u89c4\u5219\u662f\uff0c\u628a.o\u76ee\u6807\u7684\u4f9d\u8d56\u8bbe\u7f6e\u6210.c\uff0c\u5e76\u4f7f\u7528C\u7684\u7f16\u8bd1\u547d\u4ee4<code>\u201ccc \u2013c $(CFLAGS) .c\u201d</code>\u6765\u751f\u6210.o\u3002</p> <p>\u5728make\u7684\u201c\u9690\u542b\u89c4\u5219\u5e93\u201d\u4e2d\uff0c\u6bcf\u4e00\u6761\u9690\u542b\u89c4\u5219\u90fd\u6709\u5176\u987a\u5e8f\uff0c\u8d8a\u9760\u524d\u7684\u662f\u8d8a\u88ab\u7ecf\u5e38\u4f7f\u7528\u7684\uff0c\u6240\u4ee5\uff0c\u8fd9\u4f1a\u5bfc\u81f4\u6709\u4e9b\u65f6\u5019\u5373\u4f7f\u6211\u4eec\u663e\u793a\u5730\u6307\u5b9a\u4e86\u76ee\u6807\u4f9d\u8d56\uff0cmake\u4e5f\u4e0d\u4f1a\u7ba1\u3002\u5982\u4e0b\u9762\u8fd9\u6761\u89c4\u5219\uff08\u6ca1\u6709\u547d\u4ee4\uff09\uff1a</p> <p><code>foo.o : foo.p</code></p> <p>\u4f9d\u8d56\u6587\u4ef6\u201cfoo.p\u201d\uff08Pascal\u7a0b\u5e8f\u7684\u6e90\u6587\u4ef6\uff09\u6709\u53ef\u80fd\u53d8\u5f97\u6ca1\u6709\u610f\u4e49\u3002\u5982\u679c\u76ee\u5f55\u4e0b\u5b58\u5728\u4e86\u201cfoo.c\u201d\u6587\u4ef6\uff0c\u90a3\u4e48\u6211\u4eec\u7684\u9690\u542b\u89c4\u5219\u4e00\u6837\u4f1a\u751f\u6548\uff0c\u5e76\u4f1a\u901a\u8fc7\u201cfoo.c\u201d\u8c03\u7528C\u7684\u7f16\u8bd1\u5668\u751f\u6210foo.o\u6587\u4ef6\u3002\u56e0\u4e3a\uff0c\u5728\u9690\u542b\u89c4\u5219\u4e2d\uff0cPascal\u7684\u89c4\u5219\u51fa\u73b0\u5728C\u7684\u89c4\u5219\u4e4b\u540e\u3002\u6240\u4ee5\uff0cmake\u627e\u5230\u53ef\u4ee5\u751f\u6210foo.o\u7684C\u7684\u89c4\u5219\u540e\u5c31\u4e0d\u518d\u5bfb\u627e\u4e0b\u4e00\u6761\u89c4\u5219\u4e86\u3002\u5982\u679c\u4f60\u786e\u5b9e\u4e0d\u5e0c\u671b\u4efb\u4f55\u9690\u542b\u89c4\u5219\u63a8\u5bfc\uff0c\u90a3\u4e48\u4f60\u5c31\u4e0d\u8981\u53ea\u5199\u51fa\u201c\u4f9d\u8d56\u89c4\u5219\u201d\uff0c\u800c\u4e0d\u5199\u547d\u4ee4\u3002</p>","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#_42","title":"\u4e8c\u3001\u9690\u542b\u89c4\u5219\u4e00\u89c8","text":"<p>\u8fd9\u91cc\u6211\u4eec\u5c06\u8bb2\u8ff0\u6240\u6709\u9884\u5148\u8bbe\u7f6e\uff08\u4e5f\u5c31\u662fmake\u5185\u5efa\uff09\u7684\u9690\u542b\u89c4\u5219\u3002\u6211\u4eec\u4e5f\u53ef\u4ee5\u4f7f\u7528make\u7684\u53c2\u6570\u201c-r\u201d\u6216\u201c--no-builtin-rules\u201d\u9009\u9879\u6765\u53d6\u6d88\u6240\u6709\u7684\u9884\u8bbe\u7f6e\u7684\u9690\u542b\u89c4\u5219\u3002</p> <p>\u7136\u800c\uff0c\u5373\u4f7f\u662f\u6211\u4eec\u6307\u5b9a\u4e86\u201c-r\u201d\u53c2\u6570\uff0c\u67d0\u4e9b\u9690\u542b\u89c4\u5219\u8fd8\u662f\u4f1a\u751f\u6548\uff0c\u56e0\u4e3a\u6709\u8bb8\u591a\u9690\u542b\u89c4\u5219\u90fd\u662f\u4f7f\u7528\u4e86\u201c\u540e\u7f00\u89c4\u5219\u201d\u6765\u5b9a\u4e49\u7684\u3002\u6240\u4ee5\uff0c\u53ea\u8981\u9690\u542b\u89c4\u5219\u4e2d\u6709\u201c\u540e\u7f00\u5217\u8868\u201d\uff08\u4e5f\u5c31\u662f\u7cfb\u7edf\u5b9a\u4e49\u5728\u76ee\u6807.SUFFIXES\u7684\u4f9d\u8d56\uff09\uff0c\u90a3\u4e48\u9690\u542b\u89c4\u5219\u5c31\u4f1a\u751f\u6548\u3002\u9ed8\u8ba4\u7684\u540e\u7f00\u5217\u8868\u662f\uff1a.out, .a, .ln, .o, .c, .cc, .C, .p, .f, .F, .r, .y, .l, .s, .S, .mod, .sym, .def, .h, .info, .dvi, .tex, .texinfo, .texi, .txinfo, .w, .ch .web, .sh, .elc, .el\u3002\u5177\u4f53\u7684\u7ec6\u8282\uff0c\u6211\u4eec\u4f1a\u5728\u540e\u9762\u8bb2\u8ff0\u3002</p> <p>\u4ee5\u4e0b\u662f\u5e38\u7528\u7684\u9690\u542b\u89c4\u5219\uff1a</p> <p>1\u3001\u7f16\u8bd1C\u7a0b\u5e8f\u7684\u9690\u542b\u89c4\u5219\u3002 \u201c{n}.o\u201d\u76ee\u6807\u7684\u4f9d\u8d56\u4f1a\u81ea\u52a8\u63a8\u5bfc\u4e3a\u201c{n}.c\u201d\uff0c\u5e76\u4e14\u5176\u751f\u6210\u547d\u4ee4\u662f<code>\u201c$(CC) \u2013c $(CPPFLAGS) $(CFLAGS)\u201d</code></p> <p>2\u3001\u7f16\u8bd1C++\u7a0b\u5e8f\u7684\u9690\u542b\u89c4\u5219\u3002 \u201c{n}.o\u201d\u7684\u76ee\u6807\u7684\u4f9d\u8d56\u76ee\u6807\u4f1a\u81ea\u52a8\u63a8\u5bfc\u4e3a\u201c{n}.cc\u201d\u6216\u662f\u201c{n}.C\u201d\uff0c\u5e76\u4e14\u5176\u751f\u6210\u547d\u4ee4\u662f<code>\u201c$(CXX) \u2013c $(CPPFLAGS) $(CFLAGS)\u201d</code>\u3002\uff08\u5efa\u8bae\u4f7f\u7528\u201c.cc\u201d\u4f5c\u4e3aC++\u6e90\u6587\u4ef6\u7684\u540e\u7f00\uff0c\u800c\u4e0d\u662f\u201c.C\u201d\uff09</p> <p>3\u3001\u7f16\u8bd1Pascal\u7a0b\u5e8f\u7684\u9690\u542b\u89c4\u5219\u3002 \u201c{n}.o\u201d\u7684\u76ee\u6807\u7684\u4f9d\u8d56\u76ee\u6807\u4f1a\u81ea\u52a8\u63a8\u5bfc\u4e3a\u201c{n}.p\u201d\uff0c\u5e76\u4e14\u5176\u751f\u6210\u547d\u4ee4\u662f<code>\u201c$(PC) \u2013c  $(PFLAGS)\u201d</code>\u3002</p> <p>4\u3001\u7f16\u8bd1Fortran/Ratfor\u7a0b\u5e8f\u7684\u9690\u542b\u89c4\u5219\u3002 \u201c{n}.o\u201d\u7684\u76ee\u6807\u7684\u4f9d\u8d56\u76ee\u6807\u4f1a\u81ea\u52a8\u63a8\u5bfc\u4e3a\u201c{n}.r\u201d\u6216\u201c{n}.F\u201d\u6216\u201c{n}.f\u201d\uff0c\u5e76\u4e14\u5176\u751f\u6210\u547d\u4ee4\u662f: <code>\u201c.f\u201d  \u201c$(FC) \u2013c  $(FFLAGS)\u201d</code> <code>\u201c.F\u201d  \u201c$(FC) \u2013c  $(FFLAGS) $(CPPFLAGS)\u201d</code> <code>\u201c.f\u201d  \u201c$(FC) \u2013c  $(FFLAGS) $(RFLAGS)\u201d</code></p> <p>5\u3001\u9884\u5904\u7406Fortran/Ratfor\u7a0b\u5e8f\u7684\u9690\u542b\u89c4\u5219\u3002 \u201c{n}.f\u201d\u7684\u76ee\u6807\u7684\u4f9d\u8d56\u76ee\u6807\u4f1a\u81ea\u52a8\u63a8\u5bfc\u4e3a\u201c{n}.r\u201d\u6216\u201c{n}.F\u201d\u3002\u8fd9\u4e2a\u89c4\u5219\u53ea\u662f\u8f6c\u6362Ratfor\u6216\u6709\u9884\u5904\u7406\u7684Fortran\u7a0b\u5e8f\u5230\u4e00\u4e2a\u6807\u51c6\u7684Fortran\u7a0b\u5e8f\u3002\u5176\u4f7f\u7528\u7684\u547d\u4ee4\u662f\uff1a <code>\u201c.F\u201d  \u201c$(FC) \u2013F $(CPPFLAGS) $(FFLAGS)\u201d</code> <code>\u201c.r\u201d  \u201c$(FC) \u2013F $(FFLAGS) $(RFLAGS)\u201d</code></p> <p>6\u3001\u7f16\u8bd1Modula-2\u7a0b\u5e8f\u7684\u9690\u542b\u89c4\u5219\u3002 \u201c{n}.sym\u201d\u7684\u76ee\u6807\u7684\u4f9d\u8d56\u76ee\u6807\u4f1a\u81ea\u52a8\u63a8\u5bfc\u4e3a\u201c{n}.def\u201d\uff0c\u5e76\u4e14\u5176\u751f\u6210\u547d\u4ee4\u662f\uff1a<code>\u201c$(M2C) $(M2FLAGS) $(DEFFLAGS)\u201d</code>\u3002\u201c{n.o}\u201d \u7684\u76ee\u6807\u7684\u4f9d\u8d56\u76ee\u6807\u4f1a\u81ea\u52a8\u63a8\u5bfc\u4e3a\u201c{n}.mod\u201d\uff0c\u5e76\u4e14\u5176\u751f\u6210\u547d\u4ee4\u662f\uff1a<code>\u201c$(M2C) $(M2FLAGS) $(MODFLAGS)\u201d</code>\u3002</p> <p>7\u3001\u6c47\u7f16\u548c\u6c47\u7f16\u9884\u5904\u7406\u7684\u9690\u542b\u89c4\u5219\u3002 \u201c{n}.o\u201d \u7684\u76ee\u6807\u7684\u4f9d\u8d56\u76ee\u6807\u4f1a\u81ea\u52a8\u63a8\u5bfc\u4e3a\u201c{n}.s\u201d\uff0c\u9ed8\u8ba4\u4f7f\u7528\u7f16\u8bd1\u54c1\u201cas\u201d\uff0c\u5e76\u4e14\u5176\u751f\u6210\u547d\u4ee4\u662f\uff1a<code>\u201c$(AS) $(ASFLAGS)\u201d</code>\u3002\u201c{n}.s\u201d \u7684\u76ee\u6807\u7684\u4f9d\u8d56\u76ee\u6807\u4f1a\u81ea\u52a8\u63a8\u5bfc\u4e3a\u201c{n}.S\u201d\uff0c\u9ed8\u8ba4\u4f7f\u7528C\u9884\u7f16\u8bd1\u5668\u201ccpp\u201d\uff0c\u5e76\u4e14\u5176\u751f\u6210\u547d\u4ee4\u662f\uff1a<code>\u201c$(AS) $(ASFLAGS)\u201d</code>\u3002</p> <p>8\u3001\u94fe\u63a5Object\u6587\u4ef6\u7684\u9690\u542b\u89c4\u5219\u3002 \u201c{n}\u201d\u76ee\u6807\u4f9d\u8d56\u4e8e\u201c{n}.o\u201d\uff0c\u901a\u8fc7\u8fd0\u884cC\u7684\u7f16\u8bd1\u5668\u6765\u8fd0\u884c\u94fe\u63a5\u7a0b\u5e8f\u751f\u6210\uff08\u4e00\u822c\u662f\u201cld\u201d\uff09\uff0c\u5176\u751f\u6210\u547d\u4ee4\u662f\uff1a<code>\u201c$(CC) $(LDFLAGS) {n}.o $(LOADLIBES) $(LDLIBS)\u201d</code>\u3002\u8fd9\u4e2a\u89c4\u5219\u5bf9\u4e8e\u53ea\u6709\u4e00\u4e2a\u6e90\u6587\u4ef6\u7684\u5de5\u7a0b\u6709\u6548\uff0c\u540c\u65f6\u4e5f\u5bf9\u591a\u4e2aObject\u6587\u4ef6\uff08\u7531\u4e0d\u540c\u7684\u6e90\u6587\u4ef6\u751f\u6210\uff09\u7684\u4e5f\u6709\u6548\u3002\u4f8b\u5982\u5982\u4e0b\u89c4\u5219\uff1a <code>x : y.o z.o</code> \u5e76\u4e14\u201cx.c\u201d\u3001\u201cy.c\u201d\u548c\u201cz.c\u201d\u90fd\u5b58\u5728\u65f6\uff0c\u9690\u542b\u89c4\u5219\u5c06\u6267\u884c\u5982\u4e0b\u547d\u4ee4\uff1a</p> <pre><code>    cc -c x.c -o x.o\n    cc -c y.c -o y.o\n    cc -c z.c -o z.o\n    cc x.o y.o z.o -o x\n    rm -f x.o\n    rm -f y.o\n    rm -f z.o\n</code></pre> <p>\u5982\u679c\u6ca1\u6709\u4e00\u4e2a\u6e90\u6587\u4ef6\uff08\u5982\u4e0a\u4f8b\u4e2d\u7684x.c\uff09\u548c\u4f60\u7684\u76ee\u6807\u540d\u5b57\uff08\u5982\u4e0a\u4f8b\u4e2d\u7684x\uff09\u76f8\u5173\u8054\uff0c\u90a3\u4e48\uff0c\u4f60\u6700\u597d\u5199\u51fa\u81ea\u5df1\u7684\u751f\u6210\u89c4\u5219\uff0c\u4e0d\u7136\uff0c\u9690\u542b\u89c4\u5219\u4f1a\u62a5\u9519\u7684\u3002</p> <p>9\u3001Yacc C\u7a0b\u5e8f\u65f6\u7684\u9690\u542b\u89c4\u5219\u3002 \u201c{n}.c\u201d\u7684\u4f9d\u8d56\u6587\u4ef6\u88ab\u81ea\u52a8\u63a8\u5bfc\u4e3a\u201cn.y\u201d\uff08Yacc\u751f\u6210\u7684\u6587\u4ef6\uff09\uff0c\u5176\u751f\u6210\u547d\u4ee4\u662f\uff1a<code>\u201c$(YACC) $(YFALGS)\u201d</code>\u3002\uff08\u201cYacc\u201d\u662f\u4e00\u4e2a\u8bed\u6cd5\u5206\u6790\u5668\uff0c\u5173\u4e8e\u5176\u7ec6\u8282\u8bf7\u67e5\u770b\u76f8\u5173\u8d44\u6599\uff09</p> <p>10\u3001Lex C\u7a0b\u5e8f\u65f6\u7684\u9690\u542b\u89c4\u5219\u3002 \u201c{n}.c\u201d\u7684\u4f9d\u8d56\u6587\u4ef6\u88ab\u81ea\u52a8\u63a8\u5bfc\u4e3a\u201cn.l\u201d\uff08Lex\u751f\u6210\u7684\u6587\u4ef6\uff09\uff0c\u5176\u751f\u6210\u547d\u4ee4\u662f\uff1a<code>\u201c$(LEX) $(LFALGS)\u201d</code>\u3002\uff08\u5173\u4e8e\u201cLex\u201d\u7684\u7ec6\u8282\u8bf7\u67e5\u770b\u76f8\u5173\u8d44\u6599\uff09</p> <p>11\u3001Lex Ratfor\u7a0b\u5e8f\u65f6\u7684\u9690\u542b\u89c4\u5219\u3002 \u201c{n}.r\u201d\u7684\u4f9d\u8d56\u6587\u4ef6\u88ab\u81ea\u52a8\u63a8\u5bfc\u4e3a\u201cn.l\u201d\uff08Lex\u751f\u6210\u7684\u6587\u4ef6\uff09\uff0c\u5176\u751f\u6210\u547d\u4ee4\u662f\uff1a<code>\u201c$(LEX) $(LFALGS)\u201d</code>\u3002</p> <p>12\u3001\u4eceC\u7a0b\u5e8f\u3001Yacc\u6587\u4ef6\u6216Lex\u6587\u4ef6\u521b\u5efaLint\u5e93\u7684\u9690\u542b\u89c4\u5219\u3002 \u201c{n}.ln\u201d \uff08lint\u751f\u6210\u7684\u6587\u4ef6\uff09\u7684\u4f9d\u8d56\u6587\u4ef6\u88ab\u81ea\u52a8\u63a8\u5bfc\u4e3a\u201cn.c\u201d\uff0c\u5176\u751f\u6210\u547d\u4ee4\u662f\uff1a<code>\u201c$(LINT) $(LINTFALGS) $(CPPFLAGS) -i\u201d</code>\u3002\u5bf9\u4e8e\u201c{n}.y\u201d\u548c\u201c{n}.l\u201d\u4e5f\u662f\u540c\u6837\u7684\u89c4\u5219\u3002</p>","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#_43","title":"\u4e09\u3001\u9690\u542b\u89c4\u5219\u4f7f\u7528\u7684\u53d8\u91cf","text":"<p>\u9690\u542b\u89c4\u5219\u57fa\u672c\u4e0a\u90fd\u4f7f\u7528\u4e86\u4e00\u4e9b\u9884\u5148\u8bbe\u7f6e\u7684\u53d8\u91cf\uff0c\u4f60\u53ef\u4ee5\u5728\u4f60\u7684makefile\u4e2d\u6539\u53d8\u8fd9\u4e9b\u53d8\u91cf\u7684\u503c\uff0c\u6216\u662f\u5728make\u7684\u547d\u4ee4\u884c\u4e2d\u4f20\u5165\u8fd9\u4e9b\u503c\uff0c\u6216\u662f\u5728\u4f60\u7684\u73af\u5883\u53d8\u91cf\u4e2d\u8bbe\u7f6e\u8fd9\u4e9b\u503c\u3002\u65e0\u8bba\u600e\u4e48\u6837\uff0c\u53ea\u8981\u8bbe\u7f6e\u4e86\u8fd9\u4e9b\u7279\u5b9a\u7684\u53d8\u91cf\uff0c\u90a3\u4e48\u5c31\u4f1a\u5bf9\u9690\u542b\u89c4\u5219\u8d77\u4f5c\u7528\u3002\u4f60\u4e5f\u53ef\u4ee5\u5229\u7528make\u7684\u201c-R\u201d\u6216\u201c--no\u2013builtin-variables\u201d\u53c2\u6570\u6765\u53d6\u6d88\u4f60\u6240\u5b9a\u4e49\u7684\u53d8\u91cf\u5bf9\u9690\u542b\u89c4\u5219\u7684\u4f5c\u7528\u3002</p> <p>\u4f8b\u5982\uff0c\u7b2c\u4e00\u6761\u9690\u542b\u89c4\u5219\u2014\u2014\u7f16\u8bd1C\u7a0b\u5e8f\u7684\u9690\u542b\u89c4\u5219\u7684\u547d\u4ee4\u662f<code>\u201c$(CC) \u2013c $(CFLAGS) $(CPPFLAGS)\u201d</code>\u3002Make\u9ed8\u8ba4\u7684\u7f16\u8bd1\u547d\u4ee4\u662f\u201ccc\u201d\uff0c\u5982\u679c\u4f60\u628a\u53d8\u91cf<code>\u201c$(CC)\u201d</code>\u91cd\u5b9a\u4e49\u6210\u201cgcc\u201d\uff0c\u628a\u53d8\u91cf<code>\u201c$(CFLAGS)\u201d</code>\u91cd\u5b9a\u4e49\u6210\u201c-g\u201d\uff0c\u90a3\u4e48\uff0c\u9690\u542b\u89c4\u5219\u4e2d\u7684\u547d\u4ee4\u5168\u90e8\u4f1a\u4ee5<code>\u201cgcc \u2013c -g $(CPPFLAGS)\u201d</code>\u6765\u6267\u884c\u4e86\u3002</p> <p>\u6211\u4eec\u53ef\u4ee5\u628a\u9690\u542b\u89c4\u5219\u4e2d\u4f7f\u7528\u7684\u53d8\u91cf\u5206\u6210\u4e24\u79cd\uff1a\u4e00\u79cd\u662f\u547d\u4ee4\u76f8\u5173\u7684\uff0c\u5982\u201cCC\u201d\uff1b\u4e00\u79cd\u662f\u53c2\u6570\u76f8\u7684\u5173\uff0c\u5982\u201cCFLAGS\u201d\u3002\u4e0b\u9762\u662f\u6240\u6709\u9690\u542b\u89c4\u5219\u4e2d\u4f1a\u7528\u5230\u7684\u53d8\u91cf\uff1a</p> <p>1\u3001\u5173\u4e8e\u547d\u4ee4\u7684\u53d8\u91cf\u3002</p> <p>AR \u2003\u2003\u51fd\u6570\u5e93\u6253\u5305\u7a0b\u5e8f\u3002\u9ed8\u8ba4\u547d\u4ee4\u662f\u201car\u201d\u3002 AS \u2003\u2003\u6c47\u7f16\u8bed\u8a00\u7f16\u8bd1\u7a0b\u5e8f\u3002\u9ed8\u8ba4\u547d\u4ee4\u662f\u201cas\u201d\u3002 CC \u2003\u2003C\u8bed\u8a00\u7f16\u8bd1\u7a0b\u5e8f\u3002\u9ed8\u8ba4\u547d\u4ee4\u662f\u201ccc\u201d\u3002 CXX \u2003\u2003C++\u8bed\u8a00\u7f16\u8bd1\u7a0b\u5e8f\u3002\u9ed8\u8ba4\u547d\u4ee4\u662f\u201cg++\u201d\u3002 CO \u2003\u2003\u4ece RCS\u6587\u4ef6\u4e2d\u6269\u5c55\u6587\u4ef6\u7a0b\u5e8f\u3002\u9ed8\u8ba4\u547d\u4ee4\u662f\u201cco\u201d\u3002 CPP \u2003\u2003C\u7a0b\u5e8f\u7684\u9884\u5904\u7406\u5668\uff08\u8f93\u51fa\u662f\u6807\u51c6\u8f93\u51fa\u8bbe\u5907\uff09\u3002\u9ed8\u8ba4\u547d\u4ee4\u662f\u201c$(CC) \u2013E\u201d\u3002 FC \u2003\u2003Fortran \u548c Ratfor \u7684\u7f16\u8bd1\u5668\u548c\u9884\u5904\u7406\u7a0b\u5e8f\u3002\u9ed8\u8ba4\u547d\u4ee4\u662f\u201cf77\u201d\u3002 GET \u2003\u2003\u4eceSCCS\u6587\u4ef6\u4e2d\u6269\u5c55\u6587\u4ef6\u7684\u7a0b\u5e8f\u3002\u9ed8\u8ba4\u547d\u4ee4\u662f\u201cget\u201d\u3002 LEX \u2003\u2003Lex\u65b9\u6cd5\u5206\u6790\u5668\u7a0b\u5e8f\uff08\u9488\u5bf9\u4e8eC\u6216Ratfor\uff09\u3002\u9ed8\u8ba4\u547d\u4ee4\u662f\u201clex\u201d\u3002 PC \u2003\u2003Pascal\u8bed\u8a00\u7f16\u8bd1\u7a0b\u5e8f\u3002\u9ed8\u8ba4\u547d\u4ee4\u662f\u201cpc\u201d\u3002 YACC \u2003\u2003Yacc\u6587\u6cd5\u5206\u6790\u5668\uff08\u9488\u5bf9\u4e8eC\u7a0b\u5e8f\uff09\u3002\u9ed8\u8ba4\u547d\u4ee4\u662f\u201cyacc\u201d\u3002 YACCR \u2003\u2003Yacc\u6587\u6cd5\u5206\u6790\u5668\uff08\u9488\u5bf9\u4e8eRatfor\u7a0b\u5e8f\uff09\u3002\u9ed8\u8ba4\u547d\u4ee4\u662f\u201cyacc \u2013r\u201d\u3002 MAKEINFO \u2003\u2003\u8f6c\u6362Texinfo\u6e90\u6587\u4ef6\uff08.texi\uff09\u5230Info\u6587\u4ef6\u7a0b\u5e8f\u3002\u9ed8\u8ba4\u547d\u4ee4\u662f\u201cmakeinfo\u201d\u3002 TEX \u2003\u2003\u4eceTeX\u6e90\u6587\u4ef6\u521b\u5efaTeX DVI\u6587\u4ef6\u7684\u7a0b\u5e8f\u3002\u9ed8\u8ba4\u547d\u4ee4\u662f\u201ctex\u201d\u3002 TEXI2DVI \u2003\u2003\u4eceTexinfo\u6e90\u6587\u4ef6\u521b\u5efa\u519bTeX DVI \u6587\u4ef6\u7684\u7a0b\u5e8f\u3002\u9ed8\u8ba4\u547d\u4ee4\u662f\u201ctexi2dvi\u201d\u3002 WEAVE \u2003\u2003\u8f6c\u6362Web\u5230TeX\u7684\u7a0b\u5e8f\u3002\u9ed8\u8ba4\u547d\u4ee4\u662f\u201cweave\u201d\u3002 CWEAVE \u2003\u2003\u8f6c\u6362C Web \u5230 TeX\u7684\u7a0b\u5e8f\u3002\u9ed8\u8ba4\u547d\u4ee4\u662f\u201ccweave\u201d\u3002 TANGLE \u2003\u2003\u8f6c\u6362Web\u5230Pascal\u8bed\u8a00\u7684\u7a0b\u5e8f\u3002\u9ed8\u8ba4\u547d\u4ee4\u662f\u201ctangle\u201d\u3002 CTANGLE \u2003\u2003\u8f6c\u6362C Web \u5230 C\u3002\u9ed8\u8ba4\u547d\u4ee4\u662f\u201cctangle\u201d\u3002 RM \u2003\u2003\u5220\u9664\u6587\u4ef6\u547d\u4ee4\u3002\u9ed8\u8ba4\u547d\u4ee4\u662f\u201crm \u2013f\u201d\u3002</p> <p>2\u3001\u5173\u4e8e\u547d\u4ee4\u53c2\u6570\u7684\u53d8\u91cf</p> <p>\u4e0b\u9762\u7684\u8fd9\u4e9b\u53d8\u91cf\u90fd\u662f\u4e0a\u9762\u7684\u547d\u4ee4\u7684\u53c2\u6570\u3002\u5176\u9ed8\u8ba4\u503c\u90fd\u662f\u7a7a\u3002</p> <p>ARFLAGS \u2003\u2003\u51fd\u6570\u5e93\u6253\u5305\u7a0b\u5e8fAR\u547d\u4ee4\u7684\u53c2\u6570\u3002\u9ed8\u8ba4\u503c\u662f\u201crv\u201d\u3002 ASFLAGS \u2003\u2003\u6c47\u7f16\u8bed\u8a00\u7f16\u8bd1\u5668\u53c2\u6570\u3002\uff08\u5f53\u660e\u663e\u5730\u8c03\u7528\u201c.s\u201d\u6216\u201c.S\u201d\u6587\u4ef6\u65f6\uff09\u3002 CFLAGS \u2003\u2003C\u8bed\u8a00\u7f16\u8bd1\u5668\u53c2\u6570\u3002 CXXFLAGS \u2003\u2003C++\u8bed\u8a00\u7f16\u8bd1\u5668\u53c2\u6570\u3002 COFLAGS \u2003\u2003RCS\u547d\u4ee4\u53c2\u6570\u3002 CPPFLAGS \u2003\u2003C\u9884\u5904\u7406\u5668\u53c2\u6570\u3002\uff08 C \u548c Fortran \u7f16\u8bd1\u5668\u4e5f\u4f1a\u7528\u5230\uff09\u3002 FFLAGS \u2003\u2003Fortran\u8bed\u8a00\u7f16\u8bd1\u5668\u53c2\u6570\u3002 GFLAGS \u2003\u2003SCCS \u201cget\u201d\u7a0b\u5e8f\u53c2\u6570\u3002 LDFLAGS \u2003\u2003\u94fe\u63a5\u5668\u53c2\u6570\u3002\uff08\u5982\uff1a\u201cld\u201d\uff09 LFLAGS \u2003\u2003Lex\u6587\u6cd5\u5206\u6790\u5668\u53c2\u6570\u3002 PFLAGS \u2003\u2003Pascal\u8bed\u8a00\u7f16\u8bd1\u5668\u53c2\u6570\u3002 RFLAGS \u2003\u2003Ratfor \u7a0b\u5e8f\u7684Fortran \u7f16\u8bd1\u5668\u53c2\u6570\u3002 YFLAGS \u2003\u2003Yacc\u6587\u6cd5\u5206\u6790\u5668\u53c2\u6570\u3002  </p>","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#_44","title":"\u56db\u3001\u9690\u542b\u89c4\u5219\u94fe","text":"<p>\u6709\u4e9b\u65f6\u5019\uff0c\u4e00\u4e2a\u76ee\u6807\u53ef\u80fd\u88ab\u4e00\u7cfb\u5217\u7684\u9690\u542b\u89c4\u5219\u6240\u4f5c\u7528\u3002\u4f8b\u5982\uff0c\u4e00\u4e2a.o\u6587\u4ef6\u7684\u751f\u6210\uff0c\u53ef\u80fd\u4f1a\u662f\u5148\u901a\u8fc7Yacc\u7684.y\u6587\u4ef6\u751f\u6210.c\uff0c\u7136\u540e\u518d\u88abC\u7684\u7f16\u8bd1\u5668\u751f\u6210\u3002\u6211\u4eec\u628a\u8fd9\u4e00\u7cfb\u5217\u7684\u9690\u542b\u89c4\u5219\u53eb\u505a\u201c\u9690\u542b\u89c4\u5219\u94fe\u201d\u3002</p> <p>\u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u5982\u679c\u6587\u4ef6.c\u5b58\u5728\uff0c\u90a3\u4e48\u5c31\u76f4\u63a5\u8c03\u7528C\u7f16\u8bd1\u5668\u7684\u9690\u542b\u89c4\u5219\u3002\u5982\u679c\u6ca1\u6709.c\u6587\u4ef6\uff0c\u4f46\u6709\u4e00\u4e2a.y\u6587\u4ef6\uff0c\u90a3\u4e48Yacc\u7684\u9690\u542b\u89c4\u5219\u4f1a\u88ab\u8c03\u7528\uff0c\u751f\u6210.c\u6587\u4ef6\uff0c\u7136\u540e\u518d\u8c03\u7528C\u7f16\u8bd1\u7684\u9690\u542b\u89c4\u5219\u751f\u6210.o\u6587\u4ef6\uff0c\u6700\u7ec8\u8fbe\u5230\u76ee\u6807\u3002</p> <p>\u6211\u4eec\u628a\u8fd9\u79cd.c\u6587\u4ef6\u53eb\u505a\u4e2d\u95f4\u76ee\u6807\u3002\u4e0d\u7ba1\u600e\u4e48\u6837\uff0cmake\u4f1a\u52aa\u529b\u81ea\u52a8\u63a8\u5bfc\u751f\u6210\u76ee\u6807\u7684\u4e00\u5207\u65b9\u6cd5\uff0c\u4e0d\u7ba1\u4e2d\u95f4\u76ee\u6807\u6709\u591a\u5c11\u3002\u6240\u4ee5\u6709\u4e9b\u65f6\u5019\u53ef\u80fd\u4f1a\u8ba9\u4f60\u89c9\u5f97\u5947\u602a\uff0c\u600e\u4e48\u6211\u7684\u76ee\u6807\u4f1a\u8fd9\u6837\u751f\u6210\uff1f\u600e\u4e48\u6211\u7684makefile\u53d1\u75af\u4e86\uff1f</p> <p>\u5728\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u4e2d\u95f4\u76ee\u6807\u548c\u4e00\u822c\u7684\u76ee\u6807\u5728\u4e24\u4e2a\u5730\u65b9\u6709\u6240\u4e0d\u540c\uff1a\uff081\uff09\u53ea\u6709\u4e2d\u95f4\u76ee\u6807\u4e0d\u5b58\u5728\u65f6\u624d\u4f1a\u5f15\u53d1\u4e2d\u95f4\u89c4\u5219\u3002\uff082\uff09\u53ea\u8981\u6210\u529f\u751f\u6210\u6700\u7ec8\u76ee\u6807\uff0c\u6240\u4ea7\u751f\u7684\u4e2d\u95f4\u76ee\u6807\u6587\u4ef6\u4f1a\u88ab\u4ee5\u201crm -f\u201d\u5220\u9664\u3002</p> <p>\u901a\u5e38\uff0c\u4e00\u4e2a\u88abmakefile\u6307\u5b9a\u6210\u76ee\u6807\u6216\u4f9d\u8d56\u7684\u6587\u4ef6\u4e0d\u80fd\u88ab\u5f53\u4f5c\u4e2d\u4ecb\u3002\u7136\u800c\uff0c\u4f60\u53ef\u4ee5\u660e\u786e\u5730\u6307\u5b9a\u4e00\u4e2a\u6587\u4ef6\u6216\u76ee\u6807\u4e3a\u4e2d\u4ecb\u76ee\u6807\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u4f2a\u76ee\u6807\u201c.INTERMEDIATE\u201d\u6765\u5f3a\u5236\u58f0\u660e\u3002\uff08\u5982\uff1a.INTERMEDIATE : mid \uff09</p> <p>\u4f60\u4e5f\u53ef\u4ee5\u963b\u6b62make\u81ea\u52a8\u5220\u9664\u4e2d\u95f4\u76ee\u6807\u3002\u8981\u505a\u5230\u8fd9\u4e00\u70b9\uff0c\u4f7f\u7528\u4f2a\u76ee\u6807\u201c.SECONDARY\u201d\u6765\u5f3a\u5236\u58f0\u660e\uff08\u5982\uff1a.SECONDARY : sec\uff09\u3002\u4f60\u8fd8\u53ef\u4ee5\u628a\u4f60\u7684\u76ee\u6807\u4ee5\u6a21\u5f0f\u7684\u65b9\u5f0f\uff08\u5982\uff1a%.o\uff09\u6765\u6307\u5b9a\u6210\u4f2a\u76ee\u6807\u201c.PRECIOUS\u201d\u7684\u4f9d\u8d56\uff0c\u4ee5\u4fdd\u7559\u88ab\u9690\u542b\u89c4\u5219\u751f\u6210\u7684\u4e2d\u95f4\u6587\u4ef6\u3002</p> <p>\u5728\u201c\u9690\u542b\u89c4\u5219\u94fe\u201d\u4e2d\uff0c\u7981\u6b62\u540c\u4e00\u4e2a\u76ee\u6807\u51fa\u73b0\u4e24\u6b21\u6216\u4e24\u6b21\u4ee5\u4e0a\uff0c\u8fd9\u6837\u4e00\u6765\uff0c\u5c31\u53ef\u9632\u6b62\u5728make\u81ea\u52a8\u63a8\u5bfc\u65f6\u51fa\u73b0\u65e0\u9650\u9012\u5f52\u7684\u60c5\u51b5\u3002</p> <p>Make\u4f1a\u4f18\u5316\u4e00\u4e9b\u7279\u6b8a\u7684\u9690\u542b\u89c4\u5219\uff0c\u800c\u4e0d\u751f\u6210\u4e2d\u95f4\u6587\u4ef6\u3002\u5982\uff0c\u4ece\u6587\u4ef6\u201cfoo.c\u201d\u751f\u6210\u76ee\u6807\u7a0b\u5e8f\u201cfoo\u201d\uff0c\u6309\u9053\u7406\uff0cmake\u4f1a\u7f16\u8bd1\u751f\u6210\u4e2d\u95f4\u6587\u4ef6\u201cfoo.o\u201d\uff0c\u7136\u540e\u94fe\u63a5\u6210\u201cfoo\u201d\uff0c\u4f46\u5728\u5b9e\u9645\u60c5\u51b5\u4e0b\uff0c\u8fd9\u4e00\u52a8\u4f5c\u53ef\u4ee5\u88ab\u4e00\u6761\u201ccc\u201d\u7684\u547d\u4ee4\u5b8c\u6210\uff08cc \u2013o foo foo.c\uff09\uff0c\u4e8e\u662f\u4f18\u5316\u8fc7\u7684\u89c4\u5219\u5c31\u4e0d\u4f1a\u751f\u6210\u4e2d\u95f4\u6587\u4ef6\u3002</p>","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#_45","title":"\u4e94\u3001\u5b9a\u4e49\u6a21\u5f0f\u89c4\u5219","text":"<p>\u4f60\u53ef\u4ee5\u4f7f\u7528\u6a21\u5f0f\u89c4\u5219\u6765\u5b9a\u4e49\u4e00\u4e2a\u9690\u542b\u89c4\u5219\u3002\u5728\u6a21\u5f0f\u89c4\u5219\u4e2d\uff0c\u76ee\u6807\u7684\u5b9a\u4e49\u9700\u8981\u6709\"%\"\u5b57\u7b26\u3002\"%\"\u7684\u610f\u601d\u662f\u8868\u793a\u4e00\u4e2a\u6216\u591a\u4e2a\u4efb\u610f\u5b57\u7b26\u3002\u5728\u4f9d\u8d56\u4e2d\u540c\u6837\u53ef\u4ee5\u4f7f\u7528\"%\"\uff0c\u53ea\u662f\u4f9d\u8d56\u4e2d\u7684\"%\"\u7684\u53d6\u503c\u53d6\u51b3\u4e8e\u5176\u76ee\u6807\u3002</p> <p>\u6709\u4e00\u70b9\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\"%\"\u7684\u5c55\u5f00\u53d1\u751f\u5728\u53d8\u91cf\u548c\u51fd\u6570\u7684\u5c55\u5f00\u4e4b\u540e\uff0c\u53d8\u91cf\u548c\u51fd\u6570\u7684\u5c55\u5f00\u53d1\u751f\u5728make\u8f7d\u5165Makefile\u65f6\uff0c\u800c\u6a21\u5f0f\u89c4\u5219\u4e2d\u7684\"%\"\u5219\u53d1\u751f\u5728\u8fd0\u884c\u65f6\u3002</p> <p>1\u3001\u6a21\u5f0f\u89c4\u5219\u4ecb\u7ecd</p> <p>\u6a21\u5f0f\u89c4\u5219\u4e2d\uff0c\u81f3\u5c11\u5728\u89c4\u5219\u7684\u76ee\u6807\u5b9a\u4e49\u4e2d\u8981\u5305\u542b\"%\"\uff0c\u5426\u5219\u5c31\u662f\u4e00\u822c\u7684\u89c4\u5219\u3002\u76ee\u6807\u4e2d\u7684\"%\"\u5b9a\u4e49\u8868\u793a\u5bf9\u6587\u4ef6\u540d\u7684\u5339\u914d\uff0c\"%\"\u8868\u793a\u957f\u5ea6\u4efb\u610f\u7684\u975e\u7a7a\u5b57\u7b26\u4e32\u3002\u4f8b\u5982\uff1a\"%.c\"\u8868\u793a\u4ee5\".c\"\u7ed3\u5c3e\u7684\u6587\u4ef6\u540d\uff08\u6587\u4ef6\u540d\u7684\u957f\u5ea6\u81f3\u5c11\u4e3a3\uff09\uff0c\u800c\"s.%.c\"\u5219\u8868\u793a\u4ee5\"s.\"\u5f00\u5934\uff0c\".c\"\u7ed3\u5c3e\u7684\u6587\u4ef6\u540d\uff08\u6587\u4ef6\u540d\u7684\u957f\u5ea6\u81f3\u5c11\u4e3a5\uff09\u3002</p> <p>\u5982\u679c\"%\"\u5b9a\u4e49\u5728\u76ee\u6807\u4e2d\uff0c\u90a3\u4e48\uff0c\u76ee\u6807\u4e2d\u7684\"%\"\u7684\u503c\u51b3\u5b9a\u4e86\u4f9d\u8d56\u4e2d\u7684\"%\"\u7684\u503c\u3002\u4f8b\u5982\u6709\u4e00\u4e2a\u6a21\u5f0f\u89c4\u5219\u5982\u4e0b\uff1a</p> <p><code>%.o : %.c ; {command ......}</code></p> <p>\u8fd9\u4e2a\u6a21\u5f0f\u89c4\u5219\u6307\u51fa\u4e86\u600e\u4e48\u4ece\u6240\u6709\u7684.c\u6587\u4ef6\u751f\u6210\u76f8\u5e94\u7684.o\u6587\u4ef6\u7684\u89c4\u5219\u3002\u5982\u679c\u8981\u751f\u6210\u7684\u76ee\u6807\u662f\"a.o b.o\"\uff0c\u90a3\u4e48\"%c\"\u5c31\u662f\"a.c b.c\"\u3002</p> <p>\u4e00\u65e6\u4f9d\u8d56\u76ee\u6807\u4e2d\u7684\"%\"\u6a21\u5f0f\u88ab\u786e\u5b9a\uff0cmake\u5c31\u4f1a\u88ab\u8981\u6c42\u53bb\u5339\u914d\u5f53\u524d\u76ee\u5f55\u4e0b\u6240\u6709\u7684\u6587\u4ef6\u540d\uff0c\u4e00\u65e6\u627e\u5230\uff0cmake\u5c31\u4f1a\u6267\u884c\u89c4\u5219\u4e0b\u7684\u547d\u4ee4\u3002\u6240\u4ee5\u5728\u6a21\u5f0f\u89c4\u5219\u4e2d\uff0c\u76ee\u6807\u53ef\u80fd\u4f1a\u6709\u591a\u4e2a\u3002</p> <p>2\u3001\u6a21\u5f0f\u89c4\u5219\u793a\u4f8b</p> <p>\u4e0b\u9762\u8fd9\u4e2a\u4f8b\u5b50\u8868\u793a\u4e86,\u628a\u6240\u6709\u7684.c\u6587\u4ef6\u90fd\u7f16\u8bd1\u6210.o\u6587\u4ef6.</p> <pre><code>%.o : %.c\n        $(CC) -c $(CFLAGS) $(CPPFLAGS) $&lt; -o $@\n</code></pre> <p>\u5176\u4e2d\uff0c<code>\"$@\"</code>\u548c<code>\"$&lt;\"</code>\u662f\"\u81ea\u52a8\u5316\u53d8\u91cf\"\uff0c\u540e\u9762\u4f1a\u8be6\u7ec6\u8bb2\u8ff0\u3002</p> <p>\u4e0b\u9762\u7684\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\u6709\u4e24\u4e2a\u6a21\u5f0f\u76ee\u6807\uff1a</p> <pre><code>%.tab.c %.tab.h: %.y\n        bison -d $&lt;\n</code></pre> <p>\u8fd9\u6761\u89c4\u5219\u544a\u8bc9make\u628a\u6240\u6709\u7684.y]\u6587\u4ef6\u90fd\u4ee5\"bison -d {n}.y\"\u6267\u884c\uff0c\u7136\u540e\u751f\u6210\"{n}.tab.c\"\u548c\"{n}.tab.h\"\u6587\u4ef6\u3002\u5047\u8bbe\u6211\u4eec\u7684\u6267\u884c\u7a0b\u5e8f\"foo\"\u4f9d\u8d56\u4e8e\u6587\u4ef6\"parse.tab.o\"\u548c\"scan.o\"\uff0c\u5e76\u4e14\u6587\u4ef6\"scan.o\"\u4f9d\u8d56\u4e8e\u6587\u4ef6\"parse.tab.h\"\uff0c\u5982\u679c\"parse.y\"\u6587\u4ef6\u88ab\u66f4\u65b0\u4e86\uff0c\u90a3\u4e48\u6839\u636e\u4e0a\u8ff0\u7684\u89c4\u5219\uff0c\"bison -d parse.y\"\u5c31\u4f1a\u88ab\u6267\u884c\u4e00\u6b21\uff0c\u4e8e\u662f\"parse.tab.o\"\u548c\"scan.o\"\u7684\u4f9d\u8d56\u6587\u4ef6\u5c31\u9f50\u4e86\u3002\uff08\u5047\u8bbe\"parse.tab.o\"\u7531\"parse.tab.c\"\u751f\u6210\uff0c\u5e76\u4e14\"scan.o\"\u7531\"scan.c\"\u751f\u6210\uff0c\u800c\"foo\"\u7531\"parse.tab.o\"\u548c\"scan.o\"\u94fe\u63a5\u751f\u6210\uff0c\u800c\u4e14foo\u548c.o\u6587\u4ef6\u7684\u4f9d\u8d56\u5173\u7cfb\u4e5f\u5199\u597d\uff0c\u90a3\u4e48\u6240\u6709\u7684\u76ee\u6807\u90fd\u4f1a\u5f97\u5230\u6ee1\u8db3\u3002\uff09</p> <p>3\u3001\u81ea\u52a8\u5316\u53d8\u91cf</p> <p>\u5728\u4e0a\u8ff0\u7684\u6a21\u5f0f\u89c4\u5219\u4e2d\uff0c\u76ee\u6807\u548c\u4f9d\u8d56\u90fd\u662f\u4e00\u7cfb\u5217\u6587\u4ef6\uff0c\u90a3\u4e48\u6211\u4eec\u5982\u4f55\u4e66\u5199\u4e00\u4e2a\u547d\u4ee4\u6765\u5b8c\u6210\u4ece\u4e0d\u540c\u7684\u4f9d\u8d56\u751f\u6210\u76f8\u5e94\u7684\u76ee\u6807\uff1f</p> <p>\u81ea\u52a8\u5316\u53d8\u91cf\u5c31\u662f\u5b8c\u6210\u8fd9\u4e2a\u529f\u80fd\u7684\u3002\u5728\u524d\u9762\uff0c\u6211\u4eec\u5df2\u7ecf\u5bf9\u81ea\u52a8\u5316\u53d8\u91cf\u6709\u6240\u63d0\u53ca\uff0c\u6240\u8c13\u81ea\u52a8\u5316\u53d8\u91cf\uff0c\u5c31\u662f\u8fd9\u79cd\u53d8\u91cf\u4f1a\u628a\u6a21\u5f0f\u4e2d\u6240\u5b9a\u4e49\u7684\u4e00\u7cfb\u5217\u7684\u6587\u4ef6\u81ea\u52a8\u5730\u6328\u4e2a\u53d6\u51fa\uff0c\u76f4\u81f3\u6240\u6709\u7684\u7b26\u5408\u6a21\u5f0f\u7684\u6587\u4ef6\u90fd\u53d6\u5b8c\u4e86\u3002\u8fd9\u79cd\u81ea\u52a8\u5316\u53d8\u91cf\u53ea\u5e94\u51fa\u73b0\u5728\u89c4\u5219\u7684\u547d\u4ee4\u4e2d\u3002</p> <p>\u4e0b\u9762\u662f\u6240\u6709\u7684\u81ea\u52a8\u5316\u53d8\u91cf\u53ca\u5176\u8bf4\u660e\uff08\u6ce8\u610f\uff1a\u201c\u96c6\u5408\u201d\u548c\u201c\u4f9d\u6b21\u53d6\u51fa\u201d\u662f\u4e0d\u540c\u7684\uff09\uff1a</p> <p><code>$@</code> \u2003\u2003\u8868\u793a\u89c4\u5219\u4e2d\u7684\u76ee\u6807\u6587\u4ef6\u96c6\u3002\u5c55\u5f00\u65f6\u4f9d\u6b21\u53d6\u51fa\u3002</p> <p><code>$%</code> \u2003\u2003\u4ec5\u5f53\u76ee\u6807\u662f\u5e93\u6587\u4ef6\u65f6\uff0c\u8868\u793a\u89c4\u5219\u4e2d\u7684\u76ee\u6807\u6210\u5458\u540d\u3002\u4f8b\u5982\uff0c\u5982\u679c\u4e00\u4e2a\u76ee\u6807\u662f\"foo.a(bar.o)\"\uff0c\u90a3\u4e48\uff0c<code>\"$%\"</code>\u5c31\u662f\"bar.o\"\uff0c<code>\"$@\"</code>\u5c31\u662f\"foo.a\"\u3002\u5982\u679c\u76ee\u6807\u4e0d\u662f\u51fd\u6570\u5e93\u6587\u4ef6\uff08Unix\u4e0b\u662f.a\uff0cWindows\u4e0b\u662f.lib\uff09\uff0c\u90a3\u4e48\uff0c\u5176\u503c\u4e3a\u7a7a\u3002</p> <p><code>$&lt;</code> \u2003\u2003\u4f9d\u8d56\u4e2d\u7684\u7b2c\u4e00\u4e2a\u540d\u5b57\u3002\u5982\u679c\u4f9d\u8d56\u662f\u4ee5\u6a21\u5f0f\uff08\u5373\"%\"\uff09\u5b9a\u4e49\u7684\uff0c\u90a3\u4e48<code>\"$&lt;\"</code>\u5c06\u662f\u7b26\u5408\u6a21\u5f0f\u7684\u4e00\u7cfb\u5217\u7684\u6587\u4ef6\u96c6\u3002\u6ce8\u610f\uff0c\u662f\u4e00\u4e2a\u4e00\u4e2a\u53d6\u51fa\u6765\u7684\u3002</p> <p><code>$?</code> \u2003\u2003\u6240\u6709\u6bd4\u76ee\u6807\u65b0\u7684\u4f9d\u8d56\u76ee\u6807\u7684\u96c6\u5408\u3002\u4ee5\u7a7a\u683c\u5206\u9694\u3002</p> <p><code>$^</code> \u2003\u2003\u6240\u6709\u7684\u4f9d\u8d56\u76ee\u6807\u7684\u96c6\u5408\u3002\u4ee5\u7a7a\u683c\u5206\u9694\u3002\u5982\u679c\u5728\u4f9d\u8d56\u76ee\u6807\u4e2d\u6709\u591a\u4e2a\u91cd\u590d\u7684\uff0c\u90a3\u4e2a\u8fd9\u4e2a\u53d8\u91cf\u4f1a\u53bb\u9664\u91cd\u590d\u7684\u4f9d\u8d56\u76ee\u6807\uff0c\u53ea\u4fdd\u7559\u4e00\u4efd\u3002</p> <p><code>$+</code> \u2003\u2003\u8fd9\u4e2a\u53d8\u91cf\u5f88\u50cf<code>\"$^\"</code>\uff0c\u4e5f\u662f\u6240\u6709\u4f9d\u8d56\u76ee\u6807\u7684\u96c6\u5408\u3002\u53ea\u662f\u5b83\u4e0d\u53bb\u9664\u91cd\u590d\u7684\u4f9d\u8d56\u76ee\u6807\u3002</p> <p><code>$*</code> \u2003\u2003\u8fd9\u4e2a\u53d8\u91cf\u8868\u793a\u76ee\u6807\u6a21\u5f0f\u4e2d\"%\"\u53ca\u5176\u4e4b\u524d\u7684\u90e8\u5206\u3002\u5982\u679c\u76ee\u6807\u662f\"dir/a.foo.b\"\uff0c\u5e76\u4e14\u76ee\u6807\u7684\u6a21\u5f0f\u662f\"a.%.b\"\uff0c\u90a3\u4e48\uff0c<code>\"$*\"</code>\u7684\u503c\u5c31\u662f\"dir/a.foo\"\u3002\u8fd9\u4e2a\u53d8\u91cf\u5bf9\u4e8e\u6784\u9020\u6709\u5173\u8054\u7684\u6587\u4ef6\u540d\u662f\u6bd4\u8f83\u6709\u8f83\u3002\u5982\u679c\u76ee\u6807\u4e2d\u6ca1\u6709\u6a21\u5f0f\u7684\u5b9a\u4e49\uff0c\u90a3\u4e48<code>\"$*\"</code>\u4e5f\u5c31\u4e0d\u80fd\u88ab\u63a8\u5bfc\u51fa\u3002\u4f46\u662f\uff0c\u5982\u679c\u76ee\u6807\u6587\u4ef6\u7684\u540e\u7f00\u662fmake\u6240\u8bc6\u522b\u7684\uff0c\u90a3\u4e48<code>\"$*\"</code>\u5c31\u662f\u9664\u4e86\u540e\u7f00\u7684\u90a3\u4e00\u90e8\u5206\u3002\u4f8b\u5982\uff1a\u5982\u679c\u76ee\u6807\u662f\"foo.c\"\uff0c\u56e0\u4e3a\".c\"\u662fmake\u6240\u80fd\u8bc6\u522b\u7684\u540e\u7f00\u540d\uff0c\u6240\u4ee5\uff0c<code>\"$*\"</code>\u7684\u503c\u5c31\u662f\"foo\"\u3002\u8fd9\u4e2a\u7279\u6027\u662fGNU make\u7684\uff0c\u5f88\u6709\u53ef\u80fd\u4e0d\u517c\u5bb9\u4e8e\u5176\u5b83\u7248\u672c\u7684make\uff0c\u6240\u4ee5\uff0c\u4f60\u5e94\u8be5\u5c3d\u91cf\u907f\u514d\u4f7f\u7528<code>\"$*\"</code>\uff0c\u9664\u975e\u662f\u5728\u9690\u542b\u89c4\u5219\u6216\u662f\u9759\u6001\u6a21\u5f0f\u4e2d\u3002\u5982\u679c\u76ee\u6807\u4e2d\u7684\u540e\u7f00\u662fmake\u6240\u4e0d\u80fd\u8bc6\u522b\u7684\uff0c\u90a3\u4e48<code>\"$*\"</code>\u5c31\u662f\u7a7a\u503c\u3002</p> <p>\u5f53\u4f60\u5e0c\u671b\u53ea\u5bf9\u66f4\u65b0\u8fc7\u7684\u4f9d\u8d56\u6587\u4ef6\u8fdb\u884c\u64cd\u4f5c\u65f6\uff0c<code>\"$?\"</code>\u5728\u663e\u5f0f\u89c4\u5219\u4e2d\u5f88\u6709\u7528\u3002\u4f8b\u5982\uff0c\u5047\u8bbe\u6709\u4e00\u4e2a\u51fd\u6570\u5e93\u6587\u4ef6\u53eb\"lib\"\uff0c\u7531\u5176\u5b83\u51e0\u4e2aobject\u6587\u4ef6\u66f4\u65b0\u3002\u90a3\u4e48\u628aobject\u6587\u4ef6\u6253\u5305\u7684\u6bd4\u8f83\u6709\u6548\u7387\u7684Makefile\u89c4\u5219\u662f\uff1a</p> <pre><code>lib : foo.o bar.o lose.o win.o\n        ar r lib $?\n</code></pre> <p>\u5728\u4e0a\u8ff0\u6240\u5217\u51fa\u6765\u7684\u81ea\u52a8\u91cf\u53d8\u91cf\u4e2d\uff0c<code>$@</code>\u3001<code>$&lt;</code>\u3001<code>$%</code>\u548c<code>$*</code>\u5728\u6269\u5c55\u65f6\u53ea\u4f1a\u6709\u4e00\u4e2a\u6587\u4ef6\uff0c\u800c\u53e6\u4e09\u4e2a\u7684\u503c\u662f\u4e00\u4e2a\u6587\u4ef6\u5217\u8868\u3002\u8fd9\u4e03\u4e2a\u81ea\u52a8\u5316\u53d8\u91cf\u8fd8\u53ef\u4ee5\u53d6\u5f97\u6587\u4ef6\u7684\u76ee\u5f55\u540d\u6216\u662f\u5728\u5f53\u524d\u76ee\u5f55\u4e0b\u7684\u7b26\u5408\u6a21\u5f0f\u7684\u6587\u4ef6\u540d\uff0c\u53ea\u9700\u8981\u642d\u914d\u4e0a\"D\"\u6216\"F\"\u5b57\u6837\u3002\u8fd9\u662fGNU make\u4e2d\u8001\u7248\u672c\u7684\u7279\u6027\uff0c\u5728\u65b0\u7248\u672c\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528\u51fd\u6570\"dir\"\u6216\"notdir\"\u5c31\u53ef\u4ee5\u505a\u5230\u4e86\u3002\"D\"\u7684\u542b\u4e49\u5c31\u662fDirectory\uff0c\u5c31\u662f\u76ee\u5f55\uff0c\"F\"\u7684\u542b\u4e49\u5c31\u662fFile\uff0c\u5c31\u662f\u6587\u4ef6\u3002</p> <p>\u4e0b\u9762\u662f\u5bf9\u4e8e\u4e0a\u9762\u7684\u4e03\u4e2a\u53d8\u91cf\u5206\u522b\u52a0\u4e0a\"D\"\u6216\u662f\"F\"\u7684\u542b\u4e49\uff1a</p> <p><code>$(@D)</code> \u2003\u2003\u8868\u793a<code>\"$@\"</code>\u7684\u76ee\u5f55\u90e8\u5206\uff08\u4e0d\u4ee5\u659c\u6760\u4f5c\u4e3a\u7ed3\u5c3e\uff09\uff0c\u5982\u679c<code>\"$@\"</code>\u503c\u662f\"dir/foo.o\"\uff0c\u90a3\u4e48<code>\"$(@D)\"</code>\u5c31\u662f\"dir\"\uff0c\u800c\u5982\u679c<code>\"$@\"</code>\u4e2d\u6ca1\u6709\u5305\u542b\u659c\u6760\u7684\u8bdd\uff0c\u5176\u503c\u5c31\u662f\".\"\uff08\u5f53\u524d\u76ee\u5f55\uff09\u3002</p> <p><code>$(@F)</code> \u2003\u2003\u8868\u793a<code>\"$@\"</code>\u7684\u6587\u4ef6\u90e8\u5206\uff0c\u5982\u679c<code>\"$@\"</code>\u503c\u662f\"dir/foo.o\"\uff0c\u90a3\u4e48<code>\"$(@F)\"</code>\u5c31\u662f\"foo.o\"\uff0c<code>\"$(@F)\"</code>\u76f8\u5f53\u4e8e\u51fd\u6570<code>\"$(notdir $@)\"</code>\u3002</p> <p><code>\"$(*D)\"</code> <code>\"$(*F)\"</code> \u2003\u2003\u548c\u4e0a\u9762\u6240\u8ff0\u7684\u540c\u7406\uff0c\u4e5f\u662f\u53d6\u6587\u4ef6\u7684\u76ee\u5f55\u90e8\u5206\u548c\u6587\u4ef6\u90e8\u5206\u3002\u5bf9\u4e8e\u4e0a\u9762\u7684\u90a3\u4e2a\u4f8b\u5b50\uff0c<code>\"$(*D)\"</code>\u8fd4\u56de\"dir\"\uff0c\u800c<code>\"$(*F)\"</code>\u8fd4\u56de\"foo\"</p> <p><code>\"$(%D)\"</code> <code>\"$(%F)\"</code> \u2003\u2003\u5206\u522b\u8868\u793a\u4e86\u51fd\u6570\u5305\u6587\u4ef6\u6210\u5458\u7684\u76ee\u5f55\u90e8\u5206\u548c\u6587\u4ef6\u90e8\u5206\u3002\u8fd9\u5bf9\u4e8e\u5f62\u540c\"archive(member)\"\u5f62\u5f0f\u7684\u76ee\u6807\u4e2d\u7684\"member\"\u4e2d\u5305\u542b\u4e86\u4e0d\u540c\u7684\u76ee\u5f55\u5f88\u6709\u7528\u3002</p> <p><code>\"$({D)\"</code> <code>\"$({F)\"</code> \u2003\u2003\u5206\u522b\u8868\u793a\u4f9d\u8d56\u6587\u4ef6\u7684\u76ee\u5f55\u90e8\u5206\u548c\u6587\u4ef6\u90e8\u5206\u3002</p> <p><code>\"$(^D)\"</code> <code>\"$(^F)\"</code> \u2003\u2003\u5206\u522b\u8868\u793a\u6240\u6709\u4f9d\u8d56\u6587\u4ef6\u7684\u76ee\u5f55\u90e8\u5206\u548c\u6587\u4ef6\u90e8\u5206\u3002\uff08\u65e0\u76f8\u540c\u7684\uff09</p> <p><code>\"$(+D)\"</code> <code>\"$(+F)\"</code> \u2003\u2003\u5206\u522b\u8868\u793a\u6240\u6709\u4f9d\u8d56\u6587\u4ef6\u7684\u76ee\u5f55\u90e8\u5206\u548c\u6587\u4ef6\u90e8\u5206\u3002\uff08\u53ef\u4ee5\u6709\u76f8\u540c\u7684\uff09</p> <p><code>\"$(?D)\"</code> <code>\"$(?F)\"</code> \u2003\u2003\u5206\u522b\u8868\u793a\u88ab\u66f4\u65b0\u7684\u4f9d\u8d56\u6587\u4ef6\u7684\u76ee\u5f55\u90e8\u5206\u548c\u6587\u4ef6\u90e8\u5206\u3002</p> <p>\u6700\u540e\uff0c\u5bf9\u4e8e<code>\"$&lt;\"</code>\uff0c\u4e3a\u4e86\u907f\u514d\u4ea7\u751f\u4e0d\u5fc5\u8981\u7684\u9ebb\u70e6\uff0c\u6211\u4eec\u6700\u597d\u7ed9<code>$</code>\u540e\u9762\u7684\u90a3\u4e2a\u7279\u5b9a\u5b57\u7b26\u90fd\u52a0\u4e0a\u5706\u62ec\u53f7\u3002\u6bd4\u5982\uff0c\"<code>$(&lt;)\"</code>\u5c31\u8981\u6bd4<code>\"$&lt;\"</code>\u8981\u597d\u4e00\u4e9b\u3002</p> <p>\u8fd8\u5f97\u8981\u6ce8\u610f\u7684\u662f\uff0c\u8fd9\u4e9b\u53d8\u91cf\u53ea\u4f7f\u7528\u5728\u89c4\u5219\u7684\u547d\u4ee4\u4e2d\uff0c\u800c\u4e14\u4e00\u822c\u90fd\u662f\"\u663e\u5f0f\u89c4\u5219\"\u548c\"\u9759\u6001\u6a21\u5f0f\u89c4\u5219\"\uff08\u53c2\u89c1\u524d\u9762\"\u4e66\u5199\u89c4\u5219\"\u4e00\u7ae0\uff09\u3002\u5728\u9690\u542b\u89c4\u5219\u4e2d\u5e76\u6ca1\u6709\u610f\u4e49\u3002</p> <p>4\u3001\u6a21\u5f0f\u7684\u5339\u914d</p> <p>\u4e00\u822c\u6765\u8bf4\uff0c\u4e00\u4e2a\u76ee\u6807\u7684\u6a21\u5f0f\u6709\u4e00\u4e2a\u6709\u524d\u7f00\u6216\u662f\u540e\u7f00\u7684\"%\"\uff0c\u6216\u662f\u6ca1\u6709\u524d\u540e\u7f00\uff0c\u76f4\u63a5\u5c31\u662f\u4e00\u4e2a\"%\"\u3002\u56e0\u4e3a\"%\"\u4ee3\u8868\u4e00\u4e2a\u6216\u591a\u4e2a\u5b57\u7b26\uff0c\u6240\u4ee5\u5728\u5b9a\u4e49\u597d\u7684\u6a21\u5f0f\u4e2d\uff0c\u6211\u4eec\u628a\"%\"\u6240\u5339\u914d\u7684\u5185\u5bb9\u53eb\u505a\"\u8bcd\u5e72\"\uff08stem\uff09\uff0c\u4f8b\u5982\"%.c\"\u6240\u5339\u914d\u7684\u6587\u4ef6\"test.c\"\u4e2d\"test\"\u5c31\u662f\"\u8bcd\u5e72\"\u3002\u76ee\u6807\u548c\u4f9d\u8d56\u76ee\u6807\u4e2d\u540c\u65f6\u6709\"%\"\u65f6\uff0c\u76ee\u6807\u7684\"\u8bcd\u5e72\"\u4f1a\u4f20\u7ed9\u4f9d\u8d56\uff0c\u4f5c\u4e3a\u4f9d\u8d56\u4e2d\u7684\"\u8bcd\u5e72\"\u3002</p> <p>\u5f53\u4e00\u4e2a\u6a21\u5f0f\u5339\u914d\u5305\u542b\u6709\u659c\u6760\uff08\u5b9e\u9645\u4e5f\u4e0d\u7ecf\u5e38\u5305\u542b\uff09\u7684\u6587\u4ef6\u65f6\uff0c\u5728\u8fdb\u884c\u6a21\u5f0f\u5339\u914d\u65f6\u76ee\u5f55\u90e8\u5206\u4f1a\u9996\u5148\u88ab\u79fb\u5f00\uff0c\u7136\u540e\u8fdb\u884c\u5339\u914d\uff0c\u6210\u529f\u540e\uff0c\u518d\u628a\u76ee\u5f55\u52a0\u56de\u53bb\u3002\u5728\u8fdb\u884c\"\u8bcd\u5e72\"\u7684\u4f20\u9012\u65f6\uff0c\u6211\u4eec\u9700\u8981\u77e5\u9053\u8fd9\u4e2a\u6b65\u9aa4\u3002\u4f8b\u5982\u6709\u4e00\u4e2a\u6a21\u5f0f\"e%t\"\uff0c\u6587\u4ef6\"src/eat\"\u5339\u914d\u4e8e\u8be5\u6a21\u5f0f\uff0c\u4e8e\u662f\"src/a\"\u5c31\u662f\u5176\"\u8bcd\u5e72\"\uff0c\u5982\u679c\u8fd9\u4e2a\u6a21\u5f0f\u5b9a\u4e49\u5728\u4f9d\u8d56\u76ee\u6807\u4e2d\uff0c\u800c\u88ab\u4f9d\u8d56\u4e8e\u8fd9\u4e2a\u6a21\u5f0f\u7684\u76ee\u6807\u4e2d\u53c8\u6709\u4e2a\u6a21\u5f0f\"c%r\"\uff0c\u90a3\u4e48\uff0c\u76ee\u6807\u5c31\u662f\"src/car\"\u3002\uff08\"\u8bcd\u5e72\"\u88ab\u4f20\u9012\uff09</p> <p>5\u3001\u91cd\u8f7d\u5185\u5efa\u9690\u542b\u89c4\u5219</p> <p>\u4f60\u53ef\u4ee5\u91cd\u8f7d\u5185\u5efa\u7684\u9690\u542b\u89c4\u5219\uff08\u6216\u662f\u5b9a\u4e49\u4e00\u4e2a\u5168\u65b0\u7684\uff09\uff0c\u4f8b\u5982\u4f60\u53ef\u4ee5\u91cd\u65b0\u6784\u9020\u548c\u5185\u5efa\u9690\u542b\u89c4\u5219\u4e0d\u540c\u7684\u547d\u4ee4\uff0c\u5982\uff1a</p> <pre><code>%.o : %.c\n        $(CC) -c $(CPPFLAGS) $(CFLAGS) -D$(date)\n</code></pre> <p>\u4e5f\u53ef\u4ee5\u53d6\u6d88\u5185\u5efa\u7684\u9690\u542b\u89c4\u5219\uff0c\u53ea\u8981\u4e0d\u5728\u540e\u9762\u5199\u547d\u4ee4\u5c31\u884c\u3002\u5982\uff1a</p> <pre><code>%.o : %.s\n</code></pre> <p>\u540c\u6837\uff0c\u4f60\u4e5f\u53ef\u4ee5\u91cd\u65b0\u5b9a\u4e49\u4e00\u4e2a\u5168\u65b0\u7684\u9690\u542b\u89c4\u5219\uff0c\u5176\u5728\u9690\u542b\u89c4\u5219\u4e2d\u7684\u4f4d\u7f6e\u53d6\u51b3\u4e8e\u4f60\u5728\u54ea\u91cc\u5199\u4e0b\u8fd9\u4e2a\u89c4\u5219\u3002\u671d\u524d\u7684\u4f4d\u7f6e\u5c31\u9760\u524d\u3002</p>","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#_46","title":"\u516d\u3001\u8001\u5f0f\u7684\"\u540e\u7f00\u89c4\u5219\"","text":"<p>\u540e\u7f00\u89c4\u5219\u662f\u4e00\u4e2a\u6bd4\u8f83\u8001\u5f0f\u7684\u5b9a\u4e49\u9690\u542b\u89c4\u5219\u7684\u65b9\u6cd5\u3002\u540e\u7f00\u89c4\u5219\u4f1a\u88ab\u6a21\u5f0f\u89c4\u5219\u9010\u6b65\u5730\u53d6\u4ee3\u3002\u56e0\u4e3a\u6a21\u5f0f\u89c4\u5219\u66f4\u5f3a\u66f4\u6e05\u6670\u3002\u4e3a\u4e86\u548c\u8001\u7248\u672c\u7684Makefile\u517c\u5bb9\uff0cGNU make\u540c\u6837\u517c\u5bb9\u4e8e\u8fd9\u4e9b\u4e1c\u897f\u3002\u540e\u7f00\u89c4\u5219\u6709\u4e24\u79cd\u65b9\u5f0f\uff1a\"\u53cc\u540e\u7f00\"\u548c\"\u5355\u540e\u7f00\"\u3002</p> <p>\u53cc\u540e\u7f00\u89c4\u5219\u5b9a\u4e49\u4e86\u4e00\u5bf9\u540e\u7f00\uff1a\u76ee\u6807\u6587\u4ef6\u7684\u540e\u7f00\u548c\u4f9d\u8d56\u76ee\u6807\uff08\u6e90\u6587\u4ef6\uff09\u7684\u540e\u7f00\u3002\u5982\".c.o\"\u76f8\u5f53\u4e8e\"%o : %c\"\u3002\u5355\u540e\u7f00\u89c4\u5219\u53ea\u5b9a\u4e49\u4e00\u4e2a\u540e\u7f00\uff0c\u4e5f\u5c31\u662f\u6e90\u6587\u4ef6\u7684\u540e\u7f00\u3002\u5982\".c\"\u76f8\u5f53\u4e8e\"% : %.c\"\u3002</p> <p>\u540e\u7f00\u89c4\u5219\u4e2d\u6240\u5b9a\u4e49\u7684\u540e\u7f00\u5e94\u8be5\u662fmake\u6240\u8ba4\u8bc6\u7684\uff0c\u5982\u679c\u4e00\u4e2a\u540e\u7f00\u662fmake\u6240\u8ba4\u8bc6\u7684\uff0c\u90a3\u4e48\u8fd9\u4e2a\u89c4\u5219\u5c31\u662f\u5355\u540e\u7f00\u89c4\u5219\uff0c\u800c\u5982\u679c\u4e24\u4e2a\u8fde\u5728\u4e00\u8d77\u7684\u540e\u7f00\u90fd\u88abmake\u6240\u8ba4\u8bc6\uff0c\u90a3\u5c31\u662f\u53cc\u540e\u7f00\u89c4\u5219\u3002\u4f8b\u5982\uff1a\".c\"\u548c\".o\"\u90fd\u662fmake\u6240\u77e5\u9053\u3002\u56e0\u800c\uff0c\u5982\u679c\u4f60\u5b9a\u4e49\u4e86\u4e00\u4e2a\u89c4\u5219\u662f\".c.o\"\u90a3\u4e48\u5176\u5c31\u662f\u53cc\u540e\u7f00\u89c4\u5219\uff0c\u610f\u4e49\u5c31\u662f\".c\"\u662f\u6e90\u6587\u4ef6\u7684\u540e\u7f00\uff0c\".o\"\u662f\u76ee\u6807\u6587\u4ef6\u7684\u540e\u7f00\u3002\u5982\u4e0b\u793a\u4f8b\uff1a</p> <pre><code>.c.o:\n        $(CC) -c $(CFLAGS) $(CPPFLAGS) -o $@ $&lt;\n</code></pre> <p>\u540e\u7f00\u89c4\u5219\u4e0d\u5141\u8bb8\u4efb\u4f55\u7684\u4f9d\u8d56\u6587\u4ef6\uff0c\u5982\u679c\u6709\u4f9d\u8d56\u6587\u4ef6\u7684\u8bdd\uff0c\u90a3\u5c31\u4e0d\u662f\u540e\u7f00\u89c4\u5219\uff0c\u90a3\u4e9b\u540e\u7f00\u7edf\u7edf\u88ab\u8ba4\u4e3a\u662f\u6587\u4ef6\u540d\uff0c\u5982\uff1a</p> <pre><code>.c.o: foo.h\n        $(CC) -c $(CFLAGS) $(CPPFLAGS) -o $@ $&lt;\n</code></pre> <p>\u8fd9\u4e2a\u4f8b\u5b50\uff0c\u5c31\u662f\u8bf4\uff0c\u6587\u4ef6\".c.o\"\u4f9d\u8d56\u4e8e\u6587\u4ef6\"foo.h\"\uff0c\u800c\u4e0d\u662f\u6211\u4eec\u60f3\u8981\u7684\u8fd9\u6837\uff1a</p> <pre><code>%.o: %.c foo.h\n        $(CC) -c $(CFLAGS) $(CPPFLAGS) -o $@ $&lt;\n</code></pre> <p>\u540e\u7f00\u89c4\u5219\u4e2d\uff0c\u5982\u679c\u6ca1\u6709\u547d\u4ee4\uff0c\u90a3\u662f\u6beb\u65e0\u610f\u4e49\u7684\u3002make\u4e0d\u4f1a\u7528\u4e00\u4e2a\u6ca1\u6709\u547d\u4ee4\u7684\u540e\u7f00\u89c4\u5219\u8986\u76d6\u5185\u5efa\u7684\u9690\u542b\u89c4\u5219\u3002</p> <p>\u800c\u8981\u8ba9make\u77e5\u9053\u4e00\u4e9b\u7279\u5b9a\u7684\u540e\u7f00\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u4f2a\u76ee\u6807\".SUFFIXES\"\u6765\u5b9a\u4e49\u6216\u662f\u5220\u9664\uff0c\u5982\uff1a</p> <pre><code>.SUFFIXES: .hack .win\n</code></pre> <p>\u628a\u540e\u7f00.hack\u548c.win\u52a0\u5165\u540e\u7f00\u5217\u8868\u4e2d\u7684\u672b\u5c3e\u3002</p> <pre><code>.SUFFIXES:              #\u5220\u9664\u9ed8\u8ba4\u7684\u540e\u7f00\n.SUFFIXES: .c .o .h   #\u5b9a\u4e49\u81ea\u5df1\u7684\u540e\u7f00\n</code></pre> <p>\u5148\u6e05\u9664\u9ed8\u8ba4\u540e\u7f00\uff0c\u540e\u5b9a\u4e49\u81ea\u5df1\u7684\u540e\u7f00\u5217\u8868\u3002  </p> <p>\u6ce8\u610f\uff1a\u4f60\u53ef\u4ee5\u7528\".SUFFIXES\"\u6765\u6539\u53d8\u540e\u7f00\u5217\u8868\uff0c\u4f46\u8bf7\u4e0d\u8981\u6539\u53d8\u53d8\u91cf\"SUFFIXE\"\u7684\u503c\u3002</p> <p>make\u7684\u53c2\u6570\"-r\"\u6216\"-no-builtin-rules\"\u4e5f\u4f1a\u4f7f\u7528\u5f97\u9ed8\u8ba4\u7684\u540e\u7f00\u5217\u8868\u4e3a\u7a7a\u3002</p>","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#_47","title":"\u4e03\u3001\u9690\u542b\u89c4\u5219\u641c\u7d22\u7b97\u6cd5","text":"<p>\u6bd4\u5982\u6211\u4eec\u6709\u4e00\u4e2a\u76ee\u6807\u53ebT\u3002\u4e0b\u9762\u662f\u641c\u7d22\u76ee\u6807T\u7684\u89c4\u5219\u7684\u7b97\u6cd5\u3002\u8bf7\u6ce8\u610f\uff0c\u5728\u4e0b\u9762\u6211\u4eec\u6ca1\u6709\u63d0\u5230\u540e\u7f00\u89c4\u5219\uff0c\u539f\u56e0\u662f\u5728Makefile\u88ab\u8f7d\u5165\u5185\u5b58\u65f6\u6240\u6709\u7684\u540e\u7f00\u89c4\u5219\u4f1a\u88ab\u8f6c\u6362\u6210\u6a21\u5f0f\u89c4\u5219\u3002\u5982\u679c\u76ee\u6807\u662f\"archive(member)\"\u7684\u51fd\u6570\u5e93\u6587\u4ef6\u6a21\u5f0f\uff0c\u90a3\u4e48\u8fd9\u4e2a\u7b97\u6cd5\u4f1a\u88ab\u8fd0\u884c\u4e24\u6b21\uff0c\u7b2c\u4e00\u6b21\u662f\u627e\u76ee\u6807T\uff0c\u5982\u679c\u6ca1\u6709\u627e\u5230\u7684\u8bdd\uff0c\u7b2c\u4e8c\u6b21\u4f1a\u628a\"member\"\u5f53\u4f5cT\u6765\u641c\u7d22\u3002</p> <p>1\u3001\u628aT\u7684\u76ee\u5f55\u90e8\u5206\u5206\u79bb\u51fa\u6765\u3002\u53ebD\uff0c\u800c\u5269\u4f59\u90e8\u5206\u53ebN\u3002\uff08\u5982\uff1a\u5982\u679cT\u662f\"src/foo.o\"\uff0c\u90a3\u4e48\uff0cD\u5c31\u662f\"src/\"\uff0cN\u5c31\u662f\"foo.o\"\uff09</p> <p>2\u3001\u521b\u5efa\u6240\u6709\u5339\u914d\u4e8eT\u6216\u662fN\u7684\u6a21\u5f0f\u89c4\u5219\u5217\u8868\u3002</p> <p>3\u3001\u5982\u679c\u5728\u6a21\u5f0f\u89c4\u5219\u5217\u8868\u4e2d\u6709\u5339\u914d\u6240\u6709\u6587\u4ef6\u7684\u6a21\u5f0f\uff0c\u5982\"%\"\uff0c\u90a3\u4e48\u4ece\u5217\u8868\u4e2d\u79fb\u9664\u5176\u5b83\u7684\u6a21\u5f0f\u3002</p> <p>4\u3001\u79fb\u9664\u5217\u8868\u4e2d\u6ca1\u6709\u547d\u4ee4\u7684\u89c4\u5219\u3002</p> <p>5\u3001\u5bf9\u4e8e\u7b2c\u4e00\u4e2a\u5728\u5217\u8868\u4e2d\u7684\u6a21\u5f0f\u89c4\u5219\uff1a \u2003\u20031\uff09\u63a8\u5bfc\u5176\"\u8bcd\u5e72\"S\uff0cS\u5e94\u8be5\u662fT\u6216N\u5339\u914d\u4e8e\u6a21\u5f0f\u4e2d\"%\"\u975e\u7a7a\u7684\u90e8\u5206\u3002 \u2003\u20032\uff09\u8ba1\u7b97\u4f9d\u8d56\u6587\u4ef6\u3002\u628a\u4f9d\u8d56\u6587\u4ef6\u4e2d\u7684\"%\"\u90fd\u66ff\u6362\u6210\"\u8bcd\u5e72\"S\u3002\u5982\u679c\u76ee\u6807\u6a21\u5f0f\u4e2d\u6ca1\u6709\u5305\u542b\u659c\u6846\u5b57\u7b26\uff0c\u800c\u628aD\u52a0\u5728\u7b2c\u4e00\u4e2a\u4f9d\u8d56\u6587\u4ef6\u7684\u5f00\u5934\u3002 \u2003\u20033\uff09\u6d4b\u8bd5\u662f\u5426\u6240\u6709\u7684\u4f9d\u8d56\u6587\u4ef6\u90fd\u5b58\u5728\u6216\u662f\u7406\u5f53\u5b58\u5728\u3002\uff08\u5982\u679c\u6709\u4e00\u4e2a\u6587\u4ef6\u88ab\u5b9a\u4e49\u6210\u53e6\u5916\u4e00\u4e2a\u89c4\u5219\u7684\u76ee\u6807\u6587\u4ef6\uff0c\u6216\u8005\u662f\u4e00\u4e2a\u663e\u5f0f\u89c4\u5219\u7684\u4f9d\u8d56\u6587\u4ef6\uff0c\u90a3\u4e48\u8fd9\u4e2a\u6587\u4ef6\u5c31\u53eb\"\u7406\u5f53\u5b58\u5728\"\u3002\uff09 \u2003\u20034\uff09\u5982\u679c\u6240\u6709\u7684\u4f9d\u8d56\u6587\u4ef6\u5b58\u5728\u6216\u662f\u7406\u5f53\u5b58\u5728\uff0c\u6216\u662f\u5c31\u6ca1\u6709\u4f9d\u8d56\u6587\u4ef6\u3002\u90a3\u4e48\u8fd9\u6761\u89c4\u5219\u5c06\u88ab\u91c7\u7528\uff0c\u9000\u51fa\u8be5\u7b97\u6cd5\u3002</p> <p>6\u3001\u5982\u679c\u7ecf\u8fc7\u7b2c5\u6b65\uff0c\u6ca1\u6709\u6a21\u5f0f\u89c4\u5219\u88ab\u627e\u5230\uff0c\u90a3\u4e48\u5c31\u505a\u66f4\u8fdb\u4e00\u6b65\u7684\u641c\u7d22\u3002\u5bf9\u4e8e\u5b58\u5728\u4e8e\u5217\u8868\u4e2d\u7684\u7b2c\u4e00\u4e2a\u6a21\u5f0f\u89c4\u5219\uff1a \u2003\u20031\uff09\u5982\u679c\u89c4\u5219\u662f\u7ec8\u6b62\u89c4\u5219\uff0c\u90a3\u5c31\u5ffd\u7565\u5b83\uff0c\u7ee7\u7eed\u4e0b\u4e00\u6761\u6a21\u5f0f\u89c4\u5219\u3002 \u2003\u20032\uff09\u8ba1\u7b97\u4f9d\u8d56\u6587\u4ef6\u3002\uff08\u540c\u7b2c5\u6b65\uff09 \u2003\u20033\uff09\u6d4b\u8bd5\u6240\u6709\u7684\u4f9d\u8d56\u6587\u4ef6\u662f\u5426\u5b58\u5728\u6216\u662f\u7406\u5f53\u5b58\u5728\u3002 \u2003\u20034\uff09\u5bf9\u4e8e\u4e0d\u5b58\u5728\u7684\u4f9d\u8d56\u6587\u4ef6\uff0c\u9012\u5f52\u8c03\u7528\u8fd9\u4e2a\u7b97\u6cd5\u67e5\u627e\u4ed6\u662f\u5426\u53ef\u4ee5\u88ab\u9690\u542b\u89c4\u5219\u627e\u5230\u3002 \u2003\u20035\uff09\u5982\u679c\u6240\u6709\u7684\u4f9d\u8d56\u6587\u4ef6\u5b58\u5728\u6216\u662f\u7406\u5f53\u5b58\u5728\uff0c\u6216\u662f\u5c31\u6839\u672c\u6ca1\u6709\u4f9d\u8d56\u6587\u4ef6\u3002\u90a3\u4e48\u8fd9\u6761\u89c4\u5219\u88ab\u91c7\u7528\uff0c\u9000\u51fa\u8be5\u7b97\u6cd5\u3002</p> <p>7\u3001\u5982\u679c\u6ca1\u6709\u9690\u542b\u89c4\u5219\u53ef\u4ee5\u4f7f\u7528\uff0c\u67e5\u770b\".DEFAULT\"\u89c4\u5219\uff0c\u5982\u679c\u6709\uff0c\u628a\".DEFAULT\"\u7684\u547d\u4ee4\u7ed9T\u4f7f\u7528\u3002</p> <p>\u4e00\u65e6\u89c4\u5219\u88ab\u627e\u5230\uff0c\u5c31\u4f1a\u6267\u884c\u76f8\u5e94\u7684\u547d\u4ee4\u3002\u76f4\u5230\u6b64\u65f6\uff0c\u6211\u4eec\u7684\u81ea\u52a8\u5316\u53d8\u91cf\u7684\u503c\u624d\u4f1a\u751f\u6210\u3002</p>","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#make_7","title":"\u4f7f\u7528make\u66f4\u65b0\u51fd\u6570\u5e93\u6587\u4ef6","text":"<p>\u51fd\u6570\u5e93\u6587\u4ef6(Archive File)\u4e5f\u5c31\u662f\u5bf9Object\u6587\u4ef6\u7684\u6253\u5305\u3002\u5728Unix\u4e0b\uff0c\u4e00\u822c\u662f\u7531\u547d\u4ee4\"ar\"\u6765\u5b8c\u6210\u6253\u5305\u5de5\u4f5c\u3002</p>","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#_48","title":"\u4e00\u3001\u51fd\u6570\u5e93\u6587\u4ef6\u7684\u6210\u5458","text":"<p>\u4e00\u4e2a\u51fd\u6570\u5e93\u6587\u4ef6\u53ef\u4ee5\u7531\u591a\u4e2a\u6587\u4ef6\u7ec4\u6210\u3002\u4f60\u53ef\u4ee5\u7528\u5982\u4e0b\u683c\u5f0f\u6307\u5b9a\u51fd\u6570\u5e93\u6587\u4ef6\u53ca\u5176\u7ec4\u6210\uff1a</p> <p><code>archive(member)</code></p> <p>\u8fd9\u4e0d\u662f\u4e00\u4e2a\u547d\u4ee4\uff0c\u800c\u4e00\u4e2a\u76ee\u6807\u548c\u4f9d\u8d56\u7684\u5b9a\u4e49\u3002\u4e00\u822c\u6765\u8bf4\uff0c\u8fd9\u79cd\u7528\u6cd5\u57fa\u672c\u4e0a\u5c31\u662f\u4e3a\"ar\"\u547d\u4ee4\u670d\u52a1\u7684\u3002\u5982\uff1a</p> <pre><code>foolib(hack.o) : hack.o\n        ar cr foolib hack.o\n\n#\u5982\u679c\u8981\u6307\u5b9a\u591a\u4e2amember\uff0c\u90a3\u5c31\u4ee5\u7a7a\u683c\u5206\u5f00\uff0c\u5982\uff1a\nfoolib(hack.o kludge.o)\n\n#\u7b49\u4ef7\u4e8e\uff1a\nfoolib(hack.o) foolib(kludge.o)\n\n#\u4f60\u8fd8\u53ef\u4ee5\u4f7f\u7528Shell\u7684\u6587\u4ef6\u901a\u914d\u7b26\u6765\u5b9a\u4e49\uff0c\u5982\uff1a\n\nfoolib(*.o)\n</code></pre>","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#_49","title":"\u4e8c\u3001\u51fd\u6570\u5e93\u6210\u5458\u7684\u9690\u542b\u89c4\u5219","text":"<p>\u5f53make\u641c\u7d22\u4e00\u4e2a\u76ee\u6807\u7684\u9690\u542b\u89c4\u5219\u65f6\uff0c\u4e00\u4e2a\u7279\u6b8a\u7684\u7279\u6027\u662f\uff0c\u5982\u679c\u8fd9\u4e2a\u76ee\u6807\u662f\"a(m)\"\u5f62\u5f0f\u7684\uff0c\u5176\u4f1a\u628a\u76ee\u6807\u53d8\u6210\"(m)\"\u3002\u4e8e\u662f\uff0c\u5982\u679c\u6211\u4eec\u7684\u6210\u5458\u662f\"%.o\"\u7684\u6a21\u5f0f\u5b9a\u4e49\uff0c\u5e76\u4e14\u5982\u679c\u6211\u4eec\u4f7f\u7528\"make foo.a(bar.o)\"\u7684\u5f62\u5f0f\u8c03\u7528Makefile\u65f6\uff0c\u9690\u542b\u89c4\u5219\u4f1a\u53bb\u627e\"bar.o\"\u7684\u89c4\u5219\uff0c\u5982\u679c\u6ca1\u6709\u5b9a\u4e49bar.o\u7684\u89c4\u5219\uff0c\u90a3\u4e48\u5185\u5efa\u9690\u542b\u89c4\u5219\u751f\u6548\uff0cmake\u4f1a\u53bb\u627ebar.c\u6587\u4ef6\u6765\u751f\u6210bar.o\uff0c\u5982\u679c\u627e\u5f97\u5230\u7684\u8bdd\uff0cmake\u6267\u884c\u7684\u547d\u4ee4\u5927\u81f4\u5982\u4e0b\uff1a</p> <pre><code>cc -c bar.c -o bar.o\nar r foo.a bar.o\nrm -f bar.o\n</code></pre> <p>\u8fd8\u6709\u4e00\u4e2a\u53d8\u91cf\u8981\u6ce8\u610f\u7684\u662f<code>\"$%\"</code>\uff0c\u8fd9\u662f\u4e13\u5c5e\u51fd\u6570\u5e93\u6587\u4ef6\u7684\u81ea\u52a8\u5316\u53d8\u91cf\uff0c\u6709\u5173\u5176\u8bf4\u660e\u8bf7\u53c2\u89c1\"\u81ea\u52a8\u5316\u53d8\u91cf\"\u4e00\u8282\u3002</p>","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#_50","title":"\u4e09\u3001\u51fd\u6570\u5e93\u6587\u4ef6\u7684\u540e\u7f00\u89c4\u5219","text":"<p>\u4f60\u53ef\u4ee5\u4f7f\u7528\"\u540e\u7f00\u89c4\u5219\"\u548c\"\u9690\u542b\u89c4\u5219\"\u6765\u751f\u6210\u51fd\u6570\u5e93\u6253\u5305\u6587\u4ef6\uff0c\u5982\uff1a</p> <pre><code>    .c.a:\n            $(CC) $(CFLAGS) $(CPPFLAGS) -c $&lt; -o $*.o\n            $(AR) r $@ $*.o\n            $(RM) $*.o\n\n\u7b49\u4ef7\u4e8e\uff1a\n    (%.o) : %.c\n            $(CC) $(CFLAGS) $(CPPFLAGS) -c $&lt; -o $*.o\n            $(AR) r $@ $*.o\n            $(RM) $*.o\n</code></pre>","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/build/21.makefile-tutorial/#_51","title":"\u56db\u3001\u6ce8\u610f\u4e8b\u9879","text":"<p>\u5728\u8fdb\u884c\u51fd\u6570\u5e93\u6253\u5305\u6587\u4ef6\u751f\u6210\u65f6\uff0c\u8bf7\u5c0f\u5fc3\u4f7f\u7528make\u7684\u5e76\u884c\u673a\u5236\uff08\"-j\"\u53c2\u6570\uff09\u3002\u5982\u679c\u591a\u4e2aar\u547d\u4ee4\u5728\u540c\u4e00\u65f6\u95f4\u8fd0\u884c\u5728\u540c\u4e00\u4e2a\u51fd\u6570\u5e93\u6253\u5305\u6587\u4ef6\u4e0a\uff0c\u5c31\u5f88\u6709\u53ef\u4ee5\u635f\u574f\u8fd9\u4e2a\u51fd\u6570\u5e93\u6587\u4ef6\u3002\u6240\u4ee5\uff0c\u5728make\u672a\u6765\u7684\u7248\u672c\u4e2d\uff0c\u5e94\u8be5\u63d0\u4f9b\u4e00\u79cd\u673a\u5236\u6765\u907f\u514d\u5e76\u884c\u64cd\u4f5c\u53d1\u751f\u5728\u51fd\u6570\u6253\u5305\u6587\u4ef6\u4e0a\u3002\u4f46\u5c31\u76ee\u524d\u800c\u8a00\uff0c\u8fd8\u662f\u5e94\u8be5\u5c3d\u91cf\u4e0d\u8981\u4f7f\u7528\"-j\"\u53c2\u6570\u3002</p>","tags":["linux","\u7f16\u8bd1\u6784\u5efa"]},{"location":"tools/nginx/48.nginx-getting-started-tutorial/","title":"nginx\u5165\u95e8\u6559\u7a0b","text":"","tags":["\u7f51\u7edc","\u540e\u7aef"]},{"location":"tools/nginx/48.nginx-getting-started-tutorial/#_1","title":"\u53c2\u8003","text":"<ul> <li>nginx.org\u6587\u6863</li> <li>Nginx Plus Admin Guide</li> <li>\u5b89\u88c5\u90e8\u7f72nginx\u7684\u5404\u79cd\u65b9\u6cd5\uff08\u5b89\u88c5\u3001\u7f16\u8bd1\u3001\u5b89\u88c5\u52a8\u6001\u6a21\u5757\u3001docker\u90e8\u7f72\uff09</li> </ul>","tags":["\u7f51\u7edc","\u540e\u7aef"]},{"location":"tools/nginx/48.nginx-getting-started-tutorial/#nginx","title":"nginx\u4ecb\u7ecd","text":"<p>nginx\u6709\u4e00\u4e2amaster\u8fdb\u7a0b\u548c\u82e5\u5e72\u4e2aworker\u8fdb\u7a0b\u3002master\u8fdb\u7a0b\u8d1f\u8d23\u8bfb\u914d\u7f6e\u6587\u4ef6\u548c\u7ef4\u62a4worker\u8fdb\u7a0b\uff0c\u771f\u6b63\u8d1f\u8d23\u5904\u7406\u8bf7\u6c42\u7684\u662fworker\u8fdb\u7a0b\u3002</p> <p>access.log\u548cerror.log\u662fnginx\u7684\u65e5\u5fd7\u6587\u4ef6\u3002</p>","tags":["\u7f51\u7edc","\u540e\u7aef"]},{"location":"tools/nginx/48.nginx-getting-started-tutorial/#nginx_1","title":"nginx\u547d\u4ee4","text":"<p>\u76f4\u63a5\u6267\u884c\u4e8c\u8fdb\u5236\u6587\u4ef6sbin/nginx\u542f\u52a8nginx</p> <p>\u5176\u4ed6\u64cd\u4f5c\u8981\u6309\u7167<code>nginx -s [\u4fe1\u53f7]</code>\u7684\u683c\u5f0f\u6765\u6267\u884c\uff0c\u5e38\u7528\u4fe1\u53f7\uff1a</p> <ul> <li>stop\uff1a\u7acb\u5373\u5173\u95ednginx</li> <li>quit\uff1a\u7b49worker\u8fdb\u7a0b\u5904\u7406\u5b8c\u5f53\u524d\u8bf7\u6c42\u518d\u5173\u95ednginx\uff0c\u4f46\u662f\u5fc5\u987b\u7531\u542f\u52a8nginx\u7684\u7528\u6237\u6267\u884c\u8fd9\u6761\u547d\u4ee4\u3002</li> <li>reload\uff1a\u91cd\u65b0\u52a0\u8f7d\u914d\u7f6e\u6587\u4ef6</li> <li>reopen\uff1a\u91cd\u65b0\u6253\u5f00\u65e5\u5fd7\u6587\u4ef6</li> </ul>","tags":["\u7f51\u7edc","\u540e\u7aef"]},{"location":"tools/nginx/48.nginx-getting-started-tutorial/#_2","title":"\u914d\u7f6e\u6587\u4ef6","text":"<p>\u914d\u7f6e\u6587\u4ef6\u662fnginx.conf\uff0c\u6587\u4ef6\u4e2d\u7684\u6ce8\u91ca\u4ee5\u2018#\u2019\u5f00\u5934\u3002</p> <p>nginx\u7684\u6a21\u5757\u7531\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684\u6307\u4ee4\u63a7\u5236\u3002\u6307\u4ee4\u5206\u4e3a\u5355\u6307\u4ee4\u548c\u5757\u6307\u4ee4\uff0c\u5355\u6307\u4ee4\u4ee5\u5206\u53f7\u7ed3\u5c3e\uff0c\u5757\u6307\u4ee4\u4ee5\u4e00\u5bf9\u5927\u62ec\u53f7\u7ed3\u5c3e\u3002  </p> <p>\u5757\u6307\u4ee4\u88ab\u770b\u4f5c\u662f\u4e00\u4e2acontext\uff0c\u6240\u6709context\u4e4b\u5916\u88ab\u770b\u4f5c\u4e3amain context\u3002  </p> <p>\u56db\u4e2a\u9876\u7ea7\u6307\u4ee4\u5bf9\u5e94\u56db\u79cd\u4e0d\u540c\u7684\u8fde\u63a5\uff1a</p> <ul> <li>events\uff1a\u901a\u7528\u8fde\u63a5</li> <li>http\uff1ahttp\u8fde\u63a5</li> <li>mail\uff1a\u90ae\u4ef6\u8fde\u63a5</li> <li>stream\uff1atcp\u548cudp\u8fde\u63a5</li> </ul> <p>\u5176\u4ed6\u547d\u4ee4\uff1a</p> <ul> <li>inlcude\u547d\u4ee4\uff1a\u5f15\u5165\u5176\u4ed6\u914d\u7f6e\u6587\u4ef6</li> </ul>","tags":["\u7f51\u7edc","\u540e\u7aef"]},{"location":"tools/nginx/48.nginx-getting-started-tutorial/#web-server","title":"Web Server","text":"","tags":["\u7f51\u7edc","\u540e\u7aef"]},{"location":"tools/nginx/48.nginx-getting-started-tutorial/#server","title":"server","text":"<p>\u4e00\u4e2aserver\u5757\u53ef\u4ee5\u89c6\u4e3a\u4e00\u4e2a\u903b\u8f91\u4e0a\u7684\u670d\u52a1\u5668\u3002</p> <p>\u6bcf\u79cd\u8fde\u63a5\u7684context\u5185\u90fd\u53ef\u4ee5\u6709\u4e00\u4e2a\u6216\u591a\u4e2aserver\u5757\uff0c\u4f46\u662f\u8fde\u63a5\u7684\u7c7b\u578b\u4e0d\u540c\u65f6\uff0cserver\u5185\u80fd\u591f\u5305\u542b\u7684\u6307\u4ee4\u4e5f\u4e0d\u540c\u3002http\u5757\u5185\u7684server\u80fd\u5305\u542blocation\u6307\u4ee4\u3002</p> <p>server\u4e4b\u95f4\u901a\u8fc7\u76d1\u542c\u7684\u7aef\u53e3\uff08listen\uff09\u548cserver\u540d\uff08server_name\uff09\u533a\u5206\u3002</p> <p>\u5982\u679cnginx\u6ca1\u6709\u5339\u914d\u5230\u4efb\u4f55\u4e00\u4e2alocation\u6216\u8005\u6ca1\u627e\u5230url\u4e2d\u7684\u6587\u4ef6\uff0c\u8fd4\u56de404\u3002</p> <pre><code>http {\n    server {\n        listen [ip][:port]\n        server_name host1 host2 ...\n        root #\u5982\u679clocation\u5757\u4e2d\u6ca1\u6709root\uff0c\u5c31\u4f7f\u7528\u8fd9\u4e2aroot\n        ...\n        location\n        location\n        ...\n    }\n    server {}\n}\n</code></pre> <ul> <li>listen\u6307\u4ee4\u5982\u679c\u6ca1\u6709\u7aef\u53e3\u53f7\uff0c\u9ed8\u8ba4\u4f7f\u752880\u7aef\u53e3\uff1b\u5982\u679c\u6ca1\u6709ip\uff0c\u9ed8\u8ba4\u76d1\u542c\u6240\u6709ip</li> <li>\u5982\u679c\u6709\u591a\u4e2aserver\u5339\u914d\u5230\u4e86\u8bf7\u6c42\uff0cnginx\u6839\u636e\u8bf7\u6c42\u5934\u7684HOST\u5b57\u6bb5\u548cserver_name\u8fdb\u884c\u5339\u914d\uff0cHOST\u4e00\u822c\u662f\u57df\u540d</li> <li>\u7cbe\u786e\u5339\u914d\u3001\u901a\u914d\u7b26\uff08*\uff09\u3001Perl\u8bed\u6cd5\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\uff1b\u901a\u914d\u7b26\u53ea\u80fd\u653e\u5728\u5f00\u5934\u548c\u7ed3\u5c3e\uff0c\u5f00\u5934\u548c\u7ed3\u5c3e\u53ef\u4ee5\u540c\u65f6\u5e26\u901a\u914d\u7b26\uff1b\u6b63\u5219\u8868\u8fbe\u5f0f\u524d\u9762\u8981\u52a0\u4e2a\u6ce2\u6d6a\u53f7\uff08~\uff09</li> <li>\u5982\u679c\u5339\u914d\u5230\u4e86\u591a\u4e2aserver name\uff0cnginx\u6839\u636e\u4ee5\u4e0b\u987a\u5e8f\u9009\u62e9server name<ul> <li>\u7cbe\u786e\u7684HOST</li> <li>\u6700\u957f\u7684\u901a\u914d\u7b26\uff08*\uff09\u5f00\u5934\u7684HOST\uff0c\u4f8b\u5982<code>*.example.org</code></li> <li>\u6700\u957f\u7684\u901a\u914d\u7b26\uff08*\uff09\u7ed3\u5c3e\u7684HOSt\uff0c\u4f8b\u5982<code>mail.*</code></li> <li>\u6839\u636e\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u51fa\u73b0\u7684\u987a\u5e8f\uff0c\u7b2c\u4e00\u4e2a\u5339\u914d\u5230\u7684\u6b63\u5219\u8868\u8fbe\u5f0f</li> </ul> </li> <li>\u5982\u679c\u6700\u540e\u8fd8\u662f\u6ca1\u5339\u914d\u5230server\uff0cnginx\u4f1a\u628a\u8bf7\u6c42\u8def\u7531\u5230\u9ed8\u8ba4\u7684server\uff0c\u5373\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684\u7b2c\u4e00\u4e2aserver</li> <li> <p>\u53ef\u4ee5\u81ea\u5b9a\u4e49\u9ed8\u8ba4\u7684server</p> <p><code>nginx server {     listen 80 default_server; }</code></p> </li> </ul>","tags":["\u7f51\u7edc","\u540e\u7aef"]},{"location":"tools/nginx/48.nginx-getting-started-tutorial/#location","title":"location","text":"<p>location\u547d\u4ee4\u5b9a\u4e49\u4e86\u4e00\u4e2aurl\u7684\u5339\u914d\u548c\u8def\u7531\u89c4\u5219\uff0cserver\u5757\u5185\u53ef\u4ee5\u6709\u591a\u4e2alocation\u547d\u4ee4\u3002</p> <pre><code>location pattern {\n    root xxx\n}\n</code></pre> <p>url\u5339\u914d\u5230\u4e00\u4e2alocation\u540e\uff0curl\u7684\u8def\u5f84\u4f1a\u62fc\u5728root\u6307\u5b9a\u7684\u8def\u5f84\u540e\u9762\uff0cnginx\u6700\u7ec8\u4f1a\u5230\u8fd9\u4e2a\u62fc\u8d77\u6765\u7684\u8def\u5f84\u91cc\u53bb\u627e\u6587\u4ef6\u3002</p>","tags":["\u7f51\u7edc","\u540e\u7aef"]},{"location":"tools/nginx/48.nginx-getting-started-tutorial/#location_1","title":"location\u5339\u914d\u89c4\u5219","text":"<p>location\u547d\u4ee4\u683c\u5f0f\uff1a<code>location [=|~|~*|^~|@...] /url/ {...}</code></p> <p><code>location</code>\u540e\u9762\u7684<code>[=|~|~*|^~|@...]</code>\u6307\u5b9a\u4e86Nginx\u4ee5\u54ea\u79cd\u65b9\u5f0f\u5339\u914durl\u3002\u5e38\u89c1\u7684\u6709\uff0c ||| |---|---| |<code>=</code>|\u7cbe\u786e\u5339\u914d| |<code>^~</code>|nginx\u4f1a\u5339\u914d\u6700\u957f\u6700\u5b8c\u6574\u7684\u524d\u7f00\u3002\u5982\u679c\u5339\u914d\u5230\u7684\u524d\u7f00\u524d\u9762\u5e26\u6709<code>^~</code>\uff0c\u5c31\u505c\u6b62\u5339\u914d\uff0c\u5426\u5219\uff0c\u5148\u5339\u914d\u6b63\u5219\u8868\u8fbe\u5f0f\uff0c\u5982\u679c\u6ca1\u5339\u914d\u5230\uff0c\u624d\u4f1a\u9009\u62e9\u4e4b\u524d\u5339\u914d\u5230\u7684\u524d\u7f00| |<code>~</code>|\u6b63\u5219\u5339\u914d\uff0c\u533a\u5206\u5927\u5c0f\u5199| |<code>~*</code>|\u6b63\u5219\u5339\u914d\uff0c\u4e0d\u533a\u5206\u5927\u5c0f\u5199| |\u53ea\u6709\u4e00\u4e2aURL|\u666e\u901a\u524d\u7f00\u5339\u914d| |\u53ea\u6709\u4e00\u4e2aURL\u5e76\u4e14\u53ea\u662f\u4e2a<code>/</code>|\u901a\u7528\u5339\u914d| |<code>@</code>|\u7528\u4e8e\u5185\u90e8\u91cd\u5b9a\u5411\u540d\uff0c\u53ea\u80fd\u88abnginx\u5185\u90e8\u914d\u7f6e\u6307\u4ee4\u8bbf\u95ee\uff0c\u4e0d\u80fd\u88ab\u5916\u90e8client\u8bbf\u95ee| |||</p> <p>Nginx\u7684<code>location</code>\u89c4\u5219\u53ef\u4ee5\u5199\u5f88\u591a\u4e2a\uff0c\u800c\u4e14\u4e0d\u540c\u7684\u5339\u914d\u65b9\u5f0f\u5b58\u5728\u4f18\u5148\u7ea7\uff0c\u4e00\u4e2aURL\u8fdb\u6765\u4ee5\u540e\uff0cNginx\u5148\u628a\u8fd9\u4e2aURL\u62ff\u53bb\u548c\u4f18\u5148\u7ea7\u6700\u9ad8\u7684\u5339\u914d\u89c4\u5219\u8fdb\u884c\u5339\u914d\uff0c\u5982\u679c\u5339\u914d\u5230\u4e86\uff0c\u5219\u4e0d\u518d\u8fdb\u884c\u5339\u914d\uff0c\u5982\u679c\u6ca1\u5339\u914d\u5230\uff0cNginx\u4f1a\u5bfb\u627e\u66f4\u4f4e\u4f18\u5148\u7ea7\u7684\u5339\u914d\u89c4\u5219\u548c\u8fd9\u4e2aURL\u8fdb\u884c\u5339\u914d\u3002\u4ee5\u4e0b\u662f\u4f18\u5148\u7ea7\u987a\u5e8f\uff0c</p> <ol> <li>\u7cbe\u786e\u5339\u914d <code>=</code> \u4f18\u5148\u7ea7\u6700\u9ad8\uff1b</li> <li>\u524d\u7f00\u5339\u914d <code>^~</code> \uff1b</li> <li>\u6b63\u5219\u5339\u914d\uff0c\u6b63\u5219\u5339\u914d\u4e4b\u95f4\u7684\u4f18\u5148\u7ea7\u548c\u914d\u7f6e\u6587\u4ef6\u4e2d\u5b9a\u4e49\u7684\u987a\u5e8f\u4e00\u81f4\uff1b</li> <li>\u666e\u901a\u524d\u7f00\u5339\u914d\uff1b</li> <li>\u901a\u7528\u5339\u914d</li> </ol> <p>\u5982\u679c\u6240\u6709\u89c4\u5219\u90fd\u5339\u914d\u4e0d\u5230\uff0cNginx\u4f1a\u8fd4\u56de404\u3002</p>","tags":["\u7f51\u7edc","\u540e\u7aef"]},{"location":"tools/nginx/48.nginx-getting-started-tutorial/#location_2","title":"location\u8def\u7531\u89c4\u5219","text":"<pre><code>location ... {\n    root\n    proxy_pass\n\n    return 404;\n    return 301 http://www.example.com;\n\n    # \u66ff\u6362http\u54cd\u5e94\u4e2d\u7684\u5185\u5bb9\n    sub_filter origin target;\n    sub_filter_once on/off;\n}\n</code></pre> <p><code>location</code>\u7684\u8def\u7531\u89c4\u5219\u5199\u5728<code>{}</code>\u91cc\uff0c\u6240\u6709\u89c4\u5219\u4ee5<code>;</code>\u7ed3\u5c3e\uff0c\u5e38\u89c1\u7684\u6709\u8fd9\u4e48\u51e0\u9879\uff1a</p> <ul> <li><code>root</code>\uff1aWeb\u6839\u8def\u5f84\uff0cNginx\u4f1a\u5728root+URL\u91cc\u7684\u76f8\u5bf9\u8def\u5f84\u4e0b\u627e\u8bf7\u6c42\u7684\u6587\u4ef6\u3002</li> <li><code>alias</code>\uff1a\u65e0\u89c6URL\u91cc\u7684\u76f8\u5bf9\u8def\u5f84\uff0c\u76f4\u63a5\u5728alias\u6307\u5b9a\u7684\u76ee\u5f55\u4e0b\u67e5\u627e\u6587\u4ef6\u3002(\u6709\u5e16\u5b50\u8bf4alias\u6307\u5b9a\u7684\u8def\u5f84\u540e\u9762\u5fc5\u987b\u5e26\u4e0a<code>'/'</code>)</li> <li><code>proxy_pass</code>\uff1a\u53cd\u5411\u4ee3\u7406\u6307\u4ee4\uff0c\u5c06\u8bf7\u6c42\u8f6c\u53d1\u5230proxy_pass\u6307\u5b9a\u7684\u5730\u5740\u3002\uff08\u5730\u5740\u672b\u5c3e\u5e26\u4e0d\u5e26<code>'/'</code>\u6709\u533a\u522b\uff09</li> <li><code>rewrite</code>\uff1a\u4f7f\u7528\u53d8\u91cf\u3001\u6b63\u5219\u8868\u8fbe\u5f0f\u548c\u7ed3\u5c3e\u7684flag\u5b9e\u73b0URL\u91cd\u5199\u53ca\u91cd\u5b9a\u5411\uff08\u5728\u540c\u4e00\u57df\u540d\u5185\uff09\u3002\u8bed\u6cd5\uff1a<code>rewrite regex replacement [flag]</code>\u3002\u4ee5\u4e0b\u662f\u7ed3\u5c3e\u7684\u6807\u5fd7\u4f4d\u7684\u542b\u4e49\uff1a</li> <li><code>last</code>\uff1a\u53ef\u80fd\u4f1a\u6709\u8fde\u7eed\u7684\u591a\u6761rewrite\u89c4\u5219\uff0c<code>last</code>\u8868\u793a\u8fd9\u4e2a<code>rewrite</code>\u5df2\u5b8c\u6210\uff0c\u4e0d\u518d\u8fdb\u5165\u540e\u9762\u7684rewrite\uff0c\u4f46\u7531\u4e8erewrite\u540e\u662f\u4e00\u4e2a\u65b0\u7684URL\uff0c\u6240\u4ee5\u8fd8\u662f\u4f1a\u8fdb\u5165server\u91cd\u8d70\u4e00\u904d\u5339\u914d\u6d41\u7a0b\u3002</li> <li><code>break</code>\uff1a\u8868\u793a\u8fd9\u6761<code>rewrite</code>\u5df2\u5b8c\u6210\uff0c\u5e76\u4e14nginx\u4e0d\u4f1a\u518d\u5339\u914d\u91cd\u5199\u540e\u7684URL\u3002</li> <li><code>redirect</code>\uff1a\u8fd4\u56de302\u4e34\u65f6\u91cd\u5b9a\u5411\uff1b</li> <li><code>permanent</code>\uff1a\u8fd4\u56de301\u6c38\u4e45\u91cd\u5b9a\u5411\uff1b  </li> </ul> <p>replacement\u8bed\u53e5\u91cc\u7528\u7c7b\u4f3c<code>$1</code>\u3001<code>$2</code>\u7684\u6807\u5fd7\uff0c\u6765\u66ff\u6362\u6b63\u5219\u8868\u8fbe\u5f0f\u91cc\u7684\u7b2c\u51e0\u4e2a\u62ec\u53f7\u5339\u914d\u5230\u7684\u5185\u5bb9\u3002 - <code>fastcgi_pass</code>\uff1a\u8f6c\u53d1\u9488\u5bf9php\u7a0b\u5e8f\u7684\u8bf7\u6c42\uff0c\u8f6c\u53d1\u5230\u540e\u53f0\u7684FastCGI\u670d\u52a1\u5668\u3002FastCGI\u76d1\u542c\u7684\u65b9\u5f0f\u6709\u4e24\u79cd\uff0c\u4e00\u79cd\u662f\u901a\u8fc7TCP\uff0c\u4e00\u79cd\u662f\u901a\u8fc7socket\u6587\u4ef6\uff08.sock\u6587\u4ef6\uff09\u3002\u56e0\u6b64<code>fastcgi_pass</code>\u53ef\u80fd\u4f1a\u5427URL\u8f6c\u53d1\u5230\u4e00\u4e2a.scok\u6587\u4ef6\u4e0a\u3002 - <code>fastcgi_index</code>\uff1aFastCGI\u9ed8\u8ba4\u7684\u4e3b\u9875\u8d44\u6e90\u3002 - <code>fastcgi_param</code>\uff1a\u4f20\u9012\u7ed9FastCGI\u670d\u52a1\u5668\u7684\u53c2\u6570\u3002 - <code>include</code>\uff1a\u628a\u4e00\u4e2a\u6587\u4ef6\u5305\u542b\u5230\u914d\u7f6e\u6587\u4ef6\u4e2d\u6765\u3002</p>","tags":["\u7f51\u7edc","\u540e\u7aef"]},{"location":"tools/nginx/48.nginx-getting-started-tutorial/#_3","title":"\u4ee3\u7406","text":"<pre><code>    # \u4f8b1\uff1a\u7b2c\u4e00\u4e2aserver\u662f\u7b2c\u4e8c\u4e2aserver\u7684\u4ee3\u7406\n    server {\n        location /proxy {\n           proxy_pass   http://localhost:8080/;\n        }\n    }\n    server {\n        listen 8080;\n        root html2;\n\n        location / {\n        }\n    }\n\n    # \u4f8b2\n    location /some/path/ {\n        proxy_pass http://www.example.com/link/;\n    }\n</code></pre> <p>\u4f8b2\u4e2d\u65b0URL\u540e\u9762\u5e26\u4e86\u4e2a\u8bf7\u6c42\u8def\u5f84\uff0c\u8fd9\u79cd\u60c5\u51b5\u4e0b\u539f\u59cb\u8bf7\u6c42\u5339\u914dlocation\u53c2\u6570\u7684\u90e8\u5206\u4e0d\u4f1a\u88ab\u5e26\u5165\u65b0URL\uff0c\u4f8b\u5982\uff0c\u8bf7\u6c42\u201c/some/path/page.html\u201d\u4f1a\u88ab\u8f6c\u53d1\u5230\u201chttp://www.example.com/link/page.html\u201d\u3002</p> <p>\u628ahttp\u8bf7\u6c42\u8f6c\u53d1\u7ed9\u975ehttp server\u6709\u4ee5\u4e0b\u51e0\u79cd\u547d\u4ee4\uff1a</p> <ul> <li>fastcgi_pass</li> <li>uwsgi_pass</li> <li>scgi_pass</li> <li>memcached_pass</li> </ul> <p>\u8f6c\u53d1\u8bf7\u6c42\u65f6\u5982\u4f55\u8f6c\u53d1\u8bf7\u6c42\u5934\uff1a</p> <ul> <li>nginx\u8f6c\u53d1\u65f6\u9ed8\u8ba4\u91cd\u5199\u4e24\u4e2a\u8bf7\u6c42\u5934\u5b57\u6bb5\uff0cHOST\u5b57\u6bb5\u9ed8\u8ba4\u8bbe\u7f6e\u4e3a<code>proxy_host</code>\u53d8\u91cf\u7684\u503c\uff0cConnection\u5b57\u6bb5\u9ed8\u8ba4\u8bbe\u7f6e\u4e3aclose\u3002</li> <li> <p>\u4f7f\u7528<code>proxy_set_header</code>\u547d\u4ee4\u8bbe\u7f6e\u5934\u5b57\u6bb5</p> <p><code>nginx location /some/path/ {     proxy_set_header Host $host;     proxy_set_header X-Real-IP $remote_addr;     proxy_pass http://localhost:8000; }</code></p> </li> <li> <p>nginx\u8f6c\u53d1\u8bf7\u6c42\u65f6\u4f1a\u53bb\u6389\u503c\u4e3a\u7a7a\u7684\u5934\u5b57\u6bb5\uff0c\u56e0\u6b64\u5982\u679c\u4e0d\u60f3\u8f6c\u53d1\u67d0\u4e2a\u5934\u5b57\u6bb5\uff0c\u628a\u8be5\u5b57\u6bb5\u7684\u503c\u8bbe\u7f6e\u4e3a\u7a7a\u5b57\u7b26\u4e32\uff0c\u4f8b\u5982<code>proxy_set_header Accept-Encoding \"\";</code>\u3002</p> </li> </ul>","tags":["\u7f51\u7edc","\u540e\u7aef"]},{"location":"tools/nginx/48.nginx-getting-started-tutorial/#fastcgi","title":"FastCGI\u4ee3\u7406","text":"<p>fastcgi_param\u547d\u4ee4\u6307\u5b9a\u4e86\u4f20\u9012\u7ed9fastcgi\u670d\u52a1\u5668\u7684\u53c2\u6570\uff0c\u4f8b\u5982<code>fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;</code>\u8fd9\u6761\u547d\u4ee4\u5c06\u53c2\u6570<code>SCRIPT_FILENAME</code>\u4f20\u9012\u7ed9fastcgi\u670d\u52a1\u5668\uff0c\u53c2\u6570\u7684\u503c\u4e3a<code>$document_root$fastcgi_script_name</code>\u3002</p> <pre><code>server {\n    location / {\n        fastcgi_pass  localhost:9000;\n        # \u811a\u672c\u540d\n        fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\n        # \u8bf7\u6c42\u53c2\u6570\n        fastcgi_param QUERY_STRING    $query_string;\n    }\n}\n</code></pre>","tags":["\u7f51\u7edc","\u540e\u7aef"]},{"location":"tools/nginx/48.nginx-getting-started-tutorial/#error_page","title":"error_page","text":"<p>\u6307\u5b9a\u9519\u8bef\u9875\uff0c\u683c\u5f0f\uff1a<code>error_page \u9519\u8bef\u7801 uri</code></p> <pre><code>error_page 404 /404.html;\n</code></pre> <p>\u66ff\u6362\u9519\u8bef\u7801\uff0c\u683c\u5f0f\uff1a<code>error_page \u9519\u8bef\u7801 =\u65b0\u9519\u8bef\u7801 [\u53c2\u6570]</code></p> <pre><code>location /old/path.html {\n    error_page 404 =301 http:/example.com/new/path.html;\n}\n</code></pre> <p>\u5982\u679c\u53ea\u5199\u4e86<code>=</code>\uff0c\u6ca1\u6709\u5199\u65b0\u7684\u9519\u8bef\u7801\uff0c\u8fd4\u56de\u91cd\u5b9a\u5411\u540e\u7684uri\u8fd4\u56de\u7684\u9519\u8bef\u7801</p> <pre><code>server {\n    ...\n    location /images/ {\n        # Set the root directory to search for the file\n        root /data/www;\n\n        # Disable logging of errors related to file existence\n        # \u53d1\u751f\u548c\u6587\u4ef6\u5b58\u5728\u76f8\u5173\u7684\u9519\u8bef\u65f6\uff0c\u4e0d\u5199\u65e5\u5fd7\n        open_file_cache_errors off;\n\n        # Make an internal redirect if the file is not found\n        error_page 404 = /fetch$uri;\n    }\n\n    location /fetch/ {\n        proxy_pass http://backend/;\n    }\n}\n</code></pre>","tags":["\u7f51\u7edc","\u540e\u7aef"]},{"location":"tools/nginx/48.nginx-getting-started-tutorial/#_4","title":"\u670d\u52a1\u9759\u6001\u5185\u5bb9","text":"<ul> <li><code>root</code>\u53ef\u4ee5\u653e\u5230<code>http{}</code>\u3001<code>server{}</code>\u548c<code>location{}</code>\u91cc\u3002</li> <li> <p>\u5bf9\u4e8e\u4ee5\u659c\u6760\u7ed3\u5c3e\u7684\u8bf7\u6c42\uff08\u8bf7\u6c42\u7684\u662f\u4e00\u4e2a\u76ee\u5f55\uff0c\u800c\u4e0d\u662f\u6587\u4ef6\uff09\uff0cnginx\u9ed8\u8ba4\u4f1a\u5230\u5bf9\u5e94\u76ee\u5f55\u4e0b\u53bb\u627eindex.html\uff0c\u5982\u679c\u6ca1\u6709\u5c31\u8fd4\u56de404\uff1b<code>autoindex</code>\u547d\u4ee4\u4f1a\u8ba9nginx\u8fd4\u56de\u4e00\u4e2a\u76ee\u5f55\u9875\u9762\uff0c\u5217\u51fa\u8bf7\u6c42\u76ee\u5f55\u4e0b\u7684\u6587\u4ef6\uff1b<code>index</code>\u547d\u4ee4\u53ef\u4ee5\u6307\u5b9a\u591a\u4e2aindex\u9875\u9762\uff0cnginx\u8fd4\u56de\u627e\u5230\u7684\u7b2c\u4e00\u4e2a\u9875\u9762\u3002</p> <p>```nginx location /images/ {     autoindex on; }</p> <p>location / {     index index.$geo.html index.htm index.html; } ```</p> </li> <li> <p>try_files \u68c0\u67e5\u6307\u5b9a\u7684\u6587\u4ef6\u6216\u76ee\u5f55\u662f\u5426\u5b58\u5728\uff08try_files\u540e\u9762\u8ddf\u7740\u7684\u51e0\u4e2auri\uff09\uff0c\u5982\u679c\u4e0d\u5b58\u5728\uff0c\u8fd4\u56de\u6700\u540e\u4e00\u4e2auri\u6307\u5411\u7684\u6587\u4ef6\uff08\u4e5f\u6709\u53ef\u80fd\u4e0d\u662furi\uff0c\u662f\u4e00\u4e2a\u8fd4\u56de\u7801\u6216\u8005location\u7b49\u7b49\uff09\uff1b\uff08\u4f18\u5148\u4e8eautoindex\uff09</p> <p>```nginx server {     root /www/data;</p> <pre><code>location /images/ {\n    try_files $uri /images/default.gif;\n}\n</code></pre> <p>}</p> </li> <li> <p>\u6027\u80fd\u4f18\u5316</p> </li> <li>sendfile\u3001tcp_nopush\u3001tcp_nodealy</li> <li>\u4f18\u5316\u8bf7\u6c42\u961f\u5217\uff08backlog queue\uff09</li> </ul>","tags":["\u7f51\u7edc","\u540e\u7aef"]},{"location":"tools/nginx/48.nginx-getting-started-tutorial/#_5","title":"\u53ef\u4ee5\u8fd4\u56de\u72b6\u6001\u7801","text":"<p>location / {     try_files $uri $uri/ $uri.html =404; }</p>","tags":["\u7f51\u7edc","\u540e\u7aef"]},{"location":"tools/nginx/48.nginx-getting-started-tutorial/#_6","title":"\u53ef\u4ee5\u8f6c\u53d1\u8bf7\u6c42","text":"<p>location / {     try_files $uri $uri/ @backend; } location @backend {     proxy_pass http://backend.example.com; } ```</p>","tags":["\u7f51\u7edc","\u540e\u7aef"]},{"location":"tools/nginx/48.nginx-getting-started-tutorial/#buffer","title":"buffer","text":"<p>nginx buffer\u4f1a\u6682\u5b58\u540e\u7aef\u670d\u52a1\u5668\u6ca1\u53d1\u9001\u5b8c\u7684\u54cd\u5e94\uff0c\u77e5\u9053nginx\u5b8c\u6574\u63a5\u6536\u4e86\u6574\u4e2a\u54cd\u5e94\uff0c\u624d\u4f1a\u628a\u8fd9\u4e2a\u54cd\u5e94\u53d1\u9001\u7ed9\u5ba2\u6237\u7aef\u3002\u597d\u5904\u662f\u5982\u679c\u5ba2\u6237\u7aef\u662f\u4ee5\u540c\u6b65\u65b9\u5f0f\u63a5\u53d7\u54cd\u5e94\uff0cbuffer\u4f1a\u8282\u7701\u540e\u7aef\u670d\u52a1\u5668\u7684\u65f6\u95f4\uff0c\u574f\u5904\u662fnginx\u5fc5\u987b\u4e00\u76f4\u7f13\u5b58\u6574\u4e2a\u54cd\u5e94\uff0c\u76f4\u5230\u5ba2\u6237\u7aef\u63a5\u6536\u5b8c\u6bd5\u3002</p> <p>\u76f8\u5173\u7684\u547d\u4ee4\uff1a</p> <ul> <li>proxy_buffers</li> <li>proxy_buffer_size</li> <li>proxy_buffering</li> </ul>","tags":["\u7f51\u7edc","\u540e\u7aef"]},{"location":"tools/nginx/48.nginx-getting-started-tutorial/#ip","title":"\u7ed1\u5b9aip","text":"<p>\u5982\u679c\u670d\u52a1\u5668\u4e0a\u6709\u591a\u4e2aip\uff0c\u53ef\u4ee5\u4f7f\u7528<code>proxy_bind</code>\u547d\u4ee4\u5c06\u8bf7\u6c42\u901a\u8fc7\u6307\u5b9aip\u8f6c\u53d1\uff0c\u4f8b\u5982\uff1a</p> <pre><code>location /app1/ {\n    proxy_bind 127.0.0.1;\n    proxy_pass http://example.com/app1/;\n}\n</code></pre>","tags":["\u7f51\u7edc","\u540e\u7aef"]},{"location":"tools/nginx/48.nginx-getting-started-tutorial/#_7","title":"\u538b\u7f29\u548c\u89e3\u538b","text":"<ul> <li>\u4ee5\u4e0b\u8fd9\u4e9b\u538b\u7f29\u548c\u89e3\u538b\u6307\u4ee4\u53ef\u4ee5\u653e\u5230<code>http{}</code>\u3001<code>server{}</code>\u548c<code>location{}</code>\u91cc\u3002</li> <li> <p>\u5bf9\u4e8e\u4e00\u4e2a\u5df2\u7ecf\u538b\u7f29\u8fc7\u7684\u54cd\u5e94\uff0cnginx\u4e0d\u4f1a\u4e8c\u6b21\u538b\u7f29\uff08\u6bd4\u5982\u4e00\u4e2a\u6765\u81ea\u540e\u7aef\u670d\u52a1\u5668\u7684\u54cd\u5e94\uff09\u3002</p> <p><code>nginx gzip on;</code></p> </li> <li> <p>nginx\u9ed8\u8ba4\u53ea\u4f1a\u5bf9text/html\u7c7b\u578b\u505a\u538b\u7f29\uff0c\u4f7f\u7528<code>gzip_types</code>\u6307\u4ee4\u5bf9\u5176\u5b83\u7c7b\u578b\u7684\u6570\u636e\u505a\u538b\u7f29</p> <p><code>nginx gzip_types text/plain application/xml;</code></p> </li> <li> <p><code>gzip_min_length 1000;</code>\uff0c\u8bbe\u7f6e\u538b\u7f29\u7684\u6700\u5c0f\u957f\u5ea6\uff0c\u9ed8\u8ba4\u662f20\u4e2a\u5b57\u8282\u3002</p> </li> <li><code>gzip_proxied</code>\u6307\u4ee4\u7528\u4e8e\u5bf9\u540e\u7aef\u670d\u52a1\u5668\u6536\u5230\u7684\u54cd\u5e94\u505a\u538b\u7f29\uff08\u5373\u8bf7\u6c42\u662f\u540e\u7aef\u670d\u52a1\u5668\u53d1\u51fa\u7684\uff09</li> <li>\u89e3\u538b\u6307\u4ee4<code>gunzip on;</code></li> <li><code>gzip_static</code>\uff0cnginx\u4f1a\u81ea\u52a8\u8fd4\u56de\u6587\u4ef6\u7684\u538b\u7f29\u7248\u3002\u4f8b\u5982\uff0c\u76ee\u5f55\u4e0b\u6709\u4e00\u4e2a\u540d\u4e3atest.txt.gz\u7684\u6587\u4ef6\uff0c\u5982\u679c\u914d\u7f6e\u4e86<code>gzip_static on</code>\uff0c\u7528\u6237\u8bbf\u95eetest.txt\u7684\u65f6\u5019gzip\u4f1a\u8fd4\u56detest.txt.gz\u8fd9\u4e2a\u6587\u4ef6\uff0c\u6d4f\u89c8\u5668\u6536\u5230\u8fd9\u4e2a\u6587\u4ef6\u540e\u4f1a\u5c06\u5176\u89e3\u538b\u5e76\u6253\u5370\u5230\u5c4f\u5e55\u4e0a\u3002\uff08\u800c\u5e76\u4e0d\u662f\u8ba9\u6d4f\u89c8\u5668\u4e0b\u8f7d\u8fd9\u4e2a\u6587\u4ef6\uff09</li> </ul>","tags":["\u7f51\u7edc","\u540e\u7aef"]},{"location":"tools/nginx/48.nginx-getting-started-tutorial/#_8","title":"\u8d1f\u8f7d\u5747\u8861","text":"","tags":["\u7f51\u7edc","\u540e\u7aef"]},{"location":"tools/nginx/48.nginx-getting-started-tutorial/#http","title":"http\u8d1f\u8f7d\u5747\u8861","text":"<pre><code>http {\n    upstream backend {  # backend\u662f\u4e00\u4e2a\u8d1f\u8f7d\u5747\u8861\u7ec4\n        [\u8d1f\u8f7d\u5747\u8861\u65b9\u6cd5]\n        server backend1.example.com weight=5;\n        server backend2.example.com;\n        server 192.0.0.1 backup;\n    }\n    server {\n        location / {\n            proxy_pass http://backend;  # \u628a\u8bf7\u6c42\u8def\u7531\u5230\u8fd9\u4e2a\u8d1f\u8f7d\u5747\u8861\u7ec4\u53bb\n        }\n    }\n}\n</code></pre> <p>\u6709\u56db\u79cd\u8d1f\u8f7d\u5747\u8861\u65b9\u6cd5\uff1a</p> <ul> <li>\u8f6e\u5de1\uff08Round Robin\uff09\uff1a\u9ed8\u8ba4\u5c31\u662f\u8fd9\u79cd\u65b9\u6cd5\u3002\u4f1a\u8003\u8651server\u6743\u91cd\uff08weight\uff09\u3002</li> <li>\u6700\u5c11\u8fde\u63a5\u6570\uff08least_conn\uff09\uff1a\u6bcf\u6b21\u628a\u8bf7\u6c42\u8f6c\u53d1\u7ed9\u8fde\u63a5\u6570\u6700\u5c11\u7684server\uff0c\u540c\u65f6\u4e5f\u8003\u8651\u6743\u91cd\u3002</li> <li>ip_hash\uff1a\u5bf9IPv4\u5730\u5740\u7684\u524d\u4e09\u4e2a\u5b57\u8282\u6216\u8005\u6574\u4e2aIPv6\u5730\u5740\u8fdb\u884chash\uff0c\u786e\u4fdd\u5730\u5740\u76f8\u540c\u7684\u8bf7\u6c42\u80fd\u88ab\u76f8\u540cserver\u5904\u7406\u3002</li> <li>\u901a\u7528hash\uff08hash \u7528\u6237\u81ea\u5b9a\u4e49key [consistent]\uff09\uff1a\u7528\u6237\u53ef\u4ee5\u81ea\u5b9a\u4e49key\uff0c\u5e76\u4e14\u6709\u4e00\u4e2a\u4e00\u81f4\u6027hash\u7684\u53ef\u9009\u9879\u3002</li> </ul> <p>server\u540e\u9762\u8fd8\u53ef\u4ee5\u8ddf\u4e00\u4e9b\u9009\u9879\uff1a</p> <ul> <li>weight\uff1aserver\u7684\u6743\u91cd\uff0c\u9ed8\u8ba4\u662f1\u3002</li> <li>backup\uff1a\u6b63\u5e38\u4e0d\u4f1a\u670d\u52a1\uff0c\u53ea\u6709\u5176\u4ed6server\u4e0d\u53ef\u7528\u4e86\u624d\u4f1a\u628a\u8bf7\u6c42\u53d1\u9001\u5230\u8fd9\u4e2aserver\u4e0a\u3002</li> <li>down\uff1a\u6682\u65f6\u79fb\u9664\u8fd9\u4e2aserver\uff0c\u4f46\u662fip_hash\u8fd8\u662f\u80fd\u6620\u5c04\u5230\u8fd9\u4e2aserver\u4e0a\uff0c\u53ea\u4e0d\u8fc7\u7531\u6392\u5728\u4ed6\u540e\u9762\u7684server\u6765\u670d\u52a1\u3002</li> </ul> <p>nginx\u8fd8\u80fd\u5b9e\u65f6\u5730\u68c0\u67e5upstream\u7ec4\u5185server\u7684\u72b6\u6001\u662f\u5426\u6b63\u5e38\u3002\u5728server\u540e\u9762\u52a0\u4e0amax_fails\u548cfail_timeout\u9009\u9879\uff0cfail_timeout\u662f\u4e00\u4e2a\u65f6\u95f4\u503c\uff0c\u8868\u793aserver\u5728\u8fd9\u4e2a\u65f6\u95f4\u5185\u5931\u8d25\u4e00\u5b9a\u6b21\u6570\u5c31\u4f1a\u88ab\u6807\u8bb0\u4e3a\u4e0d\u53ef\u7528\uff0cmax_fails\u89c4\u5b9a\u4e86\u5931\u8d25\u7684\u6b21\u6570\u3002</p> <p>zone\u6307\u4ee4\uff1a\u5982\u679c\u4e00\u4e2a\u8d1f\u8f7d\u5747\u8861\u7ec4\u91cc\u6709zone\u6307\u4ee4\uff0c\u90a3\u4e48\u8fd9\u4e2a\u7ec4\u7684\u914d\u7f6e\u548c\u72b6\u6001\u5c31\u4f1a\u88ab\u6240\u6709worker\u8fdb\u7a0b\u5171\u4eab\u3002</p> <p>\u53ef\u4ee5\u7528resolver\u6307\u4ee4\u5b9e\u73b0\u8d1f\u8f7d\u5747\u8861\u7ec4\u7684\u57df\u540d\u89e3\u6790\uff08DNS\uff09\uff0c\uff08\u8fd9\u4e2a\u5c5e\u4e8eNginx Plus\u7684\u529f\u80fd\uff09</p>","tags":["\u7f51\u7edc","\u540e\u7aef"]},{"location":"tools/nginx/48.nginx-getting-started-tutorial/#_9","title":"\u5b89\u5168\u63a7\u5236","text":"","tags":["\u7f51\u7edc","\u540e\u7aef"]},{"location":"tools/nginx/48.nginx-getting-started-tutorial/#https","title":"https","text":"<pre><code>http {\n    # \u6027\u80fd\u4f18\u5316\n    ssl_session_cache   shared:SSL:10m;\n    ssl_session_timeout 10m;\n    server {\n        listen              80; #\u4e00\u4e2aServer\u80fd\u540c\u65f6\u8fdb\u884cHTTP\u548cHTTPS\u670d\u52a1\n        listen              443 ssl;\n        server_name         www.example.com;\n        ssl_certificate     www.example.com.crt; # \u8bc1\u4e66\uff08\u5168\u94fe\u8bc1\u4e66\uff09\n        ssl_certificate_key www.example.com.key; # \u79c1\u94a5\n        # \u534f\u8bae\u548c\u5bc6\u6587\n        ssl_protocols       TLSv1 TLSv1.1 TLSv1.2;\n        ssl_ciphers         HIGH:!aNULL:!MD5;\n        # OCSP\n        ssl_verify_client       on;\n        ssl_trusted_certificate /etc/ssl/cachain.pem; # CA\u8bc1\u4e66\n        ssl_ocsp                on; # Enable OCSP validation\n\n        ssl_ocsp_responder http://ocsp.example.com/; # \u53ef\u9009\uff0c\u624b\u52a8\u6307\u5b9aocsp\u8bf7\u6c42\u5730\u5740\n        ssl_ocsp_cache shared:one:10m; # \u7f13\u5b58ocsp\u8bf7\u6c42\u7ed3\u679c\n\n        # \u6027\u80fd\u4f18\u5316\n\n        #...\n    }\n}\n</code></pre> <ul> <li>\u5148\u5efa\u7acbSSL\u8fde\u63a5\uff0c\u7136\u540e\u624d\u53d1\u9001HTTP\u8bf7\u6c42\uff0c\u56e0\u6b64nginx\u5efa\u7acbSSL\u8fde\u63a5\u7684\u65f6\u5019\u5e76\u4e0d\u76f4\u5230\u5ba2\u6237\u7aef\u8981\u8bbf\u95ee\u54ea\u4e2a\u670d\u52a1\u3002</li> <li>ocsp\u8bf7\u6c42\u7684\u7ed3\u679c\u53ef\u4ee5\u901a\u8fc7\u53d8\u91cf<code>$ssl_client_verify</code>\u83b7\u5f97\u3002</li> <li>\u5236\u4f5c\u8bc1\u4e66\u94fe\uff1a<code>$ cat www.example.com.crt bundle.crt &gt; www.example.com.chained.crt</code>\uff0c\u628a\u5ba2\u6237\u8bc1\u4e66\u548c\u4e2d\u95f4\u8bc1\u4e66\u62fc\u5230\u4e00\u8d77\u3002</li> <li>\u4f7f\u7528\u547d\u4ee4<code>$ openssl s_client -connect www.godaddy.com:443</code>\u9a8c\u8bc1\u670d\u52a1\u662f\u5426\u80fd\u8fd4\u56de\u8bc1\u4e66\u94fe\u3002</li> </ul>","tags":["\u7f51\u7edc","\u540e\u7aef"]},{"location":"tools/nginx/48.nginx-getting-started-tutorial/#tcpssl","title":"TCP\u6d41\u91cf\u4e5f\u53ef\u4ee5\u914d\u7f6essl\u4ee3\u7406","text":"","tags":["\u7f51\u7edc","\u540e\u7aef"]},{"location":"tools/nginx/48.nginx-getting-started-tutorial/#http_1","title":"\u4f7f\u7528HTTP\u57fa\u672c\u8ba4\u8bc1\u505a\u8bbf\u95ee\u63a7\u5236","text":"<ul> <li>\u4e09\u79cd\u8ba4\u8bc1\u65b9\u5f0f\uff1a\u7528\u6237\u540d-\u5bc6\u7801\u3001IP\u5730\u5740\u3001\u5730\u7406\u4f4d\u7f6e</li> <li>\u7528\u6237\u540d-\u5bc6\u7801\u8ba4\u8bc1\u9700\u8981\u4e00\u4e2a\u5bc6\u7801\u6587\u4ef6\uff0c\u5bc6\u7801\u6587\u4ef6\u4f7f\u7528\u5de5\u5177\u751f\u6210\uff0capache2-utils (Debian, Ubuntu) \u6216 httpd-tools (RHEL/CentOS/Oracle Linux)\uff1b</li> <li><code>yum install -y httpd-tools</code></li> <li><code>sudo htpasswd -c \u5bc6\u7801\u6587\u4ef6\u540d \u7528\u6237\u540d</code>\uff0c<code>-c</code>\u8868\u793a\u521b\u5efa\u8be5\u6587\u4ef6\uff0c\u53ef\u4ee5\u5411\u8fd9\u4e2a\u6587\u4ef6\u4e2d\u8ffd\u52a0\u591a\u4e2a\u7528\u6237\u540d\u548c\u5bc6\u7801\u3002\u8fd9\u4e2a\u6587\u4ef6\u53ef\u4ee5\u76f4\u63a5\u7528<code>cat</code>\u6253\u5370</li> </ul> <p>\u4ee5\u4e0b\u662f\u7528\u6237\u540d-\u5bc6\u7801\u8ba4\u8bc1\u7684\u4e24\u4e2a\u4f8b\u5b50\uff0c\u5206\u522b\u6253\u5f00\u548c\u5173\u95ed\u7528\u6237\u8ba4\u8bc1</p> <pre><code>location /api {\n    auth_basic           \u201cAdministrator\u2019s Area\u201d;\n    auth_basic_user_file /etc/apache2/.htpasswd; \n}\n</code></pre> <pre><code>server {\n    ...\n    auth_basic           \"Administrator\u2019s Area\";\n    auth_basic_user_file conf/htpasswd;\n\n    location /public/ {\n        auth_basic off;\n    }\n}\n</code></pre> <p>\u4ee5\u4e0b\u662fIP\u5730\u5740\u8ba4\u8bc1\u7684\u4e24\u4e2a\u4f8b\u5b50\uff1a</p> <pre><code>location /api {\n    #...\n    deny  192.168.1.2;\n    allow 192.168.1.1/24;\n    allow 127.0.0.1;\n    deny  all;\n}\n</code></pre> <p>\u7528<code>deny</code>\u548c<code>allow</code>\u6307\u4ee4\u9650\u5236\u8bbf\u95ee\uff0cnginx\u6309<code>deny</code>\u548c<code>allow</code>\u5b9a\u4e49\u7684\u987a\u5e8f\u68c0\u67e5\u5ba2\u6237\u7aef\u7684\u6743\u9650\u3002</p> <pre><code>location /api {\n    #...\n    satisfy all;    \n\n    deny  192.168.1.2;\n    allow 192.168.1.1/24;\n    allow 127.0.0.1;\n    deny  all;\n\n    auth_basic           \"Administrator\u2019s Area\";\n    auth_basic_user_file conf/htpasswd;\n}\n</code></pre> <p><code>satisfy all</code>\u8868\u793a\u5ba2\u6237\u7aef\u5fc5\u987b\u6ee1\u8db3\u5b9a\u4e49\u7684\u6240\u6709\u6761\u4ef6\uff0c<code>satisfy any</code>\u8868\u793a\u6ee1\u8db3\u4efb\u610f\u4e00\u4e2a\u6761\u4ef6\u5373\u53ef\u3002</p>","tags":["\u7f51\u7edc","\u540e\u7aef"]},{"location":"tools/nginx/48.nginx-getting-started-tutorial/#nginx_2","title":"nginx\u8bbf\u95ee\u63a7\u5236\u63a5\u53e3","text":"<p>\u8981\u60f3\u4f7f\u7528\u8fd9\u4e2a\u529f\u80fd\uff0c\u7f16\u8bd1nginx\u65f6\u5fc5\u987b\u52a0\u4e0a<code>--with-http_auth_request_module</code>\u9009\u9879\u3002</p> <p>\u8fd9\u4e2a\u529f\u80fd\u7684\u7528\u6cd5\u662f\u8fd9\u6837\u7684\uff0c\u7528\u6237\u5411\u540e\u7aef\u670d\u52a1\u53d1\u8d77\u8bf7\u6c42\u65f6\uff0cnginx\u4f1a\u9996\u5148\u5411\u7528\u6237\u81ea\u5b9a\u4e49\u7684\u8bbf\u95ee\u63a7\u5236\u670d\u52a1\uff08\u4f8b\u5982LDAP\u3001OAuth\u7b49\uff09\u53d1\u4e00\u4e2a\u5b50\u8bf7\u6c42\uff0c\u5982\u679c\u8bbf\u95ee\u63a7\u5236\u670d\u52a1\u8fd4\u56de2xx\uff0cnginx\u4f1a\u653e\u884c\u7528\u6237\u7684\u8bf7\u6c42\uff0c\u5982\u679c\u8bbf\u95ee\u63a7\u5236\u670d\u52a1\u8fd4\u56de401\u6216\u8005403\uff0cnginx\u4f1a\u62e6\u622a\u7528\u6237\u8bf7\u6c42\u5e76\u8fd4\u56de401\u6216403\u3002</p> <p>Nginx\u6709\u5bf9JWT\u7684\u652f\u6301\uff0cJWT\uff08Json Web Token\uff09\u662f\u4e00\u5957\u4fe1\u606f\u4f20\u8f93\u534f\u8bae\uff0cOAuth2\u548cOpenID\u7684\u8eab\u4efd\u9a8c\u8bc1\u529f\u80fd\u53ef\u4ee5\u4f7f\u7528JWT\u5b9e\u73b0\u3002</p>","tags":["\u7f51\u7edc","\u540e\u7aef"]},{"location":"tools/nginx/48.nginx-getting-started-tutorial/#_10","title":"\u5bf9\u8bbf\u95ee\u8fdb\u884c\u9650\u5236","text":"<ul> <li>\u9650\u5236http\u8bbf\u95ee   \u53ef\u4ee5\u9650\u5236\u8bbf\u95ee\u7684\u8fde\u63a5\u6570\u3001\u9891\u7387\u3001\u5e26\u5bbd\u7b49</li> <li>\u9650\u5236TCP\u8bbf\u95ee   \u53ef\u4ee5\u9650\u5236IP\u548c\u5e26\u5bbd\u7b49\u3002</li> <li>\u6309\u5730\u7406\u4f4d\u7f6e\u9650\u5236\u8bbf\u95ee</li> </ul>","tags":["\u7f51\u7edc","\u540e\u7aef"]},{"location":"tools/nginx/48.nginx-getting-started-tutorial/#sslhttptcp","title":"\u548c\u540e\u7aef\u670d\u52a1\u5efa\u7acbssl\u8fde\u63a5\uff08\u5305\u62echttp\u548ctcp\u6d41\u91cf\uff09","text":"","tags":["\u7f51\u7edc","\u540e\u7aef"]},{"location":"tools/nginx/48.nginx-getting-started-tutorial/#ip_1","title":"IP\u5730\u5740\u7684\u52a8\u6001\u9ed1\u540d\u5355","text":"","tags":["\u7f51\u7edc","\u540e\u7aef"]},{"location":"tools/nginx/48.nginx-getting-started-tutorial/#_11","title":"\u76d1\u63a7\u548c\u65e5\u5fd7","text":"<ul> <li>\u914d\u7f6e\u65e5\u5fd7\uff1a\u53c2\u8003https://docs.nginx.com/nginx/admin-guide/monitoring/logging/\u4ee5\u53cahttp://nginx.org/en/docs/syslog.html</li> </ul>","tags":["\u7f51\u7edc","\u540e\u7aef"]},{"location":"tools/nginx/48.nginx-getting-started-tutorial/#_12","title":"\u4ee3\u7406\u670d\u52a1\u5668","text":"<p>\u4ee3\u7406\u670d\u52a1\u5668\u4f7f\u7528<code>proxy_set_header</code>\u547d\u4ee4\u5bf9\u8bf7\u6c42\u5934\u4e2d\u7684\u5b57\u6bb5\u91cd\u65b0\u8d4b\u503c\u6216\u8005\u5728\u8bf7\u6c42\u5934\u4e2d\u8ffd\u52a0\u65b0\u7684\u5b57\u6bb5\u3002 \u4f7f\u7528<code>proxy_set_body</code>\u547d\u4ee4\u5bf9\u8bf7\u6c42\u4f53\u8fdb\u884c\u64cd\u4f5c\u3002</p> <p>\u683c\u5f0f\uff1a<code>proxy_set_header Host $proxy_host;</code></p>","tags":["\u7f51\u7edc","\u540e\u7aef"]},{"location":"tools/nginx/48.nginx-getting-started-tutorial/#serverip","title":"\u5982\u4f55\u8ba9\u540e\u7aefserver\u5f97\u5230\u771f\u6b63\u7684\u5ba2\u6237\u7aefip\uff08\u5f53\u5b58\u5728\u591a\u5c42\u4ee3\u7406\u6216\u8d1f\u8f7d\u5747\u8861\u65f6\uff09","text":"<ul> <li>nginx\u7248\u672c\u5fc5\u987b\u5927\u4e8e1.13.11</li> <li>\u7f16\u8bd1\u524d\uff0c\u5728configure\u7684\u9009\u9879\u4e2d\u52a0\u4e0a<code>-- with-http_realip_module</code>\u548c<code>-- with-stream_realip_module</code>\u9009\u9879\u3002</li> </ul> <p>\u4e3b\u8981\u6d89\u53ca\u5230\u4e24\u4e2a\u9009\u9879\uff1a</p> <ul> <li>set_real_ip_from\uff1a\u53ef\u4fe1\u7684\u4e0a\u6e38ip\uff0cnginx\u4f1a\u628a\u8fd9\u91cc\u7684ip\u89c6\u4e3a\u4ee3\u7406\u670d\u52a1\u5668</li> <li>real_ip_header\uff1a\u8bf7\u6c42\u5934\u4e2d\u4f7f\u7528\u7684\u4ee3\u7406\u534f\u8bae\uff0c\u5e38\u89c1\u7684\u6709\u2018X-Forwarded-For\u2019\u3001\u2018proxy_protocol\u2019\u7b49\u3002</li> </ul> <p>\u914d\u7f6e\u597d\u4ee5\u540e\uff0c<code>$remote_addr</code>\u548c<code>$remote_port</code>\u53d8\u91cf\u91cc\u4fdd\u5b58\u7684\u662f\u5ba2\u6237\u7aefip\uff0c<code>$realip_remote_addr</code>\u548c<code>$realip_remote_port</code>\u53d8\u91cf\u4e2d\u4fdd\u5b58\u7684\u662f\u4e0a\u6e38\u4ee3\u7406\u7684ip\u3002</p>","tags":["\u7f51\u7edc","\u540e\u7aef"]},{"location":"tools/nginx/48.nginx-getting-started-tutorial/#_13","title":"\u5173\u4e8e\u4ee3\u7406\u534f\u8bae","text":"<ul> <li>X-Forwarded-For   X-Forwarded-For\u662f\u4e00\u4e2ahttp\u5934\u6269\u5c55\u5b57\u6bb5\uff0cHTTP/1.1\uff08RFC 2616\uff09\u534f\u8bae\u5e76\u6ca1\u6709\u5bf9\u5b83\u7684\u5b9a\u4e49\uff0c\u5b83\u6700\u5f00\u59cb\u662f\u7531 Squid \u8fd9\u4e2a\u7f13\u5b58\u4ee3\u7406\u8f6f\u4ef6\u5f15\u5165\uff0c\u7528\u6765\u8868\u793a HTTP \u8bf7\u6c42\u7aef\u771f\u5b9e IP\u3002\u5982\u4eca\u5b83\u5df2\u7ecf\u6210\u4e3a\u4e8b\u5b9e\u4e0a\u7684\u6807\u51c6\uff0c\u88ab\u5404\u5927 HTTP \u4ee3\u7406\u3001\u8d1f\u8f7d\u5747\u8861\u7b49\u8f6c\u53d1\u670d\u52a1\u5e7f\u6cdb\u4f7f\u7528\uff0c\u5e76\u88ab\u5199\u5165 RFC 7239\uff08Forwarded HTTP Extension\uff09\u6807\u51c6\u4e4b\u4e2d\u3002   X-Forwarded-For \u8bf7\u6c42\u5934\u683c\u5f0f\u975e\u5e38\u7b80\u5355\uff0c\u5c31\u8fd9\u6837\uff1a   <code>X-Forwarded-For: client, proxy1, proxy2</code> \u53ef\u4ee5\u770b\u5230\uff0cXFF \u7684\u5185\u5bb9\u7531\u300c\u82f1\u6587\u9017\u53f7 + \u7a7a\u683c\u300d\u9694\u5f00\u7684\u591a\u4e2a\u90e8\u5206\u7ec4\u6210\uff0c\u6700\u5f00\u59cb\u7684\u662f\u79bb\u670d\u52a1\u7aef\u6700\u8fdc\u7684IP\uff0c\u7136\u540e\u662f\u6bcf\u4e00\u7ea7\u4ee3\u7406\u7684IP\u3002</li> <li>X-Real-IP   X-Real-IP\u4e5f\u662f\u4e00\u4e2ahttp\u5934\u6269\u5c55\u5b57\u6bb5\uff0c\u4f46\u6ca1\u6709\u8fdb\u5165\u6b63\u5f0f\u7684\u6807\u51c6\u3002\u901a\u5e38X-Real-IP\u53ea\u4fdd\u5b58\u4e0a\u4e00\u8df3\u7684IP\uff0c\u56e0\u6b64\u901a\u5e38\u53ea\u4f1a\u5728\u67d0\u4e00\u7ea7\u4ee3\u7406\u8bbe\u7f6e\u4e00\u4e0b\u8fd9\u4e2a\u5b57\u6bb5\uff08\u5426\u5219\u8fd9\u4e2a\u5b57\u6bb5\u4f1a\u88ab\u8986\u76d6\u597d\u51e0\u6b21\uff09</li> <li>proxy protocol   proxy protocol\uff0c\u662fhaproxy\u7684\u4f5c\u8005Willy Tarreau\u4e8e2010\u5e74\u5f00\u53d1\u548c\u8bbe\u8ba1\u7684\u4e00\u4e2aInternet\u534f\u8bae\uff0c\u901a\u8fc7\u4e3atcp\u6dfb\u52a0\u4e00\u4e2a\u5f88\u5c0f\u7684\u5934\u4fe1\u606f\uff0c\u6765\u65b9\u4fbf\u7684\u4f20\u9012\u5ba2\u6237\u7aef\u4fe1\u606f\uff08\u534f\u8bae\u6808\u3001\u6e90IP\u3001\u76ee\u7684IP\u3001\u6e90\u7aef\u53e3\u3001\u76ee\u7684\u7aef\u53e3\u7b49)\uff0c\u5728\u7f51\u7edc\u60c5\u51b5\u590d\u6742\u53c8\u9700\u8981\u83b7\u53d6\u5ba2\u6237IP\u65f6\u975e\u5e38\u6709\u7528\u3002</li> <li>\u591a\u5c42NAT\u7f51\u7edc</li> <li>TCP\u4ee3\u7406\uff08\u56db\u5c42\uff09\u6216\u591a\u5c42tcp\u4ee3\u7406</li> <li>https\u53cd\u5411\u4ee3\u7406http(\u67d0\u4e9b\u60c5\u51b5\u4e0b\u7531\u4e8eKeep-alive\u5bfc\u81f4\u4e0d\u662f\u6bcf\u6b21\u8bf7\u6c42\u90fd\u4f20\u9012x-forword-for)   proxy protocol\u6709\u4e24\u4e2a\u7248\u672c\uff0cv1\u4ec5\u652f\u6301human-readable\u62a5\u5934\u683c\u5f0f\uff08ASCIII\u7801\uff09\uff0cv2\u9700\u540c\u65f6\u652f\u6301human-readable\u548c\u4e8c\u8fdb\u5236\u683c\u5f0f\uff08\u5373\u9700\u8981\u517c\u5bb9v1\u683c\u5f0f\uff09\u3002</li> </ul>","tags":["\u7f51\u7edc","\u540e\u7aef"]},{"location":"tools/nginx/48.nginx-getting-started-tutorial/#nginx_3","title":"nginx\u53d8\u91cf","text":"<p>nginx\u7684\u5185\u7f6e\u53d8\u91cf\u90fd\u662f\u6a21\u5757\u81ea\u5e26\u7684\u3002\u5927\u90e8\u5206\u53d8\u91cf\u5728ngx_http_core_module\u8fd9\u4e2a\u6a21\u5757\u4e2d\u3002 \u5404\u6a21\u5757\u5728\u5b83\u4eec\u5404\u81ea\u7684nginx.org\u6587\u6863\u6700\u540e\u9762\u9644\u52a0\u4e86\u8be5\u6a21\u5757\u7684\u53d8\u91cf\u5b9a\u4e49\u3002</p> <p>\u8fd8\u53ef\u4ee5\u81ea\u5b9a\u4e49\u53d8\u91cf\uff0c\u4f7f\u7528set\u3001map\u548cgeo</p> <ul> <li>remote_addr\uff1a\u8bf7\u6c42\u65b9IP</li> <li>local_time\uff1a\u670d\u52a1\u5668\u672c\u5730\u65f6\u95f4\uff0c\u65e5\u671f+\u65f6\u95f4+\u65f6\u533a</li> <li>request\uff1a\u8bf7\u6c42\u65b9\u6cd5\uff08GET/POST...\uff09+\u8bf7\u6c42\u8def\u5f84+HTTP\u534f\u8bae</li> <li>body_bytes_sent\uff1a\u54cd\u5e94\u4f53\u7684\u5b57\u8282\u6570</li> <li>status\uff1a\u54cd\u5e94\u7801</li> <li>http_user_agent\uff1a\u7528\u6237\u4f7f\u7528\u7684\u5ba2\u6237\u7aef\uff0c\u4e00\u822c\u662f\u6d4f\u89c8\u5668</li> </ul>","tags":["\u7f51\u7edc","\u540e\u7aef"]},{"location":"tools/nginx/49.nginx-install-configuration/","title":"nginx\u5b89\u88c5\u548c\u914d\u7f6e","text":"","tags":["\u7f51\u7edc","\u540e\u7aef"]},{"location":"tools/nginx/49.nginx-install-configuration/#yum","title":"yum\u5b89\u88c5","text":"<p>\u53c2\u8003\uff1anginx\u5b98\u65b9\u6587\u6863</p> <pre><code>yum install -y nginx\nsystemctl start nginx\n\nnginx -s reload #\u91cd\u65b0\u52a0\u8f7dnginx\u914d\u7f6e\u6587\u4ef6\uff08\u4e0d\u4f1a\u505c\u6b62nginx\u670d\u52a1\uff09\n</code></pre> <ul> <li>\u914d\u7f6e\u6587\u4ef6\uff1a/etc/nginx/nginx.conf</li> <li>\u65e5\u5fd7\u76ee\u5f55\uff1a/var/log/nginx/</li> </ul>","tags":["\u7f51\u7edc","\u540e\u7aef"]},{"location":"tools/nginx/49.nginx-install-configuration/#nginx","title":"Nginx\u7f16\u8bd1\u5b89\u88c5","text":"<p>\u53c2\u8003\uff1a</p> <ul> <li>\u5b98\u65b9\u6587\u6863-\u7f16\u8bd1nginx</li> </ul>","tags":["\u7f51\u7edc","\u540e\u7aef"]},{"location":"tools/nginx/49.nginx-install-configuration/#centos","title":"\u51c6\u5907\u7f16\u8bd1\u73af\u5883\uff08centos\uff09","text":"<pre><code># pcre\uff1anginx\u7684rewrite\u8bed\u6cd5\u548chttp\u6838\u5fc3\u6a21\u5757\u7528\u5230\u4e86pcre\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u8bed\u6cd5\n# zlib\uff1anginx\u4e2d\u7528\u5230\u4e86zlib\u7684\u538b\u7f29\u7b97\u6cd5\nyum install -y \\\ngcc gcc-c++ \\\npcre pcre-devel \\\nzlib zlib-devel \\\nopenssl openssl-devel\n</code></pre>","tags":["\u7f51\u7edc","\u540e\u7aef"]},{"location":"tools/nginx/49.nginx-install-configuration/#debian","title":"\u51c6\u5907\u7f16\u8bd1\u73af\u5883\uff08debian\uff09","text":"<pre><code>sudo apt-get install -y \\\nlibpcre3 libpcre3-dev \\\nopenssl libssl-dev \\\nzlib1g zlib1g.dev\n</code></pre>","tags":["\u7f51\u7edc","\u540e\u7aef"]},{"location":"tools/nginx/49.nginx-install-configuration/#_1","title":"\u7f16\u8bd1\u5b89\u88c5","text":"<pre><code>wget http://nginx.org/download/nginx-1.18.0.tar.gz\ntar -zxvf nginx-1.18.0.tar.gz -C web/\ncd web/nginx-1.18.0/\n\n(./configure --help # \u67e5\u770bnginx\u7f16\u8bd1\u914d\u7f6e\u9009\u9879\uff0c\u5e26\u6709=dynamic\u7684\u662f\u53ef\u4ee5\u52a8\u6001\u6dfb\u52a0\u7684\u6a21\u5757)\n\n./configure  --prefix=/home/swj/web/nginx \\\n--with-threads \\\n--with-file-aio \\\n--with-http_ssl_module \\ #https\n--with-http_v2_module \\\n--with-http_dav_module \\ #\u7ba1\u7406web\u670d\u52a1\u5668\u4e0a\u7684\u6587\u4ef6\n--with-http_gunzip_module \\\n--with-http_gzip_static_module \\\n--with-http_auth_request_module \\ #\u8bbf\u95ee\u8ba4\u8bc1\n--with-http_secure_link_module \\ #\u9632\u76d7\u94fe\n--with-http_slice_module \\ #\u62a5\u6587\u5206\u7247\n--with-http_stub_status_module \\ # \u76d1\u63a7nginx\u72b6\u6001\n--with-http_realip_module \\ #nginx\u4f4d\u4e8e\u53cd\u5411\u4ee3\u7406\u540e\u7aef\u65f6\u83b7\u53d6\u771f\u5b9e\u5ba2\u6237\u7aefIP\n--with-stream \\\n--with-stream_ssl_module \\\n--with-stream_realip_module\n</code></pre> <pre><code>#configure\u4e4b\u540e\u7684\u8f93\u51fa\nConfiguration summary\n  + using threads\n  + using system PCRE library\n  + using system OpenSSL library\n  + using system zlib library\n\n  nginx path prefix: \"/home/swj/web/nginx\"\n  nginx binary file: \"/home/swj/web/nginx/sbin/nginx\"\n  nginx modules path: \"/home/swj/web/nginx/modules\"\n  nginx configuration prefix: \"/home/swj/web/nginx/conf\"\n  nginx configuration file: \"/home/swj/web/nginx/conf/nginx.conf\"\n  nginx pid file: \"/home/swj/web/nginx/logs/nginx.pid\"\n  nginx error log file: \"/home/swj/web/nginx/logs/error.log\"\n  nginx http access log file: \"/home/swj/web/nginx/logs/access.log\"\n  nginx http client request body temporary files: \"client_body_temp\"\n  nginx http proxy temporary files: \"proxy_temp\"\n  nginx http fastcgi temporary files: \"fastcgi_temp\"\n  nginx http uwsgi temporary files: \"uwsgi_temp\"\n  nginx http scgi temporary files: \"scgi_temp\"\n\n</code></pre> <pre><code>make\nmake install\n</code></pre>","tags":["\u7f51\u7edc","\u540e\u7aef"]},{"location":"tools/nginx/49.nginx-install-configuration/#nginx_1","title":"\u4f7f\u7528nginx","text":"<pre><code># \u542f\u52a8nginx\nweb/nginx/sbin/nginx\n# \u4e0d\u505c\u6b62\u670d\u52a1\u91cd\u8bfb\u914d\u7f6e\u6587\u4ef6\nweb/nginx/sbin/nginx -s reload  \n# \u505c\u6b62\u670d\u52a1\nweb/nginx/sbin/nginx -s stop\n# \u67e5\u770bnginx\u7248\u672c\u548cconfigure\u9009\u9879\nnginx -V\n</code></pre>","tags":["\u7f51\u7edc","\u540e\u7aef"]},{"location":"tools/nginx/49.nginx-install-configuration/#_2","title":"\u914d\u7f6e","text":"<p>\u914d\u7f6e\u6587\u4ef6\uff1anginx.conf</p>","tags":["\u7f51\u7edc","\u540e\u7aef"]},{"location":"tools/nginx/49.nginx-install-configuration/#nginx_2","title":"nginx\u914d\u7f6e\u793a\u4f8b","text":"<ul> <li>php-fpm\u8def\u7531\u914d\u7f6e</li> </ul> <p><code>nginx   # php-fpm\u8def\u7531\u914d\u7f6e   location ~ ^/(.*)(\\.php)$ {       root xxx;       #Nginx\u901a\u8fc7\u672c\u673a\u76849000\u7aef\u53e3\u5c06PHP\u8bf7\u6c42\u8f6c\u53d1\u7ed9PHP-FPM\u8fdb\u884c\u5904\u7406       fastcgi_pass 127.0.0.1:9000;       fastcgi_index index.php;       fastcgi_param  SCRIPT_FILENAME  $document_root$fastcgi_script_name;       include fastcgi_params;   #Nginx\u8c03\u7528fastcgi\u63a5\u53e3\u5904\u7406PHP\u8bf7\u6c42   }</code></p> <ul> <li>wordpress\u7684nginx\u914d\u7f6e\u6a21\u677f\uff1ahttps://www.nginx.com/resources/wiki/start/topics/recipes/wordpress/</li> </ul>","tags":["\u7f51\u7edc","\u540e\u7aef"]},{"location":"tools/nginx/49.nginx-install-configuration/#_3","title":"\u5e38\u89c1\u95ee\u9898","text":"","tags":["\u7f51\u7edc","\u540e\u7aef"]},{"location":"tools/nginx/49.nginx-install-configuration/#nginx_3","title":"nginx\u542f\u52a8\u4ee5\u540e\uff0c\u6d4f\u89c8\u5668\u4e0d\u80fd\u548c\u670d\u52a1\u5668\u5efa\u7acb\u8fde\u63a5","text":"<ul> <li>\u670d\u52a1\u5668\u9632\u706b\u5899\u5e94\u8be5\u5f00\u653enginx\u7684\u76d1\u542c\u7aef\u53e3</li> </ul>","tags":["\u7f51\u7edc","\u540e\u7aef"]},{"location":"tools/nginx/49.nginx-install-configuration/#nginx403","title":"\u8bbf\u95eenginx\u53d1\u751f403\u9519\u8bef","text":"<ul> <li>nginx\u7684\u6267\u884c\u7528\u6237\u548cweb\u76ee\u5f55\u7684\u6240\u5c5e\u7528\u6237\u4e0d\u4e00\u81f4\uff0c\u5bfc\u81f4nginx\u6ca1\u6709\u8d44\u6e90\u7684\u8bbf\u95ee\u6743\u9650</li> <li>\u5728nginx.conf\u7684\u7b2c\u4e00\u884c\u589e\u52a0<code>user</code>\u914d\u7f6e\uff0c\u4f7fnginx\u7684\u6267\u884c\u7528\u6237\u548cweb\u76ee\u5f55\u6240\u5c5e\u7528\u6237\u4e00\u81f4\u3002</li> </ul> <p><code>nginx   user swj swj;</code></p>","tags":["\u7f51\u7edc","\u540e\u7aef"]},{"location":"tools/nginx/49.nginx-install-configuration/#_4","title":"\u4e00\u4e9b\u811a\u672c","text":"<p>LNMP\u542f\u52a8\u811a\u672c</p> <pre><code>#!/bin/bash\n\n# LNMP\u542f\u52a8\u811a\u672c\n\n# mysql yum\u5b89\u88c5\uff0c\u5f00\u673a\u81ea\u542f\nNginxPath=/home/swj/web/nginx/sbin\nFpmPath=/home/swj/web/php-74/sbin\n\nset -e\n\necho 'swj' | sudo -S $NginxPath/nginx\necho 'swj' | sudo -S $FpmPath/php-fpm\n</code></pre> <p>nginx\u91cd\u65b0\u7f16\u8bd1\u811a\u672c</p> <pre><code>#!/bin/bash\n\nSourcePath=/home/swj/web/nginx-1.18.0\nInstallPath=/home/swj/web/nginx\n\nset -e\n\ncd $SourcePath\n\n./configure  --prefix=$InstallPath \\\n--with-threads \\\n--with-file-aio \\\n--with-http_ssl_module \\\n--with-http_v2_module \\\n--with-http_dav_module \\\n--with-http_gunzip_module \\\n--with-http_gzip_static_module \\\n--with-http_auth_request_module \\\n--with-http_secure_link_module \\\n--with-http_slice_module \\\n--with-http_stub_status_module \\\n--with-http_realip_module \\\n--with-stream \\\n--with-stream_ssl_module \\\n--with-stream_realip_module\n\nmake\n\nmv $InstallPath/sbin/nginx $InstallPath/sbin/nginx_bak\n\ncp $SourcePath/objs/nginx $InstallPath/sbin/nginx\n\n$InstallPath/sbin/nginx -V\n\n</code></pre>","tags":["\u7f51\u7edc","\u540e\u7aef"]},{"location":"tools/package-manager/22.scl/","title":"scl-rhel/centos\u8f6f\u4ef6\u8fd0\u884c\u73af\u5883","text":"<p>scl(Software Collections)\u7ed9 RHEL/CentOS \u7528\u6237\u63d0\u4f9b\u4e00\u79cd\u540c\u65f6\u4f7f\u7528\u591a\u4e2a\u8f6f\u4ef6\u7248\u672c\u7684\u8fd0\u884c\u73af\u5883\uff0c\u907f\u514d\u4ee5\u65b9\u4fbf\u3001\u5b89\u5168\u5730\u5b89\u88c5\u548c\u4f7f\u7528\u5e94\u7528\u7a0b\u5e8f\u548c\u8fd0\u884c\u65f6\u73af\u5883\u7684\u591a\u4e2a\uff08\u800c\u4e14\u53ef\u80fd\u662f\u66f4\u65b0\u7684\uff09\u7248\u672c\u7684\u65b9\u5f0f\uff0c\u540c\u65f6\u907f\u514d\u628a\u7cfb\u7edf\u641e\u4e71\u3002</p> <p>\u53ef\u4ee5\u7528\u6765\u5b89\u88c5\u9ad8\u7248\u672c\u7684gcc</p>","tags":["linux","\u5de5\u5177"]},{"location":"tools/package-manager/22.scl/#_1","title":"\u5b89\u88c5","text":"<pre><code>$ sudo yum install -y centos-release-scl  \n$ sudo yum install -y scl-utils-build  \n$ sudo yum install -y scl-utils\n</code></pre>","tags":["linux","\u5de5\u5177"]},{"location":"tools/package-manager/22.scl/#yum","title":"\u67e5\u770byum\u4e2d\u6240\u6709\u7684\u6e90","text":"<pre><code>$ yum repolist\n\n\u6267\u884c\u7ed3\u679c\uff1a\nrepo id                     repo name\n!base/7/x86_64              CentOS-7 - Base - 163.com !centos-sclo-rh/x86_64      CentOS-7 - SCLo rh\n!centos-sclo-sclo/x86_64    CentOS-7 - SCLo sclo\n!extras/7/x86_64            CentOS-7 - Extras - 163.com\n!updates/7/x86_64           CentOS-7 - Updates - 163.com\n</code></pre> <p>\u53ef\u4ee5\u770b\u5230yum\u4e2d\u65b0\u589e\u4e86\u4e24\u4e2ascl\u6e90</p>","tags":["linux","\u5de5\u5177"]},{"location":"tools/package-manager/22.scl/#scl","title":"\u67e5\u770bscl\u6e90\u4e2d\u7684\u5305","text":"<pre><code>$ yum --disablerepo='*' --enablerepo='centos-sclo-rh' list available\n$ yum --disablerepo='*' --enablerepo='centos-sclo-sclo' list available\n$ yum --disablerepo=\"*\" --enablerepo=\"centos-sclo-rh\" search devtoolset\n\n</code></pre>","tags":["linux","\u5de5\u5177"]},{"location":"tools/package-manager/22.scl/#scl_1","title":"\u5b89\u88c5scl\u6e90\u4e2d\u7684\u5305","text":"<ul> <li>\u5148\u7528\u4e0a\u9762\u4e24\u6761\u547d\u4ee4\u641c\u7d22\u5305\u540d</li> <li>\u7136\u540e\u76f4\u63a5\u7528yum\u5b89\u88c5</li> </ul> <p>\u4f8b\u5982\u5b89\u88c59.x\u7248\u672c\u7684gcc\u548cgdb</p> <pre><code>$ sudo yum install -y devtoolset-9-gcc.x86_64 devtoolset-9-gcc-c++.x86_64 devtoolset-9-gcc-gdb-plugin.x86_64 devtoolset-9-gdb.x86_64\n</code></pre>","tags":["linux","\u5de5\u5177"]},{"location":"tools/package-manager/22.scl/#scl_2","title":"\u67e5\u770b\u5b89\u88c5\u7684scl\u5305","text":"<pre><code>$ scl --list\n</code></pre>","tags":["linux","\u5de5\u5177"]},{"location":"tools/package-manager/22.scl/#_2","title":"\u8fdb\u5165\u65b0\u7684\u73af\u5883\u5de5\u4f5c","text":"<pre><code>$ scl enable devtoolset-9 bash\n$ gcc --version\n</code></pre>","tags":["linux","\u5de5\u5177"]},{"location":"tools/package-manager/22.scl/#_3","title":"\u4ece\u73af\u5883\u4e2d\u9000\u51fa","text":"<pre><code>$ exit\n</code></pre>","tags":["linux","\u5de5\u5177"]},{"location":"tools/package-manager/22.scl/#nodejs-12","title":"\u5b89\u88c5node.js 12","text":"<p>\u53c2\u8003https://www.softwarecollections.org/en/scls/jstanek/rh-nodejs12/</p> <pre><code># 1. Install a package with repository for your system:\n# On CentOS, install package centos-release-scl available in CentOS repository:\n$ sudo yum install centos-release-scl-rh\n\n# On RHEL, enable RHSCL repository for you system:\n$ sudo yum-config-manager --enable rhel-server-rhscl-7-rpms\n\n# 2. Install the collection:\n$ sudo yum install rh-nodejs12\n\n# 3. Start using software collections:\n$ scl enable rh-nodejs12 bash   \n</code></pre>","tags":["linux","\u5de5\u5177"]},{"location":"windows/35.windows-devices-manage/","title":"windows\u8bbe\u5907\u7ba1\u7406","text":"","tags":["windows"]},{"location":"windows/35.windows-devices-manage/#_1","title":"\u84dd\u7259","text":"<ul> <li>win32 api<ul> <li>win32 \u84dd\u7259 api \u4ecb\u7ecd\uff0chttps://learn.microsoft.com/en-us/windows/win32/bluetooth/bluetooth-start-page</li> <li>win32 \u7ecf\u5178\u84dd\u7259\u8bbe\u5907\u53d1\u73b0\u548c\u7ba1\u7406\uff0chttps://learn.microsoft.com/en-us/windows/win32/api/_bluetooth/</li> <li>win32 \u7ecf\u5178\u84dd\u7259\u901a\u4fe1\uff0chttps://learn.microsoft.com/en-us/windows/win32/bluetooth/windows-sockets-support-for-bluetooth</li> <li>win32 GATT \u901a\u4fe1\uff0chttps://learn.microsoft.com/en-us/windows/win32/api/_bltooth/</li> </ul> </li> <li>winrt/uwp api<ul> <li>\u7ecf\u5178\u84dd\u7259\uff0chttps://learn.microsoft.com/en-us/windows/uwp/devices-sensors/send-or-receive-files-with-rfcomm</li> <li>ble\uff0chttps://learn.microsoft.com/en-us/windows/uwp/devices-sensors/bluetooth-low-energy-overview</li> </ul> </li> </ul>","tags":["windows"]},{"location":"windows/35.windows-devices-manage/#setup-api","title":"setup api","text":"<p>\u4f7f\u7528\u4e00\u4e9b\u4e0a\u5c42API\u7684\u65f6\u5019\u53ef\u80fd\u4f1a\u7528\u5230setup api\uff0c\u8fd9\u5957api\u6bd4\u8f83\u5e95\u5c42\uff0c\u6bd4\u8f83\u96be\u7528\uff0c\u6d89\u53ca\u4e00\u4e9b\u6982\u5ff5\uff0c\u5982IO control\u3001PNP\u8bbe\u5907\u7b49\u3002</p> <p>setup api \u5bf9\u8bbe\u5907\u505a\u4e86\u4e24\u79cd\u5206\u7c7b\uff0c\u4e00\u7c7b\u662fdevice setup class\uff0c\u53e6\u4e00\u7c7b\u662fdevice interface class\u3002</p> <p>\u6bcf\u4e2aclass\u90fd\u6709\u5bf9\u5e94\u7684GUID\uff0c\u67e5\u627eGUID\u6709\u4e24\u79cd\u65b9\u5f0f</p> <ol> <li>\u53ef\u4ee5\u5728\u8bbe\u5907\u7ba1\u7406\u5668\u4e2d\u67e5\u5230\u3002 \u4f8b\u5982\uff0c\u84dd\u7259\u8bbe\u5907\u7684GUID\u662f<code>e0cbf06c-cd8b-4647-bb8a-263b43f0f974</code></li> <li>GUID\u5206\u4e3a\u7cfb\u7edf\u63d0\u4f9b\u7684\u548c\u4f9b\u5e94\u5546\u63d0\u4f9b\u7684\uff0c\u7cfb\u7edf\u63d0\u4f9b\u7684 GUID \u88ab\u5b9a\u4e49\u6210\u4e86\u4e0d\u540c\u7684\u5b8f\uff0c\u7c7b\u4f3c<code>GUID_DEVCLASS_Xxx</code>\u8fd9\u6837\u7684\u5f62\u5f0f\uff0c\u5176\u4e2ddevice setup class GUID \u5728 Devguid.h \u8fd9\u4e2a\u5934\u6587\u4ef6\u4e2d\uff0c\u800cdevice interface class\u7684 GUID \u5b9a\u4e49\u5728\u4e0d\u540c\u7684\u5934\u6587\u4ef6\u4e2d\u3002 \u4f8b\u5982\uff0c\u84dd\u7259\u8bbe\u5907\u7684GUID\u5b8f\u662f<code>GUID_DEVCLASS_BLUETOOTH</code>\u3002</li> </ol> <p>\u6bcf\u4e2a\u8bbe\u5907\u90fd\u6709\u8bbe\u5907\u5b9e\u4f8b ID\uff0c\u8bbe\u5907\u5b9e\u4f8b ID \u662f\u7cfb\u7edf\u63d0\u4f9b\u7684\u8bbe\u5907\u6807\u8bc6\u5b57\u7b26\u4e32\uff0c\u7528\u4e8e\u5728\u7cfb\u7edf\u4e2d\u552f\u4e00\u6807\u8bc6\u8bbe\u5907\u3002 \u8bbe\u5907\u5b9e\u4f8bID\u5728\u8bbe\u5907\u7ba1\u7406\u5668\u4e2d\u663e\u793a\u7684\u540d\u79f0\u662f\u201c\u8bbe\u5907\u5b9e\u4f8b\u8def\u5f84\u201d\u3002\u8bbe\u5907\u5b9e\u4f8bID\u53ef\u4ee5\u901a\u8fc7<code>SetupDiGetDeviceInstanceIdW</code>\u8fd9\u4e2aapi\u83b7\u53d6\u3002</p> <p>\u4ee5\u4e0b\u662f\u4e00\u6bb5\u5fae\u8f6f\u5b98\u65b9\u63d0\u4f9b\u7684powershell\u811a\u672c\uff0c\u53ef\u4ee5\u7528\u6765\u83b7\u53d6\u84dd\u7259\u9002\u914d\u5668\u7684\u4fe1\u606f</p> <pre><code># Copyright and License https://github.com/Microsoft/busiotools/blob/master/LICENSE\n\n$devices = Get-PnpDevice -Class Bluetooth |? InstanceId -notlike \"BTH*\"\n\n$radios = New-Object System.Collections.ArrayList\nforeach ($device in $devices) {   \n    $radio = New-Object PSObject\n    Add-Member -InputObject $radio -MemberType NoteProperty -Name \"InstanceId\" -Value $device.InstanceId\n    $property = Get-PnpDeviceProperty -InstanceId $device.InstanceId -KeyName 'DEVPKEY_Bluetooth_RadioAddress'\n    Add-Member -InputObject $radio -MemberType NoteProperty -Name \"MAC\" -Value $(-join ($property.Data |  foreach { \"{0:X2}\" -f $_ } ))\n    $radios.Add($radio) | Out-Null\n\n    # Driver Info\n    $property = Get-PnpDeviceProperty -InstanceId $device.InstanceId -KeyName 'DEVPKEY_Device_DriverDesc'\n    Add-Member -InputObject $radio -MemberType NoteProperty -Name \"DriverDescription\" -Value $property.Data\n    $property = Get-PnpDeviceProperty -InstanceId $device.InstanceId -KeyName 'DEVPKEY_Device_DriverVersion'\n    Add-Member -InputObject $radio -MemberType NoteProperty -Name \"DriverVersion\" -Value $property.Data\n\n    # Error Recovery\n    $property = Get-PnpDeviceProperty -InstanceId $device.InstanceId -KeyName '{A92F26CA-EDA7-4B1D-9DB2-27B68AA5A2EB} 14'\n    $supportedTypes = $property.Data\n    if ($supportedTypes -eq 0) {\n        Add-Member -InputObject $radio -MemberType NoteProperty -Name \"ErrorRecovery\" -Value \"None\"\n    } elseif ($supportedTypes -band 1 -shl 0) {\n        Add-Member -InputObject $radio -MemberType NoteProperty -Name \"ErrorRecovery\" -Value \"FLDR\"\n    } elseif ($supportedTypes -band 1 -shl 1) {\n        Add-Member -InputObject $radio -MemberType NoteProperty -Name \"ErrorRecovery\" -Value \"PLDR\"\n    }\n\n    # ScoType\n    $property = Get-PnpDeviceProperty -InstanceId $device.InstanceId -KeyName '{A92F26CA-EDA7-4B1D-9DB2-27B68AA5A2EB} 21'\n    if (([int32]$property.Type) -eq  0) {\n        Add-Member -InputObject $radio -MemberType NoteProperty -Name \"ScoType\" -Value \"Unknown\"\n    } else {\n        $scoType = $property.Data\n        if ($scoType -eq 0) {\n            Add-Member -InputObject $radio -MemberType NoteProperty -Name \"ScoType\" -Value \"SideBand\"\n        } else {\n            Add-Member -InputObject $radio -MemberType NoteProperty -Name \"ScoType\" -Value \"InBand\"\n        }\n    }\n\n    ## LMP \u548c HCI\n    $property = Get-PnpDeviceProperty -InstanceId $device.InstanceId -KeyName '{A92F26CA-EDA7-4B1D-9DB2-27B68AA5A2EB} 4'\n    $LmpVersion = $property.Data\n    Add-Member -InputObject $radio -MemberType NoteProperty -Name \"LMP/HCI\" -Value $LmpVersion\n\n    $property = Get-PnpDeviceProperty -InstanceId $device.InstanceId -KeyName '{A92F26CA-EDA7-4B1D-9DB2-27B68AA5A2EB} 6'\n    $HCIVersion = $property.Data\n    Add-Member -InputObject $radio -MemberType NoteProperty -Name \"LMP/HCI\" -Value $HCIVersion\n}\n$radios\n</code></pre> <p>\u53c2\u8003</p> <ul> <li>\u83b7\u53d6\u84dd\u7259\u8bbe\u5907\u5c5e\u6027\uff0chttps://github.com/microsoft/busiotools/blob/e4e42513ab381eb0af95c9b11104a759d7f91ee0/bluetooth/tracing/GetBluetoothRadioInfo.ps1</li> <li>https://learn.microsoft.com/en-us/windows-hardware/drivers/install/device-information-sets</li> </ul>","tags":["windows"]},{"location":"windows/35.windows-devices-manage/#_2","title":"\u83b7\u53d6\u8bbe\u5907\u7535\u91cf","text":"<p>\u600e\u4e48\u83b7\u53d6\uff0c\u5206\u4e0d\u540c\u7684\u8bbe\u5907\u7c7b\u578b\u548c\u534f\u8bae</p> <ul> <li>\u84dd\u7259\u8bbe\u5907<ul> <li>BLE battery service</li> <li>HFP(Hands-Free-Profile\uff0c\u514d\u63d0\u534f\u8bae)</li> </ul> </li> <li>HID\u8bbe\u5907\uff08Human Interface Devices\uff0c\u4eba\u673a\u63a5\u53e3\u8bbe\u5907\uff09</li> </ul> <p>\u5bf9\u4e8ewindows\u7684\u7cfb\u7edf\u84dd\u7259\u529f\u80fd\uff0c\u84dd\u7259\u8bbe\u5907\u7684\u7535\u91cf\u662f\u5728\u8bbe\u5907\u8fde\u63a5\u65f6\u83b7\u53d6\u4e00\u6b21\u7684\uff0c\u4e0d\u662f\u5b9e\u65f6\u7684\u3002\u53c2\u8003https://blogs.windows.com/windows-insider/2018/04/04/announcing-windows-10-insider-preview-build-17639-for-skip-ahead/</p>","tags":["windows"]},{"location":"windows/39.windows-dump-debug/","title":"windows\u4e0b\u8c03\u8bd5dump\u6587\u4ef6","text":"","tags":["windows","c/c++"]},{"location":"windows/39.windows-dump-debug/#dump","title":"\u5f00\u542fdump","text":"<p>\u6267\u884c\u4ee5\u4e0bbat\u811a\u672c</p> <pre><code>@echo off\necho \u6b63\u5728\u542f\u7528Dump...\nreg add \"HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows\\Windows Error Reporting\\LocalDumps\"\nreg add \"HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows\\Windows Error Reporting\\LocalDumps\" /v DumpFolder /t REG_EXPAND_SZ /d \"C:\\CrashDumps\" /f\nreg add \"HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows\\Windows Error Reporting\\LocalDumps\" /v DumpType /t REG_DWORD /d 2 /f\nreg add \"HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows\\Windows Error Reporting\\LocalDumps\" /v DumpCount /t REG_DWORD /d 10 /f\necho Dump\u5df2\u7ecf\u542f\u7528\npause\n@echo on\n</code></pre> <p>\u5404\u6ce8\u518c\u8868\u9879\u7684\u542b\u4e49\uff1a</p> <ul> <li><code>DumpFolder</code>: dump\u6587\u4ef6\u7684\u751f\u6210\u76ee\u5f55</li> <li><code>DumpType</code>: dump\u6587\u4ef6\u7c7b\u578b 0:custom 1:mini 2:full</li> <li><code>DumpCount</code>: \u6700\u591a\u751f\u6210\u51e0\u4e2adump\u6587\u4ef6</li> </ul>","tags":["windows","c/c++"]},{"location":"windows/39.windows-dump-debug/#dump_1","title":"\u8c03\u8bd5dump\u6587\u4ef6","text":"<ul> <li>windbg</li> <li>vs\u81ea\u5e26\u7684\u8c03\u8bd5\u5668</li> </ul>","tags":["windows","c/c++"]},{"location":"windows/54.windows_ifeo_windbg/","title":"\u4f7f\u7528IFEO\u6620\u50cf\u52ab\u6301+windbg\u5728\u8fdb\u7a0b\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u8c03\u8bd5","text":"","tags":["windows"]},{"location":"windows/54.windows_ifeo_windbg/#_1","title":"\u4fee\u6539\u6ce8\u518c\u8868","text":"<p>\u5728\u4ee5\u4e0b\u8def\u5f84\u521b\u5efa\u4e00\u4e2a\u5b50key\uff0c\u4ee5\u88ab\u8c03\u8bd5\u7684\u8fdb\u7a0b\u540d\u4f5c\u4e3a\u540d\u5b57</p> <p><code>HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion\\Image File Execution Options</code></p> <p>\u4f8b\u5982:<code>HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion\\Image File Execution Options\\SmartEngineHost64.exe</code></p> <p>\u521b\u5efa\u597d\u540e\uff0c\u5728\u8fd9\u4e2akey\u4e0b\u521b\u5efa\u4e00\u4e2avalue\uff0c\u540d\u5b57\u662fdebugger\uff0c\u503c\u4e3awindbg\u7684\u8def\u5f84</p>","tags":["windows"]},{"location":"windows/54.windows_ifeo_windbg/#_2","title":"\u8c03\u8bd5","text":"<p>\u5e38\u7528\u547d\u4ee4\uff1a \u641c\u7d22windows\u5185\u6838\u63a5\u53e3 x ker!CreateProcess \u8bbe\u7f6e\u65ad\u70b9\uff1abp \u5185\u6838\u63a5\u53e3\u7684\u5168\u540d \u67e5\u770b\u65ad\u70b9\uff1abl \u6e05\u9664\u6240\u6709\u65ad\u70b9\uff1abc * \u6e05\u9664\u67d0\u4e2a\u65ad\u70b9\uff1abc 1\u6216bc 2\u7b49\uff0c 1\u548c2\u662f\u5e8f\u53f7</p> <p>\u7ee7\u7eed\u6267\u884c\uff1ag \u9000\u51fa\uff1aq</p> <p>\u5230\u65ad\u70b9\u5904\u53d1\u751f\u4e2d\u65ad\u65f6\uff1a \u67e5\u770b\u8c03\u7528\u6808\uff1akb \u67e5\u770b\u53c2\u5165\u7684\u53c2\u6570\uff1a\u65b9\u6cd5\u662f\u76f4\u63a5\u67e5\u770b\u5185\u5b58\uff0c\u6bd4\u5982x64\u67b6\u6784\u4e0b\u7684\u53c2\u6570\u901a\u5e38\u5b58\u653e\u5728\u51e0\u4e2a\u5bc4\u5b58\u5668\u5185\uff0crcx  rdx\uff0cr8\uff0cr9\u7b49 \u5982\u679c\u662f\u5b57\u7b26\u4e32\u53c2\u6570\uff0c\u53ef\u4ee5\u7528dc\u67e5\u770b\uff0c\u6bd4\u5982 dc rcx \u5982\u679c\u5b57\u7b26\u4e32\u5f88\u957f\uff0c\u53ef\u4ee5\u7ed9rcx\u52a0\u4e0a\u504f\u79fb\u91cf\uff1arcx+50\uff0c\u6216\u8005rcx\u540e\u9762\u5e26\u4e0a\u5730\u5740 rcx 00000224`e2d110e0</p>","tags":["windows"]},{"location":"windows/55.winodws_develop_knowledge/","title":"\u4e00\u4e9b\u548cwindows\u5f00\u53d1\u76f8\u5173\u7684\u5c0f\u77e5\u8bc6","text":"","tags":["windows"]},{"location":"windows/55.winodws_develop_knowledge/#winmain","title":"WinMain\u51fd\u6570\u7684\u53c2\u6570","text":"<p>WinMain\u51fd\u6570\u7684\u53c2\u6570hPrevInstance\u539f\u672c\u662f\u4e3a\u4e86\u83b7\u53d6\u7a0b\u5e8f\u7684\u8fdb\u7a0b\u793a\u4f8b\uff0c\u53ef\u4ee5\u7528\u6765\u5224\u65ad\u7a0b\u5e8f\u662f\u5426\u6709\u5176\u4ed6\u8fdb\u7a0b\u5df2\u7ecf\u542f\u52a8\uff0c\u540e\u6765\u8fd9\u4e2a\u53c2\u6570\u5f03\u7528\u4e86 \u90a3\u4e48\u73b0\u5728\u5982\u4f55\u8ba9\u4e00\u4e2awindows\u7a0b\u5e8f\u5168\u5c40\u53ea\u8fd0\u884c\u4e00\u4e2a\u5b9e\u4f8b\u5462\uff1f \u53ef\u4ee5\u4f7f\u7528CreateMutex\u521b\u5efa\u4e00\u4e2a\u4e92\u65a5\u4f53\uff0chttps://learn.microsoft.com/zh-cn/windows/win32/api/winbase/nf-winbase-winmain</p>","tags":["windows"]},{"location":"windows/55.winodws_develop_knowledge/#longint","title":"long\u7c7b\u578b\u548cint\u7c7b\u578b\u7684\u533a\u522b","text":"<p>long\u7c7b\u578b\u548cint\u7c7b\u578b\u539f\u672c\u662f\u4e3a\u4e86\u533a\u5206\u957f\u77ed\u6307\u9488\u7684\uff0c\u540e\u6765\u572832\u4f4d\u548c64\u4f4d\u7684\u64cd\u4f5c\u7cfb\u7edf\u4e0a\u5df2\u7ecf\u6ca1\u6709\u957f\u77ed\u6307\u9488\u7684\u533a\u5206\u4e86\uff0c\u56e0\u6b64long\u548cint\u5728windows\u4e0a\u662f\u6ca1\u6709\u533a\u522b\u7684\u3002</p> <p>\u4e0d\u540c\u64cd\u4f5c\u7cfb\u7edf\u5bf9\u6574\u578b\u957f\u5ea6\u7684\u5b9a\u4e49\u4e0d\u540c\uff0c\u64cd\u4f5c\u7cfb\u7edf\u5bf9\u6574\u578b\u957f\u5ea6\u7684\u5b9a\u4e49\u53eb\u505a\u201c\u62bd\u8c61\u6570\u636e\u6a21\u578b\u201d\u6216\u201c\u6570\u636e\u6a21\u578b\u201d\uff0chttps://learn.microsoft.com/zh-cn/windows/win32/winprog64/abstract-data-models</p> <p>\u6570\u636e\u6a21\u578b\u6709\u5f88\u591a\u5206\u7c7b\uff0c\u5982LP64\uff0cILP64\uff0cLLP64\uff0cILP32\uff0cLP32\u7b49\uff0cunix/\u7c7bunix\u7cfb\u7edf\u666e\u904d\u4f7f\u7528LP64\u6a21\u578b\uff0c32\u4f4dwindows\u7cfb\u7edf\u4f7f\u7528ILP32\u6a21\u578b\uff0c64\u4f4dwindows\u7cfb\u7edf\u4f7f\u7528LLP64\u6a21\u578b\uff0c\u4e0d\u7ba1\u662f32\u4f4d\u8fd8\u662f64\u4f4d\u7684windows\uff0clong\u548cint\u90fd\u662f\u56db\u4e2a\u5b57\u8282</p>","tags":["windows"]},{"location":"windows/55.winodws_develop_knowledge/#_1","title":"\u53c2\u6570\u547d\u540d","text":"<p>szXXX\u8fd9\u79cd\u53c2\u6570\u547d\u540d\u4ee3\u8868\u53c2\u6570\u662fc\u98ce\u683c\u7684\u5b57\u7b26\u4e32\uff08\u4ee50\u7ed3\u5c3e\uff09</p> <p>\u8fd9\u5c5e\u4e8e\u5308\u7259\u5229\u547d\u540d\u6cd5\uff0c\u7136\u800c\u5fae\u8f6f\u5185\u90e8\u5df2\u7ecf\u5e9f\u5f03\u4e86\u8fd9\u5957\u547d\u540d\u65b9\u6cd5\uff0c\u53c2\u8003https://learn.microsoft.com/zh-cn/windows/win32/learnwin32/windows-coding-conventions</p> <p>C++ \u6838\u5fc3\u51c6\u5219\u7981\u6b62\u4f7f\u7528\u524d\u7f00\u8868\u793a\u6cd5 (\u4f8b\u5982\u5308\u7259\u5229\u8868\u793a\u6cd5) \u3002 \u8bf7\u53c2\u9605 NL.5\uff1a\u907f\u514d\u5728\u540d\u79f0\u4e2d\u7f16\u7801\u7c7b\u578b\u4fe1\u606f\u3002 \u5728\u5185\u90e8\uff0cWindows \u56e2\u961f\u4e0d\u518d\u4f7f\u7528\u5b83\u3002 \u4f46\u5b83\u7684\u7528\u6cd5\u4ecd\u4fdd\u7559\u5728\u793a\u4f8b\u548c\u6587\u6863\u4e2d\u3002</p>","tags":["windows"]},{"location":"windows/55.winodws_develop_knowledge/#_t","title":"_T\u5b8f","text":"<p>_T\u5b8f\u662f\u4e3a\u4e86\u517c\u5bb9\u591a\u5b57\u8282\u548c\u5bbd\u5b57\u8282\u5b57\u7b26\u4e32\u53d1\u660e\u7684\uff0c\u5982\u679c\u9879\u76ee\u5b9a\u4e49\u4e86UNICODE\u5b8f\uff0c_T(\"xxx\")\u5bf9\u5e94\u7684\u662fL\"xxx\"\uff0c\u5426\u5219\uff0c_T(\"xxx\")\u5bf9\u5e94\u7684\u662f\"xxx\"</p>","tags":["windows"]},{"location":"windows/56.char-wchar-on-windows/","title":"char\u548cwchar_t\u5728windows\u4e0a\u5982\u4f55\u6b63\u786e\u4f7f\u7528","text":"","tags":["windows","\u5b57\u7b26\u7f16\u7801","c/c++"]},{"location":"windows/56.char-wchar-on-windows/#_1","title":"\u4e00\u3001\u9884\u5907\u77e5\u8bc6","text":"","tags":["windows","\u5b57\u7b26\u7f16\u7801","c/c++"]},{"location":"windows/56.char-wchar-on-windows/#unicode","title":"unicode","text":"<p>unicode\u662f\u4e00\u5957\u5b57\u7b26\u7f16\u7801\u6807\u51c6\uff0c\u5b83\u4e3a\u4e16\u754c\u4e0a\u51e0\u4e4e\u6240\u6709\u7684\u5b57\u7b26\u90fd\u5206\u522b\u5206\u914d\u4e86\u4e00\u4e2a\u552f\u4e00\u7684\u7f16\u7801\uff0c\u4f46unicode\u5e76\u6ca1\u6709\u89c4\u5b9a\u8fd9\u4e9b\u7f16\u7801\u5728\u8ba1\u7b97\u673a\u4e2d\u5982\u4f55\u8868\u793a\u548c\u5b58\u50a8\uff0c\u5b57\u7b26\u7f16\u7801\u7684\u5b58\u50a8\u662f\u7531\u5177\u4f53\u7684\u7f16\u7801\u65b9\u6848\u51b3\u5b9a\u7684\uff0c\u4f8b\u5982\u5e38\u89c1\u7684utf-8\u548cutf-16\u7f16\u7801\u65b9\u6848\uff0c\u5b83\u4eec\u90fd\u662funicode\u7f16\u7801\u7684\u5b9e\u73b0\u65b9\u5f0f\u3002</p> <p>unicode\u4f7f\u7528\u2018\u7801\u70b9\u2019\u6765\u8868\u793a\u4e00\u4e2a\u5b57\u7b26\u7684\u7f16\u7801\uff0c\u4e66\u5199\u683c\u5f0f\u4e3a<code>U+0023</code>\uff0c\u4e00\u4e2a<code>U+</code>\u524d\u7f00\u52a0\u4e0a\u56db\u4f4d16\u8fdb\u5236\u6570\u5b57\uff0c\u8fd9\u4e2a\u6982\u5ff5\u5728golang\u4e2d\u5f97\u5230\u4f53\u73b0\uff0cgolang\u4e2d\u4e13\u95e8\u5b9a\u4e49\u4e86\u4e00\u79cdunicode\u7801\u70b9\u7c7b\u578b<code>rune</code>\uff0c\u7528\u6765\u4fdd\u5b58\u4e00\u4e2a\u5b57\u7b26\u5728unicode\u4e2d\u7684\u7f16\u53f7\u3002</p>","tags":["windows","\u5b57\u7b26\u7f16\u7801","c/c++"]},{"location":"windows/56.char-wchar-on-windows/#windowsunicode","title":"windows\u4e2d\u7684unicode","text":"<p>\u5f88\u591a\u8d44\u6599\u4e2d\u90fd\u4f1a\u63d0\u5230\uff0cwindows\u5185\u6838\u91c7\u7528\u7684\u662funicode\u7f16\u7801\uff0c\u8fd9\u91cc\u7684unicode\u5b9e\u9645\u4e0a\u6307\u7684\u662futf-16\u7f16\u7801\uff0cwindows\u5185\u6838\u5728\u4e8c\u4e09\u5341\u5e74\u5185\u4e00\u76f4\u91c7\u7528\u7684\u662futf-16\u7f16\u7801\uff0c\u76f4\u52302015\u5e74\uff0cwindows 10\u624d\u52a0\u5165\u4e86\u5bf9utf-8\u7684\u652f\u6301\uff0c\u8003\u8651\u5230utf-16\u7f16\u7801\u5728windows\u7cfb\u7edf\u4e2d\u7684\u666e\u53ca\u7a0b\u5ea6\u548c\u4e0d\u53ef\u4ee3\u66ff\u6027\uff0c\u6211\u4eec\u5728\u63d0\u53cawindows\u7cfb\u7edf\u4e2d\u7684unicode\u7f16\u7801\u65f6\uff0c\u901a\u5e38\u6307\u7684\u662futf-16\u7f16\u7801\u3002</p>","tags":["windows","\u5b57\u7b26\u7f16\u7801","c/c++"]},{"location":"windows/56.char-wchar-on-windows/#ansi","title":"ANSI\u7f16\u7801","text":"<p>\u5728windows\u7cfb\u7edf\u4e2d\uff0c\u7ecf\u5e38\u80fd\u770b\u5230ANSI\u7f16\u7801\u8fd9\u4e00\u6982\u5ff5\uff0cANSI\u5b9e\u9645\u4e0a\u5e76\u4e0d\u662f\u4e00\u79cd\u5177\u4f53\u7684\u7f16\u7801\uff0c\u800c\u662f\u4e00\u4e2a\u7f16\u7801\u96c6\u5408\uff0c\u5b83\u5305\u542b\u4e86\u5f88\u591a\u4e0d\u540c\u56fd\u5bb6\u4e0d\u540c\u5730\u533a\u7684\u7f16\u7801\uff0c\u4f8b\u5982GBK\u3001GB2312\u3001GB18030\u3001Big5\u7b49\uff0cwindwos\u7cfb\u7edf\u6839\u636e\u5f53\u524d\u7684\u533a\u57df\u8bbe\u7f6e\uff08locale\uff09\uff0c\u81ea\u52a8\u9009\u62e9\u4e00\u79cd\u7f16\u7801\u4f5c\u4e3a\u5f53\u524d\u7684ANSI\u7f16\u7801\u3002</p>","tags":["windows","\u5b57\u7b26\u7f16\u7801","c/c++"]},{"location":"windows/56.char-wchar-on-windows/#charwchar_t","title":"\u4e8c\u3001char\u548cwchar_t","text":"<p><code>char</code>\u548c<code>wchar_t</code>\u662fC/C++\u8bed\u8a00\u4e2d\u7528\u4e8e\u8868\u793a\u5b57\u7b26\u7684\u4e24\u79cd\u57fa\u672c\u6570\u636e\u7c7b\u578b\uff0c\u800c\u8fd9\u4e24\u79cd\u7c7b\u578b\u4e2d\u4fdd\u5b58\u7684\u5b57\u7b26\u5177\u4f53\u91c7\u7528\u4ec0\u4e48\u7f16\u7801\uff0c\u5219\u53d6\u51b3\u4e8e\u7f16\u8bd1\u5668\u548c\u64cd\u4f5c\u7cfb\u7edf\uff0c\u5728C/C++\u8bed\u8a00\u5c42\u9762\u5e76\u6ca1\u6709\u7edf\u4e00\u89c4\u5b9a\uff0c\u56e0\u6b64\uff0c\u5728\u4e0d\u540c\u7684\u7f16\u8bd1\u5668\u548c\u64cd\u4f5c\u7cfb\u7edf\u4e2d\uff0c<code>char</code>\u548c<code>wchar_t</code>\u7684\u7f16\u7801\u65b9\u5f0f\u53ef\u80fd\u4f1a\u6709\u6240\u4e0d\u540c\u3002</p>","tags":["windows","\u5b57\u7b26\u7f16\u7801","c/c++"]},{"location":"windows/56.char-wchar-on-windows/#windowscharwchar_t","title":"windows\u4e2d\u7684char\u548cwchar_t","text":"<p>\u5728windows\u7cfb\u7edf\u4e2d\uff0c<code>char</code>\u7c7b\u578b\u7528\u4e8e\u5b58\u50a8\u5305\u62ecANSI\u7f16\u7801\u3001utf-8\u7f16\u7801\u5728\u5185\u7684\u5404\u79cd\u7f16\u7801\u5b57\u7b26\uff0c\u800c<code>wchar_t</code>\u7c7b\u578b\u4ec5\u7528\u4e8e\u5b58\u50a8utf-16\u7f16\u7801\u7684\u5b57\u7b26</p> <p>\uff08\u4e0b\u56fe\u622a\u53d6\u81ea\u5fae\u8f6f\u6587\u6863\uff09 \u53c2\u8003https://learn.microsoft.com/zh-cn/cpp/cpp/char-wchar-t-char16-t-char32-t?view=msvc-170</p> <p></p> <p>\u90a3\u4e48windows\u7cfb\u7edf\u662f\u5982\u4f55\u51b3\u5b9achar\u7c7b\u578b\u4f7f\u7528\u4ec0\u4e48\u7f16\u7801\u7684\u5462\uff1f\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u67e5\u770b\u5f53\u524d\u7684\u533a\u57df\u8bbe\u7f6e\uff08locale\uff09\u6765\u786e\u5b9a</p> <p></p> <p>\u5982\u4e0a\u56fe\u6240\u793a\uff0cwindows\u533a\u57df\u8bbe\u7f6e\u4e2d\u6709\u4e00\u680f\u53eb\u201c\u975eUnicode\u7a0b\u5e8f\u7684\u8bed\u8a00\u201d\uff0c\u8fd9\u91cc\u201c\u975eUnicode\u7a0b\u5e8f\u201d\u6307\u7684\u5c31\u662f\u4f7f\u7528char\u7c7b\u578b\u7684\u7a0b\u5e8f\uff0c\u56e0\u6b64\uff0c\u8fd9\u91cc\u8bbe\u7f6e\u7684\u7cfb\u7edf\u533a\u57df\u51b3\u5b9a\u4e86char\u7c7b\u578b\u4f7f\u7528\u4ec0\u4e48\u7f16\u7801\uff0cwindows\u4f1a\u6839\u636e\u5f53\u524d\u7684\u7cfb\u7edf\u533a\u57df\uff0c\u81ea\u52a8\u9009\u62e9\u4e00\u79cdANSI\u7f16\u7801\u4f5c\u4e3achar\u7c7b\u578b\u7684\u7f16\u7801\u3002</p> <p>\u540c\u65f6\u4e5f\u53ef\u4ee5\u770b\u5230\uff0cwindows\u4e3a\u201c\u975eUnicode\u8bed\u8a00\u7684\u7a0b\u5e8f\u201d\u63d0\u4f9b\u4e86utf-8\u652f\u6301\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0cwindows\u53ea\u4e3achar\u7c7b\u578b\u63d0\u4f9b\u4e86utf-8\u652f\u6301\uff0c\u800c\u7cfb\u7edf\u5185\u6838\u4f9d\u7136\u4ee5utf-16\u4e3a\u6838\u5fc3</p> <p>\u90a3\u4e48\u5982\u4f55\u77e5\u9053\u5f53\u524d\u7cfb\u7edf\u533a\u57df\u5bf9\u5e94\u7684\u662f\u54ea\u79cdANSI\u7f16\u7801\u5462\uff1fwindows\u4e2d\u6709\u4e00\u4e2acode page\u6982\u5ff5\uff0ccode page\u662fwindows\u64cd\u4f5c\u7cfb\u7edf\u5206\u914d\u7ed9ANSI\u7f16\u7801\u7684\u4e00\u4e2a\u7f16\u53f7\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u5f88\u591a\u5730\u65b9\u770b\u5230code page\u8fd9\u4e2a\u6982\u5ff5\uff0c\u4f8b\u5982\uff0cwindows\u7684\u5bbd\u5b57\u8282\u548c\u591a\u5b57\u8282\u5b57\u7b26\u4e32\u76f8\u4e92\u8f6c\u6362\u7684api<code>MultiByteToWideChar</code>\u548c<code>WideCharToMultiByte</code>\uff0c\u8fd9\u4e24\u4e2aapi\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u90fd\u662f<code>code page</code>\u53c2\u6570\uff0c\u518d\u6bd4\u5982\uff0c\u6211\u4eec\u4f7f\u7528visual studio\u7f16\u5199\u4ee3\u7801\u65f6\uff0c\u5728\u6587\u4ef6\u7684\u9ad8\u7ea7\u4fdd\u5b58\u9009\u9879\u4e2d\uff0c\u53ef\u4ee5\u770b\u5230\u6240\u6709ANSI\u7f16\u7801\u7684code page\u5217\u8868\uff0c\u5982\u4e0b\u56fe\u6240\u793a</p> <p></p> <p>\u5728windows\u7cfb\u7edf\u4e2d\uff0c\u53ef\u4ee5\u901a\u8fc7<code>chcp</code>\u547d\u4ee4\u67e5\u770b\u5f53\u524d\u7684code page\uff0c\u4f8b\u5982\u5728\u7b80\u4f53\u4e2d\u6587\u7cfb\u7edf\u4e2d\uff0c<code>chcp</code>\u547d\u4ee4\u7684\u8f93\u51fa\u7ed3\u679c\u4e3a<code>\u6d3b\u52a8\u4ee3\u7801\u9875: 936</code>\uff0c936\u8fd9\u4e2a\u6570\u5b57\u8868\u793a\u5f53\u524d\u7684ANSI\u7f16\u7801\u4e3aGB2312\u7f16\u7801\u3002</p>","tags":["windows","\u5b57\u7b26\u7f16\u7801","c/c++"]},{"location":"windows/56.char-wchar-on-windows/#charwchar_t_1","title":"\u4e09\u3001\u5982\u4f55\u6b63\u786e\u4f7f\u7528char\u548cwchar_t","text":"","tags":["windows","\u5b57\u7b26\u7f16\u7801","c/c++"]},{"location":"windows/56.char-wchar-on-windows/#windowschar","title":"\u5728windows\u7cfb\u7edf\u4e0b\u4f7f\u7528char\u7c7b\u578b\u7684\u98ce\u9669","text":"<p>\u6700\u8fd1\u5728\u5f00\u53d1\u8fc7\u7a0b\u4e2d\u5c31\u9047\u5230\u4e86\u4e00\u4e2a\u6848\u4f8b\uff0c\u7528\u6237\u7535\u8111\u7684\u533a\u57df\u8bbe\u7f6e\uff08locale\uff09\u662f\u7f8e\u56fd\uff0c\u8fd9\u5c31\u610f\u5473\u7740\uff0cchar\u7c7b\u578b\u91c7\u7528\u7684\u662f\u7f8e\u56fd\u5f53\u5730\u7684\u4e00\u79cd\u7f16\u7801\uff0c\u800c\u7528\u6237\u521b\u5efa\u4e86\u4e00\u4e2a\u6587\u4ef6\u540d\u5305\u542b\u4e2d\u6587\u5b57\u7b26\u7684\u6587\u4ef6\uff0c\u6211\u4eec\u4f7f\u7528wchar_t\u7c7b\u578b\u83b7\u53d6\u8fd9\u4e2a\u6587\u4ef6\u540d\u65f6\uff0c\u80fd\u591f\u83b7\u53d6\u5230\u6b63\u786e\u7684\u4e2d\u6587\u5b57\u7b26\uff0c\u56e0\u4e3a\u867d\u7136\u7528\u6237\u7535\u8111\u7684locale\u662f\u7f8e\u56fd\uff0c\u4f46windows\u7cfb\u7edf\u5185\u6838\u662futf-16\u7f16\u7801\uff0c\u4ecd\u7136\u80fd\u591f\u6b63\u786e\u7684\u5904\u7406\u4e2d\u6587\uff0c\u4f46\u5f53\u6211\u4eec\u4f7f\u7528<code>WideCharToMultiByte</code>api\u628awchar_t\u7c7b\u578b\u7684\u5b57\u7b26\u4e32\u8f6c\u6362\u4e3achar\u7c7b\u578b\u540e\uff0c\u5c31\u51fa\u95ee\u9898\u4e86\uff0c\u56e0\u4e3achar\u7c7b\u578b\u91c7\u7528\u7684\u662f\u7f8e\u56fd\u5f53\u5730\u7684\u7f16\u7801\uff0c\u800c\u4e2d\u6587\u5b57\u7b26\u5728\u7f8e\u56fd\u7684\u7f16\u7801\u4e2d\u5e76\u4e0d\u5b58\u5728\uff0c\u56e0\u6b64\uff0c\u8f6c\u6362\u540e\u7684\u5b57\u7b26\u4e32\u4e2d\u7684\u4e2d\u6587\u5b57\u7b26\u603b\u662f\u4e71\u7801\u3002</p> <p>\u7b80\u5355\u6765\u8bf4\uff0c\u5f53locale\u4e0d\u662f\u4e2d\u56fd\u65f6\uff0c\u64cd\u4f5c\u7cfb\u7edf\u5f88\u6709\u53ef\u80fd\u8bc6\u522b\u4e0d\u4e86char\u7c7b\u578b\u5b57\u7b26\u4e32\u4e2d\u5305\u542b\u7684\u4e2d\u6587\u5b57\u7b26\uff0c\u5176\u4ed6\u975e\u82f1\u8bed\u56fd\u5bb6\u7684\u8bed\u8a00\u4e5f\u662f\u540c\u7406\u3002</p>","tags":["windows","\u5b57\u7b26\u7f16\u7801","c/c++"]},{"location":"windows/56.char-wchar-on-windows/#windows-apiaw","title":"windows api\u7684A\u548cW\u7248\u672c\uff0c\u4f18\u5148\u4f7f\u7528\u54ea\u4e2a","text":"<p>windows\u64cd\u4f5c\u7cfb\u7edf\u63d0\u4f9b\u7684api\u4e00\u822c\u90fd\u5206\u4e3a\u4e24\u4e2a\u7248\u672c\uff0c\u4e00\u4e2a\u540e\u7f00\u4e3aA\u7684\u7248\u672c\uff0c\u548c\u4e00\u4e2a\u540e\u7f00\u4e3aW\u7684\u7248\u672c\uff0cA\u7248\u672capi\u7684\u8f93\u5165\u548c\u8f93\u51fa\u90fd\u662fchar\u7c7b\u578b\uff0c\u800cW\u7248\u672capi\u7684\u8f93\u5165\u548c\u8f93\u51fa\u90fd\u662fwchar_t\u7c7b\u578b\u3002</p> <p>\u6211\u4eec\u66f4\u63a8\u8350\u4f7f\u7528W\u7248\u7684api\uff0c\u5982\u679c\u4f60\u8ddf\u8e2awindows\u7a0b\u5e8f\u7684\u8c03\u7528\u6808\u5c31\u4f1a\u53d1\u73b0\uff0cA\u7248\u672c\u7684api\u6700\u7ec8\u4e5f\u8fd8\u662f\u8c03\u7528\u4e86W\u7248\u672c\u7684api\uff0c\u65e0\u8bba\u662f\u4ece\u5b57\u7b26\u7f16\u7801\u7684\u517c\u5bb9\u6027\u6765\u8bb2\uff0c\u8fd8\u662f\u4ece\u8c03\u7528\u7684\u6548\u7387\u6765\u8bb2\uff0cW\u7248\u672c\u7684api\u90fd\u66f4\u597d\u3002</p>","tags":["windows","\u5b57\u7b26\u7f16\u7801","c/c++"]},{"location":"windows/56.char-wchar-on-windows/#_2","title":"\u56db\u3001\u7ed3\u8bba","text":"<p>\u5728\u5f00\u53d1windows\u5e73\u53f0\u4e0a\u7684C/C++\u7a0b\u5e8f\u65f6\uff0c\u8c03\u7528\u7cfb\u7edfapi\u6216\u8005\u6807\u51c6\u5e93api\u65f6\uff0c\u4f18\u5148\u4f7f\u7528\u5bbd\u5b57\u7b26\u7248\u672c\u7684api\uff0c\u800c\u7a0b\u5e8f\u5185\u90e8\u9700\u8981\u4f7f\u7528char\u7c7b\u578b\u65f6\uff0c\u5219\u4f18\u5148\u4f7f\u7528utf-8\u7f16\u7801\u7684char\u7c7b\u578b\uff0c\u8fd9\u6837\u7684\u7a0b\u5e8f\u517c\u5bb9\u6027\u662f\u6700\u597d\u7684\u3002</p>","tags":["windows","\u5b57\u7b26\u7f16\u7801","c/c++"]}]}